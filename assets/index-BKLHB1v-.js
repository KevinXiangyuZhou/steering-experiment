(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function a(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(u){if(u.ep)return;u.ep=!0;const h=a(u);fetch(u.href,h)}})();function f_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var hh={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function DE(){if(Pp)return jl;Pp=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(l,u,h){var m=null;if(h!==void 0&&(m=""+h),u.key!==void 0&&(m=""+u.key),"key"in u){h={};for(var y in u)y!=="key"&&(h[y]=u[y])}else h=u;return u=h.ref,{$$typeof:s,type:l,key:m,ref:u!==void 0?u:null,props:h}}return jl.Fragment=n,jl.jsx=a,jl.jsxs=a,jl}var Bp;function IE(){return Bp||(Bp=1,hh.exports=DE()),hh.exports}var x=IE(),dh={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function NE(){if(kp)return Tt;kp=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.iterator;function I(C){return C===null||typeof C!="object"?null:(C=M&&C[M]||C["@@iterator"],typeof C=="function"?C:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,nt={};function it(C,F,et){this.props=C,this.context=F,this.refs=nt,this.updater=et||K}it.prototype.isReactComponent={},it.prototype.setState=function(C,F){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,F,"setState")},it.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function St(){}St.prototype=it.prototype;function vt(C,F,et){this.props=C,this.context=F,this.refs=nt,this.updater=et||K}var dt=vt.prototype=new St;dt.constructor=vt,Z(dt,it.prototype),dt.isPureReactComponent=!0;var jt=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},Ct=Object.prototype.hasOwnProperty;function V(C,F,et,J,ut,Et){return et=Et.ref,{$$typeof:s,type:C,key:F,ref:et!==void 0?et:null,props:Et}}function A(C,F){return V(C.type,F,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function N(C){var F={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(et){return F[et]})}var O=/\/+/g;function U(C,F){return typeof C=="object"&&C!==null&&C.key!=null?N(""+C.key):F.toString(36)}function R(){}function Gt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function(F){C.status==="pending"&&(C.status="fulfilled",C.value=F)},function(F){C.status==="pending"&&(C.status="rejected",C.reason=F)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function Nt(C,F,et,J,ut){var Et=typeof C;(Et==="undefined"||Et==="boolean")&&(C=null);var pt=!1;if(C===null)pt=!0;else switch(Et){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(C.$$typeof){case s:case n:pt=!0;break;case S:return pt=C._init,Nt(pt(C._payload),F,et,J,ut)}}if(pt)return ut=ut(C),pt=J===""?"."+U(C,0):J,jt(ut)?(et="",pt!=null&&(et=pt.replace(O,"$&/")+"/"),Nt(ut,F,et,"",function(nn){return nn})):ut!=null&&(w(ut)&&(ut=A(ut,et+(ut.key==null||C&&C.key===ut.key?"":(""+ut.key).replace(O,"$&/")+"/")+pt)),F.push(ut)),1;pt=0;var ce=J===""?".":J+":";if(jt(C))for(var Zt=0;Zt<C.length;Zt++)J=C[Zt],Et=ce+U(J,Zt),pt+=Nt(J,F,et,Et,ut);else if(Zt=I(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!(J=C.next()).done;)J=J.value,Et=ce+U(J,Zt++),pt+=Nt(J,F,et,Et,ut);else if(Et==="object"){if(typeof C.then=="function")return Nt(Gt(C),F,et,J,ut);throw F=String(C),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return pt}function H(C,F,et){if(C==null)return C;var J=[],ut=0;return Nt(C,J,"","",function(Et){return F.call(et,Et,ut++)}),J}function W(C){if(C._status===-1){var F=C._result;F=F(),F.then(function(et){(C._status===0||C._status===-1)&&(C._status=1,C._result=et)},function(et){(C._status===0||C._status===-1)&&(C._status=2,C._result=et)}),C._status===-1&&(C._status=0,C._result=F)}if(C._status===1)return C._result.default;throw C._result}var rt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function xt(){}return Tt.Children={map:H,forEach:function(C,F,et){H(C,function(){F.apply(this,arguments)},et)},count:function(C){var F=0;return H(C,function(){F++}),F},toArray:function(C){return H(C,function(F){return F})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Tt.Component=it,Tt.Fragment=a,Tt.Profiler=u,Tt.PureComponent=vt,Tt.StrictMode=l,Tt.Suspense=v,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return _t.H.useMemoCache(C)}},Tt.cache=function(C){return function(){return C.apply(null,arguments)}},Tt.cloneElement=function(C,F,et){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var J=Z({},C.props),ut=C.key,Et=void 0;if(F!=null)for(pt in F.ref!==void 0&&(Et=void 0),F.key!==void 0&&(ut=""+F.key),F)!Ct.call(F,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&F.ref===void 0||(J[pt]=F[pt]);var pt=arguments.length-2;if(pt===1)J.children=et;else if(1<pt){for(var ce=Array(pt),Zt=0;Zt<pt;Zt++)ce[Zt]=arguments[Zt+2];J.children=ce}return V(C.type,ut,void 0,void 0,Et,J)},Tt.createContext=function(C){return C={$$typeof:m,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},Tt.createElement=function(C,F,et){var J,ut={},Et=null;if(F!=null)for(J in F.key!==void 0&&(Et=""+F.key),F)Ct.call(F,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ut[J]=F[J]);var pt=arguments.length-2;if(pt===1)ut.children=et;else if(1<pt){for(var ce=Array(pt),Zt=0;Zt<pt;Zt++)ce[Zt]=arguments[Zt+2];ut.children=ce}if(C&&C.defaultProps)for(J in pt=C.defaultProps,pt)ut[J]===void 0&&(ut[J]=pt[J]);return V(C,Et,void 0,void 0,null,ut)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(C){return{$$typeof:y,render:C}},Tt.isValidElement=w,Tt.lazy=function(C){return{$$typeof:S,_payload:{_status:-1,_result:C},_init:W}},Tt.memo=function(C,F){return{$$typeof:_,type:C,compare:F===void 0?null:F}},Tt.startTransition=function(C){var F=_t.T,et={};_t.T=et;try{var J=C(),ut=_t.S;ut!==null&&ut(et,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(xt,rt)}catch(Et){rt(Et)}finally{_t.T=F}},Tt.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},Tt.use=function(C){return _t.H.use(C)},Tt.useActionState=function(C,F,et){return _t.H.useActionState(C,F,et)},Tt.useCallback=function(C,F){return _t.H.useCallback(C,F)},Tt.useContext=function(C){return _t.H.useContext(C)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(C,F){return _t.H.useDeferredValue(C,F)},Tt.useEffect=function(C,F,et){var J=_t.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(C,F)},Tt.useId=function(){return _t.H.useId()},Tt.useImperativeHandle=function(C,F,et){return _t.H.useImperativeHandle(C,F,et)},Tt.useInsertionEffect=function(C,F){return _t.H.useInsertionEffect(C,F)},Tt.useLayoutEffect=function(C,F){return _t.H.useLayoutEffect(C,F)},Tt.useMemo=function(C,F){return _t.H.useMemo(C,F)},Tt.useOptimistic=function(C,F){return _t.H.useOptimistic(C,F)},Tt.useReducer=function(C,F,et){return _t.H.useReducer(C,F,et)},Tt.useRef=function(C){return _t.H.useRef(C)},Tt.useState=function(C){return _t.H.useState(C)},Tt.useSyncExternalStore=function(C,F,et){return _t.H.useSyncExternalStore(C,F,et)},Tt.useTransition=function(){return _t.H.useTransition()},Tt.version="19.1.1",Tt}var qp;function Yh(){return qp||(qp=1,dh.exports=NE()),dh.exports}var ht=Yh();const xE=f_(ht);var mh={exports:{}},zl={},gh={exports:{}},ph={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function ME(){return Hp||(Hp=1,(function(s){function n(H,W){var rt=H.length;H.push(W);t:for(;0<rt;){var xt=rt-1>>>1,C=H[xt];if(0<u(C,W))H[xt]=W,H[rt]=C,rt=xt;else break t}}function a(H){return H.length===0?null:H[0]}function l(H){if(H.length===0)return null;var W=H[0],rt=H.pop();if(rt!==W){H[0]=rt;t:for(var xt=0,C=H.length,F=C>>>1;xt<F;){var et=2*(xt+1)-1,J=H[et],ut=et+1,Et=H[ut];if(0>u(J,rt))ut<C&&0>u(Et,J)?(H[xt]=Et,H[ut]=rt,xt=ut):(H[xt]=J,H[et]=rt,xt=et);else if(ut<C&&0>u(Et,rt))H[xt]=Et,H[ut]=rt,xt=ut;else break t}}return W}function u(H,W){var rt=H.sortIndex-W.sortIndex;return rt!==0?rt:H.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var m=Date,y=m.now();s.unstable_now=function(){return m.now()-y}}var v=[],_=[],S=1,M=null,I=3,K=!1,Z=!1,nt=!1,it=!1,St=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function jt(H){for(var W=a(_);W!==null;){if(W.callback===null)l(_);else if(W.startTime<=H)l(_),W.sortIndex=W.expirationTime,n(v,W);else break;W=a(_)}}function _t(H){if(nt=!1,jt(H),!Z)if(a(v)!==null)Z=!0,Ct||(Ct=!0,U());else{var W=a(_);W!==null&&Nt(_t,W.startTime-H)}}var Ct=!1,V=-1,A=5,w=-1;function N(){return it?!0:!(s.unstable_now()-w<A)}function O(){if(it=!1,Ct){var H=s.unstable_now();w=H;var W=!0;try{t:{Z=!1,nt&&(nt=!1,vt(V),V=-1),K=!0;var rt=I;try{e:{for(jt(H),M=a(v);M!==null&&!(M.expirationTime>H&&N());){var xt=M.callback;if(typeof xt=="function"){M.callback=null,I=M.priorityLevel;var C=xt(M.expirationTime<=H);if(H=s.unstable_now(),typeof C=="function"){M.callback=C,jt(H),W=!0;break e}M===a(v)&&l(v),jt(H)}else l(v);M=a(v)}if(M!==null)W=!0;else{var F=a(_);F!==null&&Nt(_t,F.startTime-H),W=!1}}break t}finally{M=null,I=rt,K=!1}W=void 0}}finally{W?U():Ct=!1}}}var U;if(typeof dt=="function")U=function(){dt(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Gt=R.port2;R.port1.onmessage=O,U=function(){Gt.postMessage(null)}}else U=function(){St(O,0)};function Nt(H,W){V=St(function(){H(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(H){switch(I){case 1:case 2:case 3:var W=3;break;default:W=I}var rt=I;I=W;try{return H()}finally{I=rt}},s.unstable_requestPaint=function(){it=!0},s.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var rt=I;I=H;try{return W()}finally{I=rt}},s.unstable_scheduleCallback=function(H,W,rt){var xt=s.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?xt+rt:xt):rt=xt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=rt+C,H={id:S++,callback:W,priorityLevel:H,startTime:rt,expirationTime:C,sortIndex:-1},rt>xt?(H.sortIndex=rt,n(_,H),a(v)===null&&H===a(_)&&(nt?(vt(V),V=-1):nt=!0,Nt(_t,rt-xt))):(H.sortIndex=C,n(v,H),Z||K||(Z=!0,Ct||(Ct=!0,U()))),H},s.unstable_shouldYield=N,s.unstable_wrapCallback=function(H){var W=I;return function(){var rt=I;I=W;try{return H.apply(this,arguments)}finally{I=rt}}}})(ph)),ph}var Gp;function OE(){return Gp||(Gp=1,gh.exports=ME()),gh.exports}var yh={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function VE(){if(Qp)return Qe;Qp=1;var s=Yh();function n(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var l={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,S){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:M==null?null:""+M,children:v,containerInfo:_,implementation:S}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Qe.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(n(299));return h(v,_,null,S)},Qe.flushSync=function(v){var _=m.T,S=l.p;try{if(m.T=null,l.p=2,v)return v()}finally{m.T=_,l.p=S,l.d.f()}},Qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,l.d.C(v,_))},Qe.prefetchDNS=function(v){typeof v=="string"&&l.d.D(v)},Qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,M=y(S,_.crossOrigin),I=typeof _.integrity=="string"?_.integrity:void 0,K=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?l.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:M,integrity:I,fetchPriority:K}):S==="script"&&l.d.X(v,{crossOrigin:M,integrity:I,fetchPriority:K,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=y(_.as,_.crossOrigin);l.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&l.d.M(v)},Qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,M=y(S,_.crossOrigin);l.d.L(v,S,{crossOrigin:M,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=y(_.as,_.crossOrigin);l.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else l.d.m(v)},Qe.requestFormReset=function(v){l.d.r(v)},Qe.unstable_batchedUpdates=function(v,_){return v(_)},Qe.useFormState=function(v,_,S){return m.H.useFormState(v,_,S)},Qe.useFormStatus=function(){return m.H.useHostTransitionStatus()},Qe.version="19.1.1",Qe}var Fp;function UE(){if(Fp)return yh.exports;Fp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),yh.exports=VE(),yh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function LE(){if(Yp)return zl;Yp=1;var s=OE(),n=Yh(),a=UE();function l(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function m(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y(t){if(h(t)!==t)throw Error(l(188))}function v(t){var e=t.alternate;if(!e){if(e=h(t),e===null)throw Error(l(188));return e!==t?null:t}for(var i=t,r=e;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(r=c.return,r!==null){i=r;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return y(c),t;if(f===r)return y(c),e;f=f.sibling}throw Error(l(188))}if(i.return!==r.return)i=c,r=f;else{for(var p=!1,E=c.child;E;){if(E===i){p=!0,i=c,r=f;break}if(E===r){p=!0,r=c,i=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===i){p=!0,i=f,r=c;break}if(E===r){p=!0,r=f,i=c;break}E=E.sibling}if(!p)throw Error(l(189))}}if(i.alternate!==r)throw Error(l(190))}if(i.tag!==3)throw Error(l(188));return i.stateNode.current===i?t:e}function _(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=_(t),e!==null)return e;t=t.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),it=Symbol.for("react.profiler"),St=Symbol.for("react.provider"),vt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),jt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Gt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case it:return"Profiler";case nt:return"StrictMode";case _t:return"Suspense";case Ct:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case dt:return(t.displayName||"Context")+".Provider";case vt:return(t._context.displayName||"Context")+".Consumer";case jt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return e=t.displayName||null,e!==null?e:Gt(t.type)||"Memo";case A:e=t._payload,t=t._init;try{return Gt(t(e))}catch{}}return null}var Nt=Array.isArray,H=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},xt=[],C=-1;function F(t){return{current:t}}function et(t){0>C||(t.current=xt[C],xt[C]=null,C--)}function J(t,e){C++,xt[C]=t.current,t.current=e}var ut=F(null),Et=F(null),pt=F(null),ce=F(null);function Zt(t,e){switch(J(pt,e),J(Et,t),J(ut,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?dp(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=dp(e),t=mp(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(ut),J(ut,t)}function nn(){et(ut),et(Et),et(pt)}function An(t){t.memoizedState!==null&&J(ce,t);var e=ut.current,i=mp(e,t.type);e!==i&&(J(Et,t),J(ut,i))}function jn(t){Et.current===t&&(et(ut),et(Et)),ce.current===t&&(et(ce),Ml._currentValue=rt)}var zn=Object.prototype.hasOwnProperty,Zn=s.unstable_scheduleCallback,Pn=s.unstable_cancelCallback,Ji=s.unstable_shouldYield,Wi=s.unstable_requestPaint,an=s.unstable_now,ja=s.unstable_getCurrentPriorityLevel,za=s.unstable_ImmediatePriority,Sn=s.unstable_UserBlockingPriority,vi=s.unstable_NormalPriority,Pa=s.unstable_LowPriority,Ei=s.unstable_IdlePriority,bn=s.log,Vs=s.unstable_setDisableYieldValue,ie=null,zt=null;function Ze(t){if(typeof bn=="function"&&Vs(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(ie,t)}catch{}}var Se=Math.clz32?Math.clz32:Jn,Ba=Math.log,ka=Math.LN2;function Jn(t){return t>>>=0,t===0?32:31-(Ba(t)/ka|0)|0}var Ti=256,Ai=4194304;function fn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ta(t,e,i){var r=t.pendingLanes;if(r===0)return 0;var c=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=r&134217727;return E!==0?(r=E&~f,r!==0?c=fn(r):(p&=E,p!==0?c=fn(p):i||(i=E&~t,i!==0&&(c=fn(i))))):(E=r&~f,E!==0?c=fn(E):p!==0?c=fn(p):i||(i=r&~t,i!==0&&(c=fn(i)))),c===0?0:e!==0&&e!==c&&(e&f)===0&&(f=c&-c,i=e&-e,f>=i||f===32&&(i&4194048)!==0)?e:c}function Wn(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function qa(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ha(){var t=Ti;return Ti<<=1,(Ti&4194048)===0&&(Ti=256),t}function Ga(){var t=Ai;return Ai<<=1,(Ai&62914560)===0&&(Ai=4194304),t}function Bn(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function kn(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Us(t,e,i,r,c,f){var p=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(i=p&~i;0<i;){var G=31-Se(i),Y=1<<G;E[G]=0,b[G]=-1;var B=P[G];if(B!==null)for(P[G]=null,G=0;G<B.length;G++){var k=B[G];k!==null&&(k.lane&=-536870913)}i&=~Y}r!==0&&lt(t,r,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~e))}function lt(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Se(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|i&4194090}function kt(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var r=31-Se(i),c=1<<r;c&e|t[r]&e&&(t[r]|=e),i&=~c}}function Wt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function hn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Si(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:Op(t.type))}function Ls(t,e){var i=W.p;try{return W.p=t,e()}finally{W.p=i}}var te=Math.random().toString(36).slice(2),le="__reactFiber$"+te,ye="__reactProps$"+te,Rn="__reactContainer$"+te,jr="__reactEvents$"+te,mc="__reactListeners$"+te,ea="__reactHandles$"+te,oo="__reactResources$"+te,Qa="__reactMarker$"+te;function na(t){delete t[le],delete t[ye],delete t[jr],delete t[mc],delete t[ea]}function bi(t){var e=t[le];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Rn]||i[le]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=_p(t);t!==null;){if(i=t[le])return i;t=_p(t)}return e}t=i,i=t.parentNode}return null}function ti(t){if(t=t[le]||t[Rn]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function ei(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(l(33))}function Je(t){var e=t[oo];return e||(e=t[oo]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function me(t){t[Qa]=!0}var zr=new Set,js={};function qn(t,e){Ri(t,e),Ri(t+"Capture",e)}function Ri(t,e){for(js[t]=e,t=0;t<e.length;t++)zr.add(e[t])}var uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),co={},Fa={};function fo(t){return zn.call(Fa,t)?!0:zn.call(co,t)?!1:uo.test(t)?Fa[t]=!0:(co[t]=!0,!1)}function ia(t,e,i){if(fo(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function ni(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function Ue(t,e,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+r)}}var Ya,ho;function wi(t){if(Ya===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);Ya=e&&e[1]||"",ho=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ya+t+ho}var zs=!1;function Ps(t,e){if(!t||zs)return"";zs=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(k){var B=k}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(k){B=k}t.call(Y.prototype)}}else{try{throw Error()}catch(k){B=k}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var b=p.split(`
`),P=E.split(`
`);for(c=r=0;r<b.length&&!b[r].includes("DetermineComponentFrameRoot");)r++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(r===b.length||c===P.length)for(r=b.length-1,c=P.length-1;1<=r&&0<=c&&b[r]!==P[c];)c--;for(;1<=r&&0<=c;r--,c--)if(b[r]!==P[c]){if(r!==1||c!==1)do if(r--,c--,0>c||b[r]!==P[c]){var G=`
`+b[r].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=r&&0<=c);break}}}finally{zs=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?wi(i):""}function Pr(t){switch(t.tag){case 26:case 27:case 5:return wi(t.type);case 16:return wi("Lazy");case 13:return wi("Suspense");case 19:return wi("SuspenseList");case 0:case 15:return Ps(t.type,!1);case 11:return Ps(t.type.render,!1);case 1:return Ps(t.type,!0);case 31:return wi("Activity");default:return""}}function Bs(t){try{var e="";do e+=Pr(t),t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function We(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Br(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gc(t){var e=Br(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,f=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return c.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ks(t){t._valueTracker||(t._valueTracker=gc(t))}function kr(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),r="";return t&&(r=Br(t)?t.checked?"true":"false":t.value),t=r,t!==i?(e.setValue(t),!0):!1}function Xa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var pc=/[\n"\\]/g;function _e(t){return t.replace(pc,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function dn(t,e,i,r,c,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),e!=null?p==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+We(e)):t.value!==""+We(e)&&(t.value=""+We(e)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),e!=null?aa(t,p,We(e)):i!=null?aa(t,p,We(i)):r!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+We(E):t.removeAttribute("name")}function Ka(t,e,i,r,c,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),e!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||e!=null))return;i=i!=null?""+We(i):"",e=e!=null?""+We(e):i,E||e===t.value||(t.value=e),t.defaultValue=e}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=E?t.checked:!!r,t.defaultChecked=!!r,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p)}function aa(t,e,i){e==="number"&&Xa(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Ci(t,e,i,r){if(t=t.options,e){e={};for(var c=0;c<i.length;c++)e["$"+i[c]]=!0;for(i=0;i<t.length;i++)c=e.hasOwnProperty("$"+t[i].value),t[i].selected!==c&&(t[i].selected=c),c&&r&&(t[i].defaultSelected=!0)}else{for(i=""+We(i),e=null,c=0;c<t.length;c++){if(t[c].value===i){t[c].selected=!0,r&&(t[c].defaultSelected=!0);return}e!==null||t[c].disabled||(e=t[c])}e!==null&&(e.selected=!0)}}function Yt(t,e,i){if(e!=null&&(e=""+We(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+We(i):""}function $a(t,e,i,r){if(e==null){if(r!=null){if(i!=null)throw Error(l(92));if(Nt(r)){if(1<r.length)throw Error(l(93));r=r[0]}i=r}i==null&&(i=""),e=i}i=We(e),t.defaultValue=i,r=t.textContent,r===i&&r!==""&&r!==null&&(t.value=r)}function wn(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Za=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mo(t,e,i){var r=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,i):typeof i!="number"||i===0||Za.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function qr(t,e,i){if(e!=null&&typeof e!="object")throw Error(l(62));if(t=t.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var c in e)r=e[c],e.hasOwnProperty(c)&&i[c]!==r&&mo(t,c,r)}else for(var f in e)e.hasOwnProperty(f)&&mo(t,f,e[f])}function Hr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_c=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qs(t){return _c.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Di=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ii=null,Ni=null;function Gr(t){var e=ti(t);if(e&&(t=e.stateNode)){var i=t[ye]||null;t:switch(t=e.stateNode,e.type){case"input":if(dn(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+_e(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var r=i[e];if(r!==t&&r.form===t.form){var c=r[ye]||null;if(!c)throw Error(l(90));dn(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(e=0;e<i.length;e++)r=i[e],r.form===t.form&&kr(r)}break t;case"textarea":Yt(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&Ci(t,!!i.multiple,e,!1)}}}var ii=!1;function go(t,e,i){if(ii)return t(e,i);ii=!0;try{var r=t(e);return r}finally{if(ii=!1,(Ii!==null||Ni!==null)&&(ou(),Ii&&(e=Ii,t=Ni,Ni=Ii=null,Gr(e),t)))for(e=0;e<t.length;e++)Gr(t[e])}}function Ja(t,e){var i=t.stateNode;if(i===null)return null;var r=i[ye]||null;if(r===null)return null;i=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(l(231,e,typeof i));return i}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dn=!1;if(Hn)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{Dn=!1}var ai=null,sa=null,xi=null;function Qr(){if(xi)return xi;var t,e=sa,i=e.length,r,c="value"in ai?ai.value:ai.textContent,f=c.length;for(t=0;t<i&&e[t]===c[t];t++);var p=i-t;for(r=1;r<=p&&e[i-r]===c[f-r];r++);return xi=c.slice(t,1<r?1-r:void 0)}function si(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ri(){return!0}function Fr(){return!1}function De(t){function e(i,r,c,f,p){this._reactName=i,this._targetInst=c,this.type=r,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(i=t[E],this[E]=i?i(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ri:Fr,this.isPropagationStopped=Fr,this}return S(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),e}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hs=De(qt),ts=S({},qt,{view:0,detail:0}),po=De(ts),Gs,Qs,li,es=S({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:as,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==li&&(li&&t.type==="mousemove"?(Gs=t.screenX-li.screenX,Qs=t.screenY-li.screenY):Qs=Gs=0,li=t),Gs)},movementY:function(t){return"movementY"in t?t.movementY:Qs}}),In=De(es),yo=S({},es,{dataTransfer:0}),vc=De(yo),ns=S({},ts,{relatedTarget:0}),Fs=De(ns),Yr=S({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ys=De(Yr),_o=S({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xs=De(_o),Ec=S({},qt,{data:0}),Xr=De(Ec),is={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Eo[t])?!!e[t]:!1}function as(){return Kr}var To=S({},ts,{key:function(t){if(t.key){var e=is[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=si(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:as,charCode:function(t){return t.type==="keypress"?si(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?si(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ks=De(To),Ao=S({},es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$r=De(Ao),Mi=S({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:as}),So=De(Mi),bo=S({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ro=De(bo),wo=S({},es,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$s=De(wo),tn=S({},qt,{newState:0,oldState:0}),Co=De(tn),Do=[9,13,27,32],oi=Hn&&"CompositionEvent"in window,o=null;Hn&&"documentMode"in document&&(o=document.documentMode);var d=Hn&&"TextEvent"in window&&!o,g=Hn&&(!oi||o&&8<o&&11>=o),T=" ",j=!1;function q(t,e){switch(t){case"keyup":return Do.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mt=!1;function be(t,e){switch(t){case"compositionend":return tt(e);case"keypress":return e.which!==32?null:(j=!0,T);case"textInput":return t=e.data,t===T&&j?null:t;default:return null}}function Ot(t,e){if(Mt)return t==="compositionend"||!oi&&q(t,e)?(t=Qr(),xi=sa=ai=null,Mt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return g&&e.locale!=="ko"?null:e.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Re(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ie[t.type]:e==="textarea"}function Oi(t,e,i,r){Ii?Ni?Ni.push(r):Ni=[r]:Ii=r,e=mu(e,"onChange"),0<e.length&&(i=new Hs("onChange","change",null,i,r),t.push({event:i,listeners:e}))}var Le=null,ui=null;function Zr(t){op(t,0)}function Io(t){var e=ei(t);if(kr(e))return t}function Id(t,e){if(t==="change")return e}var Nd=!1;if(Hn){var Tc;if(Hn){var Ac="oninput"in document;if(!Ac){var xd=document.createElement("div");xd.setAttribute("oninput","return;"),Ac=typeof xd.oninput=="function"}Tc=Ac}else Tc=!1;Nd=Tc&&(!document.documentMode||9<document.documentMode)}function Md(){Le&&(Le.detachEvent("onpropertychange",Od),ui=Le=null)}function Od(t){if(t.propertyName==="value"&&Io(ui)){var e=[];Oi(e,ui,t,Cn(t)),go(Zr,e)}}function av(t,e,i){t==="focusin"?(Md(),Le=e,ui=i,Le.attachEvent("onpropertychange",Od)):t==="focusout"&&Md()}function sv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Io(ui)}function rv(t,e){if(t==="click")return Io(e)}function lv(t,e){if(t==="input"||t==="change")return Io(e)}function ov(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mn=typeof Object.is=="function"?Object.is:ov;function Jr(t,e){if(mn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var c=i[r];if(!zn.call(e,c)||!mn(t[c],e[c]))return!1}return!0}function Vd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ud(t,e){var i=Vd(t);t=0;for(var r;i;){if(i.nodeType===3){if(r=t+i.textContent.length,t<=e&&r>=e)return{node:i,offset:e-t};t=r}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Vd(i)}}function Ld(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ld(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Xa(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=Xa(t.document)}return e}function Sc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var uv=Hn&&"documentMode"in document&&11>=document.documentMode,Zs=null,bc=null,Wr=null,Rc=!1;function zd(t,e,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Rc||Zs==null||Zs!==Xa(r)||(r=Zs,"selectionStart"in r&&Sc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wr&&Jr(Wr,r)||(Wr=r,r=mu(bc,"onSelect"),0<r.length&&(e=new Hs("onSelect","select",null,e,i),t.push({event:e,listeners:r}),e.target=Zs)))}function ss(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Js={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionrun:ss("Transition","TransitionRun"),transitionstart:ss("Transition","TransitionStart"),transitioncancel:ss("Transition","TransitionCancel"),transitionend:ss("Transition","TransitionEnd")},wc={},Pd={};Hn&&(Pd=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function rs(t){if(wc[t])return wc[t];if(!Js[t])return t;var e=Js[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in Pd)return wc[t]=e[i];return t}var Bd=rs("animationend"),kd=rs("animationiteration"),qd=rs("animationstart"),cv=rs("transitionrun"),fv=rs("transitionstart"),hv=rs("transitioncancel"),Hd=rs("transitionend"),Gd=new Map,Cc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cc.push("scrollEnd");function Gn(t,e){Gd.set(t,e),qn(e,[t])}var Qd=new WeakMap;function Nn(t,e){if(typeof t=="object"&&t!==null){var i=Qd.get(t);return i!==void 0?i:(e={value:t,source:e,stack:Bs(e)},Qd.set(t,e),e)}return{value:t,source:e,stack:Bs(e)}}var xn=[],Ws=0,Dc=0;function No(){for(var t=Ws,e=Dc=Ws=0;e<t;){var i=xn[e];xn[e++]=null;var r=xn[e];xn[e++]=null;var c=xn[e];xn[e++]=null;var f=xn[e];if(xn[e++]=null,r!==null&&c!==null){var p=r.pending;p===null?c.next=c:(c.next=p.next,p.next=c),r.pending=c}f!==0&&Fd(i,c,f)}}function xo(t,e,i,r){xn[Ws++]=t,xn[Ws++]=e,xn[Ws++]=i,xn[Ws++]=r,Dc|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Ic(t,e,i,r){return xo(t,e,i,r),Mo(t)}function tr(t,e){return xo(t,null,null,e),Mo(t)}function Fd(t,e,i){t.lanes|=i;var r=t.alternate;r!==null&&(r.lanes|=i);for(var c=!1,f=t.return;f!==null;)f.childLanes|=i,r=f.alternate,r!==null&&(r.childLanes|=i),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&e!==null&&(c=31-Se(i),t=f.hiddenUpdates,r=t[c],r===null?t[c]=[e]:r.push(e),e.lane=i|536870912),f):null}function Mo(t){if(50<bl)throw bl=0,Lf=null,Error(l(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var er={};function dv(t,e,i,r){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,e,i,r){return new dv(t,e,i,r)}function Nc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vi(t,e){var i=t.alternate;return i===null?(i=gn(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function Yd(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Oo(t,e,i,r,c,f){var p=0;if(r=t,typeof t=="function")Nc(t)&&(p=1);else if(typeof t=="string")p=gE(t,i,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=gn(31,i,e,c),t.elementType=w,t.lanes=f,t;case Z:return ls(i.children,c,f,e);case nt:p=8,c|=24;break;case it:return t=gn(12,i,e,c|2),t.elementType=it,t.lanes=f,t;case _t:return t=gn(13,i,e,c),t.elementType=_t,t.lanes=f,t;case Ct:return t=gn(19,i,e,c),t.elementType=Ct,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case St:case dt:p=10;break t;case vt:p=9;break t;case jt:p=11;break t;case V:p=14;break t;case A:p=16,r=null;break t}p=29,i=Error(l(130,t===null?"null":typeof t,"")),r=null}return e=gn(p,i,e,c),e.elementType=t,e.type=r,e.lanes=f,e}function ls(t,e,i,r){return t=gn(7,t,r,e),t.lanes=i,t}function xc(t,e,i){return t=gn(6,t,null,e),t.lanes=i,t}function Mc(t,e,i){return e=gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var nr=[],ir=0,Vo=null,Uo=0,Mn=[],On=0,os=null,Ui=1,Li="";function us(t,e){nr[ir++]=Uo,nr[ir++]=Vo,Vo=t,Uo=e}function Xd(t,e,i){Mn[On++]=Ui,Mn[On++]=Li,Mn[On++]=os,os=t;var r=Ui;t=Li;var c=32-Se(r)-1;r&=~(1<<c),i+=1;var f=32-Se(e)+c;if(30<f){var p=c-c%5;f=(r&(1<<p)-1).toString(32),r>>=p,c-=p,Ui=1<<32-Se(e)+c|i<<c|r,Li=f+t}else Ui=1<<f|i<<c|r,Li=t}function Oc(t){t.return!==null&&(us(t,1),Xd(t,1,0))}function Vc(t){for(;t===Vo;)Vo=nr[--ir],nr[ir]=null,Uo=nr[--ir],nr[ir]=null;for(;t===os;)os=Mn[--On],Mn[On]=null,Li=Mn[--On],Mn[On]=null,Ui=Mn[--On],Mn[On]=null}var en=null,fe=null,Bt=!1,cs=null,ci=!1,Uc=Error(l(519));function fs(t){var e=Error(l(418,""));throw nl(Nn(e,t)),Uc}function Kd(t){var e=t.stateNode,i=t.type,r=t.memoizedProps;switch(e[le]=t,e[ye]=r,i){case"dialog":It("cancel",e),It("close",e);break;case"iframe":case"object":case"embed":It("load",e);break;case"video":case"audio":for(i=0;i<wl.length;i++)It(wl[i],e);break;case"source":It("error",e);break;case"img":case"image":case"link":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"input":It("invalid",e),Ka(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ks(e);break;case"select":It("invalid",e);break;case"textarea":It("invalid",e),$a(e,r.value,r.defaultValue,r.children),ks(e)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||r.suppressHydrationWarning===!0||hp(e.textContent,i)?(r.popover!=null&&(It("beforetoggle",e),It("toggle",e)),r.onScroll!=null&&It("scroll",e),r.onScrollEnd!=null&&It("scrollend",e),r.onClick!=null&&(e.onclick=gu),e=!0):e=!1,e||fs(t)}function $d(t){for(en=t.return;en;)switch(en.tag){case 5:case 13:ci=!1;return;case 27:case 3:ci=!0;return;default:en=en.return}}function tl(t){if(t!==en)return!1;if(!Bt)return $d(t),Bt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Jf(t.type,t.memoizedProps)),i=!i),i&&fe&&fs(t),$d(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(e===0){fe=Fn(t.nextSibling);break t}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++;t=t.nextSibling}fe=null}}else e===27?(e=fe,Ta(t.type)?(t=nh,nh=null,fe=t):fe=e):fe=en?Fn(t.stateNode.nextSibling):null;return!0}function el(){fe=en=null,Bt=!1}function Zd(){var t=cs;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),cs=null),t}function nl(t){cs===null?cs=[t]:cs.push(t)}var Lc=F(null),hs=null,ji=null;function ra(t,e,i){J(Lc,e._currentValue),e._currentValue=i}function zi(t){t._currentValue=Lc.current,et(Lc)}function jc(t,e,i){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===i)break;t=t.return}}function zc(t,e,i,r){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<e.length;b++)if(E.context===e[b]){f.lanes|=i,E=f.alternate,E!==null&&(E.lanes|=i),jc(f.return,i,t),r||(p=null);break t}f=E.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(l(341));p.lanes|=i,f=p.alternate,f!==null&&(f.lanes|=i),jc(p,i,t),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function il(t,e,i,r){t=null;for(var c=e,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(l(387));if(p=p.memoizedProps,p!==null){var E=c.type;mn(c.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(c===ce.current){if(p=c.alternate,p===null)throw Error(l(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}c=c.return}t!==null&&zc(e,t,i,r),e.flags|=262144}function Lo(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ds(t){hs=t,ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ge(t){return Jd(hs,t)}function jo(t,e){return hs===null&&ds(t),Jd(t,e)}function Jd(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},ji===null){if(t===null)throw Error(l(308));ji=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ji=ji.next=e;return i}var mv=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},gv=s.unstable_scheduleCallback,pv=s.unstable_NormalPriority,we={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pc(){return{controller:new mv,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&gv(pv,function(){t.controller.abort()})}var sl=null,Bc=0,ar=0,sr=null;function yv(t,e){if(sl===null){var i=sl=[];Bc=0,ar=Hf(),sr={status:"pending",value:void 0,then:function(r){i.push(r)}}}return Bc++,e.then(Wd,Wd),e}function Wd(){if(--Bc===0&&sl!==null){sr!==null&&(sr.status="fulfilled");var t=sl;sl=null,ar=0,sr=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function _v(t,e){var i=[],r={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var c=0;c<i.length;c++)(0,i[c])(e)},function(c){for(r.status="rejected",r.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),r}var tm=H.S;H.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&yv(t,e),tm!==null&&tm(t,e)};var ms=F(null);function kc(){var t=ms.current;return t!==null?t:ee.pooledCache}function zo(t,e){e===null?J(ms,ms.current):J(ms,e.pool)}function em(){var t=kc();return t===null?null:{parent:we._currentValue,pool:t}}var rl=Error(l(460)),nm=Error(l(474)),Po=Error(l(542)),qc={then:function(){}};function im(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Bo(){}function am(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(Bo,Bo),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,rm(t),t;default:if(typeof e.status=="string")e.then(Bo,Bo);else{if(t=ee,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var c=e;c.status="fulfilled",c.value=r}},function(r){if(e.status==="pending"){var c=e;c.status="rejected",c.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,rm(t),t}throw ll=e,rl}}var ll=null;function sm(){if(ll===null)throw Error(l(459));var t=ll;return ll=null,t}function rm(t){if(t===rl||t===Po)throw Error(l(483))}var la=!1;function Hc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function oa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ua(t,e,i){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Qt&2)!==0){var c=r.pending;return c===null?e.next=e:(e.next=c.next,c.next=e),r.pending=e,e=Mo(t),Fd(t,null,i),e}return xo(t,r,e,i),Mo(t)}function ol(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,kt(t,i)}}function Qc(t,e){var i=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var p={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,i=i.next}while(i!==null);f===null?c=f=e:f=f.next=e}else c=f=e;i={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var Fc=!1;function ul(){if(Fc){var t=sr;if(t!==null)throw t}}function cl(t,e,i,r){Fc=!1;var c=t.updateQueue;la=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,p===null?f=P:p.next=P,p=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=b))}if(f!==null){var Y=c.baseState;p=0,G=P=b=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(Vt&B)===B:(r&B)===B){B!==0&&B===ar&&(Fc=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var yt=t,mt=E;B=e;var $t=i;switch(mt.tag){case 1:if(yt=mt.payload,typeof yt=="function"){Y=yt.call($t,Y,B);break t}Y=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=mt.payload,B=typeof yt=="function"?yt.call($t,Y,B):yt,B==null)break t;Y=S({},Y,B);break t;case 2:la=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=k,b=Y):G=G.next=k,p|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);G===null&&(b=Y),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),ya|=p,t.lanes=p,t.memoizedState=Y}}function lm(t,e){if(typeof t!="function")throw Error(l(191,t));t.call(e)}function om(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)lm(i[t],e)}var rr=F(null),ko=F(0);function um(t,e){t=Qi,J(ko,t),J(rr,e),Qi=t|e.baseLanes}function Yc(){J(ko,Qi),J(rr,rr.current)}function Xc(){Qi=ko.current,et(rr),et(ko)}var ca=0,bt=null,Xt=null,ve=null,qo=!1,lr=!1,gs=!1,Ho=0,fl=0,or=null,vv=0;function ge(){throw Error(l(321))}function Kc(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!mn(t[i],e[i]))return!1;return!0}function $c(t,e,i,r,c,f){return ca=f,bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,H.H=t===null||t.memoizedState===null?Fm:Ym,gs=!1,f=i(r,c),gs=!1,lr&&(f=fm(e,i,r,c)),cm(t),f}function cm(t){H.H=Ko;var e=Xt!==null&&Xt.next!==null;if(ca=0,ve=Xt=bt=null,qo=!1,fl=0,or=null,e)throw Error(l(300));t===null||Ne||(t=t.dependencies,t!==null&&Lo(t)&&(Ne=!0))}function fm(t,e,i,r){bt=t;var c=0;do{if(lr&&(or=null),fl=0,lr=!1,25<=c)throw Error(l(301));if(c+=1,ve=Xt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=wv,f=e(i,r)}while(lr);return f}function Ev(){var t=H.H,e=t.useState()[0];return e=typeof e.then=="function"?hl(e):e,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(bt.flags|=1024),e}function Zc(){var t=Ho!==0;return Ho=0,t}function Jc(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function Wc(t){if(qo){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}qo=!1}ca=0,ve=Xt=bt=null,lr=!1,fl=Ho=0,or=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?bt.memoizedState=ve=t:ve=ve.next=t,ve}function Ee(){if(Xt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var e=ve===null?bt.memoizedState:ve.next;if(e!==null)ve=e,Xt=t;else{if(t===null)throw bt.alternate===null?Error(l(467)):Error(l(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},ve===null?bt.memoizedState=ve=t:ve=ve.next=t}return ve}function tf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var e=fl;return fl+=1,or===null&&(or=[]),t=am(or,t,e),e=bt,(ve===null?e.memoizedState:ve.next)===null&&(e=e.alternate,H.H=e===null||e.memoizedState===null?Fm:Ym),t}function Go(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===dt)return Ge(t)}throw Error(l(438,String(t)))}function ef(t){var e=null,i=bt.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var r=bt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(c){return c.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=tf(),bt.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),r=0;r<t;r++)i[r]=N;return e.index++,i}function Pi(t,e){return typeof e=="function"?e(t):e}function Qo(t){var e=Ee();return nf(e,Xt,t)}function nf(t,e,i){var r=t.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=i;var c=t.baseQueue,f=r.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}e.baseQueue=c=f,r.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{e=c.next;var E=p=null,b=null,P=e,G=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Vt&Y)===Y:(ca&Y)===Y){var B=P.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===ar&&(G=!0);else if((ca&B)===B){P=P.next,B===ar&&(G=!0);continue}else Y={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=Y,p=f):b=b.next=Y,bt.lanes|=B,ya|=B;Y=P.action,gs&&i(f,Y),f=P.hasEagerState?P.eagerState:i(f,Y)}else B={lane:Y,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=B,p=f):b=b.next=B,bt.lanes|=Y,ya|=Y;P=P.next}while(P!==null&&P!==e);if(b===null?p=f:b.next=E,!mn(f,t.memoizedState)&&(Ne=!0,G&&(i=sr,i!==null)))throw i;t.memoizedState=f,t.baseState=p,t.baseQueue=b,r.lastRenderedState=f}return c===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function af(t){var e=Ee(),i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=t;var r=i.dispatch,c=i.pending,f=e.memoizedState;if(c!==null){i.pending=null;var p=c=c.next;do f=t(f,p.action),p=p.next;while(p!==c);mn(f,e.memoizedState)||(Ne=!0),e.memoizedState=f,e.baseQueue===null&&(e.baseState=f),i.lastRenderedState=f}return[f,r]}function hm(t,e,i){var r=bt,c=Ee(),f=Bt;if(f){if(i===void 0)throw Error(l(407));i=i()}else i=e();var p=!mn((Xt||c).memoizedState,i);p&&(c.memoizedState=i,Ne=!0),c=c.queue;var E=gm.bind(null,r,c,t);if(dl(2048,8,E,[t]),c.getSnapshot!==e||p||ve!==null&&ve.memoizedState.tag&1){if(r.flags|=2048,ur(9,Fo(),mm.bind(null,r,c,i,e),null),ee===null)throw Error(l(349));f||(ca&124)!==0||dm(r,e,i)}return i}function dm(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=bt.updateQueue,e===null?(e=tf(),bt.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function mm(t,e,i,r){e.value=i,e.getSnapshot=r,pm(e)&&ym(t)}function gm(t,e,i){return i(function(){pm(e)&&ym(t)})}function pm(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!mn(t,i)}catch{return!0}}function ym(t){var e=tr(t,2);e!==null&&En(e,t,2)}function sf(t){var e=sn();if(typeof t=="function"){var i=t;if(t=i(),gs){Ze(!0);try{i()}finally{Ze(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:t},e}function _m(t,e,i,r){return t.baseState=i,nf(t,Xt,typeof r=="function"?r:Pi)}function Tv(t,e,i,r,c){if(Xo(t))throw Error(l(485));if(t=e.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?i(!0):f.isTransition=!1,r(f),i=e.pending,i===null?(f.next=e.pending=f,vm(e,f)):(f.next=i.next,e.pending=i.next=f)}}function vm(t,e){var i=e.action,r=e.payload,c=t.state;if(e.isTransition){var f=H.T,p={};H.T=p;try{var E=i(c,r),b=H.S;b!==null&&b(p,E),Em(t,e,E)}catch(P){rf(t,e,P)}finally{H.T=f}}else try{f=i(c,r),Em(t,e,f)}catch(P){rf(t,e,P)}}function Em(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){Tm(t,e,r)},function(r){return rf(t,e,r)}):Tm(t,e,i)}function Tm(t,e,i){e.status="fulfilled",e.value=i,Am(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,vm(t,i)))}function rf(t,e,i){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=i,Am(e),e=e.next;while(e!==r)}t.action=null}function Am(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Sm(t,e){return e}function bm(t,e){if(Bt){var i=ee.formState;if(i!==null){t:{var r=bt;if(Bt){if(fe){e:{for(var c=fe,f=ci;c.nodeType!==8;){if(!f){c=null;break e}if(c=Fn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){fe=Fn(c.nextSibling),r=c.data==="F!";break t}}fs(r)}r=!1}r&&(e=i[0])}}return i=sn(),i.memoizedState=i.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sm,lastRenderedState:e},i.queue=r,i=Hm.bind(null,bt,r),r.dispatch=i,r=sf(!1),f=ff.bind(null,bt,!1,r.queue),r=sn(),c={state:e,dispatch:null,action:t,pending:null},r.queue=c,i=Tv.bind(null,bt,c,f,i),c.dispatch=i,r.memoizedState=t,[e,i,!1]}function Rm(t){var e=Ee();return wm(e,Xt,t)}function wm(t,e,i){if(e=nf(t,e,Sm)[0],t=Qo(Pi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=hl(e)}catch(p){throw p===rl?Po:p}else r=e;e=Ee();var c=e.queue,f=c.dispatch;return i!==e.memoizedState&&(bt.flags|=2048,ur(9,Fo(),Av.bind(null,c,i),null)),[r,f,t]}function Av(t,e){t.action=e}function Cm(t){var e=Ee(),i=Xt;if(i!==null)return wm(e,i,t);Ee(),e=e.memoizedState,i=Ee();var r=i.queue.dispatch;return i.memoizedState=t,[e,r,!1]}function ur(t,e,i,r){return t={tag:t,create:i,deps:r,inst:e,next:null},e=bt.updateQueue,e===null&&(e=tf(),bt.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(r=i.next,i.next=t,t.next=r,e.lastEffect=t),t}function Fo(){return{destroy:void 0,resource:void 0}}function Dm(){return Ee().memoizedState}function Yo(t,e,i,r){var c=sn();r=r===void 0?null:r,bt.flags|=t,c.memoizedState=ur(1|e,Fo(),i,r)}function dl(t,e,i,r){var c=Ee();r=r===void 0?null:r;var f=c.memoizedState.inst;Xt!==null&&r!==null&&Kc(r,Xt.memoizedState.deps)?c.memoizedState=ur(e,f,i,r):(bt.flags|=t,c.memoizedState=ur(1|e,f,i,r))}function Im(t,e){Yo(8390656,8,t,e)}function Nm(t,e){dl(2048,8,t,e)}function xm(t,e){return dl(4,2,t,e)}function Mm(t,e){return dl(4,4,t,e)}function Om(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Vm(t,e,i){i=i!=null?i.concat([t]):null,dl(4,4,Om.bind(null,e,t),i)}function lf(){}function Um(t,e){var i=Ee();e=e===void 0?null:e;var r=i.memoizedState;return e!==null&&Kc(e,r[1])?r[0]:(i.memoizedState=[t,e],t)}function Lm(t,e){var i=Ee();e=e===void 0?null:e;var r=i.memoizedState;if(e!==null&&Kc(e,r[1]))return r[0];if(r=t(),gs){Ze(!0);try{t()}finally{Ze(!1)}}return i.memoizedState=[r,e],r}function of(t,e,i){return i===void 0||(ca&1073741824)!==0?t.memoizedState=e:(t.memoizedState=i,t=Pg(),bt.lanes|=t,ya|=t,i)}function jm(t,e,i,r){return mn(i,e)?i:rr.current!==null?(t=of(t,i,r),mn(t,e)||(Ne=!0),t):(ca&42)===0?(Ne=!0,t.memoizedState=i):(t=Pg(),bt.lanes|=t,ya|=t,e)}function zm(t,e,i,r,c){var f=W.p;W.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,ff(t,!1,e,i);try{var b=c(),P=H.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=_v(b,r);ml(t,e,G,vn(t))}else ml(t,e,r,vn(t))}catch(Y){ml(t,e,{then:function(){},status:"rejected",reason:Y},vn())}finally{W.p=f,H.T=p}}function Sv(){}function uf(t,e,i,r){if(t.tag!==5)throw Error(l(476));var c=Pm(t).queue;zm(t,c,e,rt,i===null?Sv:function(){return Bm(t),i(r)})}function Pm(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:rt},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Bm(t){var e=Pm(t).next.queue;ml(t,e,{},vn())}function cf(){return Ge(Ml)}function km(){return Ee().memoizedState}function qm(){return Ee().memoizedState}function bv(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=vn();t=oa(i);var r=ua(e,t,i);r!==null&&(En(r,e,i),ol(r,e,i)),e={cache:Pc()},t.payload=e;return}e=e.return}}function Rv(t,e,i){var r=vn();i={lane:r,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Xo(t)?Gm(e,i):(i=Ic(t,e,i,r),i!==null&&(En(i,t,r),Qm(i,e,r)))}function Hm(t,e,i){var r=vn();ml(t,e,i,r)}function ml(t,e,i,r){var c={lane:r,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Xo(t))Gm(e,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=e.lastRenderedReducer,f!==null))try{var p=e.lastRenderedState,E=f(p,i);if(c.hasEagerState=!0,c.eagerState=E,mn(E,p))return xo(t,e,c,0),ee===null&&No(),!1}catch{}finally{}if(i=Ic(t,e,c,r),i!==null)return En(i,t,r),Qm(i,e,r),!0}return!1}function ff(t,e,i,r){if(r={lane:2,revertLane:Hf(),action:r,hasEagerState:!1,eagerState:null,next:null},Xo(t)){if(e)throw Error(l(479))}else e=Ic(t,i,r,2),e!==null&&En(e,t,2)}function Xo(t){var e=t.alternate;return t===bt||e!==null&&e===bt}function Gm(t,e){lr=qo=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Qm(t,e,i){if((i&4194048)!==0){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,kt(t,i)}}var Ko={readContext:Ge,use:Go,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},Fm={readContext:Ge,use:Go,useCallback:function(t,e){return sn().memoizedState=[t,e===void 0?null:e],t},useContext:Ge,useEffect:Im,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,Yo(4194308,4,Om.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Yo(4194308,4,t,e)},useInsertionEffect:function(t,e){Yo(4,2,t,e)},useMemo:function(t,e){var i=sn();e=e===void 0?null:e;var r=t();if(gs){Ze(!0);try{t()}finally{Ze(!1)}}return i.memoizedState=[r,e],r},useReducer:function(t,e,i){var r=sn();if(i!==void 0){var c=i(e);if(gs){Ze(!0);try{i(e)}finally{Ze(!1)}}}else c=e;return r.memoizedState=r.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},r.queue=t,t=t.dispatch=Rv.bind(null,bt,t),[r.memoizedState,t]},useRef:function(t){var e=sn();return t={current:t},e.memoizedState=t},useState:function(t){t=sf(t);var e=t.queue,i=Hm.bind(null,bt,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:lf,useDeferredValue:function(t,e){var i=sn();return of(i,t,e)},useTransition:function(){var t=sf(!1);return t=zm.bind(null,bt,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var r=bt,c=sn();if(Bt){if(i===void 0)throw Error(l(407));i=i()}else{if(i=e(),ee===null)throw Error(l(349));(Vt&124)!==0||dm(r,e,i)}c.memoizedState=i;var f={value:i,getSnapshot:e};return c.queue=f,Im(gm.bind(null,r,f,t),[t]),r.flags|=2048,ur(9,Fo(),mm.bind(null,r,f,i,e),null),i},useId:function(){var t=sn(),e=ee.identifierPrefix;if(Bt){var i=Li,r=Ui;i=(r&~(1<<32-Se(r)-1)).toString(32)+i,e=""+e+"R"+i,i=Ho++,0<i&&(e+="H"+i.toString(32)),e+=""}else i=vv++,e=""+e+"r"+i.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:cf,useFormState:bm,useActionState:bm,useOptimistic:function(t){var e=sn();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=ff.bind(null,bt,!0,i),i.dispatch=e,[t,e]},useMemoCache:ef,useCacheRefresh:function(){return sn().memoizedState=bv.bind(null,bt)}},Ym={readContext:Ge,use:Go,useCallback:Um,useContext:Ge,useEffect:Nm,useImperativeHandle:Vm,useInsertionEffect:xm,useLayoutEffect:Mm,useMemo:Lm,useReducer:Qo,useRef:Dm,useState:function(){return Qo(Pi)},useDebugValue:lf,useDeferredValue:function(t,e){var i=Ee();return jm(i,Xt.memoizedState,t,e)},useTransition:function(){var t=Qo(Pi)[0],e=Ee().memoizedState;return[typeof t=="boolean"?t:hl(t),e]},useSyncExternalStore:hm,useId:km,useHostTransitionStatus:cf,useFormState:Rm,useActionState:Rm,useOptimistic:function(t,e){var i=Ee();return _m(i,Xt,t,e)},useMemoCache:ef,useCacheRefresh:qm},wv={readContext:Ge,use:Go,useCallback:Um,useContext:Ge,useEffect:Nm,useImperativeHandle:Vm,useInsertionEffect:xm,useLayoutEffect:Mm,useMemo:Lm,useReducer:af,useRef:Dm,useState:function(){return af(Pi)},useDebugValue:lf,useDeferredValue:function(t,e){var i=Ee();return Xt===null?of(i,t,e):jm(i,Xt.memoizedState,t,e)},useTransition:function(){var t=af(Pi)[0],e=Ee().memoizedState;return[typeof t=="boolean"?t:hl(t),e]},useSyncExternalStore:hm,useId:km,useHostTransitionStatus:cf,useFormState:Cm,useActionState:Cm,useOptimistic:function(t,e){var i=Ee();return Xt!==null?_m(i,Xt,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:ef,useCacheRefresh:qm},cr=null,gl=0;function $o(t){var e=gl;return gl+=1,cr===null&&(cr=[]),am(cr,t,e)}function pl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Zo(t,e){throw e.$$typeof===M?Error(l(525)):(t=Object.prototype.toString.call(e),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Xm(t){var e=t._init;return e(t._payload)}function Km(t){function e(L,D){if(t){var z=L.deletions;z===null?(L.deletions=[D],L.flags|=16):z.push(D)}}function i(L,D){if(!t)return null;for(;D!==null;)e(L,D),D=D.sibling;return null}function r(L){for(var D=new Map;L!==null;)L.key!==null?D.set(L.key,L):D.set(L.index,L),L=L.sibling;return D}function c(L,D){return L=Vi(L,D),L.index=0,L.sibling=null,L}function f(L,D,z){return L.index=z,t?(z=L.alternate,z!==null?(z=z.index,z<D?(L.flags|=67108866,D):z):(L.flags|=67108866,D)):(L.flags|=1048576,D)}function p(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function E(L,D,z,Q){return D===null||D.tag!==6?(D=xc(z,L.mode,Q),D.return=L,D):(D=c(D,z),D.return=L,D)}function b(L,D,z,Q){var at=z.type;return at===Z?G(L,D,z.props.children,Q,z.key):D!==null&&(D.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===A&&Xm(at)===D.type)?(D=c(D,z.props),pl(D,z),D.return=L,D):(D=Oo(z.type,z.key,z.props,null,L.mode,Q),pl(D,z),D.return=L,D)}function P(L,D,z,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=Mc(z,L.mode,Q),D.return=L,D):(D=c(D,z.children||[]),D.return=L,D)}function G(L,D,z,Q,at){return D===null||D.tag!==7?(D=ls(z,L.mode,Q,at),D.return=L,D):(D=c(D,z),D.return=L,D)}function Y(L,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=xc(""+D,L.mode,z),D.return=L,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case I:return z=Oo(D.type,D.key,D.props,null,L.mode,z),pl(z,D),z.return=L,z;case K:return D=Mc(D,L.mode,z),D.return=L,D;case A:var Q=D._init;return D=Q(D._payload),Y(L,D,z)}if(Nt(D)||U(D))return D=ls(D,L.mode,z,null),D.return=L,D;if(typeof D.then=="function")return Y(L,$o(D),z);if(D.$$typeof===dt)return Y(L,jo(L,D),z);Zo(L,D)}return null}function B(L,D,z,Q){var at=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return at!==null?null:E(L,D,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case I:return z.key===at?b(L,D,z,Q):null;case K:return z.key===at?P(L,D,z,Q):null;case A:return at=z._init,z=at(z._payload),B(L,D,z,Q)}if(Nt(z)||U(z))return at!==null?null:G(L,D,z,Q,null);if(typeof z.then=="function")return B(L,D,$o(z),Q);if(z.$$typeof===dt)return B(L,D,jo(L,z),Q);Zo(L,z)}return null}function k(L,D,z,Q,at){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return L=L.get(z)||null,E(D,L,""+Q,at);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case I:return L=L.get(Q.key===null?z:Q.key)||null,b(D,L,Q,at);case K:return L=L.get(Q.key===null?z:Q.key)||null,P(D,L,Q,at);case A:var wt=Q._init;return Q=wt(Q._payload),k(L,D,z,Q,at)}if(Nt(Q)||U(Q))return L=L.get(z)||null,G(D,L,Q,at,null);if(typeof Q.then=="function")return k(L,D,z,$o(Q),at);if(Q.$$typeof===dt)return k(L,D,z,jo(D,Q),at);Zo(D,Q)}return null}function yt(L,D,z,Q){for(var at=null,wt=null,ot=D,gt=D=0,Me=null;ot!==null&&gt<z.length;gt++){ot.index>gt?(Me=ot,ot=null):Me=ot.sibling;var Pt=B(L,ot,z[gt],Q);if(Pt===null){ot===null&&(ot=Me);break}t&&ot&&Pt.alternate===null&&e(L,ot),D=f(Pt,D,gt),wt===null?at=Pt:wt.sibling=Pt,wt=Pt,ot=Me}if(gt===z.length)return i(L,ot),Bt&&us(L,gt),at;if(ot===null){for(;gt<z.length;gt++)ot=Y(L,z[gt],Q),ot!==null&&(D=f(ot,D,gt),wt===null?at=ot:wt.sibling=ot,wt=ot);return Bt&&us(L,gt),at}for(ot=r(ot);gt<z.length;gt++)Me=k(ot,L,gt,z[gt],Q),Me!==null&&(t&&Me.alternate!==null&&ot.delete(Me.key===null?gt:Me.key),D=f(Me,D,gt),wt===null?at=Me:wt.sibling=Me,wt=Me);return t&&ot.forEach(function(wa){return e(L,wa)}),Bt&&us(L,gt),at}function mt(L,D,z,Q){if(z==null)throw Error(l(151));for(var at=null,wt=null,ot=D,gt=D=0,Me=null,Pt=z.next();ot!==null&&!Pt.done;gt++,Pt=z.next()){ot.index>gt?(Me=ot,ot=null):Me=ot.sibling;var wa=B(L,ot,Pt.value,Q);if(wa===null){ot===null&&(ot=Me);break}t&&ot&&wa.alternate===null&&e(L,ot),D=f(wa,D,gt),wt===null?at=wa:wt.sibling=wa,wt=wa,ot=Me}if(Pt.done)return i(L,ot),Bt&&us(L,gt),at;if(ot===null){for(;!Pt.done;gt++,Pt=z.next())Pt=Y(L,Pt.value,Q),Pt!==null&&(D=f(Pt,D,gt),wt===null?at=Pt:wt.sibling=Pt,wt=Pt);return Bt&&us(L,gt),at}for(ot=r(ot);!Pt.done;gt++,Pt=z.next())Pt=k(ot,L,gt,Pt.value,Q),Pt!==null&&(t&&Pt.alternate!==null&&ot.delete(Pt.key===null?gt:Pt.key),D=f(Pt,D,gt),wt===null?at=Pt:wt.sibling=Pt,wt=Pt);return t&&ot.forEach(function(CE){return e(L,CE)}),Bt&&us(L,gt),at}function $t(L,D,z,Q){if(typeof z=="object"&&z!==null&&z.type===Z&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case I:t:{for(var at=z.key;D!==null;){if(D.key===at){if(at=z.type,at===Z){if(D.tag===7){i(L,D.sibling),Q=c(D,z.props.children),Q.return=L,L=Q;break t}}else if(D.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===A&&Xm(at)===D.type){i(L,D.sibling),Q=c(D,z.props),pl(Q,z),Q.return=L,L=Q;break t}i(L,D);break}else e(L,D);D=D.sibling}z.type===Z?(Q=ls(z.props.children,L.mode,Q,z.key),Q.return=L,L=Q):(Q=Oo(z.type,z.key,z.props,null,L.mode,Q),pl(Q,z),Q.return=L,L=Q)}return p(L);case K:t:{for(at=z.key;D!==null;){if(D.key===at)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){i(L,D.sibling),Q=c(D,z.children||[]),Q.return=L,L=Q;break t}else{i(L,D);break}else e(L,D);D=D.sibling}Q=Mc(z,L.mode,Q),Q.return=L,L=Q}return p(L);case A:return at=z._init,z=at(z._payload),$t(L,D,z,Q)}if(Nt(z))return yt(L,D,z,Q);if(U(z)){if(at=U(z),typeof at!="function")throw Error(l(150));return z=at.call(z),mt(L,D,z,Q)}if(typeof z.then=="function")return $t(L,D,$o(z),Q);if(z.$$typeof===dt)return $t(L,D,jo(L,z),Q);Zo(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(i(L,D.sibling),Q=c(D,z),Q.return=L,L=Q):(i(L,D),Q=xc(z,L.mode,Q),Q.return=L,L=Q),p(L)):i(L,D)}return function(L,D,z,Q){try{gl=0;var at=$t(L,D,z,Q);return cr=null,at}catch(ot){if(ot===rl||ot===Po)throw ot;var wt=gn(29,ot,null,L.mode);return wt.lanes=Q,wt.return=L,wt}finally{}}}var fr=Km(!0),$m=Km(!1),Vn=F(null),fi=null;function fa(t){var e=t.alternate;J(Ce,Ce.current&1),J(Vn,t),fi===null&&(e===null||rr.current!==null||e.memoizedState!==null)&&(fi=t)}function Zm(t){if(t.tag===22){if(J(Ce,Ce.current),J(Vn,t),fi===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(fi=t)}}else ha()}function ha(){J(Ce,Ce.current),J(Vn,Vn.current)}function Bi(t){et(Vn),fi===t&&(fi=null),et(Ce)}var Ce=F(0);function Jo(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||eh(i)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function hf(t,e,i,r){e=t.memoizedState,i=i(r,e),i=i==null?e:S({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var df={enqueueSetState:function(t,e,i){t=t._reactInternals;var r=vn(),c=oa(r);c.payload=e,i!=null&&(c.callback=i),e=ua(t,c,r),e!==null&&(En(e,t,r),ol(e,t,r))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var r=vn(),c=oa(r);c.tag=1,c.payload=e,i!=null&&(c.callback=i),e=ua(t,c,r),e!==null&&(En(e,t,r),ol(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=vn(),r=oa(i);r.tag=2,e!=null&&(r.callback=e),e=ua(t,r,i),e!==null&&(En(e,t,i),ol(e,t,i))}};function Jm(t,e,i,r,c,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,f,p):e.prototype&&e.prototype.isPureReactComponent?!Jr(i,r)||!Jr(c,f):!0}function Wm(t,e,i,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,r),e.state!==t&&df.enqueueReplaceState(e,e.state,null)}function ps(t,e){var i=e;if("ref"in e){i={};for(var r in e)r!=="ref"&&(i[r]=e[r])}if(t=t.defaultProps){i===e&&(i=S({},i));for(var c in t)i[c]===void 0&&(i[c]=t[c])}return i}var Wo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function tg(t){Wo(t)}function eg(t){console.error(t)}function ng(t){Wo(t)}function tu(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function ig(t,e,i){try{var r=t.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function mf(t,e,i){return i=oa(i),i.tag=3,i.payload={element:null},i.callback=function(){tu(t,e)},i}function ag(t){return t=oa(t),t.tag=3,t}function sg(t,e,i,r){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;t.payload=function(){return c(f)},t.callback=function(){ig(e,i,r)}}var p=i.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){ig(e,i,r),typeof c!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var E=r.stack;this.componentDidCatch(r.value,{componentStack:E!==null?E:""})})}function Cv(t,e,i,r,c){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=i.alternate,e!==null&&il(e,i,c,!0),i=Vn.current,i!==null){switch(i.tag){case 13:return fi===null?zf():i.alternate===null&&he===0&&(he=3),i.flags&=-257,i.flags|=65536,i.lanes=c,r===qc?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([r]):e.add(r),Bf(t,r,c)),!1;case 22:return i.flags|=65536,r===qc?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([r]):i.add(r)),Bf(t,r,c)),!1}throw Error(l(435,i.tag))}return Bf(t,r,c),zf(),!1}if(Bt)return e=Vn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=c,r!==Uc&&(t=Error(l(422),{cause:r}),nl(Nn(t,i)))):(r!==Uc&&(e=Error(l(423),{cause:r}),nl(Nn(e,i))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,r=Nn(r,i),c=mf(t.stateNode,r,c),Qc(t,c),he!==4&&(he=2)),!1;var f=Error(l(520),{cause:r});if(f=Nn(f,i),Sl===null?Sl=[f]:Sl.push(f),he!==4&&(he=2),e===null)return!0;r=Nn(r,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=c&-c,i.lanes|=t,t=mf(i.stateNode,r,t),Qc(i,t),!1;case 1:if(e=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(_a===null||!_a.has(f))))return i.flags|=65536,c&=-c,i.lanes|=c,c=ag(c),sg(c,t,i,r),Qc(i,c),!1}i=i.return}while(i!==null);return!1}var rg=Error(l(461)),Ne=!1;function je(t,e,i,r){e.child=t===null?$m(e,null,i,r):fr(e,t.child,i,r)}function lg(t,e,i,r,c){i=i.render;var f=e.ref;if("ref"in r){var p={};for(var E in r)E!=="ref"&&(p[E]=r[E])}else p=r;return ds(e),r=$c(t,e,i,p,f,c),E=Zc(),t!==null&&!Ne?(Jc(t,e,c),ki(t,e,c)):(Bt&&E&&Oc(e),e.flags|=1,je(t,e,r,c),e.child)}function og(t,e,i,r,c){if(t===null){var f=i.type;return typeof f=="function"&&!Nc(f)&&f.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=f,ug(t,e,f,r,c)):(t=Oo(i.type,null,r,e,e.mode,c),t.ref=e.ref,t.return=e,e.child=t)}if(f=t.child,!Af(t,c)){var p=f.memoizedProps;if(i=i.compare,i=i!==null?i:Jr,i(p,r)&&t.ref===e.ref)return ki(t,e,c)}return e.flags|=1,t=Vi(f,r),t.ref=e.ref,t.return=e,e.child=t}function ug(t,e,i,r,c){if(t!==null){var f=t.memoizedProps;if(Jr(f,r)&&t.ref===e.ref)if(Ne=!1,e.pendingProps=r=f,Af(t,c))(t.flags&131072)!==0&&(Ne=!0);else return e.lanes=t.lanes,ki(t,e,c)}return gf(t,e,i,r,c)}function cg(t,e,i){var r=e.pendingProps,c=r.children,f=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if((e.flags&128)!==0){if(r=f!==null?f.baseLanes|i:i,t!==null){for(c=e.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;e.childLanes=f&~r}else e.childLanes=0,e.child=null;return fg(t,e,r,i)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&zo(e,f!==null?f.cachePool:null),f!==null?um(e,f):Yc(),Zm(e);else return e.lanes=e.childLanes=536870912,fg(t,e,f!==null?f.baseLanes|i:i,i)}else f!==null?(zo(e,f.cachePool),um(e,f),ha(),e.memoizedState=null):(t!==null&&zo(e,null),Yc(),ha());return je(t,e,c,i),e.child}function fg(t,e,i,r){var c=kc();return c=c===null?null:{parent:we._currentValue,pool:c},e.memoizedState={baseLanes:i,cachePool:c},t!==null&&zo(e,null),Yc(),Zm(e),t!==null&&il(t,e,r,!0),null}function eu(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(l(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function gf(t,e,i,r,c){return ds(e),i=$c(t,e,i,r,void 0,c),r=Zc(),t!==null&&!Ne?(Jc(t,e,c),ki(t,e,c)):(Bt&&r&&Oc(e),e.flags|=1,je(t,e,i,c),e.child)}function hg(t,e,i,r,c,f){return ds(e),e.updateQueue=null,i=fm(e,r,i,c),cm(t),r=Zc(),t!==null&&!Ne?(Jc(t,e,f),ki(t,e,f)):(Bt&&r&&Oc(e),e.flags|=1,je(t,e,i,f),e.child)}function dg(t,e,i,r,c){if(ds(e),e.stateNode===null){var f=er,p=i.contextType;typeof p=="object"&&p!==null&&(f=Ge(p)),f=new i(r,f),e.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=df,e.stateNode=f,f._reactInternals=e,f=e.stateNode,f.props=r,f.state=e.memoizedState,f.refs={},Hc(e),p=i.contextType,f.context=typeof p=="object"&&p!==null?Ge(p):er,f.state=e.memoizedState,p=i.getDerivedStateFromProps,typeof p=="function"&&(hf(e,i,p,r),f.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&df.enqueueReplaceState(f,f.state,null),cl(e,r,f,c),ul(),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){f=e.stateNode;var E=e.memoizedProps,b=ps(i,E);f.props=b;var P=f.context,G=i.contextType;p=er,typeof G=="object"&&G!==null&&(p=Ge(G));var Y=i.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=e.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&Wm(e,f,r,p),la=!1;var B=e.memoizedState;f.state=B,cl(e,r,f,c),ul(),P=e.memoizedState,E||B!==P||la?(typeof Y=="function"&&(hf(e,i,Y,r),P=e.memoizedState),(b=la||Jm(e,i,b,r,B,P,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(e.flags|=4194308)):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=P),f.props=r,f.state=P,f.context=p,r=b):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{f=e.stateNode,Gc(t,e),p=e.memoizedProps,G=ps(i,p),f.props=G,Y=e.pendingProps,B=f.context,P=i.contextType,b=er,typeof P=="object"&&P!==null&&(b=Ge(P)),E=i.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||B!==b)&&Wm(e,f,r,b),la=!1,B=e.memoizedState,f.state=B,cl(e,r,f,c),ul();var k=e.memoizedState;p!==Y||B!==k||la||t!==null&&t.dependencies!==null&&Lo(t.dependencies)?(typeof E=="function"&&(hf(e,i,E,r),k=e.memoizedState),(G=la||Jm(e,i,G,r,B,k,b)||t!==null&&t.dependencies!==null&&Lo(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,k,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,k,b)),typeof f.componentDidUpdate=="function"&&(e.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),f.props=r,f.state=k,f.context=b,r=G):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(e.flags|=1024),r=!1)}return f=r,eu(t,e),r=(e.flags&128)!==0,f||r?(f=e.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:f.render(),e.flags|=1,t!==null&&r?(e.child=fr(e,t.child,null,c),e.child=fr(e,null,i,c)):je(t,e,i,c),e.memoizedState=f.state,t=e.child):t=ki(t,e,c),t}function mg(t,e,i,r){return el(),e.flags|=256,je(t,e,i,r),e.child}var pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yf(t){return{baseLanes:t,cachePool:em()}}function _f(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=Un),t}function gg(t,e,i){var r=e.pendingProps,c=!1,f=(e.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Ce.current&2)!==0),p&&(c=!0,e.flags&=-129),p=(e.flags&32)!==0,e.flags&=-33,t===null){if(Bt){if(c?fa(e):ha(),Bt){var E=fe,b;if(b=E){t:{for(b=E,E=ci;b.nodeType!==8;){if(!E){E=null;break t}if(b=Fn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(e.memoizedState={dehydrated:E,treeContext:os!==null?{id:Ui,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},b=gn(18,null,null,0),b.stateNode=E,b.return=e,e.child=b,en=e,fe=null,b=!0):b=!1}b||fs(e)}if(E=e.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return eh(E)?e.lanes=32:e.lanes=536870912,null;Bi(e)}return E=r.children,r=r.fallback,c?(ha(),c=e.mode,E=nu({mode:"hidden",children:E},c),r=ls(r,c,i,null),E.return=e,r.return=e,E.sibling=r,e.child=E,c=e.child,c.memoizedState=yf(i),c.childLanes=_f(t,p,i),e.memoizedState=pf,r):(fa(e),vf(e,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)e.flags&256?(fa(e),e.flags&=-257,e=Ef(t,e,i)):e.memoizedState!==null?(ha(),e.child=t.child,e.flags|=128,e=null):(ha(),c=r.fallback,E=e.mode,r=nu({mode:"visible",children:r.children},E),c=ls(c,E,i,null),c.flags|=2,r.return=e,c.return=e,r.sibling=c,e.child=r,fr(e,t.child,null,i),r=e.child,r.memoizedState=yf(i),r.childLanes=_f(t,p,i),e.memoizedState=pf,e=c);else if(fa(e),eh(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,r=Error(l(419)),r.stack="",r.digest=p,nl({value:r,source:null,stack:null}),e=Ef(t,e,i)}else if(Ne||il(t,e,i,!1),p=(i&t.childLanes)!==0,Ne||p){if(p=ee,p!==null&&(r=i&-i,r=(r&42)!==0?1:Wt(r),r=(r&(p.suspendedLanes|i))!==0?0:r,r!==0&&r!==b.retryLane))throw b.retryLane=r,tr(t,r),En(p,t,r),rg;E.data==="$?"||zf(),e=Ef(t,e,i)}else E.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=b.treeContext,fe=Fn(E.nextSibling),en=e,Bt=!0,cs=null,ci=!1,t!==null&&(Mn[On++]=Ui,Mn[On++]=Li,Mn[On++]=os,Ui=t.id,Li=t.overflow,os=e),e=vf(e,r.children),e.flags|=4096);return e}return c?(ha(),c=r.fallback,E=e.mode,b=t.child,P=b.sibling,r=Vi(b,{mode:"hidden",children:r.children}),r.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=Vi(P,c):(c=ls(c,E,i,null),c.flags|=2),c.return=e,r.return=e,r.sibling=c,e.child=r,r=c,c=e.child,E=t.child.memoizedState,E===null?E=yf(i):(b=E.cachePool,b!==null?(P=we._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=em(),E={baseLanes:E.baseLanes|i,cachePool:b}),c.memoizedState=E,c.childLanes=_f(t,p,i),e.memoizedState=pf,r):(fa(e),i=t.child,t=i.sibling,i=Vi(i,{mode:"visible",children:r.children}),i.return=e,i.sibling=null,t!==null&&(p=e.deletions,p===null?(e.deletions=[t],e.flags|=16):p.push(t)),e.child=i,e.memoizedState=null,i)}function vf(t,e){return e=nu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function nu(t,e){return t=gn(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ef(t,e,i){return fr(e,t.child,null,i),t=vf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pg(t,e,i){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),jc(t.return,e,i)}function Tf(t,e,i,r,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:c}:(f.isBackwards=e,f.rendering=null,f.renderingStartTime=0,f.last=r,f.tail=i,f.tailMode=c)}function yg(t,e,i){var r=e.pendingProps,c=r.revealOrder,f=r.tail;if(je(t,e,r.children,i),r=Ce.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pg(t,i,e);else if(t.tag===19)pg(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(J(Ce,r),c){case"forwards":for(i=e.child,c=null;i!==null;)t=i.alternate,t!==null&&Jo(t)===null&&(c=i),i=i.sibling;i=c,i===null?(c=e.child,e.child=null):(c=i.sibling,i.sibling=null),Tf(e,!1,c,i,f);break;case"backwards":for(i=null,c=e.child,e.child=null;c!==null;){if(t=c.alternate,t!==null&&Jo(t)===null){e.child=c;break}t=c.sibling,c.sibling=i,i=c,c=t}Tf(e,!0,i,null,f);break;case"together":Tf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ki(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),ya|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(il(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(l(153));if(e.child!==null){for(t=e.child,i=Vi(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=Vi(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function Af(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Lo(t)))}function Dv(t,e,i){switch(e.tag){case 3:Zt(e,e.stateNode.containerInfo),ra(e,we,t.memoizedState.cache),el();break;case 27:case 5:An(e);break;case 4:Zt(e,e.stateNode.containerInfo);break;case 10:ra(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(fa(e),e.flags|=128,null):(i&e.child.childLanes)!==0?gg(t,e,i):(fa(e),t=ki(t,e,i),t!==null?t.sibling:null);fa(e);break;case 19:var c=(t.flags&128)!==0;if(r=(i&e.childLanes)!==0,r||(il(t,e,i,!1),r=(i&e.childLanes)!==0),c){if(r)return yg(t,e,i);e.flags|=128}if(c=e.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(Ce,Ce.current),r)break;return null;case 22:case 23:return e.lanes=0,cg(t,e,i);case 24:ra(e,we,t.memoizedState.cache)}return ki(t,e,i)}function _g(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ne=!0;else{if(!Af(t,i)&&(e.flags&128)===0)return Ne=!1,Dv(t,e,i);Ne=(t.flags&131072)!==0}else Ne=!1,Bt&&(e.flags&1048576)!==0&&Xd(e,Uo,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var r=e.elementType,c=r._init;if(r=c(r._payload),e.type=r,typeof r=="function")Nc(r)?(t=ps(r,t),e.tag=1,e=dg(null,e,r,t,i)):(e.tag=0,e=gf(null,e,r,t,i));else{if(r!=null){if(c=r.$$typeof,c===jt){e.tag=11,e=lg(null,e,r,t,i);break t}else if(c===V){e.tag=14,e=og(null,e,r,t,i);break t}}throw e=Gt(r)||r,Error(l(306,e,""))}}return e;case 0:return gf(t,e,e.type,e.pendingProps,i);case 1:return r=e.type,c=ps(r,e.pendingProps),dg(t,e,r,c,i);case 3:t:{if(Zt(e,e.stateNode.containerInfo),t===null)throw Error(l(387));r=e.pendingProps;var f=e.memoizedState;c=f.element,Gc(t,e),cl(e,r,null,i);var p=e.memoizedState;if(r=p.cache,ra(e,we,r),r!==f.cache&&zc(e,[we],i,!0),ul(),r=p.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:p.cache},e.updateQueue.baseState=f,e.memoizedState=f,e.flags&256){e=mg(t,e,r,i);break t}else if(r!==c){c=Nn(Error(l(424)),e),nl(c),e=mg(t,e,r,i);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(fe=Fn(t.firstChild),en=e,Bt=!0,cs=null,ci=!0,i=$m(e,null,r,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(el(),r===c){e=ki(t,e,i);break t}je(t,e,r,i)}e=e.child}return e;case 26:return eu(t,e),t===null?(i=Ap(e.type,null,e.pendingProps,null))?e.memoizedState=i:Bt||(i=e.type,t=e.pendingProps,r=pu(pt.current).createElement(i),r[le]=e,r[ye]=t,Pe(r,i,t),me(r),e.stateNode=r):e.memoizedState=Ap(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return An(e),t===null&&Bt&&(r=e.stateNode=vp(e.type,e.pendingProps,pt.current),en=e,ci=!0,c=fe,Ta(e.type)?(nh=c,fe=Fn(r.firstChild)):fe=c),je(t,e,e.pendingProps.children,i),eu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Bt&&((c=r=fe)&&(r=nE(r,e.type,e.pendingProps,ci),r!==null?(e.stateNode=r,en=e,fe=Fn(r.firstChild),ci=!1,c=!0):c=!1),c||fs(e)),An(e),c=e.type,f=e.pendingProps,p=t!==null?t.memoizedProps:null,r=f.children,Jf(c,f)?r=null:p!==null&&Jf(c,p)&&(e.flags|=32),e.memoizedState!==null&&(c=$c(t,e,Ev,null,null,i),Ml._currentValue=c),eu(t,e),je(t,e,r,i),e.child;case 6:return t===null&&Bt&&((t=i=fe)&&(i=iE(i,e.pendingProps,ci),i!==null?(e.stateNode=i,en=e,fe=null,t=!0):t=!1),t||fs(e)),null;case 13:return gg(t,e,i);case 4:return Zt(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fr(e,null,r,i):je(t,e,r,i),e.child;case 11:return lg(t,e,e.type,e.pendingProps,i);case 7:return je(t,e,e.pendingProps,i),e.child;case 8:return je(t,e,e.pendingProps.children,i),e.child;case 12:return je(t,e,e.pendingProps.children,i),e.child;case 10:return r=e.pendingProps,ra(e,e.type,r.value),je(t,e,r.children,i),e.child;case 9:return c=e.type._context,r=e.pendingProps.children,ds(e),c=Ge(c),r=r(c),e.flags|=1,je(t,e,r,i),e.child;case 14:return og(t,e,e.type,e.pendingProps,i);case 15:return ug(t,e,e.type,e.pendingProps,i);case 19:return yg(t,e,i);case 31:return r=e.pendingProps,i=e.mode,r={mode:r.mode,children:r.children},t===null?(i=nu(r,i),i.ref=e.ref,e.child=i,i.return=e,e=i):(i=Vi(t.child,r),i.ref=e.ref,e.child=i,i.return=e,e=i),e;case 22:return cg(t,e,i);case 24:return ds(e),r=Ge(we),t===null?(c=kc(),c===null&&(c=ee,f=Pc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=i),c=f),e.memoizedState={parent:r,cache:c},Hc(e),ra(e,we,c)):((t.lanes&i)!==0&&(Gc(t,e),cl(e,null,null,i),ul()),c=t.memoizedState,f=e.memoizedState,c.parent!==r?(c={parent:r,cache:r},e.memoizedState=c,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=c),ra(e,we,r)):(r=f.cache,ra(e,we,r),r!==c.cache&&zc(e,[we],i,!0))),je(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(l(156,e.tag))}function qi(t){t.flags|=4}function vg(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Cp(e)){if(e=Vn.current,e!==null&&((Vt&4194048)===Vt?fi!==null:(Vt&62914560)!==Vt&&(Vt&536870912)===0||e!==fi))throw ll=qc,nm;t.flags|=8192}}function iu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Ga():536870912,t.lanes|=e,gr|=e)}function yl(t,e){if(!Bt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function oe(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,r=0;if(e)for(var c=t.child;c!==null;)i|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)i|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=r,t.childLanes=i,e}function Iv(t,e,i){var r=e.pendingProps;switch(Vc(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(e),null;case 1:return oe(e),null;case 3:return i=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),zi(we),nn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(tl(e)?qi(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Zd())),oe(e),null;case 26:return i=e.memoizedState,t===null?(qi(e),i!==null?(oe(e),vg(e,i)):(oe(e),e.flags&=-16777217)):i?i!==t.memoizedState?(qi(e),oe(e),vg(e,i)):(oe(e),e.flags&=-16777217):(t.memoizedProps!==r&&qi(e),oe(e),e.flags&=-16777217),null;case 27:jn(e),i=pt.current;var c=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&qi(e);else{if(!r){if(e.stateNode===null)throw Error(l(166));return oe(e),null}t=ut.current,tl(e)?Kd(e):(t=vp(c,r,i),e.stateNode=t,qi(e))}return oe(e),null;case 5:if(jn(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&qi(e);else{if(!r){if(e.stateNode===null)throw Error(l(166));return oe(e),null}if(t=ut.current,tl(e))Kd(e);else{switch(c=pu(pt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?c.createElement("select",{is:r.is}):c.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?c.createElement(i,{is:r.is}):c.createElement(i)}}t[le]=e,t[ye]=r;t:for(c=e.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break t;for(;c.sibling===null;){if(c.return===null||c.return===e)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}e.stateNode=t;t:switch(Pe(t,i,r),i){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&qi(e)}}return oe(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&qi(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(l(166));if(t=pt.current,tl(e)){if(t=e.stateNode,i=e.memoizedProps,r=null,c=en,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}t[le]=e,t=!!(t.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||hp(t.nodeValue,i)),t||fs(e)}else t=pu(t).createTextNode(r),t[le]=e,e.stateNode=t}return oe(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=tl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!c)throw Error(l(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[le]=e}else el(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;oe(e),c=!1}else c=Zd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return e.flags&256?(Bi(e),e):(Bi(e),null)}if(Bi(e),(e.flags&128)!==0)return e.lanes=i,e;if(i=r!==null,t=t!==null&&t.memoizedState!==null,i){r=e.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool);var f=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==c&&(r.flags|=2048)}return i!==t&&i&&(e.child.flags|=8192),iu(e,e.updateQueue),oe(e),null;case 4:return nn(),t===null&&Yf(e.stateNode.containerInfo),oe(e),null;case 10:return zi(e.type),oe(e),null;case 19:if(et(Ce),c=e.memoizedState,c===null)return oe(e),null;if(r=(e.flags&128)!==0,f=c.rendering,f===null)if(r)yl(c,!1);else{if(he!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(f=Jo(t),f!==null){for(e.flags|=128,yl(c,!1),t=f.updateQueue,e.updateQueue=t,iu(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)Yd(i,t),i=i.sibling;return J(Ce,Ce.current&1|2),e.child}t=t.sibling}c.tail!==null&&an()>ru&&(e.flags|=128,r=!0,yl(c,!1),e.lanes=4194304)}else{if(!r)if(t=Jo(f),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,iu(e,t),yl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return oe(e),null}else 2*an()-c.renderingStartTime>ru&&i!==536870912&&(e.flags|=128,r=!0,yl(c,!1),e.lanes=4194304);c.isBackwards?(f.sibling=e.child,e.child=f):(t=c.last,t!==null?t.sibling=f:e.child=f,c.last=f)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=an(),e.sibling=null,t=Ce.current,J(Ce,r?t&1|2:t&1),e):(oe(e),null);case 22:case 23:return Bi(e),Xc(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?(i&536870912)!==0&&(e.flags&128)===0&&(oe(e),e.subtreeFlags&6&&(e.flags|=8192)):oe(e),i=e.updateQueue,i!==null&&iu(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==i&&(e.flags|=2048),t!==null&&et(ms),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),zi(we),oe(e),null;case 25:return null;case 30:return null}throw Error(l(156,e.tag))}function Nv(t,e){switch(Vc(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zi(we),nn(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return jn(e),null;case 13:if(Bi(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(l(340));el()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return et(Ce),null;case 4:return nn(),null;case 10:return zi(e.type),null;case 22:case 23:return Bi(e),Xc(),t!==null&&et(ms),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return zi(we),null;case 25:return null;default:return null}}function Eg(t,e){switch(Vc(e),e.tag){case 3:zi(we),nn();break;case 26:case 27:case 5:jn(e);break;case 4:nn();break;case 13:Bi(e);break;case 19:et(Ce);break;case 10:zi(e.type);break;case 22:case 23:Bi(e),Xc(),t!==null&&et(ms);break;case 24:zi(we)}}function _l(t,e){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var c=r.next;i=c;do{if((i.tag&t)===t){r=void 0;var f=i.create,p=i.inst;r=f(),p.destroy=r}i=i.next}while(i!==c)}}catch(E){Jt(e,e.return,E)}}function da(t,e,i){try{var r=e.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var f=c.next;r=f;do{if((r.tag&t)===t){var p=r.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,c=e;var b=i,P=E;try{P()}catch(G){Jt(c,b,G)}}}r=r.next}while(r!==f)}}catch(G){Jt(e,e.return,G)}}function Tg(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{om(e,i)}catch(r){Jt(t,t.return,r)}}}function Ag(t,e,i){i.props=ps(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(r){Jt(t,e,r)}}function vl(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof i=="function"?t.refCleanup=i(r):i.current=r}}catch(c){Jt(t,e,c)}}function hi(t,e){var i=t.ref,r=t.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(c){Jt(t,e,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){Jt(t,e,c)}else i.current=null}function Sg(t){var e=t.type,i=t.memoizedProps,r=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break t;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(c){Jt(t,t.return,c)}}function Sf(t,e,i){try{var r=t.stateNode;Zv(r,t.type,i,e),r[ye]=e}catch(c){Jt(t,t.return,c)}}function bg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ta(t.type)||t.tag===4}function bf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||bg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ta(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rf(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=gu));else if(r!==4&&(r===27&&Ta(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(Rf(t,e,i),t=t.sibling;t!==null;)Rf(t,e,i),t=t.sibling}function au(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(r!==4&&(r===27&&Ta(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(au(t,e,i),t=t.sibling;t!==null;)au(t,e,i),t=t.sibling}function Rg(t){var e=t.stateNode,i=t.memoizedProps;try{for(var r=t.type,c=e.attributes;c.length;)e.removeAttributeNode(c[0]);Pe(e,r,i),e[le]=t,e[ye]=i}catch(f){Jt(t,t.return,f)}}var Hi=!1,pe=!1,wf=!1,wg=typeof WeakSet=="function"?WeakSet:Set,xe=null;function xv(t,e){if(t=t.containerInfo,$f=Au,t=jd(t),Sc(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var c=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break t}var p=0,E=-1,b=-1,P=0,G=0,Y=t,B=null;e:for(;;){for(var k;Y!==i||c!==0&&Y.nodeType!==3||(E=p+c),Y!==f||r!==0&&Y.nodeType!==3||(b=p+r),Y.nodeType===3&&(p+=Y.nodeValue.length),(k=Y.firstChild)!==null;)B=Y,Y=k;for(;;){if(Y===t)break e;if(B===i&&++P===c&&(E=p),B===f&&++G===r&&(b=p),(k=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=k}i=E===-1||b===-1?null:{start:E,end:b}}else i=null}i=i||{start:0,end:0}}else i=null;for(Zf={focusedElem:t,selectionRange:i},Au=!1,xe=e;xe!==null;)if(e=xe,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,xe=t;else for(;xe!==null;){switch(e=xe,f=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,i=e,c=f.memoizedProps,f=f.memoizedState,r=i.stateNode;try{var yt=ps(i.type,c,i.elementType===i.type);t=r.getSnapshotBeforeUpdate(yt,f),r.__reactInternalSnapshotBeforeUpdate=t}catch(mt){Jt(i,i.return,mt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)th(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":th(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=e.sibling,t!==null){t.return=e.return,xe=t;break}xe=e.return}}function Cg(t,e,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:ma(t,i),r&4&&_l(5,i);break;case 1:if(ma(t,i),r&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(p){Jt(i,i.return,p)}else{var c=ps(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(c,e,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Jt(i,i.return,p)}}r&64&&Tg(i),r&512&&vl(i,i.return);break;case 3:if(ma(t,i),r&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{om(t,e)}catch(p){Jt(i,i.return,p)}}break;case 27:e===null&&r&4&&Rg(i);case 26:case 5:ma(t,i),e===null&&r&4&&Sg(i),r&512&&vl(i,i.return);break;case 12:ma(t,i);break;case 13:ma(t,i),r&4&&Ng(t,i),r&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=Bv.bind(null,i),aE(t,i))));break;case 22:if(r=i.memoizedState!==null||Hi,!r){e=e!==null&&e.memoizedState!==null||pe,c=Hi;var f=pe;Hi=r,(pe=e)&&!f?ga(t,i,(i.subtreeFlags&8772)!==0):ma(t,i),Hi=c,pe=f}break;case 30:break;default:ma(t,i)}}function Dg(t){var e=t.alternate;e!==null&&(t.alternate=null,Dg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&na(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ae=null,rn=!1;function Gi(t,e,i){for(i=i.child;i!==null;)Ig(t,e,i),i=i.sibling}function Ig(t,e,i){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(ie,i)}catch{}switch(i.tag){case 26:pe||hi(i,e),Gi(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:pe||hi(i,e);var r=ae,c=rn;Ta(i.type)&&(ae=i.stateNode,rn=!1),Gi(t,e,i),Dl(i.stateNode),ae=r,rn=c;break;case 5:pe||hi(i,e);case 6:if(r=ae,c=rn,ae=null,Gi(t,e,i),ae=r,rn=c,ae!==null)if(rn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(i.stateNode)}catch(f){Jt(i,e,f)}else try{ae.removeChild(i.stateNode)}catch(f){Jt(i,e,f)}break;case 18:ae!==null&&(rn?(t=ae,yp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Ll(t)):yp(ae,i.stateNode));break;case 4:r=ae,c=rn,ae=i.stateNode.containerInfo,rn=!0,Gi(t,e,i),ae=r,rn=c;break;case 0:case 11:case 14:case 15:pe||da(2,i,e),pe||da(4,i,e),Gi(t,e,i);break;case 1:pe||(hi(i,e),r=i.stateNode,typeof r.componentWillUnmount=="function"&&Ag(i,e,r)),Gi(t,e,i);break;case 21:Gi(t,e,i);break;case 22:pe=(r=pe)||i.memoizedState!==null,Gi(t,e,i),pe=r;break;default:Gi(t,e,i)}}function Ng(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ll(t)}catch(i){Jt(e,e.return,i)}}function Mv(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new wg),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new wg),e;default:throw Error(l(435,t.tag))}}function Cf(t,e){var i=Mv(t);e.forEach(function(r){var c=kv.bind(null,t,r);i.has(r)||(i.add(r),r.then(c,c))})}function pn(t,e){var i=e.deletions;if(i!==null)for(var r=0;r<i.length;r++){var c=i[r],f=t,p=e,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Ta(E.type)){ae=E.stateNode,rn=!1;break t}break;case 5:ae=E.stateNode,rn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(ae===null)throw Error(l(160));Ig(f,p,c),ae=null,rn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)xg(e,t),e=e.sibling}var Qn=null;function xg(t,e){var i=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(e,t),yn(t),r&4&&(da(3,t,t.return),_l(3,t),da(5,t,t.return));break;case 1:pn(e,t),yn(t),r&512&&(pe||i===null||hi(i,i.return)),r&64&&Hi&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var c=Qn;if(pn(e,t),yn(t),r&512&&(pe||i===null||hi(i,i.return)),r&4){var f=i!==null?i.memoizedState:null;if(r=t.memoizedState,i===null)if(r===null)if(t.stateNode===null){t:{r=t.type,i=t.memoizedProps,c=c.ownerDocument||c;e:switch(r){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Qa]||f[le]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(r),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,r,i),f[le]=t,me(f),r=f;break t;case"link":var p=Rp("link","href",c).get(r+(i.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){p.splice(E,1);break e}}f=c.createElement(r),Pe(f,r,i),c.head.appendChild(f);break;case"meta":if(p=Rp("meta","content",c).get(r+(i.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){p.splice(E,1);break e}}f=c.createElement(r),Pe(f,r,i),c.head.appendChild(f);break;default:throw Error(l(468,r))}f[le]=t,me(f),r=f}t.stateNode=r}else wp(c,t.type,t.stateNode);else t.stateNode=bp(c,r,t.memoizedProps);else f!==r?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,r===null?wp(c,t.type,t.stateNode):bp(c,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Sf(t,t.memoizedProps,i.memoizedProps)}break;case 27:pn(e,t),yn(t),r&512&&(pe||i===null||hi(i,i.return)),i!==null&&r&4&&Sf(t,t.memoizedProps,i.memoizedProps);break;case 5:if(pn(e,t),yn(t),r&512&&(pe||i===null||hi(i,i.return)),t.flags&32){c=t.stateNode;try{wn(c,"")}catch(k){Jt(t,t.return,k)}}r&4&&t.stateNode!=null&&(c=t.memoizedProps,Sf(t,c,i!==null?i.memoizedProps:c)),r&1024&&(wf=!0);break;case 6:if(pn(e,t),yn(t),r&4){if(t.stateNode===null)throw Error(l(162));r=t.memoizedProps,i=t.stateNode;try{i.nodeValue=r}catch(k){Jt(t,t.return,k)}}break;case 3:if(vu=null,c=Qn,Qn=yu(e.containerInfo),pn(e,t),Qn=c,yn(t),r&4&&i!==null&&i.memoizedState.isDehydrated)try{Ll(e.containerInfo)}catch(k){Jt(t,t.return,k)}wf&&(wf=!1,Mg(t));break;case 4:r=Qn,Qn=yu(t.stateNode.containerInfo),pn(e,t),yn(t),Qn=r;break;case 12:pn(e,t),yn(t);break;case 13:pn(e,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Of=an()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Cf(t,r)));break;case 22:c=t.memoizedState!==null;var b=i!==null&&i.memoizedState!==null,P=Hi,G=pe;if(Hi=P||c,pe=G||b,pn(e,t),pe=G,Hi=P,yn(t),r&8192)t:for(e=t.stateNode,e._visibility=c?e._visibility&-2:e._visibility|1,c&&(i===null||b||Hi||pe||ys(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){b=i=e;try{if(f=b.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=b.stateNode;var Y=b.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(k){Jt(b,b.return,k)}}}else if(e.tag===6){if(i===null){b=e;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(k){Jt(b,b.return,k)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,Cf(t,i))));break;case 19:pn(e,t),yn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Cf(t,r)));break;case 30:break;case 21:break;default:pn(e,t),yn(t)}}function yn(t){var e=t.flags;if(e&2){try{for(var i,r=t.return;r!==null;){if(bg(r)){i=r;break}r=r.return}if(i==null)throw Error(l(160));switch(i.tag){case 27:var c=i.stateNode,f=bf(t);au(t,f,c);break;case 5:var p=i.stateNode;i.flags&32&&(wn(p,""),i.flags&=-33);var E=bf(t);au(t,E,p);break;case 3:case 4:var b=i.stateNode.containerInfo,P=bf(t);Rf(t,P,b);break;default:throw Error(l(161))}}catch(G){Jt(t,t.return,G)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Mg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Mg(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ma(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Cg(t,e.alternate,e),e=e.sibling}function ys(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:da(4,e,e.return),ys(e);break;case 1:hi(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&Ag(e,e.return,i),ys(e);break;case 27:Dl(e.stateNode);case 26:case 5:hi(e,e.return),ys(e);break;case 22:e.memoizedState===null&&ys(e);break;case 30:ys(e);break;default:ys(e)}t=t.sibling}}function ga(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,c=t,f=e,p=f.flags;switch(f.tag){case 0:case 11:case 15:ga(c,f,i),_l(4,f);break;case 1:if(ga(c,f,i),r=f,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Jt(r,r.return,P)}if(r=f,c=r.updateQueue,c!==null){var E=r.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)lm(b[c],E)}catch(P){Jt(r,r.return,P)}}i&&p&64&&Tg(f),vl(f,f.return);break;case 27:Rg(f);case 26:case 5:ga(c,f,i),i&&r===null&&p&4&&Sg(f),vl(f,f.return);break;case 12:ga(c,f,i);break;case 13:ga(c,f,i),i&&p&4&&Ng(c,f);break;case 22:f.memoizedState===null&&ga(c,f,i),vl(f,f.return);break;case 30:break;default:ga(c,f,i)}e=e.sibling}}function Df(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&al(i))}function If(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&al(t))}function di(t,e,i,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Og(t,e,i,r),e=e.sibling}function Og(t,e,i,r){var c=e.flags;switch(e.tag){case 0:case 11:case 15:di(t,e,i,r),c&2048&&_l(9,e);break;case 1:di(t,e,i,r);break;case 3:di(t,e,i,r),c&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&al(t)));break;case 12:if(c&2048){di(t,e,i,r),t=e.stateNode;try{var f=e.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Jt(e,e.return,b)}}else di(t,e,i,r);break;case 13:di(t,e,i,r);break;case 23:break;case 22:f=e.stateNode,p=e.alternate,e.memoizedState!==null?f._visibility&2?di(t,e,i,r):El(t,e):f._visibility&2?di(t,e,i,r):(f._visibility|=2,hr(t,e,i,r,(e.subtreeFlags&10256)!==0)),c&2048&&Df(p,e);break;case 24:di(t,e,i,r),c&2048&&If(e.alternate,e);break;default:di(t,e,i,r)}}function hr(t,e,i,r,c){for(c=c&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var f=t,p=e,E=i,b=r,P=p.flags;switch(p.tag){case 0:case 11:case 15:hr(f,p,E,b,c),_l(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?hr(f,p,E,b,c):El(f,p):(G._visibility|=2,hr(f,p,E,b,c)),c&&P&2048&&Df(p.alternate,p);break;case 24:hr(f,p,E,b,c),c&&P&2048&&If(p.alternate,p);break;default:hr(f,p,E,b,c)}e=e.sibling}}function El(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,r=e,c=r.flags;switch(r.tag){case 22:El(i,r),c&2048&&Df(r.alternate,r);break;case 24:El(i,r),c&2048&&If(r.alternate,r);break;default:El(i,r)}e=e.sibling}}var Tl=8192;function dr(t){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)Vg(t),t=t.sibling}function Vg(t){switch(t.tag){case 26:dr(t),t.flags&Tl&&t.memoizedState!==null&&yE(Qn,t.memoizedState,t.memoizedProps);break;case 5:dr(t);break;case 3:case 4:var e=Qn;Qn=yu(t.stateNode.containerInfo),dr(t),Qn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Tl,Tl=16777216,dr(t),Tl=e):dr(t));break;default:dr(t)}}function Ug(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Al(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];xe=r,jg(r,t)}Ug(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Lg(t),t=t.sibling}function Lg(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&da(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,su(t)):Al(t);break;default:Al(t)}}function su(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];xe=r,jg(r,t)}Ug(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:da(8,e,e.return),su(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,su(e));break;default:su(e)}t=t.sibling}}function jg(t,e){for(;xe!==null;){var i=xe;switch(i.tag){case 0:case 11:case 15:da(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:al(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,xe=r;else t:for(i=t;xe!==null;){r=xe;var c=r.sibling,f=r.return;if(Dg(r),r===i){xe=null;break t}if(c!==null){c.return=f,xe=c;break t}xe=f}}}var Ov={getCacheForType:function(t){var e=Ge(we),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i}},Vv=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ee=null,Dt=null,Vt=0,Ft=0,_n=null,pa=!1,mr=!1,Nf=!1,Qi=0,he=0,ya=0,_s=0,xf=0,Un=0,gr=0,Sl=null,ln=null,Mf=!1,Of=0,ru=1/0,lu=null,_a=null,ze=0,va=null,pr=null,yr=0,Vf=0,Uf=null,zg=null,bl=0,Lf=null;function vn(){if((Qt&2)!==0&&Vt!==0)return Vt&-Vt;if(H.T!==null){var t=ar;return t!==0?t:Hf()}return Si()}function Pg(){Un===0&&(Un=(Vt&536870912)===0||Bt?Ha():536870912);var t=Vn.current;return t!==null&&(t.flags|=32),Un}function En(t,e,i){(t===ee&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(_r(t,0),Ea(t,Vt,Un,!1)),kn(t,i),((Qt&2)===0||t!==ee)&&(t===ee&&((Qt&2)===0&&(_s|=i),he===4&&Ea(t,Vt,Un,!1)),mi(t))}function Bg(t,e,i){if((Qt&6)!==0)throw Error(l(327));var r=!i&&(e&124)===0&&(e&t.expiredLanes)===0||Wn(t,e),c=r?jv(t,e):Pf(t,e,!0),f=r;do{if(c===0){mr&&!r&&Ea(t,e,0,!1);break}else{if(i=t.current.alternate,f&&!Uv(i)){c=Pf(t,e,!1),f=!1;continue}if(c===2){if(f=e,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){e=p;t:{var E=t;c=Sl;var b=E.current.memoizedState.isDehydrated;if(b&&(_r(E,p).flags|=256),p=Pf(E,p,!1),p!==2){if(Nf&&!b){E.errorRecoveryDisabledLanes|=f,_s|=f,c=4;break t}f=ln,ln=c,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){_r(t,0),Ea(t,e,0,!0);break}t:{switch(r=t,f=c,f){case 0:case 1:throw Error(l(345));case 4:if((e&4194048)!==e)break;case 6:Ea(r,e,Un,!pa);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(l(329))}if((e&62914560)===e&&(c=Of+300-an(),10<c)){if(Ea(r,e,Un,!pa),ta(r,0,!0)!==0)break t;r.timeoutHandle=gp(kg.bind(null,r,i,ln,lu,Mf,e,Un,_s,gr,pa,f,2,-0,0),c);break t}kg(r,i,ln,lu,Mf,e,Un,_s,gr,pa,f,0,-0,0)}}break}while(!0);mi(t)}function kg(t,e,i,r,c,f,p,E,b,P,G,Y,B,k){if(t.timeoutHandle=-1,Y=e.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(xl={stylesheets:null,count:0,unsuspend:pE},Vg(e),Y=_E(),Y!==null)){t.cancelPendingCommit=Y(Xg.bind(null,t,e,f,i,r,c,p,E,b,G,1,B,k)),Ea(t,f,p,!P);return}Xg(t,e,f,i,r,c,p,E,b)}function Uv(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var c=i[r],f=c.getSnapshot;c=c.value;try{if(!mn(f(),c))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ea(t,e,i,r){e&=~xf,e&=~_s,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var c=e;0<c;){var f=31-Se(c),p=1<<f;r[f]=-1,c&=~p}i!==0&&lt(t,i,e)}function ou(){return(Qt&6)===0?(Rl(0),!1):!0}function jf(){if(Dt!==null){if(Ft===0)var t=Dt.return;else t=Dt,ji=hs=null,Wc(t),cr=null,gl=0,t=Dt;for(;t!==null;)Eg(t.alternate,t),t=t.return;Dt=null}}function _r(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,Wv(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),jf(),ee=t,Dt=i=Vi(t.current,null),Vt=e,Ft=0,_n=null,pa=!1,mr=Wn(t,e),Nf=!1,gr=Un=xf=_s=ya=he=0,ln=Sl=null,Mf=!1,(e&8)!==0&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var c=31-Se(r),f=1<<c;e|=t[c],r&=~f}return Qi=e,No(),i}function qg(t,e){bt=null,H.H=Ko,e===rl||e===Po?(e=sm(),Ft=3):e===nm?(e=sm(),Ft=4):Ft=e===rg?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,_n=e,Dt===null&&(he=1,tu(t,Nn(e,t.current)))}function Hg(){var t=H.H;return H.H=Ko,t===null?Ko:t}function Gg(){var t=H.A;return H.A=Ov,t}function zf(){he=4,pa||(Vt&4194048)!==Vt&&Vn.current!==null||(mr=!0),(ya&134217727)===0&&(_s&134217727)===0||ee===null||Ea(ee,Vt,Un,!1)}function Pf(t,e,i){var r=Qt;Qt|=2;var c=Hg(),f=Gg();(ee!==t||Vt!==e)&&(lu=null,_r(t,e)),e=!1;var p=he;t:do try{if(Ft!==0&&Dt!==null){var E=Dt,b=_n;switch(Ft){case 8:jf(),p=6;break t;case 3:case 2:case 9:case 6:Vn.current===null&&(e=!0);var P=Ft;if(Ft=0,_n=null,vr(t,E,b,P),i&&mr){p=0;break t}break;default:P=Ft,Ft=0,_n=null,vr(t,E,b,P)}}Lv(),p=he;break}catch(G){qg(t,G)}while(!0);return e&&t.shellSuspendCounter++,ji=hs=null,Qt=r,H.H=c,H.A=f,Dt===null&&(ee=null,Vt=0,No()),p}function Lv(){for(;Dt!==null;)Qg(Dt)}function jv(t,e){var i=Qt;Qt|=2;var r=Hg(),c=Gg();ee!==t||Vt!==e?(lu=null,ru=an()+500,_r(t,e)):mr=Wn(t,e);t:do try{if(Ft!==0&&Dt!==null){e=Dt;var f=_n;e:switch(Ft){case 1:Ft=0,_n=null,vr(t,e,f,1);break;case 2:case 9:if(im(f)){Ft=0,_n=null,Fg(e);break}e=function(){Ft!==2&&Ft!==9||ee!==t||(Ft=7),mi(t)},f.then(e,e);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:im(f)?(Ft=0,_n=null,Fg(e)):(Ft=0,_n=null,vr(t,e,f,7));break;case 5:var p=null;switch(Dt.tag){case 26:p=Dt.memoizedState;case 5:case 27:var E=Dt;if(!p||Cp(p)){Ft=0,_n=null;var b=E.sibling;if(b!==null)Dt=b;else{var P=E.return;P!==null?(Dt=P,uu(P)):Dt=null}break e}}Ft=0,_n=null,vr(t,e,f,5);break;case 6:Ft=0,_n=null,vr(t,e,f,6);break;case 8:jf(),he=6;break t;default:throw Error(l(462))}}zv();break}catch(G){qg(t,G)}while(!0);return ji=hs=null,H.H=r,H.A=c,Qt=i,Dt!==null?0:(ee=null,Vt=0,No(),he)}function zv(){for(;Dt!==null&&!Ji();)Qg(Dt)}function Qg(t){var e=_g(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,e===null?uu(t):Dt=e}function Fg(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=hg(i,e,e.pendingProps,e.type,void 0,Vt);break;case 11:e=hg(i,e,e.pendingProps,e.type.render,e.ref,Vt);break;case 5:Wc(e);default:Eg(i,e),e=Dt=Yd(e,Qi),e=_g(i,e,Qi)}t.memoizedProps=t.pendingProps,e===null?uu(t):Dt=e}function vr(t,e,i,r){ji=hs=null,Wc(e),cr=null,gl=0;var c=e.return;try{if(Cv(t,c,e,i,Vt)){he=1,tu(t,Nn(i,t.current)),Dt=null;return}}catch(f){if(c!==null)throw Dt=c,f;he=1,tu(t,Nn(i,t.current)),Dt=null;return}e.flags&32768?(Bt||r===1?t=!0:mr||(Vt&536870912)!==0?t=!1:(pa=t=!0,(r===2||r===9||r===3||r===6)&&(r=Vn.current,r!==null&&r.tag===13&&(r.flags|=16384))),Yg(e,t)):uu(e)}function uu(t){var e=t;do{if((e.flags&32768)!==0){Yg(e,pa);return}t=e.return;var i=Iv(e.alternate,e,Qi);if(i!==null){Dt=i;return}if(e=e.sibling,e!==null){Dt=e;return}Dt=e=t}while(e!==null);he===0&&(he=5)}function Yg(t,e){do{var i=Nv(t.alternate,t);if(i!==null){i.flags&=32767,Dt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=i}while(t!==null);he=6,Dt=null}function Xg(t,e,i,r,c,f,p,E,b){t.cancelPendingCommit=null;do cu();while(ze!==0);if((Qt&6)!==0)throw Error(l(327));if(e!==null){if(e===t.current)throw Error(l(177));if(f=e.lanes|e.childLanes,f|=Dc,Us(t,i,f,p,E,b),t===ee&&(Dt=ee=null,Vt=0),pr=e,va=t,yr=i,Vf=f,Uf=c,zg=r,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qv(vi,function(){return Wg(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||r){r=H.T,H.T=null,c=W.p,W.p=2,p=Qt,Qt|=4;try{xv(t,e,i)}finally{Qt=p,W.p=c,H.T=r}}ze=1,Kg(),$g(),Zg()}}function Kg(){if(ze===1){ze=0;var t=va,e=pr,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=H.T,H.T=null;var r=W.p;W.p=2;var c=Qt;Qt|=4;try{xg(e,t);var f=Zf,p=jd(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Ld(E.ownerDocument.documentElement,E)){if(b!==null&&Sc(E)){var P=b.start,G=b.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var k=B.getSelection(),yt=E.textContent.length,mt=Math.min(b.start,yt),$t=b.end===void 0?mt:Math.min(b.end,yt);!k.extend&&mt>$t&&(p=$t,$t=mt,mt=p);var L=Ud(E,mt),D=Ud(E,$t);if(L&&D&&(k.rangeCount!==1||k.anchorNode!==L.node||k.anchorOffset!==L.offset||k.focusNode!==D.node||k.focusOffset!==D.offset)){var z=Y.createRange();z.setStart(L.node,L.offset),k.removeAllRanges(),mt>$t?(k.addRange(z),k.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),k.addRange(z))}}}}for(Y=[],k=E;k=k.parentNode;)k.nodeType===1&&Y.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Au=!!$f,Zf=$f=null}finally{Qt=c,W.p=r,H.T=i}}t.current=e,ze=2}}function $g(){if(ze===2){ze=0;var t=va,e=pr,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=H.T,H.T=null;var r=W.p;W.p=2;var c=Qt;Qt|=4;try{Cg(t,e.alternate,e)}finally{Qt=c,W.p=r,H.T=i}}ze=3}}function Zg(){if(ze===4||ze===3){ze=0,Wi();var t=va,e=pr,i=yr,r=zg;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?ze=5:(ze=0,pr=va=null,Jg(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(_a=null),hn(i),e=e.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(ie,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=H.T,c=W.p,W.p=2,H.T=null;try{for(var f=t.onRecoverableError,p=0;p<r.length;p++){var E=r[p];f(E.value,{componentStack:E.stack})}}finally{H.T=e,W.p=c}}(yr&3)!==0&&cu(),mi(t),c=t.pendingLanes,(i&4194090)!==0&&(c&42)!==0?t===Lf?bl++:(bl=0,Lf=t):bl=0,Rl(0)}}function Jg(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,al(e)))}function cu(t){return Kg(),$g(),Zg(),Wg()}function Wg(){if(ze!==5)return!1;var t=va,e=Vf;Vf=0;var i=hn(yr),r=H.T,c=W.p;try{W.p=32>i?32:i,H.T=null,i=Uf,Uf=null;var f=va,p=yr;if(ze=0,pr=va=null,yr=0,(Qt&6)!==0)throw Error(l(331));var E=Qt;if(Qt|=4,Lg(f.current),Og(f,f.current,p,i),Qt=E,Rl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(ie,f)}catch{}return!0}finally{W.p=c,H.T=r,Jg(t,e)}}function tp(t,e,i){e=Nn(i,e),e=mf(t.stateNode,e,2),t=ua(t,e,2),t!==null&&(kn(t,2),mi(t))}function Jt(t,e,i){if(t.tag===3)tp(t,t,i);else for(;e!==null;){if(e.tag===3){tp(e,t,i);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_a===null||!_a.has(r))){t=Nn(i,t),i=ag(2),r=ua(e,i,2),r!==null&&(sg(i,r,e,t),kn(r,2),mi(r));break}}e=e.return}}function Bf(t,e,i){var r=t.pingCache;if(r===null){r=t.pingCache=new Vv;var c=new Set;r.set(e,c)}else c=r.get(e),c===void 0&&(c=new Set,r.set(e,c));c.has(i)||(Nf=!0,c.add(i),t=Pv.bind(null,t,e,i),e.then(t,t))}function Pv(t,e,i){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,ee===t&&(Vt&i)===i&&(he===4||he===3&&(Vt&62914560)===Vt&&300>an()-Of?(Qt&2)===0&&_r(t,0):xf|=i,gr===Vt&&(gr=0)),mi(t)}function ep(t,e){e===0&&(e=Ga()),t=tr(t,e),t!==null&&(kn(t,e),mi(t))}function Bv(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),ep(t,i)}function kv(t,e){var i=0;switch(t.tag){case 13:var r=t.stateNode,c=t.memoizedState;c!==null&&(i=c.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(e),ep(t,i)}function qv(t,e){return Zn(t,e)}var fu=null,Er=null,kf=!1,hu=!1,qf=!1,vs=0;function mi(t){t!==Er&&t.next===null&&(Er===null?fu=Er=t:Er=Er.next=t),hu=!0,kf||(kf=!0,Gv())}function Rl(t,e){if(!qf&&hu){qf=!0;do for(var i=!1,r=fu;r!==null;){if(t!==0){var c=r.pendingLanes;if(c===0)var f=0;else{var p=r.suspendedLanes,E=r.pingedLanes;f=(1<<31-Se(42|t)+1)-1,f&=c&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,sp(r,f))}else f=Vt,f=ta(r,r===ee?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||Wn(r,f)||(i=!0,sp(r,f));r=r.next}while(i);qf=!1}}function Hv(){np()}function np(){hu=kf=!1;var t=0;vs!==0&&(Jv()&&(t=vs),vs=0);for(var e=an(),i=null,r=fu;r!==null;){var c=r.next,f=ip(r,e);f===0?(r.next=null,i===null?fu=c:i.next=c,c===null&&(Er=i)):(i=r,(t!==0||(f&3)!==0)&&(hu=!0)),r=c}Rl(t)}function ip(t,e){for(var i=t.suspendedLanes,r=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Se(f),E=1<<p,b=c[p];b===-1?((E&i)===0||(E&r)!==0)&&(c[p]=qa(E,e)):b<=e&&(t.expiredLanes|=E),f&=~E}if(e=ee,i=Vt,i=ta(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,i===0||t===e&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Pn(r),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Wn(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(r!==null&&Pn(r),hn(i)){case 2:case 8:i=Sn;break;case 32:i=vi;break;case 268435456:i=Ei;break;default:i=vi}return r=ap.bind(null,t),i=Zn(i,r),t.callbackPriority=e,t.callbackNode=i,e}return r!==null&&r!==null&&Pn(r),t.callbackPriority=2,t.callbackNode=null,2}function ap(t,e){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(cu()&&t.callbackNode!==i)return null;var r=Vt;return r=ta(t,t===ee?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(Bg(t,r,e),ip(t,an()),t.callbackNode!=null&&t.callbackNode===i?ap.bind(null,t):null)}function sp(t,e){if(cu())return null;Bg(t,e,!0)}function Gv(){tE(function(){(Qt&6)!==0?Zn(za,Hv):np()})}function Hf(){return vs===0&&(vs=Ha()),vs}function rp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qs(""+t)}function lp(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function Qv(t,e,i,r,c){if(e==="submit"&&i&&i.stateNode===c){var f=rp((c[ye]||null).action),p=r.submitter;p&&(e=(e=p[ye]||null)?rp(e.formAction):p.getAttribute("formAction"),e!==null&&(f=e,p=null));var E=new Hs("action","action",null,r,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(vs!==0){var b=p?lp(c,p):new FormData(c);uf(i,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=p?lp(c,p):new FormData(c),uf(i,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Gf=0;Gf<Cc.length;Gf++){var Qf=Cc[Gf],Fv=Qf.toLowerCase(),Yv=Qf[0].toUpperCase()+Qf.slice(1);Gn(Fv,"on"+Yv)}Gn(Bd,"onAnimationEnd"),Gn(kd,"onAnimationIteration"),Gn(qd,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(cv,"onTransitionRun"),Gn(fv,"onTransitionStart"),Gn(hv,"onTransitionCancel"),Gn(Hd,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function op(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var r=t[i],c=r.event;r=r.listeners;t:{var f=void 0;if(e)for(var p=r.length-1;0<=p;p--){var E=r[p],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){Wo(G)}c.currentTarget=null,f=b}else for(p=0;p<r.length;p++){if(E=r[p],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){Wo(G)}c.currentTarget=null,f=b}}}}function It(t,e){var i=e[jr];i===void 0&&(i=e[jr]=new Set);var r=t+"__bubble";i.has(r)||(up(e,t,2,!1),i.add(r))}function Ff(t,e,i){var r=0;e&&(r|=4),up(i,t,r,e)}var du="_reactListening"+Math.random().toString(36).slice(2);function Yf(t){if(!t[du]){t[du]=!0,zr.forEach(function(i){i!=="selectionchange"&&(Xv.has(i)||Ff(i,!1,t),Ff(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[du]||(e[du]=!0,Ff("selectionchange",!1,e))}}function up(t,e,i,r){switch(Op(e)){case 2:var c=TE;break;case 8:c=AE;break;default:c=lh}i=c.bind(null,e,i,t),c=void 0,!Dn||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(c=!0),r?c!==void 0?t.addEventListener(e,i,{capture:!0,passive:c}):t.addEventListener(e,i,!0):c!==void 0?t.addEventListener(e,i,{passive:c}):t.addEventListener(e,i,!1)}function Xf(t,e,i,r,c){var f=r;if((e&1)===0&&(e&2)===0&&r!==null)t:for(;;){if(r===null)return;var p=r.tag;if(p===3||p===4){var E=r.stateNode.containerInfo;if(E===c)break;if(p===4)for(p=r.return;p!==null;){var b=p.tag;if((b===3||b===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;E!==null;){if(p=bi(E),p===null)return;if(b=p.tag,b===5||b===6||b===26||b===27){r=f=p;continue t}E=E.parentNode}}r=r.return}go(function(){var P=f,G=Cn(i),Y=[];t:{var B=Gd.get(t);if(B!==void 0){var k=Hs,yt=t;switch(t){case"keypress":if(si(i)===0)break t;case"keydown":case"keyup":k=Ks;break;case"focusin":yt="focus",k=Fs;break;case"focusout":yt="blur",k=Fs;break;case"beforeblur":case"afterblur":k=Fs;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=So;break;case Bd:case kd:case qd:k=Ys;break;case Hd:k=Ro;break;case"scroll":case"scrollend":k=po;break;case"wheel":k=$s;break;case"copy":case"cut":case"paste":k=Xs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=$r;break;case"toggle":case"beforetoggle":k=Co}var mt=(e&4)!==0,$t=!mt&&(t==="scroll"||t==="scrollend"),L=mt?B!==null?B+"Capture":null:B;mt=[];for(var D=P,z;D!==null;){var Q=D;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||L===null||(Q=Ja(D,L),Q!=null&&mt.push(Cl(D,Q,z))),$t)break;D=D.return}0<mt.length&&(B=new k(B,yt,null,i,G),Y.push({event:B,listeners:mt}))}}if((e&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&i!==Di&&(yt=i.relatedTarget||i.fromElement)&&(bi(yt)||yt[Rn]))break t;if((k||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,k?(yt=i.relatedTarget||i.toElement,k=P,yt=yt?bi(yt):null,yt!==null&&($t=h(yt),mt=yt.tag,yt!==$t||mt!==5&&mt!==27&&mt!==6)&&(yt=null)):(k=null,yt=P),k!==yt)){if(mt=In,Q="onMouseLeave",L="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(mt=$r,Q="onPointerLeave",L="onPointerEnter",D="pointer"),$t=k==null?B:ei(k),z=yt==null?B:ei(yt),B=new mt(Q,D+"leave",k,i,G),B.target=$t,B.relatedTarget=z,Q=null,bi(G)===P&&(mt=new mt(L,D+"enter",yt,i,G),mt.target=z,mt.relatedTarget=$t,Q=mt),$t=Q,k&&yt)e:{for(mt=k,L=yt,D=0,z=mt;z;z=Tr(z))D++;for(z=0,Q=L;Q;Q=Tr(Q))z++;for(;0<D-z;)mt=Tr(mt),D--;for(;0<z-D;)L=Tr(L),z--;for(;D--;){if(mt===L||L!==null&&mt===L.alternate)break e;mt=Tr(mt),L=Tr(L)}mt=null}else mt=null;k!==null&&cp(Y,B,k,mt,!1),yt!==null&&$t!==null&&cp(Y,$t,yt,mt,!0)}}t:{if(B=P?ei(P):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var at=Id;else if(Re(B))if(Nd)at=lv;else{at=sv;var wt=av}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Hr(P.elementType)&&(at=Id):at=rv;if(at&&(at=at(t,P))){Oi(Y,at,i,G);break t}wt&&wt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&aa(B,"number",B.value)}switch(wt=P?ei(P):window,t){case"focusin":(Re(wt)||wt.contentEditable==="true")&&(Zs=wt,bc=P,Wr=null);break;case"focusout":Wr=bc=Zs=null;break;case"mousedown":Rc=!0;break;case"contextmenu":case"mouseup":case"dragend":Rc=!1,zd(Y,i,G);break;case"selectionchange":if(uv)break;case"keydown":case"keyup":zd(Y,i,G)}var ot;if(oi)t:{switch(t){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else Mt?q(t,i)&&(gt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(gt="onCompositionStart");gt&&(g&&i.locale!=="ko"&&(Mt||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Mt&&(ot=Qr()):(ai=G,sa="value"in ai?ai.value:ai.textContent,Mt=!0)),wt=mu(P,gt),0<wt.length&&(gt=new Xr(gt,t,null,i,G),Y.push({event:gt,listeners:wt}),ot?gt.data=ot:(ot=tt(i),ot!==null&&(gt.data=ot)))),(ot=d?be(t,i):Ot(t,i))&&(gt=mu(P,"onBeforeInput"),0<gt.length&&(wt=new Xr("onBeforeInput","beforeinput",null,i,G),Y.push({event:wt,listeners:gt}),wt.data=ot)),Qv(Y,t,P,i,G)}op(Y,e)})}function Cl(t,e,i){return{instance:t,listener:e,currentTarget:i}}function mu(t,e){for(var i=e+"Capture",r=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ja(t,i),c!=null&&r.unshift(Cl(t,c,f)),c=Ja(t,e),c!=null&&r.push(Cl(t,c,f))),t.tag===3)return r;t=t.return}return[]}function Tr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function cp(t,e,i,r,c){for(var f=e._reactName,p=[];i!==null&&i!==r;){var E=i,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===r)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=Ja(i,f),P!=null&&p.unshift(Cl(i,P,b))):c||(P=Ja(i,f),P!=null&&p.push(Cl(i,P,b)))),i=i.return}p.length!==0&&t.push({event:e,listeners:p})}var Kv=/\r\n?/g,$v=/\u0000|\uFFFD/g;function fp(t){return(typeof t=="string"?t:""+t).replace(Kv,`
`).replace($v,"")}function hp(t,e){return e=fp(e),fp(t)===e}function gu(){}function Kt(t,e,i,r,c,f){switch(i){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||wn(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&wn(t,""+r);break;case"className":ni(t,"class",r);break;case"tabIndex":ni(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ni(t,i,r);break;case"style":qr(t,r,f);break;case"data":if(e!=="object"){ni(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=qs(""+r),t.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(e!=="input"&&Kt(t,e,"name",c.name,c,null),Kt(t,e,"formEncType",c.formEncType,c,null),Kt(t,e,"formMethod",c.formMethod,c,null),Kt(t,e,"formTarget",c.formTarget,c,null)):(Kt(t,e,"encType",c.encType,c,null),Kt(t,e,"method",c.method,c,null),Kt(t,e,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=qs(""+r),t.setAttribute(i,r);break;case"onClick":r!=null&&(t.onclick=gu);break;case"onScroll":r!=null&&It("scroll",t);break;case"onScrollEnd":r!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(i=r.__html,i!=null){if(c.children!=null)throw Error(l(60));t.innerHTML=i}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}i=qs(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""+r):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":r===!0?t.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,r):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(i,r):t.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(i):t.setAttribute(i,r);break;case"popover":It("beforetoggle",t),It("toggle",t),ia(t,"popover",r);break;case"xlinkActuate":Ue(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ue(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ue(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ue(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ue(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ue(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ia(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=yc.get(i)||i,ia(t,i,r))}}function Kf(t,e,i,r,c,f){switch(i){case"style":qr(t,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(i=r.__html,i!=null){if(c.children!=null)throw Error(l(60));t.innerHTML=i}}break;case"children":typeof r=="string"?wn(t,r):(typeof r=="number"||typeof r=="bigint")&&wn(t,""+r);break;case"onScroll":r!=null&&It("scroll",t);break;case"onScrollEnd":r!=null&&It("scrollend",t);break;case"onClick":r!=null&&(t.onclick=gu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!js.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),e=i.slice(2,c?i.length-7:void 0),f=t[ye]||null,f=f!=null?f[i]:null,typeof f=="function"&&t.removeEventListener(e,f,c),typeof r=="function")){typeof f!="function"&&f!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,r,c);break t}i in t?t[i]=r:r===!0?t.setAttribute(i,""):ia(t,i,r)}}}function Pe(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var r=!1,c=!1,f;for(f in i)if(i.hasOwnProperty(f)){var p=i[f];if(p!=null)switch(f){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,e));default:Kt(t,e,f,p,i,null)}}c&&Kt(t,e,"srcSet",i.srcSet,i,null),r&&Kt(t,e,"src",i.src,i,null);return;case"input":It("invalid",t);var E=f=p=c=null,b=null,P=null;for(r in i)if(i.hasOwnProperty(r)){var G=i[r];if(G!=null)switch(r){case"name":c=G;break;case"type":p=G;break;case"checked":b=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(l(137,e));break;default:Kt(t,e,r,G,i,null)}}Ka(t,f,E,b,P,p,c,!1),ks(t);return;case"select":It("invalid",t),r=p=f=null;for(c in i)if(i.hasOwnProperty(c)&&(E=i[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":r=E;default:Kt(t,e,c,E,i,null)}e=f,i=p,t.multiple=!!r,e!=null?Ci(t,!!r,e,!1):i!=null&&Ci(t,!!r,i,!0);return;case"textarea":It("invalid",t),f=c=r=null;for(p in i)if(i.hasOwnProperty(p)&&(E=i[p],E!=null))switch(p){case"value":r=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(l(91));break;default:Kt(t,e,p,E,i,null)}$a(t,r,c,f),ks(t);return;case"option":for(b in i)if(i.hasOwnProperty(b)&&(r=i[b],r!=null))switch(b){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Kt(t,e,b,r,i,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(r=0;r<wl.length;r++)It(wl[r],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in i)if(i.hasOwnProperty(P)&&(r=i[P],r!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,e));default:Kt(t,e,P,r,i,null)}return;default:if(Hr(e)){for(G in i)i.hasOwnProperty(G)&&(r=i[G],r!==void 0&&Kf(t,e,G,r,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(r=i[E],r!=null&&Kt(t,e,E,r,i,null))}function Zv(t,e,i,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,E=null,b=null,P=null,G=null;for(k in i){var Y=i[k];if(i.hasOwnProperty(k)&&Y!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":b=Y;default:r.hasOwnProperty(k)||Kt(t,e,k,null,r,Y)}}for(var B in r){var k=r[B];if(Y=i[B],r.hasOwnProperty(B)&&(k!=null||Y!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":P=k;break;case"defaultChecked":G=k;break;case"value":p=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(l(137,e));break;default:k!==Y&&Kt(t,e,B,k,r,Y)}}dn(t,p,E,b,P,G,f,c);return;case"select":k=p=E=B=null;for(f in i)if(b=i[f],i.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":k=b;default:r.hasOwnProperty(f)||Kt(t,e,f,null,r,b)}for(c in r)if(f=r[c],b=i[c],r.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==b&&Kt(t,e,c,f,r,b)}e=E,i=p,r=k,B!=null?Ci(t,!!i,B,!1):!!r!=!!i&&(e!=null?Ci(t,!!i,e,!0):Ci(t,!!i,i?[]:"",!1));return;case"textarea":k=B=null;for(E in i)if(c=i[E],i.hasOwnProperty(E)&&c!=null&&!r.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,e,E,null,r,c)}for(p in r)if(c=r[p],f=i[p],r.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==f&&Kt(t,e,p,c,r,f)}Yt(t,B,k);return;case"option":for(var yt in i)if(B=i[yt],i.hasOwnProperty(yt)&&B!=null&&!r.hasOwnProperty(yt))switch(yt){case"selected":t.selected=!1;break;default:Kt(t,e,yt,null,r,B)}for(b in r)if(B=r[b],k=i[b],r.hasOwnProperty(b)&&B!==k&&(B!=null||k!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Kt(t,e,b,B,r,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in i)B=i[mt],i.hasOwnProperty(mt)&&B!=null&&!r.hasOwnProperty(mt)&&Kt(t,e,mt,null,r,B);for(P in r)if(B=r[P],k=i[P],r.hasOwnProperty(P)&&B!==k&&(B!=null||k!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(l(137,e));break;default:Kt(t,e,P,B,r,k)}return;default:if(Hr(e)){for(var $t in i)B=i[$t],i.hasOwnProperty($t)&&B!==void 0&&!r.hasOwnProperty($t)&&Kf(t,e,$t,void 0,r,B);for(G in r)B=r[G],k=i[G],!r.hasOwnProperty(G)||B===k||B===void 0&&k===void 0||Kf(t,e,G,B,r,k);return}}for(var L in i)B=i[L],i.hasOwnProperty(L)&&B!=null&&!r.hasOwnProperty(L)&&Kt(t,e,L,null,r,B);for(Y in r)B=r[Y],k=i[Y],!r.hasOwnProperty(Y)||B===k||B==null&&k==null||Kt(t,e,Y,B,r,k)}var $f=null,Zf=null;function pu(t){return t.nodeType===9?t:t.ownerDocument}function dp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mp(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Jf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wf=null;function Jv(){var t=window.event;return t&&t.type==="popstate"?t===Wf?!1:(Wf=t,!0):(Wf=null,!1)}var gp=typeof setTimeout=="function"?setTimeout:void 0,Wv=typeof clearTimeout=="function"?clearTimeout:void 0,pp=typeof Promise=="function"?Promise:void 0,tE=typeof queueMicrotask=="function"?queueMicrotask:typeof pp<"u"?function(t){return pp.resolve(null).then(t).catch(eE)}:gp;function eE(t){setTimeout(function(){throw t})}function Ta(t){return t==="head"}function yp(t,e){var i=e,r=0,c=0;do{var f=i.nextSibling;if(t.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"){if(0<r&&8>r){i=r;var p=t.ownerDocument;if(i&1&&Dl(p.documentElement),i&2&&Dl(p.body),i&4)for(i=p.head,Dl(i),p=i.firstChild;p;){var E=p.nextSibling,b=p.nodeName;p[Qa]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&p.rel.toLowerCase()==="stylesheet"||i.removeChild(p),p=E}}if(c===0){t.removeChild(f),Ll(e);return}c--}else i==="$"||i==="$?"||i==="$!"?c++:r=i.charCodeAt(0)-48;else r=0;i=f}while(i);Ll(e)}function th(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":th(i),na(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function nE(t,e,i,r){for(;t.nodeType===1;){var c=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Qa])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function iE(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Fn(t.nextSibling),t===null))return null;return t}function eh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function aE(t,e){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")e();else{var r=function(){e(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Fn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var nh=null;function _p(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}function vp(t,e,i){switch(e=pu(i),t){case"html":if(t=e.documentElement,!t)throw Error(l(452));return t;case"head":if(t=e.head,!t)throw Error(l(453));return t;case"body":if(t=e.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function Dl(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);na(t)}var Ln=new Map,Ep=new Set;function yu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Fi=W.d;W.d={f:sE,r:rE,D:lE,C:oE,L:uE,m:cE,X:hE,S:fE,M:dE};function sE(){var t=Fi.f(),e=ou();return t||e}function rE(t){var e=ti(t);e!==null&&e.tag===5&&e.type==="form"?Bm(e):Fi.r(t)}var Ar=typeof document>"u"?null:document;function Tp(t,e,i){var r=Ar;if(r&&typeof e=="string"&&e){var c=_e(e);c='link[rel="'+t+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),Ep.has(c)||(Ep.add(c),t={rel:t,crossOrigin:i,href:e},r.querySelector(c)===null&&(e=r.createElement("link"),Pe(e,"link",t),me(e),r.head.appendChild(e)))}}function lE(t){Fi.D(t),Tp("dns-prefetch",t,null)}function oE(t,e){Fi.C(t,e),Tp("preconnect",t,e)}function uE(t,e,i){Fi.L(t,e,i);var r=Ar;if(r&&t&&e){var c='link[rel="preload"][as="'+_e(e)+'"]';e==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+_e(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+_e(i.imageSizes)+'"]')):c+='[href="'+_e(t)+'"]';var f=c;switch(e){case"style":f=Sr(t);break;case"script":f=br(t)}Ln.has(f)||(t=S({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),Ln.set(f,t),r.querySelector(c)!==null||e==="style"&&r.querySelector(Il(f))||e==="script"&&r.querySelector(Nl(f))||(e=r.createElement("link"),Pe(e,"link",t),me(e),r.head.appendChild(e)))}}function cE(t,e){Fi.m(t,e);var i=Ar;if(i&&t){var r=e&&typeof e.as=="string"?e.as:"script",c='link[rel="modulepreload"][as="'+_e(r)+'"][href="'+_e(t)+'"]',f=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=br(t)}if(!Ln.has(f)&&(t=S({rel:"modulepreload",href:t},e),Ln.set(f,t),i.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Nl(f)))return}r=i.createElement("link"),Pe(r,"link",t),me(r),i.head.appendChild(r)}}}function fE(t,e,i){Fi.S(t,e,i);var r=Ar;if(r&&t){var c=Je(r).hoistableStyles,f=Sr(t);e=e||"default";var p=c.get(f);if(!p){var E={loading:0,preload:null};if(p=r.querySelector(Il(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":e},i),(i=Ln.get(f))&&ih(t,i);var b=p=r.createElement("link");me(b),Pe(b,"link",t),b._p=new Promise(function(P,G){b.onload=P,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,_u(p,e,r)}p={type:"stylesheet",instance:p,count:1,state:E},c.set(f,p)}}}function hE(t,e){Fi.X(t,e);var i=Ar;if(i&&t){var r=Je(i).hoistableScripts,c=br(t),f=r.get(c);f||(f=i.querySelector(Nl(c)),f||(t=S({src:t,async:!0},e),(e=Ln.get(c))&&ah(t,e),f=i.createElement("script"),me(f),Pe(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function dE(t,e){Fi.M(t,e);var i=Ar;if(i&&t){var r=Je(i).hoistableScripts,c=br(t),f=r.get(c);f||(f=i.querySelector(Nl(c)),f||(t=S({src:t,async:!0,type:"module"},e),(e=Ln.get(c))&&ah(t,e),f=i.createElement("script"),me(f),Pe(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function Ap(t,e,i,r){var c=(c=pt.current)?yu(c):null;if(!c)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=Sr(i.href),i=Je(c).hoistableStyles,r=i.get(e),r||(r={type:"style",instance:null,count:0,state:null},i.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=Sr(i.href);var f=Je(c).hoistableStyles,p=f.get(t);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=c.querySelector(Il(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Ln.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Ln.set(t,i),f||mE(c,t,i,p.state))),e&&r===null)throw Error(l(528,""));return p}if(e&&r!==null)throw Error(l(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=br(i),i=Je(c).hoistableScripts,r=i.get(e),r||(r={type:"script",instance:null,count:0,state:null},i.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function Sr(t){return'href="'+_e(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function Sp(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function mE(t,e,i,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Pe(e,"link",i),me(e),t.head.appendChild(e))}function br(t){return'[src="'+_e(t)+'"]'}function Nl(t){return"script[async]"+t}function bp(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+_e(i.href)+'"]');if(r)return e.instance=r,me(r),r;var c=S({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),me(r),Pe(r,"style",c),_u(r,i.precedence,t),e.instance=r;case"stylesheet":c=Sr(i.href);var f=t.querySelector(Il(c));if(f)return e.state.loading|=4,e.instance=f,me(f),f;r=Sp(i),(c=Ln.get(c))&&ih(r,c),f=(t.ownerDocument||t).createElement("link"),me(f);var p=f;return p._p=new Promise(function(E,b){p.onload=E,p.onerror=b}),Pe(f,"link",r),e.state.loading|=4,_u(f,i.precedence,t),e.instance=f;case"script":return f=br(i.src),(c=t.querySelector(Nl(f)))?(e.instance=c,me(c),c):(r=i,(c=Ln.get(f))&&(r=S({},i),ah(r,c)),t=t.ownerDocument||t,c=t.createElement("script"),me(c),Pe(c,"link",r),t.head.appendChild(c),e.instance=c);case"void":return null;default:throw Error(l(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(r=e.instance,e.state.loading|=4,_u(r,i.precedence,t));return e.instance}function _u(t,e,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,f=c,p=0;p<r.length;p++){var E=r[p];if(E.dataset.precedence===e)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function ih(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function ah(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var vu=null;function Rp(t,e,i){if(vu===null){var r=new Map,c=vu=new Map;c.set(i,r)}else c=vu,r=c.get(i),r||(r=new Map,c.set(i,r));if(r.has(t))return r;for(r.set(t,null),i=i.getElementsByTagName(t),c=0;c<i.length;c++){var f=i[c];if(!(f[Qa]||f[le]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(e)||"";p=t+p;var E=r.get(p);E?E.push(f):r.set(p,[f])}}return r}function wp(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function gE(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Cp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var xl=null;function pE(){}function yE(t,e,i){if(xl===null)throw Error(l(475));var r=xl;if(e.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var c=Sr(i.href),f=t.querySelector(Il(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=Eu.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=f,me(f);return}f=t.ownerDocument||t,i=Sp(i),(c=Ln.get(c))&&ih(i,c),f=f.createElement("link"),me(f);var p=f;p._p=new Promise(function(E,b){p.onload=E,p.onerror=b}),Pe(f,"link",i),e.instance=f}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(r.count++,e=Eu.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function _E(){if(xl===null)throw Error(l(475));var t=xl;return t.stylesheets&&t.count===0&&sh(t,t.stylesheets),0<t.count?function(e){var i=setTimeout(function(){if(t.stylesheets&&sh(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(i)}}:null}function Eu(){if(this.count--,this.count===0){if(this.stylesheets)sh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Tu=null;function sh(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Tu=new Map,e.forEach(vE,t),Tu=null,Eu.call(t))}function vE(t,e){if(!(e.state.loading&4)){var i=Tu.get(t);if(i)var r=i.get(null);else{i=new Map,Tu.set(t,i);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(i.set(p.dataset.precedence,p),r=p)}r&&i.set(null,r)}c=e.instance,p=c.getAttribute("data-precedence"),f=i.get(p)||r,f===r&&i.set(null,c),i.set(p,c),this.count++,r=Eu.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),e.state.loading|=4}}var Ml={$$typeof:dt,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function EE(t,e,i,r,c,f,p,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bn(0),this.hiddenUpdates=Bn(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Dp(t,e,i,r,c,f,p,E,b,P,G,Y){return t=new EE(t,e,i,p,E,b,P,Y),e=1,f===!0&&(e|=24),f=gn(3,null,null,e),t.current=f,f.stateNode=t,e=Pc(),e.refCount++,t.pooledCache=e,e.refCount++,f.memoizedState={element:r,isDehydrated:i,cache:e},Hc(f),t}function Ip(t){return t?(t=er,t):er}function Np(t,e,i,r,c,f){c=Ip(c),r.context===null?r.context=c:r.pendingContext=c,r=oa(e),r.payload={element:i},f=f===void 0?null:f,f!==null&&(r.callback=f),i=ua(t,r,e),i!==null&&(En(i,t,e),ol(i,t,e))}function xp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function rh(t,e){xp(t,e),(t=t.alternate)&&xp(t,e)}function Mp(t){if(t.tag===13){var e=tr(t,67108864);e!==null&&En(e,t,67108864),rh(t,67108864)}}var Au=!0;function TE(t,e,i,r){var c=H.T;H.T=null;var f=W.p;try{W.p=2,lh(t,e,i,r)}finally{W.p=f,H.T=c}}function AE(t,e,i,r){var c=H.T;H.T=null;var f=W.p;try{W.p=8,lh(t,e,i,r)}finally{W.p=f,H.T=c}}function lh(t,e,i,r){if(Au){var c=oh(r);if(c===null)Xf(t,e,r,Su,i),Vp(t,r);else if(bE(c,t,e,i,r))r.stopPropagation();else if(Vp(t,r),e&4&&-1<SE.indexOf(t)){for(;c!==null;){var f=ti(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=fn(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var b=1<<31-Se(p);E.entanglements[1]|=b,p&=~b}mi(f),(Qt&6)===0&&(ru=an()+500,Rl(0))}}break;case 13:E=tr(f,2),E!==null&&En(E,f,2),ou(),rh(f,2)}if(f=oh(r),f===null&&Xf(t,e,r,Su,i),f===c)break;c=f}c!==null&&r.stopPropagation()}else Xf(t,e,r,null,i)}}function oh(t){return t=Cn(t),uh(t)}var Su=null;function uh(t){if(Su=null,t=bi(t),t!==null){var e=h(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=m(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Su=t,null}function Op(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ja()){case za:return 2;case Sn:return 8;case vi:case Pa:return 32;case Ei:return 268435456;default:return 32}default:return 32}}var ch=!1,Aa=null,Sa=null,ba=null,Ol=new Map,Vl=new Map,Ra=[],SE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vp(t,e){switch(t){case"focusin":case"focusout":Aa=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":Ol.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(e.pointerId)}}function Ul(t,e,i,r,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:e,domEventName:i,eventSystemFlags:r,nativeEvent:f,targetContainers:[c]},e!==null&&(e=ti(e),e!==null&&Mp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,c!==null&&e.indexOf(c)===-1&&e.push(c),t)}function bE(t,e,i,r,c){switch(e){case"focusin":return Aa=Ul(Aa,t,e,i,r,c),!0;case"dragenter":return Sa=Ul(Sa,t,e,i,r,c),!0;case"mouseover":return ba=Ul(ba,t,e,i,r,c),!0;case"pointerover":var f=c.pointerId;return Ol.set(f,Ul(Ol.get(f)||null,t,e,i,r,c)),!0;case"gotpointercapture":return f=c.pointerId,Vl.set(f,Ul(Vl.get(f)||null,t,e,i,r,c)),!0}return!1}function Up(t){var e=bi(t.target);if(e!==null){var i=h(e);if(i!==null){if(e=i.tag,e===13){if(e=m(i),e!==null){t.blockedOn=e,Ls(t.priority,function(){if(i.tag===13){var r=vn();r=Wt(r);var c=tr(i,r);c!==null&&En(c,i,r),rh(i,r)}});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=oh(t.nativeEvent);if(i===null){i=t.nativeEvent;var r=new i.constructor(i.type,i);Di=r,i.target.dispatchEvent(r),Di=null}else return e=ti(i),e!==null&&Mp(e),t.blockedOn=i,!1;e.shift()}return!0}function Lp(t,e,i){bu(t)&&i.delete(e)}function RE(){ch=!1,Aa!==null&&bu(Aa)&&(Aa=null),Sa!==null&&bu(Sa)&&(Sa=null),ba!==null&&bu(ba)&&(ba=null),Ol.forEach(Lp),Vl.forEach(Lp)}function Ru(t,e){t.blockedOn===e&&(t.blockedOn=null,ch||(ch=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,RE)))}var wu=null;function jp(t){wu!==t&&(wu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){wu===t&&(wu=null);for(var e=0;e<t.length;e+=3){var i=t[e],r=t[e+1],c=t[e+2];if(typeof r!="function"){if(uh(r||i)===null)continue;break}var f=ti(i);f!==null&&(t.splice(e,3),e-=3,uf(f,{pending:!0,data:c,method:i.method,action:r},r,c))}}))}function Ll(t){function e(b){return Ru(b,t)}Aa!==null&&Ru(Aa,t),Sa!==null&&Ru(Sa,t),ba!==null&&Ru(ba,t),Ol.forEach(e),Vl.forEach(e);for(var i=0;i<Ra.length;i++){var r=Ra[i];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Ra.length&&(i=Ra[0],i.blockedOn===null);)Up(i),i.blockedOn===null&&Ra.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var c=i[r],f=i[r+1],p=c[ye]||null;if(typeof f=="function")p||jp(i);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[ye]||null)E=p.formAction;else if(uh(c)!==null)continue}else E=p.action;typeof E=="function"?i[r+1]=E:(i.splice(r,3),r-=3),jp(i)}}}function fh(t){this._internalRoot=t}Cu.prototype.render=fh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(l(409));var i=e.current,r=vn();Np(i,r,t,e,null,null)},Cu.prototype.unmount=fh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Np(t.current,2,null,t,null,null),ou(),e[Rn]=null}};function Cu(t){this._internalRoot=t}Cu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Si();t={blockedOn:null,target:t,priority:e};for(var i=0;i<Ra.length&&e!==0&&e<Ra[i].priority;i++);Ra.splice(i,0,t),i===0&&Up(t)}};var zp=n.version;if(zp!=="19.1.1")throw Error(l(527,zp,"19.1.1"));W.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=v(e),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var wE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Du.isDisabled&&Du.supportsFiber)try{ie=Du.inject(wE),zt=Du}catch{}}return zl.createRoot=function(t,e){if(!u(t))throw Error(l(299));var i=!1,r="",c=tg,f=eg,p=ng,E=null;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(c=e.onUncaughtError),e.onCaughtError!==void 0&&(f=e.onCaughtError),e.onRecoverableError!==void 0&&(p=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(E=e.unstable_transitionCallbacks)),e=Dp(t,1,!1,null,null,i,r,c,f,p,E,null),t[Rn]=e.current,Yf(t),new fh(e)},zl.hydrateRoot=function(t,e,i){if(!u(t))throw Error(l(299));var r=!1,c="",f=tg,p=eg,E=ng,b=null,P=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks),i.formState!==void 0&&(P=i.formState)),e=Dp(t,1,!0,e,i??null,r,c,f,p,E,b,P),e.context=Ip(null),i=e.current,r=vn(),r=Wt(r),c=oa(r),c.callback=null,ua(i,c,r),i=r,e.current.lanes=i,kn(e,i),mi(e),t[Rn]=e.current,Yf(t),new Cu(e)},zl.version="19.1.1",zl}var Xp;function jE(){if(Xp)return mh.exports;Xp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),mh.exports=LE(),mh.exports}var zE=jE();const PE=f_(zE),ct={ENVIRONMENT_SETUP:"environment_setup",SCREEN_CALIBRATION:"screen_calibration",WELCOME:"welcome",INSTRUCTIONS:"instructions",PRACTICE:"practice",MAIN_TRIALS:"main_trials",SEQUENTIAL_TRIALS:"sequential_trials",TIME_CONSTRAINT_INTRO:"time_constraint_intro",TIME_TRIAL_PRACTICE:"time_trial_practice",TIME_TRIALS:"time_trials",SEQUENTIAL_TIME_TRIALS:"sequential_time_trials",COMPLETE:"complete"},Ye={WAITING_FOR_START:"waiting_for_start",IN_PROGRESS:"in_progress",FAILED:"failed"},Cr=[{id:1,tunnelWidth:.05,curvature:.025,timeLimit:null,description:"wide tunnel, gentle curve"},{id:2,tunnelWidth:.05,curvature:.05,timeLimit:null,description:"wide tunnel, sharp curve"},{id:3,tunnelWidth:.02,curvature:.025,timeLimit:null,description:"narrow tunnel, gentle curve"},{id:4,tunnelWidth:.02,curvature:.05,timeLimit:null,description:"narrow tunnel, sharp curve"}],h_=[],BE=[],kE=[],d_=.008,m_=.01,g_=.002,qE=()=>{const s=new URLSearchParams(window.location.search);return{prolificPid:s.get("PROLIFIC_PID")||null,studyId:s.get("STUDY_ID")||null,sessionId:s.get("SESSION_ID")||null}},HE=s=>{const u=s,h=.15,m=[];for(let y=0;y<.46;y+=g_){const v=.13+u*Math.sin(2*Math.PI*y/h);m.push({x:y,y:v})}return m},GE=s=>{const h=[];for(let m=0;m<.46;m+=g_){let y=.13;if(s.segmentType==="curvature")if(m<0+.23)y=.13;else{const v=m-.23,_=s.segment2Curvature,M=v/.23;y=.13+_*(1-Math.pow(2*M-1,2))}h.push({x:m,y})}return h},QE=()=>{};var Kp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=function(s){const n=[];let a=0;for(let l=0;l<s.length;l++){let u=s.charCodeAt(l);u<128?n[a++]=u:u<2048?(n[a++]=u>>6|192,n[a++]=u&63|128):(u&64512)===55296&&l+1<s.length&&(s.charCodeAt(l+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++l)&1023),n[a++]=u>>18|240,n[a++]=u>>12&63|128,n[a++]=u>>6&63|128,n[a++]=u&63|128):(n[a++]=u>>12|224,n[a++]=u>>6&63|128,n[a++]=u&63|128)}return n},FE=function(s){const n=[];let a=0,l=0;for(;a<s.length;){const u=s[a++];if(u<128)n[l++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[a++];n[l++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[a++],m=s[a++],y=s[a++],v=((u&7)<<18|(h&63)<<12|(m&63)<<6|y&63)-65536;n[l++]=String.fromCharCode(55296+(v>>10)),n[l++]=String.fromCharCode(56320+(v&1023))}else{const h=s[a++],m=s[a++];n[l++]=String.fromCharCode((u&15)<<12|(h&63)<<6|m&63)}}return n.join("")},y_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,n){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let u=0;u<s.length;u+=3){const h=s[u],m=u+1<s.length,y=m?s[u+1]:0,v=u+2<s.length,_=v?s[u+2]:0,S=h>>2,M=(h&3)<<4|y>>4;let I=(y&15)<<2|_>>6,K=_&63;v||(K=64,m||(I=64)),l.push(a[S],a[M],a[I],a[K])}return l.join("")},encodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(s):this.encodeByteArray(p_(s),n)},decodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(s):FE(this.decodeStringToByteArray(s,n))},decodeStringToByteArray(s,n){this.init_();const a=n?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let u=0;u<s.length;){const h=a[s.charAt(u++)],y=u<s.length?a[s.charAt(u)]:0;++u;const _=u<s.length?a[s.charAt(u)]:64;++u;const M=u<s.length?a[s.charAt(u)]:64;if(++u,h==null||y==null||_==null||M==null)throw new YE;const I=h<<2|y>>4;if(l.push(I),_!==64){const K=y<<4&240|_>>2;if(l.push(K),M!==64){const Z=_<<6&192|M;l.push(Z)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class YE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XE=function(s){const n=p_(s);return y_.encodeByteArray(n,!0)},Bu=function(s){return XE(s).replace(/\./g,"")},KE=function(s){try{return y_.decodeString(s,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=()=>$E().__FIREBASE_DEFAULTS__,JE=()=>{if(typeof process>"u"||typeof Kp>"u")return;const s=Kp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},WE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=s&&KE(s[1]);return n&&JSON.parse(n)},Xh=()=>{try{return QE()||ZE()||JE()||WE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},tT=s=>Xh()?.emulatorHosts?.[s],eT=s=>{const n=tT(s);if(!n)return;const a=n.lastIndexOf(":");if(a<=0||a+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const l=parseInt(n.substring(a+1),10);return n[0]==="["?[n.substring(1,a-1),l]:[n.substring(0,a),l]},__=()=>Xh()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}wrapCallback(n){return(a,l)=>{a?this.reject(a):this.resolve(l),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(a):n(a,l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function iT(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(s,n){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},l=n||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${l}`,aud:l,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Bu(JSON.stringify(a)),Bu(JSON.stringify(m)),""].join(".")}const kl={};function sT(){const s={prod:[],emulator:[]};for(const n of Object.keys(kl))kl[n]?s.emulator.push(n):s.prod.push(n);return s}function rT(s){let n=document.getElementById(s),a=!1;return n||(n=document.createElement("div"),n.setAttribute("id",s),a=!0),{created:a,element:n}}let $p=!1;function lT(s,n){if(typeof window>"u"||typeof document>"u"||!Kh(window.location.host)||kl[s]===n||kl[s]||$p)return;kl[s]=n;function a(I){return`__firebase__banner__${I}`}const l="__firebase__banner",h=sT().prod.length>0;function m(){const I=document.getElementById(l);I&&I.remove()}function y(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function v(I,K){I.setAttribute("width","24"),I.setAttribute("id",K),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function _(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{$p=!0,m()},I}function S(I,K){I.setAttribute("id",K),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function M(){const I=rT(l),K=a("text"),Z=document.getElementById(K)||document.createElement("span"),nt=a("learnmore"),it=document.getElementById(nt)||document.createElement("a"),St=a("preprendIcon"),vt=document.getElementById(St)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const dt=I.element;y(dt),S(it,nt);const jt=_();v(vt,St),dt.append(vt,Z,it,jt),document.body.appendChild(dt)}h?(Z.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",M):M()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uT(){const s=Xh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cT(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function fT(){return!uT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v_(){try{return typeof indexedDB=="object"}catch{return!1}}function E_(){return new Promise((s,n)=>{try{let a=!0;const l="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(l);u.onsuccess=()=>{u.result.close(),a||self.indexedDB.deleteDatabase(l),s(!0)},u.onupgradeneeded=()=>{a=!1},u.onerror=()=>{n(u.error?.message||"")}}catch(a){n(a)}})}function hT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="FirebaseError";class Ua extends Error{constructor(n,a,l){super(a),this.code=n,this.customData=l,this.name=dT,Object.setPrototypeOf(this,Ua.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nc.prototype.create)}}class nc{constructor(n,a,l){this.service=n,this.serviceName=a,this.errors=l}create(n,...a){const l=a[0]||{},u=`${this.service}/${n}`,h=this.errors[n],m=h?mT(h,l):"Error",y=`${this.serviceName}: ${m} (${u}).`;return new Ua(u,y,l)}}function mT(s,n){return s.replace(gT,(a,l)=>{const u=n[l];return u!=null?String(u):`<${l}?>`})}const gT=/\{\$([^}]+)}/g;function Xl(s,n){if(s===n)return!0;const a=Object.keys(s),l=Object.keys(n);for(const u of a){if(!l.includes(u))return!1;const h=s[u],m=n[u];if(Zp(h)&&Zp(m)){if(!Xl(h,m))return!1}else if(h!==m)return!1}for(const u of l)if(!a.includes(u))return!1;return!0}function Zp(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=1e3,yT=2,_T=14400*1e3,vT=.5;function Jp(s,n=pT,a=yT){const l=n*Math.pow(a,s),u=Math.round(vT*l*(Math.random()-.5)*2);return Math.min(_T,l+u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(s){return s&&s._delegate?s._delegate:s}class $i{constructor(n,a,l){this.name=n,this.instanceFactory=a,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(n,a){this.name=n,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const a=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(a)){const l=new nT;if(this.instancesDeferred.set(a,l),this.isInitialized(a)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:a});u&&l.resolve(u)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(n){const a=this.normalizeInstanceIdentifier(n?.identifier),l=n?.optional??!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(AT(n))try{this.getOrInitializeService({instanceIdentifier:Es})}catch{}for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);try{const h=this.getOrInitializeService({instanceIdentifier:u});l.resolve(h)}catch{}}}}clearInstance(n=Es){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...n.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Es){return this.instances.has(n)}getOptions(n=Es){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:a={}}=n,l=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:l,options:a});for(const[h,m]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);l===y&&m.resolve(u)}return u}onInit(n,a){const l=this.normalizeInstanceIdentifier(a),u=this.onInitCallbacks.get(l)??new Set;u.add(n),this.onInitCallbacks.set(l,u);const h=this.instances.get(l);return h&&n(h,l),()=>{u.delete(n)}}invokeOnInitCallbacks(n,a){const l=this.onInitCallbacks.get(a);if(l)for(const u of l)try{u(n,a)}catch{}}getOrInitializeService({instanceIdentifier:n,options:a={}}){let l=this.instances.get(n);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:TT(n),options:a}),this.instances.set(n,l),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(l,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,l)}catch{}return l||null}normalizeInstanceIdentifier(n=Es){return this.component?this.component.multipleInstances?n:Es:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TT(s){return s===Es?void 0:s}function AT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const a=this.getProvider(n.name);if(a.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);a.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const a=new ET(n,this);return this.providers.set(n,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const bT={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},RT=Lt.INFO,wT={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},CT=(s,n,...a)=>{if(n<s.logLevel)return;const l=new Date().toISOString(),u=wT[n];if(u)console[u](`[${l}]  ${s.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class $h{constructor(n){this.name=n,this._logLevel=RT,this._logHandler=CT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Lt))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?bT[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...n),this._logHandler(this,Lt.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...n),this._logHandler(this,Lt.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...n),this._logHandler(this,Lt.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...n),this._logHandler(this,Lt.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...n),this._logHandler(this,Lt.ERROR,...n)}}const DT=(s,n)=>n.some(a=>s instanceof a);let Wp,ty;function IT(){return Wp||(Wp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NT(){return ty||(ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T_=new WeakMap,Ih=new WeakMap,A_=new WeakMap,_h=new WeakMap,Zh=new WeakMap;function xT(s){const n=new Promise((a,l)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",m)},h=()=>{a(Ca(s.result)),u()},m=()=>{l(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",m)});return n.then(a=>{a instanceof IDBCursor&&T_.set(a,s)}).catch(()=>{}),Zh.set(n,s),n}function MT(s){if(Ih.has(s))return;const n=new Promise((a,l)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",m),s.removeEventListener("abort",m)},h=()=>{a(),u()},m=()=>{l(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",m),s.addEventListener("abort",m)});Ih.set(s,n)}let Nh={get(s,n,a){if(s instanceof IDBTransaction){if(n==="done")return Ih.get(s);if(n==="objectStoreNames")return s.objectStoreNames||A_.get(s);if(n==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return Ca(s[n])},set(s,n,a){return s[n]=a,!0},has(s,n){return s instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in s}};function OT(s){Nh=s(Nh)}function VT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...a){const l=s.call(vh(this),n,...a);return A_.set(l,n.sort?n.sort():[n]),Ca(l)}:NT().includes(s)?function(...n){return s.apply(vh(this),n),Ca(T_.get(this))}:function(...n){return Ca(s.apply(vh(this),n))}}function UT(s){return typeof s=="function"?VT(s):(s instanceof IDBTransaction&&MT(s),DT(s,IT())?new Proxy(s,Nh):s)}function Ca(s){if(s instanceof IDBRequest)return xT(s);if(_h.has(s))return _h.get(s);const n=UT(s);return n!==s&&(_h.set(s,n),Zh.set(n,s)),n}const vh=s=>Zh.get(s);function S_(s,n,{blocked:a,upgrade:l,blocking:u,terminated:h}={}){const m=indexedDB.open(s,n),y=Ca(m);return l&&m.addEventListener("upgradeneeded",v=>{l(Ca(m.result),v.oldVersion,v.newVersion,Ca(m.transaction),v)}),a&&m.addEventListener("blocked",v=>a(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const LT=["get","getKey","getAll","getAllKeys","count"],jT=["put","add","delete","clear"],Eh=new Map;function ey(s,n){if(!(s instanceof IDBDatabase&&!(n in s)&&typeof n=="string"))return;if(Eh.get(n))return Eh.get(n);const a=n.replace(/FromIndex$/,""),l=n!==a,u=jT.includes(a);if(!(a in(l?IDBIndex:IDBObjectStore).prototype)||!(u||LT.includes(a)))return;const h=async function(m,...y){const v=this.transaction(m,u?"readwrite":"readonly");let _=v.store;return l&&(_=_.index(y.shift())),(await Promise.all([_[a](...y),u&&v.done]))[0]};return Eh.set(n,h),h}OT(s=>({...s,get:(n,a,l)=>ey(n,a)||s.get(n,a,l),has:(n,a)=>!!ey(n,a)||s.has(n,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(PT(a)){const l=a.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(a=>a).join(" ")}}function PT(s){return s.getComponent()?.type==="VERSION"}const xh="@firebase/app",ny="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new $h("@firebase/app"),BT="@firebase/app-compat",kT="@firebase/analytics-compat",qT="@firebase/analytics",HT="@firebase/app-check-compat",GT="@firebase/app-check",QT="@firebase/auth",FT="@firebase/auth-compat",YT="@firebase/database",XT="@firebase/data-connect",KT="@firebase/database-compat",$T="@firebase/functions",ZT="@firebase/functions-compat",JT="@firebase/installations",WT="@firebase/installations-compat",t1="@firebase/messaging",e1="@firebase/messaging-compat",n1="@firebase/performance",i1="@firebase/performance-compat",a1="@firebase/remote-config",s1="@firebase/remote-config-compat",r1="@firebase/storage",l1="@firebase/storage-compat",o1="@firebase/firestore",u1="@firebase/ai",c1="@firebase/firestore-compat",f1="firebase",h1="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh="[DEFAULT]",d1={[xh]:"fire-core",[BT]:"fire-core-compat",[qT]:"fire-analytics",[kT]:"fire-analytics-compat",[GT]:"fire-app-check",[HT]:"fire-app-check-compat",[QT]:"fire-auth",[FT]:"fire-auth-compat",[YT]:"fire-rtdb",[XT]:"fire-data-connect",[KT]:"fire-rtdb-compat",[$T]:"fire-fn",[ZT]:"fire-fn-compat",[JT]:"fire-iid",[WT]:"fire-iid-compat",[t1]:"fire-fcm",[e1]:"fire-fcm-compat",[n1]:"fire-perf",[i1]:"fire-perf-compat",[a1]:"fire-rc",[s1]:"fire-rc-compat",[r1]:"fire-gcs",[l1]:"fire-gcs-compat",[o1]:"fire-fst",[c1]:"fire-fst-compat",[u1]:"fire-vertex","fire-js":"fire-js",[f1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=new Map,m1=new Map,Oh=new Map;function iy(s,n){try{s.container.addComponent(n)}catch(a){Zi.debug(`Component ${n.name} failed to register with FirebaseApp ${s.name}`,a)}}function Na(s){const n=s.name;if(Oh.has(n))return Zi.debug(`There were multiple attempts to register component ${n}.`),!1;Oh.set(n,s);for(const a of ku.values())iy(a,s);for(const a of m1.values())iy(a,s);return!0}function eo(s,n){const a=s.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),s.container.getProvider(n)}function g1(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Da=new nc("app","Firebase",p1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(n,a,l){this._isDeleted=!1,this._options={...n},this._config={...a},this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new $i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Da.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=h1;function Jh(s,n={}){let a=s;typeof n!="object"&&(n={name:n});const l={name:Mh,automaticDataCollectionEnabled:!0,...n},u=l.name;if(typeof u!="string"||!u)throw Da.create("bad-app-name",{appName:String(u)});if(a||(a=__()),!a)throw Da.create("no-options");const h=ku.get(u);if(h){if(Xl(a,h.options)&&Xl(l,h.config))return h;throw Da.create("duplicate-app",{appName:u})}const m=new ST(u);for(const v of Oh.values())m.addComponent(v);const y=new y1(a,l,m);return ku.set(u,y),y}function b_(s=Mh){const n=ku.get(s);if(!n&&s===Mh&&__())return Jh();if(!n)throw Da.create("no-app",{appName:s});return n}function pi(s,n,a){let l=d1[s]??s;a&&(l+=`-${a}`);const u=l.match(/\s|\//),h=n.match(/\s|\//);if(u||h){const m=[`Unable to register library "${l}" with version "${n}":`];u&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Zi.warn(m.join(" "));return}Na(new $i(`${l}-version`,()=>({library:l,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="firebase-heartbeat-database",E1=1,Kl="firebase-heartbeat-store";let Th=null;function R_(){return Th||(Th=S_(v1,E1,{upgrade:(s,n)=>{switch(n){case 0:try{s.createObjectStore(Kl)}catch(a){console.warn(a)}}}}).catch(s=>{throw Da.create("idb-open",{originalErrorMessage:s.message})})),Th}async function T1(s){try{const a=(await R_()).transaction(Kl),l=await a.objectStore(Kl).get(w_(s));return await a.done,l}catch(n){if(n instanceof Ua)Zi.warn(n.message);else{const a=Da.create("idb-get",{originalErrorMessage:n?.message});Zi.warn(a.message)}}}async function ay(s,n){try{const l=(await R_()).transaction(Kl,"readwrite");await l.objectStore(Kl).put(n,w_(s)),await l.done}catch(a){if(a instanceof Ua)Zi.warn(a.message);else{const l=Da.create("idb-set",{originalErrorMessage:a?.message});Zi.warn(l.message)}}}function w_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=1024,S1=30;class b1{constructor(n){this.container=n,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new w1(a),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=sy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>S1){const u=C1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Zi.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sy(),{heartbeatsToSend:a,unsentEntries:l}=R1(this._heartbeatsCache.heartbeats),u=Bu(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Zi.warn(n),""}}}function sy(){return new Date().toISOString().substring(0,10)}function R1(s,n=A1){const a=[];let l=s.slice();for(const u of s){const h=a.find(m=>m.agent===u.agent);if(h){if(h.dates.push(u.date),ry(a)>n){h.dates.pop();break}}else if(a.push({agent:u.agent,dates:[u.date]}),ry(a)>n){a.pop();break}l=l.slice(1)}return{heartbeatsToSend:a,unsentEntries:l}}class w1{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v_()?E_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await T1(this.app);return a?.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const l=await this.read();return ay(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const l=await this.read();return ay(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...n.heartbeats]})}else return}}function ry(s){return Bu(JSON.stringify({version:2,heartbeats:s})).length}function C1(s){if(s.length===0)return-1;let n=0,a=s[0].date;for(let l=1;l<s.length;l++)s[l].date<a&&(a=s[l].date,n=l);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(s){Na(new $i("platform-logger",n=>new zT(n),"PRIVATE")),Na(new $i("heartbeat",n=>new b1(n),"PRIVATE")),pi(xh,ny,s),pi(xh,ny,"esm2020"),pi("fire-js","")}D1("");var I1="firebase",N1="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi(I1,N1,"app");var ly=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wh;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function n(V,A){function w(){}w.prototype=A.prototype,V.D=A.prototype,V.prototype=new w,V.prototype.constructor=V,V.C=function(N,O,U){for(var R=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)R[Gt-2]=arguments[Gt];return A.prototype[O].apply(N,R)}}function a(){this.blockSize=-1}function l(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}n(l,a),l.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(V,A,w){w||(w=0);var N=Array(16);if(typeof A=="string")for(var O=0;16>O;++O)N[O]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(O=0;16>O;++O)N[O]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=V.g[0],w=V.g[1],O=V.g[2];var U=V.g[3],R=A+(U^w&(O^U))+N[0]+3614090360&4294967295;A=w+(R<<7&4294967295|R>>>25),R=U+(O^A&(w^O))+N[1]+3905402710&4294967295,U=A+(R<<12&4294967295|R>>>20),R=O+(w^U&(A^w))+N[2]+606105819&4294967295,O=U+(R<<17&4294967295|R>>>15),R=w+(A^O&(U^A))+N[3]+3250441966&4294967295,w=O+(R<<22&4294967295|R>>>10),R=A+(U^w&(O^U))+N[4]+4118548399&4294967295,A=w+(R<<7&4294967295|R>>>25),R=U+(O^A&(w^O))+N[5]+1200080426&4294967295,U=A+(R<<12&4294967295|R>>>20),R=O+(w^U&(A^w))+N[6]+2821735955&4294967295,O=U+(R<<17&4294967295|R>>>15),R=w+(A^O&(U^A))+N[7]+4249261313&4294967295,w=O+(R<<22&4294967295|R>>>10),R=A+(U^w&(O^U))+N[8]+1770035416&4294967295,A=w+(R<<7&4294967295|R>>>25),R=U+(O^A&(w^O))+N[9]+2336552879&4294967295,U=A+(R<<12&4294967295|R>>>20),R=O+(w^U&(A^w))+N[10]+4294925233&4294967295,O=U+(R<<17&4294967295|R>>>15),R=w+(A^O&(U^A))+N[11]+2304563134&4294967295,w=O+(R<<22&4294967295|R>>>10),R=A+(U^w&(O^U))+N[12]+1804603682&4294967295,A=w+(R<<7&4294967295|R>>>25),R=U+(O^A&(w^O))+N[13]+4254626195&4294967295,U=A+(R<<12&4294967295|R>>>20),R=O+(w^U&(A^w))+N[14]+2792965006&4294967295,O=U+(R<<17&4294967295|R>>>15),R=w+(A^O&(U^A))+N[15]+1236535329&4294967295,w=O+(R<<22&4294967295|R>>>10),R=A+(O^U&(w^O))+N[1]+4129170786&4294967295,A=w+(R<<5&4294967295|R>>>27),R=U+(w^O&(A^w))+N[6]+3225465664&4294967295,U=A+(R<<9&4294967295|R>>>23),R=O+(A^w&(U^A))+N[11]+643717713&4294967295,O=U+(R<<14&4294967295|R>>>18),R=w+(U^A&(O^U))+N[0]+3921069994&4294967295,w=O+(R<<20&4294967295|R>>>12),R=A+(O^U&(w^O))+N[5]+3593408605&4294967295,A=w+(R<<5&4294967295|R>>>27),R=U+(w^O&(A^w))+N[10]+38016083&4294967295,U=A+(R<<9&4294967295|R>>>23),R=O+(A^w&(U^A))+N[15]+3634488961&4294967295,O=U+(R<<14&4294967295|R>>>18),R=w+(U^A&(O^U))+N[4]+3889429448&4294967295,w=O+(R<<20&4294967295|R>>>12),R=A+(O^U&(w^O))+N[9]+568446438&4294967295,A=w+(R<<5&4294967295|R>>>27),R=U+(w^O&(A^w))+N[14]+3275163606&4294967295,U=A+(R<<9&4294967295|R>>>23),R=O+(A^w&(U^A))+N[3]+4107603335&4294967295,O=U+(R<<14&4294967295|R>>>18),R=w+(U^A&(O^U))+N[8]+1163531501&4294967295,w=O+(R<<20&4294967295|R>>>12),R=A+(O^U&(w^O))+N[13]+2850285829&4294967295,A=w+(R<<5&4294967295|R>>>27),R=U+(w^O&(A^w))+N[2]+4243563512&4294967295,U=A+(R<<9&4294967295|R>>>23),R=O+(A^w&(U^A))+N[7]+1735328473&4294967295,O=U+(R<<14&4294967295|R>>>18),R=w+(U^A&(O^U))+N[12]+2368359562&4294967295,w=O+(R<<20&4294967295|R>>>12),R=A+(w^O^U)+N[5]+4294588738&4294967295,A=w+(R<<4&4294967295|R>>>28),R=U+(A^w^O)+N[8]+2272392833&4294967295,U=A+(R<<11&4294967295|R>>>21),R=O+(U^A^w)+N[11]+1839030562&4294967295,O=U+(R<<16&4294967295|R>>>16),R=w+(O^U^A)+N[14]+4259657740&4294967295,w=O+(R<<23&4294967295|R>>>9),R=A+(w^O^U)+N[1]+2763975236&4294967295,A=w+(R<<4&4294967295|R>>>28),R=U+(A^w^O)+N[4]+1272893353&4294967295,U=A+(R<<11&4294967295|R>>>21),R=O+(U^A^w)+N[7]+4139469664&4294967295,O=U+(R<<16&4294967295|R>>>16),R=w+(O^U^A)+N[10]+3200236656&4294967295,w=O+(R<<23&4294967295|R>>>9),R=A+(w^O^U)+N[13]+681279174&4294967295,A=w+(R<<4&4294967295|R>>>28),R=U+(A^w^O)+N[0]+3936430074&4294967295,U=A+(R<<11&4294967295|R>>>21),R=O+(U^A^w)+N[3]+3572445317&4294967295,O=U+(R<<16&4294967295|R>>>16),R=w+(O^U^A)+N[6]+76029189&4294967295,w=O+(R<<23&4294967295|R>>>9),R=A+(w^O^U)+N[9]+3654602809&4294967295,A=w+(R<<4&4294967295|R>>>28),R=U+(A^w^O)+N[12]+3873151461&4294967295,U=A+(R<<11&4294967295|R>>>21),R=O+(U^A^w)+N[15]+530742520&4294967295,O=U+(R<<16&4294967295|R>>>16),R=w+(O^U^A)+N[2]+3299628645&4294967295,w=O+(R<<23&4294967295|R>>>9),R=A+(O^(w|~U))+N[0]+4096336452&4294967295,A=w+(R<<6&4294967295|R>>>26),R=U+(w^(A|~O))+N[7]+1126891415&4294967295,U=A+(R<<10&4294967295|R>>>22),R=O+(A^(U|~w))+N[14]+2878612391&4294967295,O=U+(R<<15&4294967295|R>>>17),R=w+(U^(O|~A))+N[5]+4237533241&4294967295,w=O+(R<<21&4294967295|R>>>11),R=A+(O^(w|~U))+N[12]+1700485571&4294967295,A=w+(R<<6&4294967295|R>>>26),R=U+(w^(A|~O))+N[3]+2399980690&4294967295,U=A+(R<<10&4294967295|R>>>22),R=O+(A^(U|~w))+N[10]+4293915773&4294967295,O=U+(R<<15&4294967295|R>>>17),R=w+(U^(O|~A))+N[1]+2240044497&4294967295,w=O+(R<<21&4294967295|R>>>11),R=A+(O^(w|~U))+N[8]+1873313359&4294967295,A=w+(R<<6&4294967295|R>>>26),R=U+(w^(A|~O))+N[15]+4264355552&4294967295,U=A+(R<<10&4294967295|R>>>22),R=O+(A^(U|~w))+N[6]+2734768916&4294967295,O=U+(R<<15&4294967295|R>>>17),R=w+(U^(O|~A))+N[13]+1309151649&4294967295,w=O+(R<<21&4294967295|R>>>11),R=A+(O^(w|~U))+N[4]+4149444226&4294967295,A=w+(R<<6&4294967295|R>>>26),R=U+(w^(A|~O))+N[11]+3174756917&4294967295,U=A+(R<<10&4294967295|R>>>22),R=O+(A^(U|~w))+N[2]+718787259&4294967295,O=U+(R<<15&4294967295|R>>>17),R=w+(U^(O|~A))+N[9]+3951481745&4294967295,V.g[0]=V.g[0]+A&4294967295,V.g[1]=V.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,V.g[2]=V.g[2]+O&4294967295,V.g[3]=V.g[3]+U&4294967295}l.prototype.u=function(V,A){A===void 0&&(A=V.length);for(var w=A-this.blockSize,N=this.B,O=this.h,U=0;U<A;){if(O==0)for(;U<=w;)u(this,V,U),U+=this.blockSize;if(typeof V=="string"){for(;U<A;)if(N[O++]=V.charCodeAt(U++),O==this.blockSize){u(this,N),O=0;break}}else for(;U<A;)if(N[O++]=V[U++],O==this.blockSize){u(this,N),O=0;break}}this.h=O,this.o+=A},l.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var A=1;A<V.length-8;++A)V[A]=0;var w=8*this.o;for(A=V.length-8;A<V.length;++A)V[A]=w&255,w/=256;for(this.u(V),V=Array(16),A=w=0;4>A;++A)for(var N=0;32>N;N+=8)V[w++]=this.g[A]>>>N&255;return V};function h(V,A){var w=y;return Object.prototype.hasOwnProperty.call(w,V)?w[V]:w[V]=A(V)}function m(V,A){this.h=A;for(var w=[],N=!0,O=V.length-1;0<=O;O--){var U=V[O]|0;N&&U==A||(w[O]=U,N=!1)}this.g=w}var y={};function v(V){return-128<=V&&128>V?h(V,function(A){return new m([A|0],0>A?-1:0)}):new m([V|0],0>V?-1:0)}function _(V){if(isNaN(V)||!isFinite(V))return M;if(0>V)return it(_(-V));for(var A=[],w=1,N=0;V>=w;N++)A[N]=V/w|0,w*=4294967296;return new m(A,0)}function S(V,A){if(V.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(V.charAt(0)=="-")return it(S(V.substring(1),A));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(A,8)),N=M,O=0;O<V.length;O+=8){var U=Math.min(8,V.length-O),R=parseInt(V.substring(O,O+U),A);8>U?(U=_(Math.pow(A,U)),N=N.j(U).add(_(R))):(N=N.j(w),N=N.add(_(R)))}return N}var M=v(0),I=v(1),K=v(16777216);s=m.prototype,s.m=function(){if(nt(this))return-it(this).m();for(var V=0,A=1,w=0;w<this.g.length;w++){var N=this.i(w);V+=(0<=N?N:4294967296+N)*A,A*=4294967296}return V},s.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(Z(this))return"0";if(nt(this))return"-"+it(this).toString(V);for(var A=_(Math.pow(V,6)),w=this,N="";;){var O=jt(w,A).g;w=St(w,O.j(A));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(V);if(w=O,Z(w))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},s.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function Z(V){if(V.h!=0)return!1;for(var A=0;A<V.g.length;A++)if(V.g[A]!=0)return!1;return!0}function nt(V){return V.h==-1}s.l=function(V){return V=St(this,V),nt(V)?-1:Z(V)?0:1};function it(V){for(var A=V.g.length,w=[],N=0;N<A;N++)w[N]=~V.g[N];return new m(w,~V.h).add(I)}s.abs=function(){return nt(this)?it(this):this},s.add=function(V){for(var A=Math.max(this.g.length,V.g.length),w=[],N=0,O=0;O<=A;O++){var U=N+(this.i(O)&65535)+(V.i(O)&65535),R=(U>>>16)+(this.i(O)>>>16)+(V.i(O)>>>16);N=R>>>16,U&=65535,R&=65535,w[O]=R<<16|U}return new m(w,w[w.length-1]&-2147483648?-1:0)};function St(V,A){return V.add(it(A))}s.j=function(V){if(Z(this)||Z(V))return M;if(nt(this))return nt(V)?it(this).j(it(V)):it(it(this).j(V));if(nt(V))return it(this.j(it(V)));if(0>this.l(K)&&0>V.l(K))return _(this.m()*V.m());for(var A=this.g.length+V.g.length,w=[],N=0;N<2*A;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var O=0;O<V.g.length;O++){var U=this.i(N)>>>16,R=this.i(N)&65535,Gt=V.i(O)>>>16,Nt=V.i(O)&65535;w[2*N+2*O]+=R*Nt,vt(w,2*N+2*O),w[2*N+2*O+1]+=U*Nt,vt(w,2*N+2*O+1),w[2*N+2*O+1]+=R*Gt,vt(w,2*N+2*O+1),w[2*N+2*O+2]+=U*Gt,vt(w,2*N+2*O+2)}for(N=0;N<A;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=A;N<2*A;N++)w[N]=0;return new m(w,0)};function vt(V,A){for(;(V[A]&65535)!=V[A];)V[A+1]+=V[A]>>>16,V[A]&=65535,A++}function dt(V,A){this.g=V,this.h=A}function jt(V,A){if(Z(A))throw Error("division by zero");if(Z(V))return new dt(M,M);if(nt(V))return A=jt(it(V),A),new dt(it(A.g),it(A.h));if(nt(A))return A=jt(V,it(A)),new dt(it(A.g),A.h);if(30<V.g.length){if(nt(V)||nt(A))throw Error("slowDivide_ only works with positive integers.");for(var w=I,N=A;0>=N.l(V);)w=_t(w),N=_t(N);var O=Ct(w,1),U=Ct(N,1);for(N=Ct(N,2),w=Ct(w,2);!Z(N);){var R=U.add(N);0>=R.l(V)&&(O=O.add(w),U=R),N=Ct(N,1),w=Ct(w,1)}return A=St(V,O.j(A)),new dt(O,A)}for(O=M;0<=V.l(A);){for(w=Math.max(1,Math.floor(V.m()/A.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=_(w),R=U.j(A);nt(R)||0<R.l(V);)w-=N,U=_(w),R=U.j(A);Z(U)&&(U=I),O=O.add(U),V=St(V,R)}return new dt(O,V)}s.A=function(V){return jt(this,V).h},s.and=function(V){for(var A=Math.max(this.g.length,V.g.length),w=[],N=0;N<A;N++)w[N]=this.i(N)&V.i(N);return new m(w,this.h&V.h)},s.or=function(V){for(var A=Math.max(this.g.length,V.g.length),w=[],N=0;N<A;N++)w[N]=this.i(N)|V.i(N);return new m(w,this.h|V.h)},s.xor=function(V){for(var A=Math.max(this.g.length,V.g.length),w=[],N=0;N<A;N++)w[N]=this.i(N)^V.i(N);return new m(w,this.h^V.h)};function _t(V){for(var A=V.g.length+1,w=[],N=0;N<A;N++)w[N]=V.i(N)<<1|V.i(N-1)>>>31;return new m(w,V.h)}function Ct(V,A){var w=A>>5;A%=32;for(var N=V.g.length-w,O=[],U=0;U<N;U++)O[U]=0<A?V.i(U+w)>>>A|V.i(U+w+1)<<32-A:V.i(U+w);return new m(O,V.h)}l.prototype.digest=l.prototype.v,l.prototype.reset=l.prototype.s,l.prototype.update=l.prototype.u,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=_,m.fromString=S,Wh=m}).apply(typeof ly<"u"?ly:typeof self<"u"?self:typeof window<"u"?window:{});var Iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var C_,Bl,D_,Uu,Vh,I_,N_,x_;(function(){var s,n=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,d,g){return o==Array.prototype||o==Object.prototype||(o[d]=g.value),o};function a(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Iu=="object"&&Iu];for(var d=0;d<o.length;++d){var g=o[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var l=a(this);function u(o,d){if(d)t:{var g=l;o=o.split(".");for(var T=0;T<o.length-1;T++){var j=o[T];if(!(j in g))break t;g=g[j]}o=o[o.length-1],T=g[o],d=d(T),d!=T&&d!=null&&n(g,o,{configurable:!0,writable:!0,value:d})}}function h(o,d){o instanceof String&&(o+="");var g=0,T=!1,j={next:function(){if(!T&&g<o.length){var q=g++;return{value:d(q,o[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}u("Array.prototype.values",function(o){return o||function(){return h(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var m=m||{},y=this||self;function v(o){var d=typeof o;return d=d!="object"?d:o?Array.isArray(o)?"array":d:"null",d=="array"||d=="object"&&typeof o.length=="number"}function _(o){var d=typeof o;return d=="object"&&o!=null||d=="function"}function S(o,d,g){return o.call.apply(o.bind,arguments)}function M(o,d,g){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,T),o.apply(d,j)}}return function(){return o.apply(d,arguments)}}function I(o,d,g){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:M,I.apply(null,arguments)}function K(o,d){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function Z(o,d){function g(){}g.prototype=d.prototype,o.aa=d.prototype,o.prototype=new g,o.prototype.constructor=o,o.Qb=function(T,j,q){for(var tt=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)tt[Mt-2]=arguments[Mt];return d.prototype[j].apply(T,tt)}}function nt(o){const d=o.length;if(0<d){const g=Array(d);for(let T=0;T<d;T++)g[T]=o[T];return g}return[]}function it(o,d){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(v(T)){const j=o.length||0,q=T.length||0;o.length=j+q;for(let tt=0;tt<q;tt++)o[j+tt]=T[tt]}else o.push(T)}}class St{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function vt(o){return/^[\s\xa0]*$/.test(o)}function dt(){var o=y.navigator;return o&&(o=o.userAgent)?o:""}function jt(o){return jt[" "](o),o}jt[" "]=function(){};var _t=dt().indexOf("Gecko")!=-1&&!(dt().toLowerCase().indexOf("webkit")!=-1&&dt().indexOf("Edge")==-1)&&!(dt().indexOf("Trident")!=-1||dt().indexOf("MSIE")!=-1)&&dt().indexOf("Edge")==-1;function Ct(o,d,g){for(const T in o)d.call(g,o[T],T,o)}function V(o,d){for(const g in o)d.call(void 0,o[g],g,o)}function A(o){const d={};for(const g in o)d[g]=o[g];return d}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(o,d){let g,T;for(let j=1;j<arguments.length;j++){T=arguments[j];for(g in T)o[g]=T[g];for(let q=0;q<w.length;q++)g=w[q],Object.prototype.hasOwnProperty.call(T,g)&&(o[g]=T[g])}}function O(o){var d=1;o=o.split(":");const g=[];for(;0<d&&o.length;)g.push(o.shift()),d--;return o.length&&g.push(o.join(":")),g}function U(o){y.setTimeout(()=>{throw o},0)}function R(){var o=xt;let d=null;return o.g&&(d=o.g,o.g=o.g.next,o.g||(o.h=null),d.next=null),d}class Gt{constructor(){this.h=this.g=null}add(d,g){const T=Nt.get();T.set(d,g),this.h?this.h.next=T:this.g=T,this.h=T}}var Nt=new St(()=>new H,o=>o.reset());class H{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let W,rt=!1,xt=new Gt,C=()=>{const o=y.Promise.resolve(void 0);W=()=>{o.then(F)}};var F=()=>{for(var o;o=R();){try{o.h.call(o.g)}catch(g){U(g)}var d=Nt;d.j(o),100>d.h&&(d.h++,o.next=d.g,d.g=o)}rt=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(o,d){this.type=o,this.g=this.target=d,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ut=(function(){if(!y.addEventListener||!Object.defineProperty)return!1;var o=!1,d=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};y.addEventListener("test",g,d),y.removeEventListener("test",g,d)}catch{}return o})();function Et(o,d){if(J.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var g=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=d,d=o.relatedTarget){if(_t){t:{try{jt(d.nodeName);var j=!0;break t}catch{}j=!1}j||(d=null)}}else g=="mouseover"?d=o.fromElement:g=="mouseout"&&(d=o.toElement);this.relatedTarget=d,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:pt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Et.aa.h.call(this)}}Z(Et,J);var pt={2:"touch",3:"pen",4:"mouse"};Et.prototype.h=function(){Et.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function nn(o,d,g,T,j){this.listener=o,this.proxy=null,this.src=d,this.type=g,this.capture=!!T,this.ha=j,this.key=++Zt,this.da=this.fa=!1}function An(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function jn(o){this.src=o,this.g={},this.h=0}jn.prototype.add=function(o,d,g,T,j){var q=o.toString();o=this.g[q],o||(o=this.g[q]=[],this.h++);var tt=Zn(o,d,T,j);return-1<tt?(d=o[tt],g||(d.fa=!1)):(d=new nn(d,this.src,q,!!T,j),d.fa=g,o.push(d)),d};function zn(o,d){var g=d.type;if(g in o.g){var T=o.g[g],j=Array.prototype.indexOf.call(T,d,void 0),q;(q=0<=j)&&Array.prototype.splice.call(T,j,1),q&&(An(d),o.g[g].length==0&&(delete o.g[g],o.h--))}}function Zn(o,d,g,T){for(var j=0;j<o.length;++j){var q=o[j];if(!q.da&&q.listener==d&&q.capture==!!g&&q.ha==T)return j}return-1}var Pn="closure_lm_"+(1e6*Math.random()|0),Ji={};function Wi(o,d,g,T,j){if(Array.isArray(d)){for(var q=0;q<d.length;q++)Wi(o,d[q],g,T,j);return null}return g=Vs(g),o&&o[ce]?o.K(d,g,_(T)?!!T.capture:!1,j):an(o,d,g,!1,T,j)}function an(o,d,g,T,j,q){if(!d)throw Error("Invalid event type");var tt=_(j)?!!j.capture:!!j,Mt=Ei(o);if(Mt||(o[Pn]=Mt=new jn(o)),g=Mt.add(d,g,T,tt,q),g.proxy)return g;if(T=ja(),g.proxy=T,T.src=o,T.listener=g,o.addEventListener)ut||(j=tt),j===void 0&&(j=!1),o.addEventListener(d.toString(),T,j);else if(o.attachEvent)o.attachEvent(vi(d.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ja(){function o(g){return d.call(o.src,o.listener,g)}const d=Pa;return o}function za(o,d,g,T,j){if(Array.isArray(d))for(var q=0;q<d.length;q++)za(o,d[q],g,T,j);else T=_(T)?!!T.capture:!!T,g=Vs(g),o&&o[ce]?(o=o.i,d=String(d).toString(),d in o.g&&(q=o.g[d],g=Zn(q,g,T,j),-1<g&&(An(q[g]),Array.prototype.splice.call(q,g,1),q.length==0&&(delete o.g[d],o.h--)))):o&&(o=Ei(o))&&(d=o.g[d.toString()],o=-1,d&&(o=Zn(d,g,T,j)),(g=-1<o?d[o]:null)&&Sn(g))}function Sn(o){if(typeof o!="number"&&o&&!o.da){var d=o.src;if(d&&d[ce])zn(d.i,o);else{var g=o.type,T=o.proxy;d.removeEventListener?d.removeEventListener(g,T,o.capture):d.detachEvent?d.detachEvent(vi(g),T):d.addListener&&d.removeListener&&d.removeListener(T),(g=Ei(d))?(zn(g,o),g.h==0&&(g.src=null,d[Pn]=null)):An(o)}}}function vi(o){return o in Ji?Ji[o]:Ji[o]="on"+o}function Pa(o,d){if(o.da)o=!0;else{d=new Et(d,this);var g=o.listener,T=o.ha||o.src;o.fa&&Sn(o),o=g.call(T,d)}return o}function Ei(o){return o=o[Pn],o instanceof jn?o:null}var bn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vs(o){return typeof o=="function"?o:(o[bn]||(o[bn]=function(d){return o.handleEvent(d)}),o[bn])}function ie(){et.call(this),this.i=new jn(this),this.M=this,this.F=null}Z(ie,et),ie.prototype[ce]=!0,ie.prototype.removeEventListener=function(o,d,g,T){za(this,o,d,g,T)};function zt(o,d){var g,T=o.F;if(T)for(g=[];T;T=T.F)g.push(T);if(o=o.M,T=d.type||d,typeof d=="string")d=new J(d,o);else if(d instanceof J)d.target=d.target||o;else{var j=d;d=new J(T,o),N(d,j)}if(j=!0,g)for(var q=g.length-1;0<=q;q--){var tt=d.g=g[q];j=Ze(tt,T,!0,d)&&j}if(tt=d.g=o,j=Ze(tt,T,!0,d)&&j,j=Ze(tt,T,!1,d)&&j,g)for(q=0;q<g.length;q++)tt=d.g=g[q],j=Ze(tt,T,!1,d)&&j}ie.prototype.N=function(){if(ie.aa.N.call(this),this.i){var o=this.i,d;for(d in o.g){for(var g=o.g[d],T=0;T<g.length;T++)An(g[T]);delete o.g[d],o.h--}}this.F=null},ie.prototype.K=function(o,d,g,T){return this.i.add(String(o),d,!1,g,T)},ie.prototype.L=function(o,d,g,T){return this.i.add(String(o),d,!0,g,T)};function Ze(o,d,g,T){if(d=o.i.g[String(d)],!d)return!0;d=d.concat();for(var j=!0,q=0;q<d.length;++q){var tt=d[q];if(tt&&!tt.da&&tt.capture==g){var Mt=tt.listener,be=tt.ha||tt.src;tt.fa&&zn(o.i,tt),j=Mt.call(be,T)!==!1&&j}}return j&&!T.defaultPrevented}function Se(o,d,g){if(typeof o=="function")g&&(o=I(o,g));else if(o&&typeof o.handleEvent=="function")o=I(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:y.setTimeout(o,d||0)}function Ba(o){o.g=Se(()=>{o.g=null,o.i&&(o.i=!1,Ba(o))},o.l);const d=o.h;o.h=null,o.m.apply(null,d)}class ka extends et{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Ba(this)}N(){super.N(),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jn(o){et.call(this),this.h=o,this.g={}}Z(Jn,et);var Ti=[];function Ai(o){Ct(o.g,function(d,g){this.g.hasOwnProperty(g)&&Sn(d)},o),o.g={}}Jn.prototype.N=function(){Jn.aa.N.call(this),Ai(this)},Jn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fn=y.JSON.stringify,ta=y.JSON.parse,Wn=class{stringify(o){return y.JSON.stringify(o,void 0)}parse(o){return y.JSON.parse(o,void 0)}};function qa(){}qa.prototype.h=null;function Ha(o){return o.h||(o.h=o.i())}function Ga(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kn(){J.call(this,"d")}Z(kn,J);function Us(){J.call(this,"c")}Z(Us,J);var lt={},kt=null;function Wt(){return kt=kt||new ie}lt.La="serverreachability";function hn(o){J.call(this,lt.La,o)}Z(hn,J);function Si(o){const d=Wt();zt(d,new hn(d))}lt.STAT_EVENT="statevent";function Ls(o,d){J.call(this,lt.STAT_EVENT,o),this.stat=d}Z(Ls,J);function te(o){const d=Wt();zt(d,new Ls(d,o))}lt.Ma="timingevent";function le(o,d){J.call(this,lt.Ma,o),this.size=d}Z(le,J);function ye(o,d){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return y.setTimeout(function(){o()},d)}function Rn(){this.g=!0}Rn.prototype.xa=function(){this.g=!1};function jr(o,d,g,T,j,q){o.info(function(){if(o.g)if(q)for(var tt="",Mt=q.split("&"),be=0;be<Mt.length;be++){var Ot=Mt[be].split("=");if(1<Ot.length){var Ie=Ot[0];Ot=Ot[1];var Re=Ie.split("_");tt=2<=Re.length&&Re[1]=="type"?tt+(Ie+"="+Ot+"&"):tt+(Ie+"=redacted&")}}else tt=null;else tt=q;return"XMLHTTP REQ ("+T+") [attempt "+j+"]: "+d+`
`+g+`
`+tt})}function mc(o,d,g,T,j,q,tt){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+j+"]: "+d+`
`+g+`
`+q+" "+tt})}function ea(o,d,g,T){o.info(function(){return"XMLHTTP TEXT ("+d+"): "+Qa(o,g)+(T?" "+T:"")})}function oo(o,d){o.info(function(){return"TIMEOUT: "+d})}Rn.prototype.info=function(){};function Qa(o,d){if(!o.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(o=0;o<g.length;o++)if(Array.isArray(g[o])){var T=g[o];if(!(2>T.length)){var j=T[1];if(Array.isArray(j)&&!(1>j.length)){var q=j[0];if(q!="noop"&&q!="stop"&&q!="close")for(var tt=1;tt<j.length;tt++)j[tt]=""}}}}return fn(g)}catch{return d}}var na={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ti;function ei(){}Z(ei,qa),ei.prototype.g=function(){return new XMLHttpRequest},ei.prototype.i=function(){return{}},ti=new ei;function Je(o,d,g,T){this.j=o,this.i=d,this.l=g,this.R=T||1,this.U=new Jn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var zr={},js={};function qn(o,d,g){o.L=1,o.v=$a(dn(d)),o.m=g,o.P=!0,Ri(o,null)}function Ri(o,d){o.F=Date.now(),Fa(o),o.A=dn(o.v);var g=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),Gr(g.i,"t",T),o.C=0,g=o.j.J,o.h=new me,o.g=Ro(o.j,g?d:null,!o.m),0<o.O&&(o.M=new ka(I(o.Y,o,o.g),o.O)),d=o.U,g=o.g,T=o.ca;var j="readystatechange";Array.isArray(j)||(j&&(Ti[0]=j.toString()),j=Ti);for(var q=0;q<j.length;q++){var tt=Wi(g,j[q],T||d.handleEvent,!1,d.h||d);if(!tt)break;d.g[tt.key]=tt}d=o.H?A(o.H):{},o.m?(o.u||(o.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,d)):(o.u="GET",o.g.ea(o.A,o.u,null,d)),Si(),jr(o.i,o.u,o.A,o.l,o.R,o.m)}Je.prototype.ca=function(o){o=o.target;const d=this.M;d&&In(o)==3?d.j():this.Y(o)},Je.prototype.Y=function(o){try{if(o==this.g)t:{const Re=In(this.g);var d=this.g.Ba();const Oi=this.g.Z();if(!(3>Re)&&(Re!=3||this.g&&(this.h.h||this.g.oa()||yo(this.g)))){this.J||Re!=4||d==7||(d==8||0>=Oi?Si(3):Si(2)),ia(this);var g=this.g.Z();this.X=g;e:if(uo(this)){var T=yo(this.g);o="";var j=T.length,q=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),ni(this);var tt="";break e}this.h.i=new y.TextDecoder}for(d=0;d<j;d++)this.h.h=!0,o+=this.h.i.decode(T[d],{stream:!(q&&d==j-1)});T.length=0,this.h.g+=o,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=g==200,mc(this.i,this.u,this.A,this.l,this.R,Re,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,be=this.g;if((Mt=be.g?be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vt(Mt)){var Ot=Mt;break e}}Ot=null}if(g=Ot)ea(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ya(this,g);else{this.o=!1,this.s=3,te(12),Ue(this),ni(this);break t}}if(this.P){g=!0;let Le;for(;!this.J&&this.C<tt.length;)if(Le=co(this,tt),Le==js){Re==4&&(this.s=4,te(14),g=!1),ea(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==zr){this.s=4,te(15),ea(this.i,this.l,tt,"[Invalid Chunk]"),g=!1;break}else ea(this.i,this.l,Le,null),Ya(this,Le);if(uo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||tt.length!=0||this.h.h||(this.s=1,te(16),g=!1),this.o=this.o&&g,!g)ea(this.i,this.l,tt,"[Invalid Chunked Response]"),Ue(this),ni(this);else if(0<tt.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),as(Ie),Ie.M=!0,te(11))}}else ea(this.i,this.l,tt,null),Ya(this,tt);Re==4&&Ue(this),this.o&&!this.J&&(Re==4?Ao(this.j,this):(this.o=!1,Fa(this)))}else vc(this.g),g==400&&0<tt.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),Ue(this),ni(this)}}}catch{}finally{}};function uo(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function co(o,d){var g=o.C,T=d.indexOf(`
`,g);return T==-1?js:(g=Number(d.substring(g,T)),isNaN(g)?zr:(T+=1,T+g>d.length?js:(d=d.slice(T,T+g),o.C=T+g,d)))}Je.prototype.cancel=function(){this.J=!0,Ue(this)};function Fa(o){o.S=Date.now()+o.I,fo(o,o.I)}function fo(o,d){if(o.B!=null)throw Error("WatchDog timer not null");o.B=ye(I(o.ba,o),d)}function ia(o){o.B&&(y.clearTimeout(o.B),o.B=null)}Je.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(oo(this.i,this.A),this.L!=2&&(Si(),te(17)),Ue(this),this.s=2,ni(this)):fo(this,this.S-o)};function ni(o){o.j.G==0||o.J||Ao(o.j,o)}function Ue(o){ia(o);var d=o.M;d&&typeof d.ma=="function"&&d.ma(),o.M=null,Ai(o.U),o.g&&(d=o.g,o.g=null,d.abort(),d.ma())}function Ya(o,d){try{var g=o.j;if(g.G!=0&&(g.g==o||Pr(g.h,o))){if(!o.K&&Pr(g.h,o)&&g.G==3){try{var T=g.Da.g.parse(d)}catch{T=null}if(Array.isArray(T)&&T.length==3){var j=T;if(j[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<o.F)Ks(g),Ys(g);else break t;Kr(g),te(18)}}else g.za=j[1],0<g.za-g.T&&37500>j[2]&&g.F&&g.v==0&&!g.C&&(g.C=ye(I(g.Za,g),6e3));if(1>=Ps(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Mi(g,11)}else if((o.K||g.g==o)&&Ks(g),!vt(d))for(j=g.Da.g.parse(d),d=0;d<j.length;d++){let Ot=j[d];if(g.T=Ot[0],Ot=Ot[1],g.G==2)if(Ot[0]=="c"){g.K=Ot[1],g.ia=Ot[2];const Ie=Ot[3];Ie!=null&&(g.la=Ie,g.j.info("VER="+g.la));const Re=Ot[4];Re!=null&&(g.Aa=Re,g.j.info("SVER="+g.Aa));const Oi=Ot[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(T=1.5*Oi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Le=o.g;if(Le){const ui=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ui){var q=T.h;q.g||ui.indexOf("spdy")==-1&&ui.indexOf("quic")==-1&&ui.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Bs(q,q.h),q.h=null))}if(T.D){const Zr=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;Zr&&(T.ya=Zr,Yt(T.I,T.D,Zr))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-o.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var tt=o;if(T.qa=bo(T,T.J?T.ia:null,T.W),tt.K){We(T.h,tt);var Mt=tt,be=T.L;be&&(Mt.I=be),Mt.B&&(ia(Mt),Fa(Mt)),T.g=tt}else Eo(T);0<g.i.length&&Xs(g)}else Ot[0]!="stop"&&Ot[0]!="close"||Mi(g,7);else g.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?Mi(g,7):Yr(g):Ot[0]!="noop"&&g.l&&g.l.ta(Ot),g.v=0)}}Si(4)}catch{}}var ho=class{constructor(o,d){this.g=o,this.map=d}};function wi(o){this.l=o||10,y.PerformanceNavigationTiming?(o=y.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(y.chrome&&y.chrome.loadTimes&&y.chrome.loadTimes()&&y.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zs(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Ps(o){return o.h?1:o.g?o.g.size:0}function Pr(o,d){return o.h?o.h==d:o.g?o.g.has(d):!1}function Bs(o,d){o.g?o.g.add(d):o.h=d}function We(o,d){o.h&&o.h==d?o.h=null:o.g&&o.g.has(d)&&o.g.delete(d)}wi.prototype.cancel=function(){if(this.i=Br(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Br(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let d=o.i;for(const g of o.g.values())d=d.concat(g.D);return d}return nt(o.i)}function gc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(v(o)){for(var d=[],g=o.length,T=0;T<g;T++)d.push(o[T]);return d}d=[],g=0;for(T in o)d[g++]=o[T];return d}function ks(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(v(o)||typeof o=="string"){var d=[];o=o.length;for(var g=0;g<o;g++)d.push(g);return d}d=[],g=0;for(const T in o)d[g++]=T;return d}}}function kr(o,d){if(o.forEach&&typeof o.forEach=="function")o.forEach(d,void 0);else if(v(o)||typeof o=="string")Array.prototype.forEach.call(o,d,void 0);else for(var g=ks(o),T=gc(o),j=T.length,q=0;q<j;q++)d.call(void 0,T[q],g&&g[q],o)}var Xa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pc(o,d){if(o){o=o.split("&");for(var g=0;g<o.length;g++){var T=o[g].indexOf("="),j=null;if(0<=T){var q=o[g].substring(0,T);j=o[g].substring(T+1)}else q=o[g];d(q,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function _e(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof _e){this.h=o.h,Ka(this,o.j),this.o=o.o,this.g=o.g,aa(this,o.s),this.l=o.l;var d=o.i,g=new Di;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),Ci(this,g),this.m=o.m}else o&&(d=String(o).match(Xa))?(this.h=!1,Ka(this,d[1]||"",!0),this.o=wn(d[2]||""),this.g=wn(d[3]||"",!0),aa(this,d[4]),this.l=wn(d[5]||"",!0),Ci(this,d[6]||"",!0),this.m=wn(d[7]||"")):(this.h=!1,this.i=new Di(null,this.h))}_e.prototype.toString=function(){var o=[],d=this.j;d&&o.push(Za(d,qr,!0),":");var g=this.g;return(g||d=="file")&&(o.push("//"),(d=this.o)&&o.push(Za(d,qr,!0),"@"),o.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&o.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(Za(g,g.charAt(0)=="/"?yc:Hr,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",Za(g,qs)),o.join("")};function dn(o){return new _e(o)}function Ka(o,d,g){o.j=g?wn(d,!0):d,o.j&&(o.j=o.j.replace(/:$/,""))}function aa(o,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);o.s=d}else o.s=null}function Ci(o,d,g){d instanceof Di?(o.i=d,go(o.i,o.h)):(g||(d=Za(d,_c)),o.i=new Di(d,o.h))}function Yt(o,d,g){o.i.set(d,g)}function $a(o){return Yt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function wn(o,d){return o?d?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Za(o,d,g){return typeof o=="string"?(o=encodeURI(o).replace(d,mo),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function mo(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var qr=/[#\/\?@]/g,Hr=/[#\?:]/g,yc=/[#\?]/g,_c=/[#\?@]/g,qs=/#/g;function Di(o,d){this.h=this.g=null,this.i=o||null,this.j=!!d}function Cn(o){o.g||(o.g=new Map,o.h=0,o.i&&pc(o.i,function(d,g){o.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}s=Di.prototype,s.add=function(o,d){Cn(this),this.i=null,o=ii(this,o);var g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(d),this.h+=1,this};function Ii(o,d){Cn(o),d=ii(o,d),o.g.has(d)&&(o.i=null,o.h-=o.g.get(d).length,o.g.delete(d))}function Ni(o,d){return Cn(o),d=ii(o,d),o.g.has(d)}s.forEach=function(o,d){Cn(this),this.g.forEach(function(g,T){g.forEach(function(j){o.call(d,j,T,this)},this)},this)},s.na=function(){Cn(this);const o=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let T=0;T<d.length;T++){const j=o[T];for(let q=0;q<j.length;q++)g.push(d[T])}return g},s.V=function(o){Cn(this);let d=[];if(typeof o=="string")Ni(this,o)&&(d=d.concat(this.g.get(ii(this,o))));else{o=Array.from(this.g.values());for(let g=0;g<o.length;g++)d=d.concat(o[g])}return d},s.set=function(o,d){return Cn(this),this.i=null,o=ii(this,o),Ni(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[d]),this.h+=1,this},s.get=function(o,d){return o?(o=this.V(o),0<o.length?String(o[0]):d):d};function Gr(o,d,g){Ii(o,d),0<g.length&&(o.i=null,o.g.set(ii(o,d),nt(g)),o.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var T=d[g];const q=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var j=q;tt[T]!==""&&(j+="="+encodeURIComponent(String(tt[T]))),o.push(j)}}return this.i=o.join("&")};function ii(o,d){return d=String(d),o.j&&(d=d.toLowerCase()),d}function go(o,d){d&&!o.j&&(Cn(o),o.i=null,o.g.forEach(function(g,T){var j=T.toLowerCase();T!=j&&(Ii(this,T),Gr(this,j,g))},o)),o.j=d}function Ja(o,d){const g=new Rn;if(y.Image){const T=new Image;T.onload=K(Dn,g,"TestLoadImage: loaded",!0,d,T),T.onerror=K(Dn,g,"TestLoadImage: error",!1,d,T),T.onabort=K(Dn,g,"TestLoadImage: abort",!1,d,T),T.ontimeout=K(Dn,g,"TestLoadImage: timeout",!1,d,T),y.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else d(!1)}function Hn(o,d){const g=new Rn,T=new AbortController,j=setTimeout(()=>{T.abort(),Dn(g,"TestPingServer: timeout",!1,d)},1e4);fetch(o,{signal:T.signal}).then(q=>{clearTimeout(j),q.ok?Dn(g,"TestPingServer: ok",!0,d):Dn(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(j),Dn(g,"TestPingServer: error",!1,d)})}function Dn(o,d,g,T,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),T(g)}catch{}}function Wa(){this.g=new Wn}function ai(o,d,g){const T=g||"";try{kr(o,function(j,q){let tt=j;_(j)&&(tt=fn(j)),d.push(T+q+"="+encodeURIComponent(tt))})}catch(j){throw d.push(T+"type="+encodeURIComponent("_badmap")),j}}function sa(o){this.l=o.Ub||null,this.j=o.eb||!1}Z(sa,qa),sa.prototype.g=function(){return new xi(this.l,this.j)},sa.prototype.i=(function(o){return function(){return o}})({});function xi(o,d){ie.call(this),this.D=o,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(xi,ie),s=xi.prototype,s.open=function(o,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=d,this.readyState=1,ri(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(d.body=o),(this.D||y).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof y.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qr(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qr(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var d=o.value?o.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!o.done}))&&(this.response=this.responseText+=d)}o.done?si(this):ri(this),this.readyState==3&&Qr(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,si(this))},s.Qa=function(o){this.g&&(this.response=o,si(this))},s.ga=function(){this.g&&si(this)};function si(o){o.readyState=4,o.l=null,o.j=null,o.v=null,ri(o)}s.setRequestHeader=function(o,d){this.u.append(o,d)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=d.next();return o.join(`\r
`)};function ri(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Fr(o){let d="";return Ct(o,function(g,T){d+=T,d+=":",d+=g,d+=`\r
`}),d}function De(o,d,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Fr(g),typeof o=="string"?g!=null&&encodeURIComponent(String(g)):Yt(o,d,g))}function qt(o){ie.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(qt,ie);var Hs=/^https?$/i,ts=["POST","PUT"];s=qt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,d,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);d=d?d.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ti.g(),this.v=this.o?Ha(this.o):Ha(ti),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(d,String(o),!0),this.B=!1}catch(q){po(this,q);return}if(o=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var j in T)g.set(j,T[j]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())g.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(q=>q.toLowerCase()=="content-type"),j=y.FormData&&o instanceof y.FormData,!(0<=Array.prototype.indexOf.call(ts,d,void 0))||T||j||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of g)this.g.setRequestHeader(q,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{es(this),this.u=!0,this.g.send(o),this.u=!1}catch(q){po(this,q)}};function po(o,d){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=d,o.m=5,Gs(o),li(o)}function Gs(o){o.A||(o.A=!0,zt(o,"complete"),zt(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,zt(this,"complete"),zt(this,"abort"),li(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),li(this,!0)),qt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Qs(this):this.bb())},s.bb=function(){Qs(this)};function Qs(o){if(o.h&&typeof m<"u"&&(!o.v[1]||In(o)!=4||o.Z()!=2)){if(o.u&&In(o)==4)Se(o.Ea,0,o);else if(zt(o,"readystatechange"),In(o)==4){o.h=!1;try{const tt=o.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break t;default:d=!1}var g;if(!(g=d)){var T;if(T=tt===0){var j=String(o.D).match(Xa)[1]||null;!j&&y.self&&y.self.location&&(j=y.self.location.protocol.slice(0,-1)),T=!Hs.test(j?j.toLowerCase():"")}g=T}if(g)zt(o,"complete"),zt(o,"success");else{o.m=6;try{var q=2<In(o)?o.g.statusText:""}catch{q=""}o.l=q+" ["+o.Z()+"]",Gs(o)}}finally{li(o)}}}}function li(o,d){if(o.g){es(o);const g=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,d||zt(o,"ready");try{g.onreadystatechange=T}catch{}}}function es(o){o.I&&(y.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function In(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var d=this.g.responseText;return o&&d.indexOf(o)==0&&(d=d.substring(o.length)),ta(d)}};function yo(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function vc(o){const d={};o=(o.g&&2<=In(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(vt(o[T]))continue;var g=O(o[T]);const j=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const q=d[j]||[];d[j]=q,q.push(g)}V(d,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ns(o,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||d}function Fs(o){this.Aa=0,this.i=[],this.j=new Rn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ns("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ns("baseRetryDelayMs",5e3,o),this.cb=ns("retryDelaySeedMs",1e4,o),this.Wa=ns("forwardChannelMaxRetries",2,o),this.wa=ns("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new wi(o&&o.concurrentRequestLimit),this.Da=new Wa,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Fs.prototype,s.la=8,s.G=1,s.connect=function(o,d,g,T){te(0),this.W=o,this.H=d||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=bo(this,null,this.W),Xs(this)};function Yr(o){if(_o(o),o.G==3){var d=o.U++,g=dn(o.I);if(Yt(g,"SID",o.K),Yt(g,"RID",d),Yt(g,"TYPE","terminate"),is(o,g),d=new Je(o,o.j,d),d.L=2,d.v=$a(dn(g)),g=!1,y.navigator&&y.navigator.sendBeacon)try{g=y.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&y.Image&&(new Image().src=d.v,g=!0),g||(d.g=Ro(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Fa(d)}So(o)}function Ys(o){o.g&&(as(o),o.g.cancel(),o.g=null)}function _o(o){Ys(o),o.u&&(y.clearTimeout(o.u),o.u=null),Ks(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&y.clearTimeout(o.s),o.s=null)}function Xs(o){if(!zs(o.h)&&!o.s){o.s=!0;var d=o.Ga;W||C(),rt||(W(),rt=!0),xt.add(d,o),o.B=0}}function Ec(o,d){return Ps(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=d.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=ye(I(o.Ga,o,d),$r(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const j=new Je(this,this.j,o);let q=this.o;if(this.S&&(q?(q=A(q),N(q,this.S)):q=this.S),this.m!==null||this.O||(j.H=q,q=null),this.P)t:{for(var d=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(d+=T,4096<d){d=g;break t}if(d===4096||g===this.i.length-1){d=g+1;break t}}d=1e3}else d=1e3;d=vo(this,j,d),g=dn(this.I),Yt(g,"RID",o),Yt(g,"CVER",22),this.D&&Yt(g,"X-HTTP-Session-Id",this.D),is(this,g),q&&(this.O?d="headers="+encodeURIComponent(String(Fr(q)))+"&"+d:this.m&&De(g,this.m,q)),Bs(this.h,j),this.Ua&&Yt(g,"TYPE","init"),this.P?(Yt(g,"$req",d),Yt(g,"SID","null"),j.T=!0,qn(j,g,null)):qn(j,g,d),this.G=2}}else this.G==3&&(o?Xr(this,o):this.i.length==0||zs(this.h)||Xr(this))};function Xr(o,d){var g;d?g=d.l:g=o.U++;const T=dn(o.I);Yt(T,"SID",o.K),Yt(T,"RID",g),Yt(T,"AID",o.T),is(o,T),o.m&&o.o&&De(T,o.m,o.o),g=new Je(o,o.j,g,o.B+1),o.m===null&&(g.H=o.o),d&&(o.i=d.D.concat(o.i)),d=vo(o,g,1e3),g.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Bs(o.h,g),qn(g,T,d)}function is(o,d){o.H&&Ct(o.H,function(g,T){Yt(d,T,g)}),o.l&&kr({},function(g,T){Yt(d,T,g)})}function vo(o,d,g){g=Math.min(o.i.length,g);var T=o.l?I(o.l.Na,o.l,o):null;t:{var j=o.i;let q=-1;for(;;){const tt=["count="+g];q==-1?0<g?(q=j[0].g,tt.push("ofs="+q)):q=0:tt.push("ofs="+q);let Mt=!0;for(let be=0;be<g;be++){let Ot=j[be].g;const Ie=j[be].map;if(Ot-=q,0>Ot)q=Math.max(0,j[be].g-100),Mt=!1;else try{ai(Ie,tt,"req"+Ot+"_")}catch{T&&T(Ie)}}if(Mt){T=tt.join("&");break t}}}return o=o.i.splice(0,g),d.D=o,T}function Eo(o){if(!o.g&&!o.u){o.Y=1;var d=o.Fa;W||C(),rt||(W(),rt=!0),xt.add(d,o),o.v=0}}function Kr(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=ye(I(o.Fa,o),$r(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,To(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=ye(I(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Ys(this),To(this))};function as(o){o.A!=null&&(y.clearTimeout(o.A),o.A=null)}function To(o){o.g=new Je(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var d=dn(o.qa);Yt(d,"RID","rpc"),Yt(d,"SID",o.K),Yt(d,"AID",o.T),Yt(d,"CI",o.F?"0":"1"),!o.F&&o.ja&&Yt(d,"TO",o.ja),Yt(d,"TYPE","xmlhttp"),is(o,d),o.m&&o.o&&De(d,o.m,o.o),o.L&&(o.g.I=o.L);var g=o.g;o=o.ia,g.L=1,g.v=$a(dn(d)),g.m=null,g.P=!0,Ri(g,o)}s.Za=function(){this.C!=null&&(this.C=null,Ys(this),Kr(this),te(19))};function Ks(o){o.C!=null&&(y.clearTimeout(o.C),o.C=null)}function Ao(o,d){var g=null;if(o.g==d){Ks(o),as(o),o.g=null;var T=2}else if(Pr(o.h,d))g=d.D,We(o.h,d),T=1;else return;if(o.G!=0){if(d.o)if(T==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var j=o.B;T=Wt(),zt(T,new le(T,g)),Xs(o)}else Eo(o);else if(j=d.s,j==3||j==0&&0<d.X||!(T==1&&Ec(o,d)||T==2&&Kr(o)))switch(g&&0<g.length&&(d=o.h,d.i=d.i.concat(g)),j){case 1:Mi(o,5);break;case 4:Mi(o,10);break;case 3:Mi(o,6);break;default:Mi(o,2)}}}function $r(o,d){let g=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(g*=2),g*d}function Mi(o,d){if(o.j.info("Error code "+d),d==2){var g=I(o.fb,o),T=o.Xa;const j=!T;T=new _e(T||"//www.google.com/images/cleardot.gif"),y.location&&y.location.protocol=="http"||Ka(T,"https"),$a(T),j?Ja(T.toString(),g):Hn(T.toString(),g)}else te(2);o.G=0,o.l&&o.l.sa(d),So(o),_o(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function So(o){if(o.G=0,o.ka=[],o.l){const d=Br(o.h);(d.length!=0||o.i.length!=0)&&(it(o.ka,d),it(o.ka,o.i),o.h.i.length=0,nt(o.i),o.i.length=0),o.l.ra()}}function bo(o,d,g){var T=g instanceof _e?dn(g):new _e(g);if(T.g!="")d&&(T.g=d+"."+T.g),aa(T,T.s);else{var j=y.location;T=j.protocol,d=d?d+"."+j.hostname:j.hostname,j=+j.port;var q=new _e(null);T&&Ka(q,T),d&&(q.g=d),j&&aa(q,j),g&&(q.l=g),T=q}return g=o.D,d=o.ya,g&&d&&Yt(T,g,d),Yt(T,"VER",o.la),is(o,T),T}function Ro(o,d,g){if(d&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=o.Ca&&!o.pa?new qt(new sa({eb:g})):new qt(o.pa),d.Ha(o.J),d}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function wo(){}s=wo.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function $s(){}$s.prototype.g=function(o,d){return new tn(o,d)};function tn(o,d){ie.call(this),this.g=new Fs(d),this.l=o,this.h=d&&d.messageUrlParams||null,o=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(o?o["X-WebChannel-Content-Type"]=d.messageContentType:o={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(o?o["X-WebChannel-Client-Profile"]=d.va:o={"X-WebChannel-Client-Profile":d.va}),this.g.S=o,(o=d&&d.Sb)&&!vt(o)&&(this.g.m=o),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!vt(d)&&(this.g.D=d,o=this.h,o!==null&&d in o&&(o=this.h,d in o&&delete o[d])),this.j=new oi(this)}Z(tn,ie),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Yr(this.g)},tn.prototype.o=function(o){var d=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.u&&(g={},g.__data__=fn(o),o=g);d.i.push(new ho(d.Ya++,o)),d.G==3&&Xs(d)},tn.prototype.N=function(){this.g.l=null,delete this.j,Yr(this.g),delete this.g,tn.aa.N.call(this)};function Co(o){kn.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var d=o.__sm__;if(d){t:{for(const g in d){o=g;break t}o=void 0}(this.i=o)&&(o=this.i,d=d!==null&&o in d?d[o]:void 0),this.data=d}else this.data=o}Z(Co,kn);function Do(){Us.call(this),this.status=1}Z(Do,Us);function oi(o){this.g=o}Z(oi,wo),oi.prototype.ua=function(){zt(this.g,"a")},oi.prototype.ta=function(o){zt(this.g,new Co(o))},oi.prototype.sa=function(o){zt(this.g,new Do)},oi.prototype.ra=function(){zt(this.g,"b")},$s.prototype.createWebChannel=$s.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,x_=function(){return new $s},N_=function(){return Wt()},I_=lt,Vh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},na.NO_ERROR=0,na.TIMEOUT=8,na.HTTP_ERROR=6,Uu=na,bi.COMPLETE="complete",D_=bi,Ga.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",ie.prototype.listen=ie.prototype.K,Bl=Ga,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,C_=qt}).apply(typeof Iu<"u"?Iu:typeof self<"u"?self:typeof window<"u"?window:{});const oy="@firebase/firestore",uy="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(n){this.uid=n}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ur="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new $h("@firebase/firestore");function Rr(){return ws.logLevel}function st(s,...n){if(ws.logLevel<=Lt.DEBUG){const a=n.map(td);ws.debug(`Firestore (${Ur}): ${s}`,...a)}}function Cs(s,...n){if(ws.logLevel<=Lt.ERROR){const a=n.map(td);ws.error(`Firestore (${Ur}): ${s}`,...a)}}function ic(s,...n){if(ws.logLevel<=Lt.WARN){const a=n.map(td);ws.warn(`Firestore (${Ur}): ${s}`,...a)}}function td(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(a){return JSON.stringify(a)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(s,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,M_(s,l,a)}function M_(s,n,a){let l=`FIRESTORE (${Ur}) INTERNAL ASSERTION FAILED: ${n} (ID: ${s.toString(16)})`;if(a!==void 0)try{l+=" CONTEXT: "+JSON.stringify(a)}catch{l+=" CONTEXT: "+a}throw Cs(l),new Error(l)}function de(s,n,a,l){let u="Unexpected state";typeof a=="string"?u=a:l=a,s||M_(n,u,l)}function ne(s,n){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends Ua{constructor(n,a){super(n,a),this.code=n,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(){this.promise=new Promise(((n,a)=>{this.resolve=n,this.reject=a}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(n,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class x1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,a){n.enqueueRetryable((()=>a(Xe.UNAUTHENTICATED)))}shutdown(){}}class M1{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,a){this.changeListener=a,n.enqueueRetryable((()=>a(this.token.user)))}shutdown(){this.changeListener=null}}class O1{constructor(n){this.t=n,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,a){de(this.o===void 0,42304);let l=this.i;const u=v=>this.i!==l?(l=this.i,a(v)):Promise.resolve();let h=new Ss;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ss,n.enqueueRetryable((()=>u(this.currentUser)))};const m=()=>{const v=h;n.enqueueRetryable((async()=>{await v.promise,await u(this.currentUser)}))},y=v=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ss)}}),0),m()}getToken(){const n=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then((l=>this.i!==n?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(de(typeof l.accessToken=="string",31837,{l}),new O_(l.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return de(n===null||typeof n=="string",2055,{h:n}),new Xe(n)}}class V1{constructor(n,a,l){this.P=n,this.T=a,this.I=l,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const n=this.R();return n&&this.A.set("Authorization",n),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class U1{constructor(n,a,l){this.P=n,this.T=a,this.I=l}getToken(){return Promise.resolve(new V1(this.P,this.T,this.I))}start(n,a){n.enqueueRetryable((()=>a(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cy{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L1{constructor(n,a){this.V=a,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,g1(n)&&n.settings.appCheckToken&&(this.p=n.settings.appCheckToken)}start(n,a){de(this.o===void 0,3512);const l=h=>{h.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,st("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?a(h.token):Promise.resolve()};this.o=h=>{n.enqueueRetryable((()=>l(h)))};const u=h=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>u(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new cy(this.p));const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then((a=>a?(de(typeof a.token=="string",44558,{tokenResult:a}),this.m=a.token,new cy(a.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(s){const n=typeof self<"u"&&(self.crypto||self.msCrypto),a=new Uint8Array(s);if(n&&typeof n.getRandomValues=="function")n.getRandomValues(a);else for(let l=0;l<s;l++)a[l]=Math.floor(256*Math.random());return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{static newId(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=62*Math.floor(4.129032258064516);let l="";for(;l.length<20;){const u=j1(40);for(let h=0;h<u.length;++h)l.length<20&&u[h]<a&&(l+=n.charAt(u[h]%62))}return l}}function Ht(s,n){return s<n?-1:s>n?1:0}function Uh(s,n){const a=Math.min(s.length,n.length);for(let l=0;l<a;l++){const u=s.charAt(l),h=n.charAt(l);if(u!==h)return Ah(u)===Ah(h)?Ht(u,h):Ah(u)?1:-1}return Ht(s.length,n.length)}const z1=55296,P1=57343;function Ah(s){const n=s.charCodeAt(0);return n>=z1&&n<=P1}function Nr(s,n,a){return s.length===n.length&&s.every(((l,u)=>a(l,n[u])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="__name__";class gi{constructor(n,a,l){a===void 0?a=0:a>n.length&&Rt(637,{offset:a,range:n.length}),l===void 0?l=n.length-a:l>n.length-a&&Rt(1746,{length:l,range:n.length-a}),this.segments=n,this.offset=a,this.len=l}get length(){return this.len}isEqual(n){return gi.comparator(this,n)===0}child(n){const a=this.segments.slice(this.offset,this.limit());return n instanceof gi?n.forEach((l=>{a.push(l)})):a.push(n),this.construct(a)}limit(){return this.offset+this.length}popFirst(n){return n=n===void 0?1:n,this.construct(this.segments,this.offset+n,this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return this.length===0}isPrefixOf(n){if(n.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}forEach(n){for(let a=this.offset,l=this.limit();a<l;a++)n(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,a){const l=Math.min(n.length,a.length);for(let u=0;u<l;u++){const h=gi.compareSegments(n.get(u),a.get(u));if(h!==0)return h}return Ht(n.length,a.length)}static compareSegments(n,a){const l=gi.isNumericId(n),u=gi.isNumericId(a);return l&&!u?-1:!l&&u?1:l&&u?gi.extractNumericId(n).compare(gi.extractNumericId(a)):Uh(n,a)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return Wh.fromString(n.substring(4,n.length-2))}}class ue extends gi{construct(n,a,l){return new ue(n,a,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const a=[];for(const l of n){if(l.indexOf("//")>=0)throw new ft($.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);a.push(...l.split("/").filter((u=>u.length>0)))}return new ue(a)}static emptyPath(){return new ue([])}}const B1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends gi{construct(n,a,l){return new qe(n,a,l)}static isValidIdentifier(n){return B1.test(n)}canonicalString(){return this.toArray().map((n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(n)||(n="`"+n+"`"),n))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fy}static keyField(){return new qe([fy])}static fromServerFormat(n){const a=[];let l="",u=0;const h=()=>{if(l.length===0)throw new ft($.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(l),l=""};let m=!1;for(;u<n.length;){const y=n[u];if(y==="\\"){if(u+1===n.length)throw new ft($.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const v=n[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ft($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);l+=v,u+=2}else y==="`"?(m=!m,u++):y!=="."||m?(l+=y,u++):(h(),u++)}if(h(),m)throw new ft($.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new qe(a)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(n){this.path=n}static fromPath(n){return new At(ue.fromString(n))}static fromName(n){return new At(ue.fromString(n).popFirst(5))}static empty(){return new At(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return n!==null&&ue.comparator(this.path,n.path)===0}toString(){return this.path.toString()}static comparator(n,a){return ue.comparator(n.path,a.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new At(new ue(n.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(s,n,a){if(!a)throw new ft($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${n}.`)}function k1(s,n,a,l){if(n===!0&&l===!0)throw new ft($.INVALID_ARGUMENT,`${s} and ${a} cannot be used together.`)}function hy(s){if(!At.isDocumentKey(s))throw new ft($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function dy(s){if(At.isDocumentKey(s))throw new ft($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function U_(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function nd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const n=(function(l){return l.constructor?l.constructor.name:null})(s);return n?`a custom ${n} object`:"an object"}}return typeof s=="function"?"a function":Rt(12329,{type:typeof s})}function L_(s,n){if("_delegate"in s&&(s=s._delegate),!(s instanceof n)){if(n.name===s.constructor.name)throw new ft($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=nd(s);throw new ft($.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${a}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(s,n){const a={typeString:s};return n&&(a.value=n),a}function no(s,n){if(!U_(s))throw new ft($.INVALID_ARGUMENT,"JSON must be an object");let a;for(const l in n)if(n[l]){const u=n[l].typeString,h="value"in n[l]?{value:n[l].value}:void 0;if(!(l in s)){a=`JSON missing required field: '${l}'`;break}const m=s[l];if(u&&typeof m!==u){a=`JSON field '${l}' must be a ${u}.`;break}if(h!==void 0&&m!==h.value){a=`Expected '${l}' field to equal '${h.value}'`;break}}if(a)throw new ft($.INVALID_ARGUMENT,a);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my=-62135596800,gy=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(n){return re.fromMillis(n.getTime())}static fromMillis(n){const a=Math.floor(n/1e3),l=Math.floor((n-1e3*a)*gy);return new re(a,l)}constructor(n,a){if(this.seconds=n,this.nanoseconds=a,a<0)throw new ft($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new ft($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(n<my)throw new ft($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new ft($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gy}_compareTo(n){return this.seconds===n.seconds?Ht(this.nanoseconds,n.nanoseconds):Ht(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(n){if(no(n,re._jsonSchema))return new re(n.seconds,n.nanoseconds)}valueOf(){const n=this.seconds-my;return String(n).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ae("string",re._jsonSchemaVersion),seconds:Ae("number"),nanoseconds:Ae("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{static fromTimestamp(n){return new se(n)}static min(){return new se(new re(0,0))}static max(){return new se(new re(253402300799,999999999))}constructor(n){this.timestamp=n}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=-1;function q1(s,n){const a=s.toTimestamp().seconds,l=s.toTimestamp().nanoseconds+1,u=se.fromTimestamp(l===1e9?new re(a+1,0):new re(a,l));return new xa(u,At.empty(),n)}function H1(s){return new xa(s.readTime,s.key,$l)}class xa{constructor(n,a,l){this.readTime=n,this.documentKey=a,this.largestBatchId=l}static min(){return new xa(se.min(),At.empty(),$l)}static max(){return new xa(se.max(),At.empty(),$l)}}function G1(s,n){let a=s.readTime.compareTo(n.readTime);return a!==0?a:(a=At.comparator(s.documentKey,n.documentKey),a!==0?a:Ht(s.largestBatchId,n.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((n=>n()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==Q1)throw s;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n((a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)}),(a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)}))}catch(n){return this.next(void 0,n)}next(n,a){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(n,this.result):new X(((l,u)=>{this.nextCallback=h=>{this.wrapSuccess(n,h).next(l,u)},this.catchCallback=h=>{this.wrapFailure(a,h).next(l,u)}}))}toPromise(){return new Promise(((n,a)=>{this.next(n,a)}))}wrapUserFunction(n){try{const a=n();return a instanceof X?a:X.resolve(a)}catch(a){return X.reject(a)}}wrapSuccess(n,a){return n?this.wrapUserFunction((()=>n(a))):X.resolve(a)}wrapFailure(n,a){return n?this.wrapUserFunction((()=>n(a))):X.reject(a)}static resolve(n){return new X(((a,l)=>{a(n)}))}static reject(n){return new X(((a,l)=>{l(n)}))}static waitFor(n){return new X(((a,l)=>{let u=0,h=0,m=!1;n.forEach((y=>{++u,y.next((()=>{++h,m&&h===u&&a()}),(v=>l(v)))})),m=!0,h===u&&a()}))}static or(n){let a=X.resolve(!1);for(const l of n)a=a.next((u=>u?X.resolve(u):l()));return a}static forEach(n,a){const l=[];return n.forEach(((u,h)=>{l.push(a.call(this,u,h))})),this.waitFor(l)}static mapArray(n,a){return new X(((l,u)=>{const h=n.length,m=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;a(n[_]).next((S=>{m[_]=S,++y,y===h&&l(m)}),(S=>u(S)))}}))}static doWhile(n,a){return new X(((l,u)=>{const h=()=>{n()===!0?a().next((()=>{h()}),u):l()};h()}))}}function Y1(s){const n=s.match(/Android ([\d.]+)/i),a=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(a)}function io(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(n,a){this.previousValue=n,a&&(a.sequenceNumberHandler=l=>this.ae(l),this.ue=l=>a.writeSequenceNumber(l))}ae(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ue&&this.ue(n),n}}ad.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd=-1;function rd(s){return s==null}function qu(s){return s===0&&1/s==-1/0}function X1(s){return typeof s=="number"&&Number.isInteger(s)&&!qu(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="";function K1(s){let n="";for(let a=0;a<s.length;a++)n.length>0&&(n=py(n)),n=$1(s.get(a),n);return py(n)}function $1(s,n){let a=n;const l=s.length;for(let u=0;u<l;u++){const h=s.charAt(u);switch(h){case"\0":a+="";break;case j_:a+="";break;default:a+=h}}return a}function py(s){return s+j_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(s){let n=0;for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&n++;return n}function Lr(s,n){for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&n(a,s[a])}function z_(s){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(n,a){this.comparator=n,this.root=a||Be.EMPTY}insert(n,a){return new cn(this.comparator,this.root.insert(n,a,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(n){return new cn(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Be.BLACK,null,null))}get(n){let a=this.root;for(;!a.isEmpty();){const l=this.comparator(n,a.key);if(l===0)return a.value;l<0?a=a.left:l>0&&(a=a.right)}return null}indexOf(n){let a=0,l=this.root;for(;!l.isEmpty();){const u=this.comparator(n,l.key);if(u===0)return a+l.left.size;u<0?l=l.left:(a+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal(((a,l)=>(n(a,l),!1)))}toString(){const n=[];return this.inorderTraversal(((a,l)=>(n.push(`${a}:${l}`),!1))),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Nu(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Nu(this.root,n,this.comparator,!1)}getReverseIterator(){return new Nu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Nu(this.root,n,this.comparator,!0)}}class Nu{constructor(n,a,l,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!n.isEmpty();)if(h=a?l(n.key,a):1,a&&u&&(h*=-1),h<0)n=this.isReverse?n.left:n.right;else{if(h===0){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const a={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Be{constructor(n,a,l,u,h){this.key=n,this.value=a,this.color=l??Be.RED,this.left=u??Be.EMPTY,this.right=h??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,a,l,u,h){return new Be(n??this.key,a??this.value,l??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,a,l){let u=this;const h=l(n,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(n,a,l),null):h===0?u.copy(null,a,null,null,null):u.copy(null,null,null,null,u.right.insert(n,a,l)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,a){let l,u=this;if(a(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,a),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),a(n,u.key)===0){if(u.right.isEmpty())return Be.EMPTY;l=u.right.min(),u=u.copy(l.key,l.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,a))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,a)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const n=this.left.check();if(n!==this.right.check())throw Rt(27949);return n+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(n,a,l,u,h){return this}insert(n,a,l){return new Be(n,a)}remove(n,a){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(n){this.comparator=n,this.data=new cn(this.comparator)}has(n){return this.data.get(n)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal(((a,l)=>(n(a),!1)))}forEachInRange(n,a){const l=this.data.getIteratorFrom(n[0]);for(;l.hasNext();){const u=l.getNext();if(this.comparator(u.key,n[1])>=0)return;a(u.key)}}forEachWhile(n,a){let l;for(l=a!==void 0?this.data.getIteratorFrom(a):this.data.getIterator();l.hasNext();)if(!n(l.getNext().key))return}firstAfterOrEqual(n){const a=this.data.getIteratorFrom(n);return a.hasNext()?a.getNext().key:null}getIterator(){return new _y(this.data.getIterator())}getIteratorFrom(n){return new _y(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let a=this;return a.size<n.size&&(a=n,n=this),n.forEach((l=>{a=a.add(l)})),a}isEqual(n){if(!(n instanceof He)||this.size!==n.size)return!1;const a=this.data.getIterator(),l=n.data.getIterator();for(;a.hasNext();){const u=a.getNext().key,h=l.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const n=[];return this.forEach((a=>{n.push(a)})),n}toString(){const n=[];return this.forEach((a=>n.push(a))),"SortedSet("+n.toString()+")"}copy(n){const a=new He(this.comparator);return a.data=n,a}}class _y{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(n){this.fields=n,n.sort(qe.comparator)}static empty(){return new $n([])}unionWith(n){let a=new He(qe.comparator);for(const l of this.fields)a=a.add(l);for(const l of n)a=a.add(l);return new $n(a.toArray())}covers(n){for(const a of this.fields)if(a.isPrefixOf(n))return!0;return!1}isEqual(n){return Nr(this.fields,n.fields,((a,l)=>a.isEqual(l)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(n){this.binaryString=n}static fromBase64String(n){const a=(function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Z1("Invalid base64 string: "+h):h}})(n);return new yi(a)}static fromUint8Array(n){const a=(function(u){let h="";for(let m=0;m<u.length;++m)h+=String.fromCharCode(u[m]);return h})(n);return new yi(a)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(a){return btoa(a)})(this.binaryString)}toUint8Array(){return(function(a){const l=new Uint8Array(a.length);for(let u=0;u<a.length;u++)l[u]=a.charCodeAt(u);return l})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Ht(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}yi.EMPTY_BYTE_STRING=new yi("");const J1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(s){if(de(!!s,39018),typeof s=="string"){let n=0;const a=J1.exec(s);if(de(!!a,46558,{timestamp:s}),a[1]){let u=a[1];u=(u+"000000000").substr(0,9),n=Number(u)}const l=new Date(s);return{seconds:Math.floor(l.getTime()/1e3),nanos:n}}return{seconds:ke(s.seconds),nanos:ke(s.nanos)}}function ke(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function xr(s){return typeof s=="string"?yi.fromBase64String(s):yi.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="server_timestamp",B_="__type__",k_="__previous_value__",q_="__local_write_time__";function ld(s){return(s?.mapValue?.fields||{})[B_]?.stringValue===P_}function od(s){const n=s.mapValue.fields[k_];return ld(n)?od(n):n}function Hu(s){const n=Ds(s.mapValue.fields[q_].timestampValue);return new re(n.seconds,n.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(n,a,l,u,h,m,y,v,_,S){this.databaseId=n,this.appId=a,this.persistenceKey=l,this.host=u,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=S}}const Gu="(default)";class Qu{constructor(n,a){this.projectId=n,this.database=a||Gu}static empty(){return new Qu("","")}get isDefaultDatabase(){return this.database===Gu}isEqual(n){return n instanceof Qu&&n.projectId===this.projectId&&n.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="__type__",tA="__max__",xu={mapValue:{}},G_="__vector__",Lh="value";function Is(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ld(s)?4:nA(s)?9007199254740991:eA(s)?10:11:Rt(28295,{value:s})}function _i(s,n){if(s===n)return!0;const a=Is(s);if(a!==Is(n))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===n.booleanValue;case 4:return Hu(s).isEqual(Hu(n));case 3:return(function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const m=Ds(u.timestampValue),y=Ds(h.timestampValue);return m.seconds===y.seconds&&m.nanos===y.nanos})(s,n);case 5:return s.stringValue===n.stringValue;case 6:return(function(u,h){return xr(u.bytesValue).isEqual(xr(h.bytesValue))})(s,n);case 7:return s.referenceValue===n.referenceValue;case 8:return(function(u,h){return ke(u.geoPointValue.latitude)===ke(h.geoPointValue.latitude)&&ke(u.geoPointValue.longitude)===ke(h.geoPointValue.longitude)})(s,n);case 2:return(function(u,h){if("integerValue"in u&&"integerValue"in h)return ke(u.integerValue)===ke(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const m=ke(u.doubleValue),y=ke(h.doubleValue);return m===y?qu(m)===qu(y):isNaN(m)&&isNaN(y)}return!1})(s,n);case 9:return Nr(s.arrayValue.values||[],n.arrayValue.values||[],_i);case 10:case 11:return(function(u,h){const m=u.mapValue.fields||{},y=h.mapValue.fields||{};if(yy(m)!==yy(y))return!1;for(const v in m)if(m.hasOwnProperty(v)&&(y[v]===void 0||!_i(m[v],y[v])))return!1;return!0})(s,n);default:return Rt(52216,{left:s})}}function Zl(s,n){return(s.values||[]).find((a=>_i(a,n)))!==void 0}function Mr(s,n){if(s===n)return 0;const a=Is(s),l=Is(n);if(a!==l)return Ht(a,l);switch(a){case 0:case 9007199254740991:return 0;case 1:return Ht(s.booleanValue,n.booleanValue);case 2:return(function(h,m){const y=ke(h.integerValue||h.doubleValue),v=ke(m.integerValue||m.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(s,n);case 3:return vy(s.timestampValue,n.timestampValue);case 4:return vy(Hu(s),Hu(n));case 5:return Uh(s.stringValue,n.stringValue);case 6:return(function(h,m){const y=xr(h),v=xr(m);return y.compareTo(v)})(s.bytesValue,n.bytesValue);case 7:return(function(h,m){const y=h.split("/"),v=m.split("/");for(let _=0;_<y.length&&_<v.length;_++){const S=Ht(y[_],v[_]);if(S!==0)return S}return Ht(y.length,v.length)})(s.referenceValue,n.referenceValue);case 8:return(function(h,m){const y=Ht(ke(h.latitude),ke(m.latitude));return y!==0?y:Ht(ke(h.longitude),ke(m.longitude))})(s.geoPointValue,n.geoPointValue);case 9:return Ey(s.arrayValue,n.arrayValue);case 10:return(function(h,m){const y=h.fields||{},v=m.fields||{},_=y[Lh]?.arrayValue,S=v[Lh]?.arrayValue,M=Ht(_?.values?.length||0,S?.values?.length||0);return M!==0?M:Ey(_,S)})(s.mapValue,n.mapValue);case 11:return(function(h,m){if(h===xu.mapValue&&m===xu.mapValue)return 0;if(h===xu.mapValue)return 1;if(m===xu.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=m.fields||{},S=Object.keys(_);v.sort(),S.sort();for(let M=0;M<v.length&&M<S.length;++M){const I=Uh(v[M],S[M]);if(I!==0)return I;const K=Mr(y[v[M]],_[S[M]]);if(K!==0)return K}return Ht(v.length,S.length)})(s.mapValue,n.mapValue);default:throw Rt(23264,{he:a})}}function vy(s,n){if(typeof s=="string"&&typeof n=="string"&&s.length===n.length)return Ht(s,n);const a=Ds(s),l=Ds(n),u=Ht(a.seconds,l.seconds);return u!==0?u:Ht(a.nanos,l.nanos)}function Ey(s,n){const a=s.values||[],l=n.values||[];for(let u=0;u<a.length&&u<l.length;++u){const h=Mr(a[u],l[u]);if(h)return h}return Ht(a.length,l.length)}function Or(s){return jh(s)}function jh(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(a){const l=Ds(a);return`time(${l.seconds},${l.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(a){return xr(a).toBase64()})(s.bytesValue):"referenceValue"in s?(function(a){return At.fromName(a).toString()})(s.referenceValue):"geoPointValue"in s?(function(a){return`geo(${a.latitude},${a.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(a){let l="[",u=!0;for(const h of a.values||[])u?u=!1:l+=",",l+=jh(h);return l+"]"})(s.arrayValue):"mapValue"in s?(function(a){const l=Object.keys(a.fields||{}).sort();let u="{",h=!0;for(const m of l)h?h=!1:u+=",",u+=`${m}:${jh(a.fields[m])}`;return u+"}"})(s.mapValue):Rt(61005,{value:s})}function Lu(s){switch(Is(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=od(s);return n?16+Lu(n):16;case 5:return 2*s.stringValue.length;case 6:return xr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(l){return(l.values||[]).reduce(((u,h)=>u+Lu(h)),0)})(s.arrayValue);case 10:case 11:return(function(l){let u=0;return Lr(l.fields,((h,m)=>{u+=h.length+Lu(m)})),u})(s.mapValue);default:throw Rt(13486,{value:s})}}function zh(s){return!!s&&"integerValue"in s}function ud(s){return!!s&&"arrayValue"in s}function ju(s){return!!s&&"mapValue"in s}function eA(s){return(s?.mapValue?.fields||{})[H_]?.stringValue===G_}function ql(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const n={mapValue:{fields:{}}};return Lr(s.mapValue.fields,((a,l)=>n.mapValue.fields[a]=ql(l))),n}if(s.arrayValue){const n={arrayValue:{values:[]}};for(let a=0;a<(s.arrayValue.values||[]).length;++a)n.arrayValue.values[a]=ql(s.arrayValue.values[a]);return n}return{...s}}function nA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===tA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(n){this.value=n}static empty(){return new Xn({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let a=this.value;for(let l=0;l<n.length-1;++l)if(a=(a.mapValue.fields||{})[n.get(l)],!ju(a))return null;return a=(a.mapValue.fields||{})[n.lastSegment()],a||null}}set(n,a){this.getFieldsMap(n.popLast())[n.lastSegment()]=ql(a)}setAll(n){let a=qe.emptyPath(),l={},u=[];n.forEach(((m,y)=>{if(!a.isImmediateParentOf(y)){const v=this.getFieldsMap(a);this.applyChanges(v,l,u),l={},u=[],a=y.popLast()}m?l[y.lastSegment()]=ql(m):u.push(y.lastSegment())}));const h=this.getFieldsMap(a);this.applyChanges(h,l,u)}delete(n){const a=this.field(n.popLast());ju(a)&&a.mapValue.fields&&delete a.mapValue.fields[n.lastSegment()]}isEqual(n){return _i(this.value,n.value)}getFieldsMap(n){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let l=0;l<n.length;++l){let u=a.mapValue.fields[n.get(l)];ju(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},a.mapValue.fields[n.get(l)]=u),a=u}return a.mapValue.fields}applyChanges(n,a,l){Lr(a,((u,h)=>n[u]=h));for(const u of l)delete n[u]}clone(){return new Xn(ql(this.value))}}function Q_(s){const n=[];return Lr(s.fields,((a,l)=>{const u=new qe([a]);if(ju(l)){const h=Q_(l.mapValue).fields;if(h.length===0)n.push(u);else for(const m of h)n.push(u.child(m))}else n.push(u)})),new $n(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(n,a,l,u,h,m,y){this.key=n,this.documentType=a,this.version=l,this.readTime=u,this.createTime=h,this.data=m,this.documentState=y}static newInvalidDocument(n){return new Yn(n,0,se.min(),se.min(),se.min(),Xn.empty(),0)}static newFoundDocument(n,a,l,u){return new Yn(n,1,a,se.min(),l,u,0)}static newNoDocument(n,a){return new Yn(n,2,a,se.min(),se.min(),Xn.empty(),0)}static newUnknownDocument(n,a){return new Yn(n,3,a,se.min(),se.min(),Xn.empty(),2)}convertToFoundDocument(n,a){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=n),this.version=n,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(n){return n instanceof Yn&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(n,a){this.position=n,this.inclusive=a}}function Ty(s,n,a){let l=0;for(let u=0;u<s.position.length;u++){const h=n[u],m=s.position[u];if(h.field.isKeyField()?l=At.comparator(At.fromName(m.referenceValue),a.key):l=Mr(m,a.data.field(h.field)),h.dir==="desc"&&(l*=-1),l!==0)break}return l}function Ay(s,n){if(s===null)return n===null;if(n===null||s.inclusive!==n.inclusive||s.position.length!==n.position.length)return!1;for(let a=0;a<s.position.length;a++)if(!_i(s.position[a],n.position[a]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(n,a="asc"){this.field=n,this.dir=a}}function iA(s,n){return s.dir===n.dir&&s.field.isEqual(n.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{}class Ve extends F_{constructor(n,a,l){super(),this.field=n,this.op=a,this.value=l}static create(n,a,l){return n.isKeyField()?a==="in"||a==="not-in"?this.createKeyFieldInFilter(n,a,l):new sA(n,a,l):a==="array-contains"?new oA(n,l):a==="in"?new uA(n,l):a==="not-in"?new cA(n,l):a==="array-contains-any"?new fA(n,l):new Ve(n,a,l)}static createKeyFieldInFilter(n,a,l){return a==="in"?new rA(n,l):new lA(n,l)}matches(n){const a=n.data.field(this.field);return this.op==="!="?a!==null&&a.nullValue===void 0&&this.matchesComparison(Mr(a,this.value)):a!==null&&Is(this.value)===Is(a)&&this.matchesComparison(Mr(a,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ma extends F_{constructor(n,a){super(),this.filters=n,this.op=a,this.Pe=null}static create(n,a){return new Ma(n,a)}matches(n){return Y_(this)?this.filters.find((a=>!a.matches(n)))===void 0:this.filters.find((a=>a.matches(n)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((n,a)=>n.concat(a.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Y_(s){return s.op==="and"}function X_(s){return aA(s)&&Y_(s)}function aA(s){for(const n of s.filters)if(n instanceof Ma)return!1;return!0}function Ph(s){if(s instanceof Ve)return s.field.canonicalString()+s.op.toString()+Or(s.value);if(X_(s))return s.filters.map((n=>Ph(n))).join(",");{const n=s.filters.map((a=>Ph(a))).join(",");return`${s.op}(${n})`}}function K_(s,n){return s instanceof Ve?(function(l,u){return u instanceof Ve&&l.op===u.op&&l.field.isEqual(u.field)&&_i(l.value,u.value)})(s,n):s instanceof Ma?(function(l,u){return u instanceof Ma&&l.op===u.op&&l.filters.length===u.filters.length?l.filters.reduce(((h,m,y)=>h&&K_(m,u.filters[y])),!0):!1})(s,n):void Rt(19439)}function $_(s){return s instanceof Ve?(function(a){return`${a.field.canonicalString()} ${a.op} ${Or(a.value)}`})(s):s instanceof Ma?(function(a){return a.op.toString()+" {"+a.getFilters().map($_).join(" ,")+"}"})(s):"Filter"}class sA extends Ve{constructor(n,a,l){super(n,a,l),this.key=At.fromName(l.referenceValue)}matches(n){const a=At.comparator(n.key,this.key);return this.matchesComparison(a)}}class rA extends Ve{constructor(n,a){super(n,"in",a),this.keys=Z_("in",a)}matches(n){return this.keys.some((a=>a.isEqual(n.key)))}}class lA extends Ve{constructor(n,a){super(n,"not-in",a),this.keys=Z_("not-in",a)}matches(n){return!this.keys.some((a=>a.isEqual(n.key)))}}function Z_(s,n){return(n.arrayValue?.values||[]).map((a=>At.fromName(a.referenceValue)))}class oA extends Ve{constructor(n,a){super(n,"array-contains",a)}matches(n){const a=n.data.field(this.field);return ud(a)&&Zl(a.arrayValue,this.value)}}class uA extends Ve{constructor(n,a){super(n,"in",a)}matches(n){const a=n.data.field(this.field);return a!==null&&Zl(this.value.arrayValue,a)}}class cA extends Ve{constructor(n,a){super(n,"not-in",a)}matches(n){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=n.data.field(this.field);return a!==null&&a.nullValue===void 0&&!Zl(this.value.arrayValue,a)}}class fA extends Ve{constructor(n,a){super(n,"array-contains-any",a)}matches(n){const a=n.data.field(this.field);return!(!ud(a)||!a.arrayValue.values)&&a.arrayValue.values.some((l=>Zl(this.value.arrayValue,l)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(n,a=null,l=[],u=[],h=null,m=null,y=null){this.path=n,this.collectionGroup=a,this.orderBy=l,this.filters=u,this.limit=h,this.startAt=m,this.endAt=y,this.Te=null}}function Sy(s,n=null,a=[],l=[],u=null,h=null,m=null){return new hA(s,n,a,l,u,h,m)}function cd(s){const n=ne(s);if(n.Te===null){let a=n.path.canonicalString();n.collectionGroup!==null&&(a+="|cg:"+n.collectionGroup),a+="|f:",a+=n.filters.map((l=>Ph(l))).join(","),a+="|ob:",a+=n.orderBy.map((l=>(function(h){return h.field.canonicalString()+h.dir})(l))).join(","),rd(n.limit)||(a+="|l:",a+=n.limit),n.startAt&&(a+="|lb:",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((l=>Or(l))).join(",")),n.endAt&&(a+="|ub:",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((l=>Or(l))).join(",")),n.Te=a}return n.Te}function fd(s,n){if(s.limit!==n.limit||s.orderBy.length!==n.orderBy.length)return!1;for(let a=0;a<s.orderBy.length;a++)if(!iA(s.orderBy[a],n.orderBy[a]))return!1;if(s.filters.length!==n.filters.length)return!1;for(let a=0;a<s.filters.length;a++)if(!K_(s.filters[a],n.filters[a]))return!1;return s.collectionGroup===n.collectionGroup&&!!s.path.isEqual(n.path)&&!!Ay(s.startAt,n.startAt)&&Ay(s.endAt,n.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(n,a=null,l=[],u=[],h=null,m="F",y=null,v=null){this.path=n,this.collectionGroup=a,this.explicitOrderBy=l,this.filters=u,this.limit=h,this.limitType=m,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dA(s,n,a,l,u,h,m,y){return new ac(s,n,a,l,u,h,m,y)}function mA(s){return new ac(s)}function by(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function gA(s){return s.collectionGroup!==null}function Hl(s){const n=ne(s);if(n.Ie===null){n.Ie=[];const a=new Set;for(const h of n.explicitOrderBy)n.Ie.push(h),a.add(h.field.canonicalString());const l=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(m){let y=new He(qe.comparator);return m.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(n).forEach((h=>{a.has(h.canonicalString())||h.isKeyField()||n.Ie.push(new Yu(h,l))})),a.has(qe.keyField().canonicalString())||n.Ie.push(new Yu(qe.keyField(),l))}return n.Ie}function bs(s){const n=ne(s);return n.Ee||(n.Ee=pA(n,Hl(s))),n.Ee}function pA(s,n){if(s.limitType==="F")return Sy(s.path,s.collectionGroup,n,s.filters,s.limit,s.startAt,s.endAt);{n=n.map((u=>{const h=u.dir==="desc"?"asc":"desc";return new Yu(u.field,h)}));const a=s.endAt?new Fu(s.endAt.position,s.endAt.inclusive):null,l=s.startAt?new Fu(s.startAt.position,s.startAt.inclusive):null;return Sy(s.path,s.collectionGroup,n,s.filters,s.limit,a,l)}}function Bh(s,n,a){return new ac(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),n,a,s.startAt,s.endAt)}function J_(s,n){return fd(bs(s),bs(n))&&s.limitType===n.limitType}function W_(s){return`${cd(bs(s))}|lt:${s.limitType}`}function Pl(s){return`Query(target=${(function(a){let l=a.path.canonicalString();return a.collectionGroup!==null&&(l+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(l+=`, filters: [${a.filters.map((u=>$_(u))).join(", ")}]`),rd(a.limit)||(l+=", limit: "+a.limit),a.orderBy.length>0&&(l+=`, orderBy: [${a.orderBy.map((u=>(function(m){return`${m.field.canonicalString()} (${m.dir})`})(u))).join(", ")}]`),a.startAt&&(l+=", startAt: ",l+=a.startAt.inclusive?"b:":"a:",l+=a.startAt.position.map((u=>Or(u))).join(",")),a.endAt&&(l+=", endAt: ",l+=a.endAt.inclusive?"a:":"b:",l+=a.endAt.position.map((u=>Or(u))).join(",")),`Target(${l})`})(bs(s))}; limitType=${s.limitType})`}function hd(s,n){return n.isFoundDocument()&&(function(l,u){const h=u.key.path;return l.collectionGroup!==null?u.key.hasCollectionId(l.collectionGroup)&&l.path.isPrefixOf(h):At.isDocumentKey(l.path)?l.path.isEqual(h):l.path.isImmediateParentOf(h)})(s,n)&&(function(l,u){for(const h of Hl(l))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0})(s,n)&&(function(l,u){for(const h of l.filters)if(!h.matches(u))return!1;return!0})(s,n)&&(function(l,u){return!(l.startAt&&!(function(m,y,v){const _=Ty(m,y,v);return m.inclusive?_<=0:_<0})(l.startAt,Hl(l),u)||l.endAt&&!(function(m,y,v){const _=Ty(m,y,v);return m.inclusive?_>=0:_>0})(l.endAt,Hl(l),u))})(s,n)}function yA(s){return(n,a)=>{let l=!1;for(const u of Hl(s)){const h=_A(u,n,a);if(h!==0)return h;l=l||u.field.isKeyField()}return 0}}function _A(s,n,a){const l=s.field.isKeyField()?At.comparator(n.key,a.key):(function(h,m,y){const v=m.data.field(h),_=y.data.field(h);return v!==null&&_!==null?Mr(v,_):Rt(42886)})(s.field,n,a);switch(s.dir){case"asc":return l;case"desc":return-1*l;default:return Rt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(n,a){this.mapKeyFn=n,this.equalsFn=a,this.inner={},this.innerSize=0}get(n){const a=this.mapKeyFn(n),l=this.inner[a];if(l!==void 0){for(const[u,h]of l)if(this.equalsFn(u,n))return h}}has(n){return this.get(n)!==void 0}set(n,a){const l=this.mapKeyFn(n),u=this.inner[l];if(u===void 0)return this.inner[l]=[[n,a]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],n))return void(u[h]=[n,a]);u.push([n,a]),this.innerSize++}delete(n){const a=this.mapKeyFn(n),l=this.inner[a];if(l===void 0)return!1;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],n))return l.length===1?delete this.inner[a]:l.splice(u,1),this.innerSize--,!0;return!1}forEach(n){Lr(this.inner,((a,l)=>{for(const[u,h]of l)n(u,h)}))}isEmpty(){return z_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=new cn(At.comparator);function Xu(){return vA}const t0=new cn(At.comparator);function Mu(...s){let n=t0;for(const a of s)n=n.insert(a.key,a);return n}function e0(s){let n=t0;return s.forEach(((a,l)=>n=n.insert(a,l.overlayedDocument))),n}function Ts(){return Gl()}function n0(){return Gl()}function Gl(){return new Ms((s=>s.toString()),((s,n)=>s.isEqual(n)))}const EA=new cn(At.comparator),TA=new He(At.comparator);function Ke(...s){let n=TA;for(const a of s)n=n.add(a);return n}const AA=new He(Ht);function SA(){return AA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(s,n){if(s.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qu(n)?"-0":n}}function i0(s){return{integerValue:""+s}}function bA(s,n){return X1(n)?i0(n):dd(s,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(){this._=void 0}}function RA(s,n,a){return s instanceof Jl?(function(u,h){const m={fields:{[B_]:{stringValue:P_},[q_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&ld(h)&&(h=od(h)),h&&(m.fields[k_]=h),{mapValue:m}})(a,n):s instanceof Wl?s0(s,n):s instanceof to?r0(s,n):(function(u,h){const m=a0(u,h),y=Ry(m)+Ry(u.Ae);return zh(m)&&zh(u.Ae)?i0(y):dd(u.serializer,y)})(s,n)}function wA(s,n,a){return s instanceof Wl?s0(s,n):s instanceof to?r0(s,n):a}function a0(s,n){return s instanceof Ku?(function(l){return zh(l)||(function(h){return!!h&&"doubleValue"in h})(l)})(n)?n:{integerValue:0}:null}class Jl extends sc{}class Wl extends sc{constructor(n){super(),this.elements=n}}function s0(s,n){const a=l0(n);for(const l of s.elements)a.some((u=>_i(u,l)))||a.push(l);return{arrayValue:{values:a}}}class to extends sc{constructor(n){super(),this.elements=n}}function r0(s,n){let a=l0(n);for(const l of s.elements)a=a.filter((u=>!_i(u,l)));return{arrayValue:{values:a}}}class Ku extends sc{constructor(n,a){super(),this.serializer=n,this.Ae=a}}function Ry(s){return ke(s.integerValue||s.doubleValue)}function l0(s){return ud(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(n,a){this.field=n,this.transform=a}}function DA(s,n){return s.field.isEqual(n.field)&&(function(l,u){return l instanceof Wl&&u instanceof Wl||l instanceof to&&u instanceof to?Nr(l.elements,u.elements,_i):l instanceof Ku&&u instanceof Ku?_i(l.Ae,u.Ae):l instanceof Jl&&u instanceof Jl})(s.transform,n.transform)}class IA{constructor(n,a){this.version=n,this.transformResults=a}}class Yi{constructor(n,a){this.updateTime=n,this.exists=a}static none(){return new Yi}static exists(n){return new Yi(void 0,n)}static updateTime(n){return new Yi(n)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function zu(s,n){return s.updateTime!==void 0?n.isFoundDocument()&&n.version.isEqual(s.updateTime):s.exists===void 0||s.exists===n.isFoundDocument()}class rc{}function o0(s,n){if(!s.hasLocalMutations||n&&n.fields.length===0)return null;if(n===null)return s.isNoDocument()?new c0(s.key,Yi.none()):new ao(s.key,s.data,Yi.none());{const a=s.data,l=Xn.empty();let u=new He(qe.comparator);for(let h of n.fields)if(!u.has(h)){let m=a.field(h);m===null&&h.length>1&&(h=h.popLast(),m=a.field(h)),m===null?l.delete(h):l.set(h,m),u=u.add(h)}return new Os(s.key,l,new $n(u.toArray()),Yi.none())}}function NA(s,n,a){s instanceof ao?(function(u,h,m){const y=u.value.clone(),v=Cy(u.fieldTransforms,h,m.transformResults);y.setAll(v),h.convertToFoundDocument(m.version,y).setHasCommittedMutations()})(s,n,a):s instanceof Os?(function(u,h,m){if(!zu(u.precondition,h))return void h.convertToUnknownDocument(m.version);const y=Cy(u.fieldTransforms,h,m.transformResults),v=h.data;v.setAll(u0(u)),v.setAll(y),h.convertToFoundDocument(m.version,v).setHasCommittedMutations()})(s,n,a):(function(u,h,m){h.convertToNoDocument(m.version).setHasCommittedMutations()})(0,n,a)}function Ql(s,n,a,l){return s instanceof ao?(function(h,m,y,v){if(!zu(h.precondition,m))return y;const _=h.value.clone(),S=Dy(h.fieldTransforms,v,m);return _.setAll(S),m.convertToFoundDocument(m.version,_).setHasLocalMutations(),null})(s,n,a,l):s instanceof Os?(function(h,m,y,v){if(!zu(h.precondition,m))return y;const _=Dy(h.fieldTransforms,v,m),S=m.data;return S.setAll(u0(h)),S.setAll(_),m.convertToFoundDocument(m.version,S).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((M=>M.field)))})(s,n,a,l):(function(h,m,y){return zu(h.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):y})(s,n,a)}function xA(s,n){let a=null;for(const l of s.fieldTransforms){const u=n.data.field(l.field),h=a0(l.transform,u||null);h!=null&&(a===null&&(a=Xn.empty()),a.set(l.field,h))}return a||null}function wy(s,n){return s.type===n.type&&!!s.key.isEqual(n.key)&&!!s.precondition.isEqual(n.precondition)&&!!(function(l,u){return l===void 0&&u===void 0||!(!l||!u)&&Nr(l,u,((h,m)=>DA(h,m)))})(s.fieldTransforms,n.fieldTransforms)&&(s.type===0?s.value.isEqual(n.value):s.type!==1||s.data.isEqual(n.data)&&s.fieldMask.isEqual(n.fieldMask))}class ao extends rc{constructor(n,a,l,u=[]){super(),this.key=n,this.value=a,this.precondition=l,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Os extends rc{constructor(n,a,l,u,h=[]){super(),this.key=n,this.data=a,this.fieldMask=l,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function u0(s){const n=new Map;return s.fieldMask.fields.forEach((a=>{if(!a.isEmpty()){const l=s.data.field(a);n.set(a,l)}})),n}function Cy(s,n,a){const l=new Map;de(s.length===a.length,32656,{Re:a.length,Ve:s.length});for(let u=0;u<a.length;u++){const h=s[u],m=h.transform,y=n.data.field(h.field);l.set(h.field,wA(m,y,a[u]))}return l}function Dy(s,n,a){const l=new Map;for(const u of s){const h=u.transform,m=a.data.field(u.field);l.set(u.field,RA(h,m,n))}return l}class c0 extends rc{constructor(n,a){super(),this.key=n,this.precondition=a,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MA extends rc{constructor(n,a){super(),this.key=n,this.precondition=a,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(n,a,l,u){this.batchId=n,this.localWriteTime=a,this.baseMutations=l,this.mutations=u}applyToRemoteDocument(n,a){const l=a.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(n.key)&&NA(h,n,l[u])}}applyToLocalView(n,a){for(const l of this.baseMutations)l.key.isEqual(n.key)&&(a=Ql(l,n,a,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(n.key)&&(a=Ql(l,n,a,this.localWriteTime));return a}applyToLocalDocumentSet(n,a){const l=n0();return this.mutations.forEach((u=>{const h=n.get(u.key),m=h.overlayedDocument;let y=this.applyToLocalView(m,h.mutatedFields);y=a.has(u.key)?null:y;const v=o0(m,y);v!==null&&l.set(u.key,v),m.isValidDocument()||m.convertToNoDocument(se.min())})),l}keys(){return this.mutations.reduce(((n,a)=>n.add(a.key)),Ke())}isEqual(n){return this.batchId===n.batchId&&Nr(this.mutations,n.mutations,((a,l)=>wy(a,l)))&&Nr(this.baseMutations,n.baseMutations,((a,l)=>wy(a,l)))}}class md{constructor(n,a,l,u){this.batch=n,this.commitVersion=a,this.mutationResults=l,this.docVersions=u}static from(n,a,l){de(n.mutations.length===l.length,58842,{me:n.mutations.length,fe:l.length});let u=(function(){return EA})();const h=n.mutations;for(let m=0;m<h.length;m++)u=u.insert(h[m].key,l[m].version);return new md(n,a,l,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(n,a){this.largestBatchId=n,this.mutation=a}getKey(){return this.mutation.key}isEqual(n){return n!==null&&this.mutation===n.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te,Ut;function UA(s){switch(s){case $.OK:return Rt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Rt(15467,{code:s})}}function LA(s){if(s===void 0)return Cs("GRPC error has no .code"),$.UNKNOWN;switch(s){case Te.OK:return $.OK;case Te.CANCELLED:return $.CANCELLED;case Te.UNKNOWN:return $.UNKNOWN;case Te.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Te.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Te.INTERNAL:return $.INTERNAL;case Te.UNAVAILABLE:return $.UNAVAILABLE;case Te.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Te.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Te.NOT_FOUND:return $.NOT_FOUND;case Te.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Te.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Te.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Te.ABORTED:return $.ABORTED;case Te.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Te.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Te.DATA_LOSS:return $.DATA_LOSS;default:return Rt(39323,{code:s})}}(Ut=Te||(Te={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Wh([4294967295,4294967295],0);class jA{constructor(n,a){this.databaseId=n,this.useProto3Json=a}}function kh(s,n){return s.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function zA(s,n){return s.useProto3Json?n.toBase64():n.toUint8Array()}function PA(s,n){return kh(s,n.toTimestamp())}function Dr(s){return de(!!s,49232),se.fromTimestamp((function(a){const l=Ds(a);return new re(l.seconds,l.nanos)})(s))}function f0(s,n){return qh(s,n).canonicalString()}function qh(s,n){const a=(function(u){return new ue(["projects",u.projectId,"databases",u.database])})(s).child("documents");return n===void 0?a:a.child(n)}function BA(s){const n=ue.fromString(s);return de(XA(n),10190,{key:n.toString()}),n}function Hh(s,n){return f0(s.databaseId,n.path)}function kA(s){const n=BA(s);return n.length===4?ue.emptyPath():HA(n)}function qA(s){return new ue(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function HA(s){return de(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Iy(s,n,a){return{name:Hh(s,n),fields:a.value.mapValue.fields}}function GA(s,n){let a;if(n instanceof ao)a={update:Iy(s,n.key,n.value)};else if(n instanceof c0)a={delete:Hh(s,n.key)};else if(n instanceof Os)a={update:Iy(s,n.key,n.data),updateMask:YA(n.fieldMask)};else{if(!(n instanceof MA))return Rt(16599,{Vt:n.type});a={verify:Hh(s,n.key)}}return n.fieldTransforms.length>0&&(a.updateTransforms=n.fieldTransforms.map((l=>(function(h,m){const y=m.transform;if(y instanceof Jl)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Wl)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof to)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Ku)return{fieldPath:m.field.canonicalString(),increment:y.Ae};throw Rt(20930,{transform:m.transform})})(0,l)))),n.precondition.isNone||(a.currentDocument=(function(u,h){return h.updateTime!==void 0?{updateTime:PA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Rt(27497)})(s,n.precondition)),a}function QA(s,n){return s&&s.length>0?(de(n!==void 0,14353),s.map((a=>(function(u,h){let m=u.updateTime?Dr(u.updateTime):Dr(h);return m.isEqual(se.min())&&(m=Dr(h)),new IA(m,u.transformResults||[])})(a,n)))):[]}function FA(s){let n=kA(s.parent);const a=s.structuredQuery,l=a.from?a.from.length:0;let u=null;if(l>0){de(l===1,65062);const S=a.from[0];S.allDescendants?u=S.collectionId:n=n.child(S.collectionId)}let h=[];a.where&&(h=(function(M){const I=h0(M);return I instanceof Ma&&X_(I)?I.getFilters():[I]})(a.where));let m=[];a.orderBy&&(m=(function(M){return M.map((I=>(function(Z){return new Yu(wr(Z.field),(function(it){switch(it){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(I)))})(a.orderBy));let y=null;a.limit&&(y=(function(M){let I;return I=typeof M=="object"?M.value:M,rd(I)?null:I})(a.limit));let v=null;a.startAt&&(v=(function(M){const I=!!M.before,K=M.values||[];return new Fu(K,I)})(a.startAt));let _=null;return a.endAt&&(_=(function(M){const I=!M.before,K=M.values||[];return new Fu(K,I)})(a.endAt)),dA(n,u,m,h,y,"F",v,_)}function h0(s){return s.unaryFilter!==void 0?(function(a){switch(a.unaryFilter.op){case"IS_NAN":const l=wr(a.unaryFilter.field);return Ve.create(l,"==",{doubleValue:NaN});case"IS_NULL":const u=wr(a.unaryFilter.field);return Ve.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=wr(a.unaryFilter.field);return Ve.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=wr(a.unaryFilter.field);return Ve.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}})(s):s.fieldFilter!==void 0?(function(a){return Ve.create(wr(a.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}})(a.fieldFilter.op),a.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(a){return Ma.create(a.compositeFilter.filters.map((l=>h0(l))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}})(a.compositeFilter.op))})(s):Rt(30097,{filter:s})}function wr(s){return qe.fromServerFormat(s.fieldPath)}function YA(s){const n=[];return s.fields.forEach((a=>n.push(a.canonicalString()))),{fieldPaths:n}}function XA(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(n){this.yt=n}}function $A(s){const n=FA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Bh(n,n.limit,"L"):n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.Cn=new JA}addToCollectionParentIndex(n,a){return this.Cn.add(a),X.resolve()}getCollectionParents(n,a){return X.resolve(this.Cn.getEntries(a))}addFieldIndex(n,a){return X.resolve()}deleteFieldIndex(n,a){return X.resolve()}deleteAllFieldIndexes(n){return X.resolve()}createTargetIndexes(n,a){return X.resolve()}getDocumentsMatchingTarget(n,a){return X.resolve(null)}getIndexType(n,a){return X.resolve(0)}getFieldIndexes(n,a){return X.resolve([])}getNextCollectionGroupToUpdate(n){return X.resolve(null)}getMinOffset(n,a){return X.resolve(xa.min())}getMinOffsetFromCollectionGroup(n,a){return X.resolve(xa.min())}updateCollectionGroup(n,a,l){return X.resolve()}updateIndexEntries(n,a){return X.resolve()}}class JA{constructor(){this.index={}}add(n){const a=n.lastSegment(),l=n.popLast(),u=this.index[a]||new He(ue.comparator),h=!u.has(l);return this.index[a]=u.add(l),h}has(n){const a=n.lastSegment(),l=n.popLast(),u=this.index[a];return u&&u.has(l)}getEntries(n){return(this.index[n]||new He(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},d0=41943040;class on{static withCacheSize(n){return new on(n,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,a,l){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(d0,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(n){this.ar=n}next(){return this.ar+=2,this.ar}static ur(){return new Vr(0)}static cr(){return new Vr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="LruGarbageCollector",WA=1048576;function My([s,n],[a,l]){const u=Ht(s,a);return u===0?Ht(n,l):u}class tS{constructor(n){this.Ir=n,this.buffer=new He(My),this.Er=0}dr(){return++this.Er}Ar(n){const a=[n,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(a);else{const l=this.buffer.last();My(a,l)<0&&(this.buffer=this.buffer.delete(l).add(a))}}get maxValue(){return this.buffer.last()[0]}}class eS{constructor(n,a,l){this.garbageCollector=n,this.asyncQueue=a,this.localStore=l,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(n){st(xy,`Garbage collection scheduled in ${n}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(a){io(a)?st(xy,"Ignoring IndexedDB error during garbage collection: ",a):await id(a)}await this.Vr(3e5)}))}}class nS{constructor(n,a){this.mr=n,this.params=a}calculateTargetCount(n,a){return this.mr.gr(n).next((l=>Math.floor(a/100*l)))}nthSequenceNumber(n,a){if(a===0)return X.resolve(ad.ce);const l=new tS(a);return this.mr.forEachTarget(n,(u=>l.Ar(u.sequenceNumber))).next((()=>this.mr.pr(n,(u=>l.Ar(u))))).next((()=>l.maxValue))}removeTargets(n,a,l){return this.mr.removeTargets(n,a,l)}removeOrphanedDocuments(n,a){return this.mr.removeOrphanedDocuments(n,a)}collect(n,a){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Ny)):this.getCacheSize(n).next((l=>l<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ny):this.yr(n,a)))}getCacheSize(n){return this.mr.getCacheSize(n)}yr(n,a){let l,u,h,m,y,v,_;const S=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next((M=>(M>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),u=this.params.maximumSequenceNumbersToCollect):u=M,m=Date.now(),this.nthSequenceNumber(n,u)))).next((M=>(l=M,y=Date.now(),this.removeTargets(n,l,a)))).next((M=>(h=M,v=Date.now(),this.removeOrphanedDocuments(n,l)))).next((M=>(_=Date.now(),Rr()<=Lt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-S}ms
	Determined least recently used ${u} in `+(y-m)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${M} documents in `+(_-v)+`ms
Total Duration: ${_-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:M}))))}}function iS(s,n){return new nS(s,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.changes=new Ms((n=>n.toString()),((n,a)=>n.isEqual(a))),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,a){this.assertNotApplied(),this.changes.set(n,Yn.newInvalidDocument(n).setReadTime(a))}getEntry(n,a){this.assertNotApplied();const l=this.changes.get(a);return l!==void 0?X.resolve(l):this.getFromCache(n,a)}getEntries(n,a){return this.getAllFromCache(n,a)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(n,a){this.overlayedDocument=n,this.mutatedFields=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(n,a,l,u){this.remoteDocumentCache=n,this.mutationQueue=a,this.documentOverlayCache=l,this.indexManager=u}getDocument(n,a){let l=null;return this.documentOverlayCache.getOverlay(n,a).next((u=>(l=u,this.remoteDocumentCache.getEntry(n,a)))).next((u=>(l!==null&&Ql(l.mutation,u,$n.empty(),re.now()),u)))}getDocuments(n,a){return this.remoteDocumentCache.getEntries(n,a).next((l=>this.getLocalViewOfDocuments(n,l,Ke()).next((()=>l))))}getLocalViewOfDocuments(n,a,l=Ke()){const u=Ts();return this.populateOverlays(n,u,a).next((()=>this.computeViews(n,a,u,l).next((h=>{let m=Mu();return h.forEach(((y,v)=>{m=m.insert(y,v.overlayedDocument)})),m}))))}getOverlayedDocuments(n,a){const l=Ts();return this.populateOverlays(n,l,a).next((()=>this.computeViews(n,a,l,Ke())))}populateOverlays(n,a,l){const u=[];return l.forEach((h=>{a.has(h)||u.push(h)})),this.documentOverlayCache.getOverlays(n,u).next((h=>{h.forEach(((m,y)=>{a.set(m,y)}))}))}computeViews(n,a,l,u){let h=Xu();const m=Gl(),y=(function(){return Gl()})();return a.forEach(((v,_)=>{const S=l.get(_.key);u.has(_.key)&&(S===void 0||S.mutation instanceof Os)?h=h.insert(_.key,_):S!==void 0?(m.set(_.key,S.mutation.getFieldMask()),Ql(S.mutation,_,S.mutation.getFieldMask(),re.now())):m.set(_.key,$n.empty())})),this.recalculateAndSaveOverlays(n,h).next((v=>(v.forEach(((_,S)=>m.set(_,S))),a.forEach(((_,S)=>y.set(_,new sS(S,m.get(_)??null)))),y)))}recalculateAndSaveOverlays(n,a){const l=Gl();let u=new cn(((m,y)=>m-y)),h=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,a).next((m=>{for(const y of m)y.keys().forEach((v=>{const _=a.get(v);if(_===null)return;let S=l.get(v)||$n.empty();S=y.applyToLocalView(_,S),l.set(v,S);const M=(u.get(y.batchId)||Ke()).add(v);u=u.insert(y.batchId,M)}))})).next((()=>{const m=[],y=u.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,S=v.value,M=n0();S.forEach((I=>{if(!h.has(I)){const K=o0(a.get(I),l.get(I));K!==null&&M.set(I,K),h=h.add(I)}})),m.push(this.documentOverlayCache.saveOverlays(n,_,M))}return X.waitFor(m)})).next((()=>l))}recalculateAndSaveOverlaysForDocumentKeys(n,a){return this.remoteDocumentCache.getEntries(n,a).next((l=>this.recalculateAndSaveOverlays(n,l)))}getDocumentsMatchingQuery(n,a,l,u){return(function(m){return At.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0})(a)?this.getDocumentsMatchingDocumentQuery(n,a.path):gA(a)?this.getDocumentsMatchingCollectionGroupQuery(n,a,l,u):this.getDocumentsMatchingCollectionQuery(n,a,l,u)}getNextDocuments(n,a,l,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,a,l,u).next((h=>{const m=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,a,l.largestBatchId,u-h.size):X.resolve(Ts());let y=$l,v=h;return m.next((_=>X.forEach(_,((S,M)=>(y<M.largestBatchId&&(y=M.largestBatchId),h.get(S)?X.resolve():this.remoteDocumentCache.getEntry(n,S).next((I=>{v=v.insert(S,I)}))))).next((()=>this.populateOverlays(n,_,h))).next((()=>this.computeViews(n,v,_,Ke()))).next((S=>({batchId:y,changes:e0(S)})))))}))}getDocumentsMatchingDocumentQuery(n,a){return this.getDocument(n,new At(a)).next((l=>{let u=Mu();return l.isFoundDocument()&&(u=u.insert(l.key,l)),u}))}getDocumentsMatchingCollectionGroupQuery(n,a,l,u){const h=a.collectionGroup;let m=Mu();return this.indexManager.getCollectionParents(n,h).next((y=>X.forEach(y,(v=>{const _=(function(M,I){return new ac(I,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt)})(a,v.child(h));return this.getDocumentsMatchingCollectionQuery(n,_,l,u).next((S=>{S.forEach(((M,I)=>{m=m.insert(M,I)}))}))})).next((()=>m))))}getDocumentsMatchingCollectionQuery(n,a,l,u){let h;return this.documentOverlayCache.getOverlaysForCollection(n,a.path,l.largestBatchId).next((m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(n,a,l,h,u)))).next((m=>{h.forEach(((v,_)=>{const S=_.getKey();m.get(S)===null&&(m=m.insert(S,Yn.newInvalidDocument(S)))}));let y=Mu();return m.forEach(((v,_)=>{const S=h.get(v);S!==void 0&&Ql(S.mutation,_,$n.empty(),re.now()),hd(a,_)&&(y=y.insert(v,_))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(n){this.serializer=n,this.Lr=new Map,this.kr=new Map}getBundleMetadata(n,a){return X.resolve(this.Lr.get(a))}saveBundleMetadata(n,a){return this.Lr.set(a.id,(function(u){return{id:u.id,version:u.version,createTime:Dr(u.createTime)}})(a)),X.resolve()}getNamedQuery(n,a){return X.resolve(this.kr.get(a))}saveNamedQuery(n,a){return this.kr.set(a.name,(function(u){return{name:u.name,query:$A(u.bundledQuery),readTime:Dr(u.readTime)}})(a)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this.overlays=new cn(At.comparator),this.qr=new Map}getOverlay(n,a){return X.resolve(this.overlays.get(a))}getOverlays(n,a){const l=Ts();return X.forEach(a,(u=>this.getOverlay(n,u).next((h=>{h!==null&&l.set(u,h)})))).next((()=>l))}saveOverlays(n,a,l){return l.forEach(((u,h)=>{this.St(n,a,h)})),X.resolve()}removeOverlaysForBatchId(n,a,l){const u=this.qr.get(l);return u!==void 0&&(u.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(l)),X.resolve()}getOverlaysForCollection(n,a,l){const u=Ts(),h=a.length+1,m=new At(a.child("")),y=this.overlays.getIteratorFrom(m);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!a.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>l&&u.set(v.getKey(),v)}return X.resolve(u)}getOverlaysForCollectionGroup(n,a,l,u){let h=new cn(((_,S)=>_-S));const m=this.overlays.getIterator();for(;m.hasNext();){const _=m.getNext().value;if(_.getKey().getCollectionGroup()===a&&_.largestBatchId>l){let S=h.get(_.largestBatchId);S===null&&(S=Ts(),h=h.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const y=Ts(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,S)=>y.set(_,S))),!(y.size()>=u)););return X.resolve(y)}St(n,a,l){const u=this.overlays.get(l.key);if(u!==null){const m=this.qr.get(u.largestBatchId).delete(l.key);this.qr.set(u.largestBatchId,m)}this.overlays=this.overlays.insert(l.key,new VA(a,l));let h=this.qr.get(a);h===void 0&&(h=Ke(),this.qr.set(a,h)),this.qr.set(a,h.add(l.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.sessionToken=yi.EMPTY_BYTE_STRING}getSessionToken(n){return X.resolve(this.sessionToken)}setSessionToken(n,a){return this.sessionToken=a,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(){this.Qr=new He(Oe.$r),this.Ur=new He(Oe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(n,a){const l=new Oe(n,a);this.Qr=this.Qr.add(l),this.Ur=this.Ur.add(l)}Wr(n,a){n.forEach((l=>this.addReference(l,a)))}removeReference(n,a){this.Gr(new Oe(n,a))}zr(n,a){n.forEach((l=>this.removeReference(l,a)))}jr(n){const a=new At(new ue([])),l=new Oe(a,n),u=new Oe(a,n+1),h=[];return this.Ur.forEachInRange([l,u],(m=>{this.Gr(m),h.push(m.key)})),h}Jr(){this.Qr.forEach((n=>this.Gr(n)))}Gr(n){this.Qr=this.Qr.delete(n),this.Ur=this.Ur.delete(n)}Hr(n){const a=new At(new ue([])),l=new Oe(a,n),u=new Oe(a,n+1);let h=Ke();return this.Ur.forEachInRange([l,u],(m=>{h=h.add(m.key)})),h}containsKey(n){const a=new Oe(n,0),l=this.Qr.firstAfterOrEqual(a);return l!==null&&n.isEqual(l.key)}}class Oe{constructor(n,a){this.key=n,this.Yr=a}static $r(n,a){return At.comparator(n.key,a.key)||Ht(n.Yr,a.Yr)}static Kr(n,a){return Ht(n.Yr,a.Yr)||At.comparator(n.key,a.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(n,a){this.indexManager=n,this.referenceDelegate=a,this.mutationQueue=[],this.tr=1,this.Zr=new He(Oe.$r)}checkEmpty(n){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(n,a,l,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new OA(h,a,l,u);this.mutationQueue.push(m);for(const y of u)this.Zr=this.Zr.add(new Oe(y.key,h)),this.indexManager.addToCollectionParentIndex(n,y.key.path.popLast());return X.resolve(m)}lookupMutationBatch(n,a){return X.resolve(this.Xr(a))}getNextMutationBatchAfterBatchId(n,a){const l=a+1,u=this.ei(l),h=u<0?0:u;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?sd:this.tr-1)}getAllMutationBatches(n){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,a){const l=new Oe(a,0),u=new Oe(a,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([l,u],(m=>{const y=this.Xr(m.Yr);h.push(y)})),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(n,a){let l=new He(Ht);return a.forEach((u=>{const h=new Oe(u,0),m=new Oe(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,m],(y=>{l=l.add(y.Yr)}))})),X.resolve(this.ti(l))}getAllMutationBatchesAffectingQuery(n,a){const l=a.path,u=l.length+1;let h=l;At.isDocumentKey(h)||(h=h.child(""));const m=new Oe(new At(h),0);let y=new He(Ht);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!l.isPrefixOf(_)&&(_.length===u&&(y=y.add(v.Yr)),!0)}),m),X.resolve(this.ti(y))}ti(n){const a=[];return n.forEach((l=>{const u=this.Xr(l);u!==null&&a.push(u)})),a}removeMutationBatch(n,a){de(this.ni(a.batchId,"removed")===0,55003),this.mutationQueue.shift();let l=this.Zr;return X.forEach(a.mutations,(u=>{const h=new Oe(u.key,a.batchId);return l=l.delete(h),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)})).next((()=>{this.Zr=l}))}ir(n){}containsKey(n,a){const l=new Oe(a,0),u=this.Zr.firstAfterOrEqual(l);return X.resolve(a.isEqual(u&&u.key))}performConsistencyCheck(n){return this.mutationQueue.length,X.resolve()}ni(n,a){return this.ei(n)}ei(n){return this.mutationQueue.length===0?0:n-this.mutationQueue[0].batchId}Xr(n){const a=this.ei(n);return a<0||a>=this.mutationQueue.length?null:this.mutationQueue[a]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(n){this.ri=n,this.docs=(function(){return new cn(At.comparator)})(),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,a){const l=a.key,u=this.docs.get(l),h=u?u.size:0,m=this.ri(a);return this.docs=this.docs.insert(l,{document:a.mutableCopy(),size:m}),this.size+=m-h,this.indexManager.addToCollectionParentIndex(n,l.path.popLast())}removeEntry(n){const a=this.docs.get(n);a&&(this.docs=this.docs.remove(n),this.size-=a.size)}getEntry(n,a){const l=this.docs.get(a);return X.resolve(l?l.document.mutableCopy():Yn.newInvalidDocument(a))}getEntries(n,a){let l=Xu();return a.forEach((u=>{const h=this.docs.get(u);l=l.insert(u,h?h.document.mutableCopy():Yn.newInvalidDocument(u))})),X.resolve(l)}getDocumentsMatchingQuery(n,a,l,u){let h=Xu();const m=a.path,y=new At(m.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:S}}=v.getNext();if(!m.isPrefixOf(_.path))break;_.path.length>m.length+1||G1(H1(S),l)<=0||(u.has(S.key)||hd(a,S))&&(h=h.insert(S.key,S.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(n,a,l,u){Rt(9500)}ii(n,a){return X.forEach(this.docs,(l=>a(l)))}newChangeBuffer(n){return new hS(this)}getSize(n){return X.resolve(this.size)}}class hS extends aS{constructor(n){super(),this.Nr=n}applyChanges(n){const a=[];return this.changes.forEach(((l,u)=>{u.isValidDocument()?a.push(this.Nr.addEntry(n,u)):this.Nr.removeEntry(l)})),X.waitFor(a)}getFromCache(n,a){return this.Nr.getEntry(n,a)}getAllFromCache(n,a){return this.Nr.getEntries(n,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(n){this.persistence=n,this.si=new Ms((a=>cd(a)),fd),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.oi=0,this._i=new gd,this.targetCount=0,this.ai=Vr.ur()}forEachTarget(n,a){return this.si.forEach(((l,u)=>a(u))),X.resolve()}getLastRemoteSnapshotVersion(n){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return X.resolve(this.oi)}allocateTargetId(n){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(n,a,l){return l&&(this.lastRemoteSnapshotVersion=l),a>this.oi&&(this.oi=a),X.resolve()}Pr(n){this.si.set(n.target,n);const a=n.targetId;a>this.highestTargetId&&(this.ai=new Vr(a),this.highestTargetId=a),n.sequenceNumber>this.oi&&(this.oi=n.sequenceNumber)}addTargetData(n,a){return this.Pr(a),this.targetCount+=1,X.resolve()}updateTargetData(n,a){return this.Pr(a),X.resolve()}removeTargetData(n,a){return this.si.delete(a.target),this._i.jr(a.targetId),this.targetCount-=1,X.resolve()}removeTargets(n,a,l){let u=0;const h=[];return this.si.forEach(((m,y)=>{y.sequenceNumber<=a&&l.get(y.targetId)===null&&(this.si.delete(m),h.push(this.removeMatchingKeysForTargetId(n,y.targetId)),u++)})),X.waitFor(h).next((()=>u))}getTargetCount(n){return X.resolve(this.targetCount)}getTargetData(n,a){const l=this.si.get(a)||null;return X.resolve(l)}addMatchingKeys(n,a,l){return this._i.Wr(a,l),X.resolve()}removeMatchingKeys(n,a,l){this._i.zr(a,l);const u=this.persistence.referenceDelegate,h=[];return u&&a.forEach((m=>{h.push(u.markPotentiallyOrphaned(n,m))})),X.waitFor(h)}removeMatchingKeysForTargetId(n,a){return this._i.jr(a),X.resolve()}getMatchingKeysForTargetId(n,a){const l=this._i.Hr(a);return X.resolve(l)}containsKey(n,a){return X.resolve(this._i.containsKey(a))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(n,a){this.ui={},this.overlays={},this.ci=new ad(0),this.li=!1,this.li=!0,this.hi=new uS,this.referenceDelegate=n(this),this.Pi=new dS(this),this.indexManager=new ZA,this.remoteDocumentCache=(function(u){return new fS(u)})((l=>this.referenceDelegate.Ti(l))),this.serializer=new KA(a),this.Ii=new lS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let a=this.overlays[n.toKey()];return a||(a=new oS,this.overlays[n.toKey()]=a),a}getMutationQueue(n,a){let l=this.ui[n.toKey()];return l||(l=new cS(a,this.referenceDelegate),this.ui[n.toKey()]=l),l}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(n,a,l){st("MemoryPersistence","Starting transaction:",n);const u=new mS(this.ci.next());return this.referenceDelegate.Ei(),l(u).next((h=>this.referenceDelegate.di(u).next((()=>h)))).toPromise().then((h=>(u.raiseOnCommittedEvent(),h)))}Ai(n,a){return X.or(Object.values(this.ui).map((l=>()=>l.containsKey(n,a))))}}class mS extends F1{constructor(n){super(),this.currentSequenceNumber=n}}class pd{constructor(n){this.persistence=n,this.Ri=new gd,this.Vi=null}static mi(n){return new pd(n)}get fi(){if(this.Vi)return this.Vi;throw Rt(60996)}addReference(n,a,l){return this.Ri.addReference(l,a),this.fi.delete(l.toString()),X.resolve()}removeReference(n,a,l){return this.Ri.removeReference(l,a),this.fi.add(l.toString()),X.resolve()}markPotentiallyOrphaned(n,a){return this.fi.add(a.toString()),X.resolve()}removeTarget(n,a){this.Ri.jr(a.targetId).forEach((u=>this.fi.add(u.toString())));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(n,a.targetId).next((u=>{u.forEach((h=>this.fi.add(h.toString())))})).next((()=>l.removeTargetData(n,a)))}Ei(){this.Vi=new Set}di(n){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(l=>{const u=At.fromPath(l);return this.gi(n,u).next((h=>{h||a.removeEntry(u,se.min())}))})).next((()=>(this.Vi=null,a.apply(n))))}updateLimboDocument(n,a){return this.gi(n,a).next((l=>{l?this.fi.delete(a.toString()):this.fi.add(a.toString())}))}Ti(n){return 0}gi(n,a){return X.or([()=>X.resolve(this.Ri.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(n,a),()=>this.persistence.Ai(n,a)])}}class $u{constructor(n,a){this.persistence=n,this.pi=new Ms((l=>K1(l.path)),((l,u)=>l.isEqual(u))),this.garbageCollector=iS(this,a)}static mi(n,a){return new $u(n,a)}Ei(){}di(n){return X.resolve()}forEachTarget(n,a){return this.persistence.getTargetCache().forEachTarget(n,a)}gr(n){const a=this.wr(n);return this.persistence.getTargetCache().getTargetCount(n).next((l=>a.next((u=>l+u))))}wr(n){let a=0;return this.pr(n,(l=>{a++})).next((()=>a))}pr(n,a){return X.forEach(this.pi,((l,u)=>this.br(n,l,u).next((h=>h?X.resolve():a(u)))))}removeTargets(n,a,l){return this.persistence.getTargetCache().removeTargets(n,a,l)}removeOrphanedDocuments(n,a){let l=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(n,(m=>this.br(n,m,a).next((y=>{y||(l++,h.removeEntry(m,se.min()))})))).next((()=>h.apply(n))).next((()=>l))}markPotentiallyOrphaned(n,a){return this.pi.set(a,n.currentSequenceNumber),X.resolve()}removeTarget(n,a){const l=a.withSequenceNumber(n.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(n,l)}addReference(n,a,l){return this.pi.set(l,n.currentSequenceNumber),X.resolve()}removeReference(n,a,l){return this.pi.set(l,n.currentSequenceNumber),X.resolve()}updateLimboDocument(n,a){return this.pi.set(a,n.currentSequenceNumber),X.resolve()}Ti(n){let a=n.key.toString().length;return n.isFoundDocument()&&(a+=Lu(n.data.value)),a}br(n,a,l){return X.or([()=>this.persistence.Ai(n,a),()=>this.persistence.getTargetCache().containsKey(n,a),()=>{const u=this.pi.get(a);return X.resolve(u!==void 0&&u>l)}])}getCacheSize(n){return this.persistence.getRemoteDocumentCache().getSize(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(n,a,l,u){this.targetId=n,this.fromCache=a,this.Es=l,this.ds=u}static As(n,a){let l=Ke(),u=Ke();for(const h of a.docChanges)switch(h.type){case 0:l=l.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new yd(n,a.fromCache,l,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fT()?8:Y1(oT())>0?6:4})()}initialize(n,a){this.ps=n,this.indexManager=a,this.Rs=!0}getDocumentsMatchingQuery(n,a,l,u){const h={result:null};return this.ys(n,a).next((m=>{h.result=m})).next((()=>{if(!h.result)return this.ws(n,a,u,l).next((m=>{h.result=m}))})).next((()=>{if(h.result)return;const m=new gS;return this.Ss(n,a,m).next((y=>{if(h.result=y,this.Vs)return this.bs(n,a,m,y.size)}))})).next((()=>h.result))}bs(n,a,l,u){return l.documentReadCount<this.fs?(Rr()<=Lt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Pl(a),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Rr()<=Lt.DEBUG&&st("QueryEngine","Query:",Pl(a),"scans",l.documentReadCount,"local documents and returns",u,"documents as results."),l.documentReadCount>this.gs*u?(Rr()<=Lt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Pl(a),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,bs(a))):X.resolve())}ys(n,a){if(by(a))return X.resolve(null);let l=bs(a);return this.indexManager.getIndexType(n,l).next((u=>u===0?null:(a.limit!==null&&u===1&&(a=Bh(a,null,"F"),l=bs(a)),this.indexManager.getDocumentsMatchingTarget(n,l).next((h=>{const m=Ke(...h);return this.ps.getDocuments(n,m).next((y=>this.indexManager.getMinOffset(n,l).next((v=>{const _=this.Ds(a,y);return this.Cs(a,_,m,v.readTime)?this.ys(n,Bh(a,null,"F")):this.vs(n,_,a,v)}))))})))))}ws(n,a,l,u){return by(a)||u.isEqual(se.min())?X.resolve(null):this.ps.getDocuments(n,l).next((h=>{const m=this.Ds(a,h);return this.Cs(a,m,l,u)?X.resolve(null):(Rr()<=Lt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Pl(a)),this.vs(n,m,a,q1(u,$l)).next((y=>y)))}))}Ds(n,a){let l=new He(yA(n));return a.forEach(((u,h)=>{hd(n,h)&&(l=l.add(h))})),l}Cs(n,a,l,u){if(n.limit===null)return!1;if(l.size!==a.size)return!0;const h=n.limitType==="F"?a.last():a.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(n,a,l){return Rr()<=Lt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Pl(a)),this.ps.getDocumentsMatchingQuery(n,a,xa.min(),l)}vs(n,a,l,u){return this.ps.getDocumentsMatchingQuery(n,l,u).next((h=>(a.forEach((m=>{h=h.insert(m.key,m)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="LocalStore";class _S{constructor(n,a,l,u){this.persistence=n,this.Fs=a,this.serializer=u,this.Ms=new cn(Ht),this.xs=new Ms((h=>cd(h)),fd),this.Os=new Map,this.Ns=n.getRemoteDocumentCache(),this.Pi=n.getTargetCache(),this.Ii=n.getBundleCache(),this.Bs(l)}Bs(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new rS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(a=>n.collect(a,this.Ms)))}}function vS(s,n,a,l){return new _S(s,n,a,l)}async function g0(s,n){const a=ne(s);return await a.persistence.runTransaction("Handle user change","readonly",(l=>{let u;return a.mutationQueue.getAllMutationBatches(l).next((h=>(u=h,a.Bs(n),a.mutationQueue.getAllMutationBatches(l)))).next((h=>{const m=[],y=[];let v=Ke();for(const _ of u){m.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}for(const _ of h){y.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}return a.localDocuments.getDocuments(l,v).next((_=>({Ls:_,removedBatchIds:m,addedBatchIds:y})))}))}))}function ES(s,n){const a=ne(s);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",(l=>{const u=n.batch.keys(),h=a.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,S){const M=_.batch,I=M.keys();let K=X.resolve();return I.forEach((Z=>{K=K.next((()=>S.getEntry(v,Z))).next((nt=>{const it=_.docVersions.get(Z);de(it!==null,48541),nt.version.compareTo(it)<0&&(M.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),S.addEntry(nt)))}))})),K.next((()=>y.mutationQueue.removeMutationBatch(v,M)))})(a,l,n,h).next((()=>h.apply(l))).next((()=>a.mutationQueue.performConsistencyCheck(l))).next((()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,n.batch.batchId))).next((()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,(function(y){let v=Ke();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(n)))).next((()=>a.localDocuments.getDocuments(l,u)))}))}function TS(s){const n=ne(s);return n.persistence.runTransaction("Get last remote snapshot version","readonly",(a=>n.Pi.getLastRemoteSnapshotVersion(a)))}function AS(s,n){const a=ne(s);return a.persistence.runTransaction("Get next mutation batch","readonly",(l=>(n===void 0&&(n=sd),a.mutationQueue.getNextMutationBatchAfterBatchId(l,n))))}class Oy{constructor(){this.activeTargetIds=SA()}zs(n){this.activeTargetIds=this.activeTargetIds.add(n)}js(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Gs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class SS{constructor(){this.Mo=new Oy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,a,l){}addLocalQueryTarget(n,a=!0){return a&&this.Mo.zs(n),this.xo[n]||"not-current"}updateQueryState(n,a,l){this.xo[n]=a}removeLocalQueryTarget(n){this.Mo.js(n)}isLocalQueryTarget(n){return this.Mo.activeTargetIds.has(n)}clearQueryState(n){delete this.xo[n]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(n){return this.Mo.activeTargetIds.has(n)}start(){return this.Mo=new Oy,Promise.resolve()}handleUserChange(n,a,l){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{Oo(n){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="ConnectivityMonitor";class Uy{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(n){this.qo.push(n)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(Vy,"Network connectivity changed: AVAILABLE");for(const n of this.qo)n(0)}ko(){st(Vy,"Network connectivity changed: UNAVAILABLE");for(const n of this.qo)n(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou=null;function Gh(){return Ou===null?Ou=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ou++,"0x"+Ou.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh="RestConnection",RS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wS{get $o(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const a=n.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=a+"://"+n.host,this.Ko=`projects/${l}/databases/${u}`,this.Wo=this.databaseId.database===Gu?`project_id=${l}`:`project_id=${l}&database_id=${u}`}Go(n,a,l,u,h){const m=Gh(),y=this.zo(n,a.toUriEncodedString());st(Sh,`Sending RPC '${n}' ${m}:`,y,l);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,u,h);const{host:_}=new URL(y),S=Kh(_);return this.Jo(n,y,v,l,S).then((M=>(st(Sh,`Received RPC '${n}' ${m}: `,M),M)),(M=>{throw ic(Sh,`RPC '${n}' ${m} failed with error: `,M,"url: ",y,"request:",l),M}))}Ho(n,a,l,u,h,m){return this.Go(n,a,l,u,h)}jo(n,a,l){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ur})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((u,h)=>n[h]=u)),l&&l.headers.forEach(((u,h)=>n[h]=u))}zo(n,a){const l=RS[n];return`${this.Uo}/v1/${a}:${l}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(n){this.Yo=n.Yo,this.Zo=n.Zo}Xo(n){this.e_=n}t_(n){this.n_=n}r_(n){this.i_=n}onMessage(n){this.s_=n}close(){this.Zo()}send(n){this.Yo(n)}o_(){this.e_()}__(){this.n_()}a_(n){this.i_(n)}u_(n){this.s_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class DS extends wS{constructor(n){super(n),this.c_=[],this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Jo(n,a,l,u,h){const m=Gh();return new Promise(((y,v)=>{const _=new C_;_.setWithCredentials(!0),_.listenOnce(D_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Uu.NO_ERROR:const M=_.getResponseJson();st(Fe,`XHR for RPC '${n}' ${m} received:`,JSON.stringify(M)),y(M);break;case Uu.TIMEOUT:st(Fe,`RPC '${n}' ${m} timed out`),v(new ft($.DEADLINE_EXCEEDED,"Request time out"));break;case Uu.HTTP_ERROR:const I=_.getStatus();if(st(Fe,`RPC '${n}' ${m} failed with status:`,I,"response text:",_.getResponseText()),I>0){let K=_.getResponseJson();Array.isArray(K)&&(K=K[0]);const Z=K?.error;if(Z&&Z.status&&Z.message){const nt=(function(St){const vt=St.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(vt)>=0?vt:$.UNKNOWN})(Z.status);v(new ft(nt,Z.message))}else v(new ft($.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ft($.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:n,streamId:m,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st(Fe,`RPC '${n}' ${m} completed.`)}}));const S=JSON.stringify(u);st(Fe,`RPC '${n}' ${m} sending request:`,u),_.send(a,"POST",S,l,15)}))}T_(n,a,l){const u=Gh(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",n,"/channel"],m=x_(),y=N_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,a,l),v.encodeInitMessageHeaders=!0;const S=h.join("");st(Fe,`Creating RPC '${n}' stream ${u}: ${S}`,v);const M=m.createWebChannel(S,v);this.I_(M);let I=!1,K=!1;const Z=new CS({Yo:it=>{K?st(Fe,`Not sending because RPC '${n}' stream ${u} is closed:`,it):(I||(st(Fe,`Opening RPC '${n}' stream ${u} transport.`),M.open(),I=!0),st(Fe,`RPC '${n}' stream ${u} sending:`,it),M.send(it))},Zo:()=>M.close()}),nt=(it,St,vt)=>{it.listen(St,(dt=>{try{vt(dt)}catch(jt){setTimeout((()=>{throw jt}),0)}}))};return nt(M,Bl.EventType.OPEN,(()=>{K||(st(Fe,`RPC '${n}' stream ${u} transport opened.`),Z.o_())})),nt(M,Bl.EventType.CLOSE,(()=>{K||(K=!0,st(Fe,`RPC '${n}' stream ${u} transport closed`),Z.a_(),this.E_(M))})),nt(M,Bl.EventType.ERROR,(it=>{K||(K=!0,ic(Fe,`RPC '${n}' stream ${u} transport errored. Name:`,it.name,"Message:",it.message),Z.a_(new ft($.UNAVAILABLE,"The operation could not be completed")))})),nt(M,Bl.EventType.MESSAGE,(it=>{if(!K){const St=it.data[0];de(!!St,16349);const vt=St,dt=vt?.error||vt[0]?.error;if(dt){st(Fe,`RPC '${n}' stream ${u} received error:`,dt);const jt=dt.status;let _t=(function(A){const w=Te[A];if(w!==void 0)return LA(w)})(jt),Ct=dt.message;_t===void 0&&(_t=$.INTERNAL,Ct="Unknown error status: "+jt+" with message "+dt.message),K=!0,Z.a_(new ft(_t,Ct)),M.close()}else st(Fe,`RPC '${n}' stream ${u} received:`,St),Z.u_(St)}})),nt(y,I_.STAT_EVENT,(it=>{it.stat===Vh.PROXY?st(Fe,`RPC '${n}' stream ${u} detected buffering proxy`):it.stat===Vh.NOPROXY&&st(Fe,`RPC '${n}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((n=>n.close())),this.c_=[]}I_(n){this.c_.push(n)}E_(n){this.c_=this.c_.filter((a=>a===n))}}function bh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(s){return new jA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(n,a,l=1e3,u=1.5,h=6e4){this.Mi=n,this.timerId=a,this.d_=l,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(n){this.cancel();const a=Math.floor(this.V_+this.y_()),l=Math.max(0,Date.now()-this.f_),u=Math.max(0,a-l);u>0&&st("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${a} ms, last attempt: ${l} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),n()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="PersistentStream";class IS{constructor(n,a,l,u,h,m,y,v){this.Mi=n,this.S_=l,this.b_=u,this.connection=h,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new p0(n,a)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(n){this.Q_(),this.stream.send(n)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(n,a){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,n!==4?this.M_.reset():a&&a.code===$.RESOURCE_EXHAUSTED?(Cs(a.toString()),Cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):a&&a.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=n,await this.listener.r_(a)}K_(){}auth(){this.state=1;const n=this.W_(this.D_),a=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([l,u])=>{this.D_===a&&this.G_(l,u)}),(l=>{n((()=>{const u=new ft($.UNKNOWN,"Fetching auth token failed: "+l.message);return this.z_(u)}))}))}G_(n,a){const l=this.W_(this.D_);this.stream=this.j_(n,a),this.stream.Xo((()=>{l((()=>this.listener.Xo()))})),this.stream.t_((()=>{l((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{l((()=>this.z_(u)))})),this.stream.onMessage((u=>{l((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(n){return st(Ly,`close with error: ${n}`),this.stream=null,this.close(4,n)}W_(n){return a=>{this.Mi.enqueueAndForget((()=>this.D_===n?a():(st(Ly,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NS extends IS{constructor(n,a,l,u,h,m){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",a,l,u,m),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(n,a){return this.connection.T_("Write",n,a)}J_(n){return de(!!n.streamToken,31322),this.lastStreamToken=n.streamToken,de(!n.writeResults||n.writeResults.length===0,55816),this.listener.ta()}onNext(n){de(!!n.streamToken,12678),this.lastStreamToken=n.streamToken,this.M_.reset();const a=QA(n.writeResults,n.commitTime),l=Dr(n.commitTime);return this.listener.na(l,a)}ra(){const n={};n.database=qA(this.serializer),this.q_(n)}ea(n){const a={streamToken:this.lastStreamToken,writes:n.map((l=>GA(this.serializer,l)))};this.q_(a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{}class MS extends xS{constructor(n,a,l,u){super(),this.authCredentials=n,this.appCheckCredentials=a,this.connection=l,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new ft($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(n,a,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Go(n,qh(a,l),u,h,m))).catch((h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ft($.UNKNOWN,h.toString())}))}Ho(n,a,l,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([m,y])=>this.connection.Ho(n,qh(a,l),u,m,y,h))).catch((m=>{throw m.name==="FirebaseError"?(m.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new ft($.UNKNOWN,m.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class OS{constructor(n,a){this.asyncQueue=n,this.onlineStateHandler=a,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(n){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.ca("Offline")))}set(n){this.Pa(),this.oa=0,n==="Online"&&(this.aa=!1),this.ca(n)}ca(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}la(n){const a=`Could not reach Cloud Firestore backend. ${n}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cs(a),this.aa=!1):st("OnlineStateTracker",a)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="RemoteStore";class VS{constructor(n,a,l,u,h){this.localStore=n,this.datastore=a,this.asyncQueue=l,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((m=>{l.enqueueAndForget((async()=>{lo(this)&&(st(so,"Restarting streams for network reachability change."),await(async function(v){const _=ne(v);_.Ea.add(4),await ro(_),_.Ra.set("Unknown"),_.Ea.delete(4),await oc(_)})(this))}))})),this.Ra=new OS(l,u)}}async function oc(s){if(lo(s))for(const n of s.da)await n(!0)}async function ro(s){for(const n of s.da)await n(!1)}function lo(s){return ne(s).Ea.size===0}async function y0(s,n,a){if(!io(n))throw n;s.Ea.add(1),await ro(s),s.Ra.set("Offline"),a||(a=()=>TS(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{st(so,"Retrying IndexedDB access"),await a(),s.Ea.delete(1),await oc(s)}))}function _0(s,n){return n().catch((a=>y0(s,a,n)))}async function uc(s){const n=ne(s),a=Oa(n);let l=n.Ta.length>0?n.Ta[n.Ta.length-1].batchId:sd;for(;US(n);)try{const u=await AS(n.localStore,l);if(u===null){n.Ta.length===0&&a.L_();break}l=u.batchId,LS(n,u)}catch(u){await y0(n,u)}v0(n)&&E0(n)}function US(s){return lo(s)&&s.Ta.length<10}function LS(s,n){s.Ta.push(n);const a=Oa(s);a.O_()&&a.X_&&a.ea(n.mutations)}function v0(s){return lo(s)&&!Oa(s).x_()&&s.Ta.length>0}function E0(s){Oa(s).start()}async function jS(s){Oa(s).ra()}async function zS(s){const n=Oa(s);for(const a of s.Ta)n.ea(a.mutations)}async function PS(s,n,a){const l=s.Ta.shift(),u=md.from(l,n,a);await _0(s,(()=>s.remoteSyncer.applySuccessfulWrite(u))),await uc(s)}async function BS(s,n){n&&Oa(s).X_&&await(async function(l,u){if((function(m){return UA(m)&&m!==$.ABORTED})(u.code)){const h=l.Ta.shift();Oa(l).B_(),await _0(l,(()=>l.remoteSyncer.rejectFailedWrite(h.batchId,u))),await uc(l)}})(s,n),v0(s)&&E0(s)}async function jy(s,n){const a=ne(s);a.asyncQueue.verifyOperationInProgress(),st(so,"RemoteStore received new credentials");const l=lo(a);a.Ea.add(3),await ro(a),l&&a.Ra.set("Unknown"),await a.remoteSyncer.handleCredentialChange(n),a.Ea.delete(3),await oc(a)}async function kS(s,n){const a=ne(s);n?(a.Ea.delete(2),await oc(a)):n||(a.Ea.add(2),await ro(a),a.Ra.set("Unknown"))}function Oa(s){return s.fa||(s.fa=(function(a,l,u){const h=ne(a);return h.sa(),new NS(l,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:jS.bind(null,s),r_:BS.bind(null,s),ta:zS.bind(null,s),na:PS.bind(null,s)}),s.da.push((async n=>{n?(s.fa.B_(),await uc(s)):(await s.fa.stop(),s.Ta.length>0&&(st(so,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(n,a,l,u,h){this.asyncQueue=n,this.timerId=a,this.targetTimeMs=l,this.op=u,this.removalCallback=h,this.deferred=new Ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(n,a,l,u,h){const m=Date.now()+l,y=new _d(n,a,m,u,h);return y.start(l),y}start(n){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft($.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((n=>this.deferred.resolve(n)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function T0(s,n){if(Cs("AsyncQueue",`${n}: ${s}`),io(s))return new ft($.UNAVAILABLE,`${n}: ${s}`);throw s}class qS{constructor(){this.queries=zy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(a,l){const u=ne(a),h=u.queries;u.queries=zy(),h.forEach(((m,y)=>{for(const v of y.Sa)v.onError(l)}))})(this,new ft($.ABORTED,"Firestore shutting down"))}}function zy(){return new Ms((s=>W_(s)),J_)}function HS(s){s.Ca.forEach((n=>{n.next()}))}var Py,By;(By=Py||(Py={})).Ma="default",By.Cache="cache";const GS="SyncEngine";class QS{constructor(n,a,l,u,h,m){this.localStore=n,this.remoteStore=a,this.eventManager=l,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new Ms((y=>W_(y)),J_),this.Iu=new Map,this.Eu=new Set,this.du=new cn(At.comparator),this.Au=new Map,this.Ru=new gd,this.Vu={},this.mu=new Map,this.fu=Vr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FS(s,n,a){const l=$S(s);try{const u=await(function(m,y){const v=ne(m),_=re.now(),S=y.reduce(((K,Z)=>K.add(Z.key)),Ke());let M,I;return v.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let Z=Xu(),nt=Ke();return v.Ns.getEntries(K,S).next((it=>{Z=it,Z.forEach(((St,vt)=>{vt.isValidDocument()||(nt=nt.add(St))}))})).next((()=>v.localDocuments.getOverlayedDocuments(K,Z))).next((it=>{M=it;const St=[];for(const vt of y){const dt=xA(vt,M.get(vt.key).overlayedDocument);dt!=null&&St.push(new Os(vt.key,dt,Q_(dt.value.mapValue),Yi.exists(!0)))}return v.mutationQueue.addMutationBatch(K,_,St,y)})).next((it=>{I=it;const St=it.applyToLocalDocumentSet(M,nt);return v.documentOverlayCache.saveOverlays(K,it.batchId,St)}))})).then((()=>({batchId:I.batchId,changes:e0(M)})))})(l.localStore,n);l.sharedClientState.addPendingMutation(u.batchId),(function(m,y,v){let _=m.Vu[m.currentUser.toKey()];_||(_=new cn(Ht)),_=_.insert(y,v),m.Vu[m.currentUser.toKey()]=_})(l,u.batchId,a),await cc(l,u.changes),await uc(l.remoteStore)}catch(u){const h=T0(u,"Failed to persist write");a.reject(h)}}function ky(s,n,a){const l=ne(s);if(l.isPrimaryClient&&a===0||!l.isPrimaryClient&&a===1){const u=[];l.Tu.forEach(((h,m)=>{const y=m.view.va(n);y.snapshot&&u.push(y.snapshot)})),(function(m,y){const v=ne(m);v.onlineState=y;let _=!1;v.queries.forEach(((S,M)=>{for(const I of M.Sa)I.va(y)&&(_=!0)})),_&&HS(v)})(l.eventManager,n),u.length&&l.Pu.H_(u),l.onlineState=n,l.isPrimaryClient&&l.sharedClientState.setOnlineState(n)}}async function YS(s,n){const a=ne(s),l=n.batch.batchId;try{const u=await ES(a.localStore,n);S0(a,l,null),A0(a,l),a.sharedClientState.updateMutationState(l,"acknowledged"),await cc(a,u)}catch(u){await id(u)}}async function XS(s,n,a){const l=ne(s);try{const u=await(function(m,y){const v=ne(m);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return v.mutationQueue.lookupMutationBatch(_,y).next((M=>(de(M!==null,37113),S=M.keys(),v.mutationQueue.removeMutationBatch(_,M)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,S,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>v.localDocuments.getDocuments(_,S)))}))})(l.localStore,n);S0(l,n,a),A0(l,n),l.sharedClientState.updateMutationState(n,"rejected",a),await cc(l,u)}catch(u){await id(u)}}function A0(s,n){(s.mu.get(n)||[]).forEach((a=>{a.resolve()})),s.mu.delete(n)}function S0(s,n,a){const l=ne(s);let u=l.Vu[l.currentUser.toKey()];if(u){const h=u.get(n);h&&(a?h.reject(a):h.resolve(),u=u.remove(n)),l.Vu[l.currentUser.toKey()]=u}}async function cc(s,n,a){const l=ne(s),u=[],h=[],m=[];l.Tu.isEmpty()||(l.Tu.forEach(((y,v)=>{m.push(l.pu(v,n,a).then((_=>{if((_||a)&&l.isPrimaryClient){const S=_?!_.fromCache:a?.targetChanges.get(v.targetId)?.current;l.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){u.push(_);const S=yd.As(v.targetId,_);h.push(S)}})))})),await Promise.all(m),l.Pu.H_(u),await(async function(v,_){const S=ne(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(M=>X.forEach(_,(I=>X.forEach(I.Es,(K=>S.persistence.referenceDelegate.addReference(M,I.targetId,K))).next((()=>X.forEach(I.ds,(K=>S.persistence.referenceDelegate.removeReference(M,I.targetId,K)))))))))}catch(M){if(!io(M))throw M;st(yS,"Failed to update sequence numbers: "+M)}for(const M of _){const I=M.targetId;if(!M.fromCache){const K=S.Ms.get(I),Z=K.snapshotVersion,nt=K.withLastLimboFreeSnapshotVersion(Z);S.Ms=S.Ms.insert(I,nt)}}})(l.localStore,h))}async function KS(s,n){const a=ne(s);if(!a.currentUser.isEqual(n)){st(GS,"User change. New user:",n.toKey());const l=await g0(a.localStore,n);a.currentUser=n,(function(h,m){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new ft($.CANCELLED,m))}))})),h.mu.clear()})(a,"'waitForPendingWrites' promise is rejected due to a user change."),a.sharedClientState.handleUserChange(n,l.removedBatchIds,l.addedBatchIds),await cc(a,l.Ls)}}function $S(s){const n=ne(s);return n.remoteStore.remoteSyncer.applySuccessfulWrite=YS.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=XS.bind(null,n),n}class Zu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=lc(n.databaseInfo.databaseId),this.sharedClientState=this.Du(n),this.persistence=this.Cu(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Fu(n,this.localStore),this.indexBackfillerScheduler=this.Mu(n,this.localStore)}Fu(n,a){return null}Mu(n,a){return null}vu(n){return vS(this.persistence,new pS,n.initialUser,this.serializer)}Cu(n){return new m0(pd.mi,this.serializer)}Du(n){return new SS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zu.provider={build:()=>new Zu};class ZS extends Zu{constructor(n){super(),this.cacheSizeBytes=n}Fu(n,a){de(this.persistence.referenceDelegate instanceof $u,46915);const l=this.persistence.referenceDelegate.garbageCollector;return new eS(l,n.asyncQueue,a)}Cu(n){const a=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new m0((l=>$u.mi(l,a)),this.serializer)}}class Qh{async initialize(n,a){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(a),this.remoteStore=this.createRemoteStore(a),this.eventManager=this.createEventManager(a),this.syncEngine=this.createSyncEngine(a,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=l=>ky(this.syncEngine,l,1),this.remoteStore.remoteSyncer.handleCredentialChange=KS.bind(null,this.syncEngine),await kS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new qS})()}createDatastore(n){const a=lc(n.databaseInfo.databaseId),l=(function(h){return new DS(h)})(n.databaseInfo);return(function(h,m,y,v){return new MS(h,m,y,v)})(n.authCredentials,n.appCheckCredentials,l,a)}createRemoteStore(n){return(function(l,u,h,m,y){return new VS(l,u,h,m,y)})(this.localStore,this.datastore,n.asyncQueue,(a=>ky(this.syncEngine,a,0)),(function(){return Uy.v()?new Uy:new bS})())}createSyncEngine(n,a){return(function(u,h,m,y,v,_,S){const M=new QS(u,h,m,y,v,_);return S&&(M.gu=!0),M})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,a)}async terminate(){await(async function(a){const l=ne(a);st(so,"RemoteStore shutting down."),l.Ea.add(5),await ro(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qh.provider={build:()=>new Qh};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="FirestoreClient";class JS{constructor(n,a,l,u,h){this.authCredentials=n,this.appCheckCredentials=a,this.asyncQueue=l,this.databaseInfo=u,this.user=Xe.UNAUTHENTICATED,this.clientId=ed.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(l,(async m=>{st(Va,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m})),this.appCheckCredentials.start(l,(m=>(st(Va,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){this.asyncQueue.enterRestrictedMode();const n=new Ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),n.resolve()}catch(a){const l=T0(a,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}async function Rh(s,n){s.asyncQueue.verifyOperationInProgress(),st(Va,"Initializing OfflineComponentProvider");const a=s.configuration;await n.initialize(a);let l=a.initialUser;s.setCredentialChangeListener((async u=>{l.isEqual(u)||(await g0(n.localStore,u),l=u)})),n.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=n}async function qy(s,n){s.asyncQueue.verifyOperationInProgress();const a=await WS(s);st(Va,"Initializing OnlineComponentProvider"),await n.initialize(a,s.configuration),s.setCredentialChangeListener((l=>jy(n.remoteStore,l))),s.setAppCheckTokenChangeListener(((l,u)=>jy(n.remoteStore,u))),s._onlineComponents=n}async function WS(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(Va,"Using user provided OfflineComponentProvider");try{await Rh(s,s._uninitializedComponentsProvider._offline)}catch(n){const a=n;if(!(function(u){return u.name==="FirebaseError"?u.code===$.FAILED_PRECONDITION||u.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(a))throw a;ic("Error using user provided cache. Falling back to memory cache: "+a),await Rh(s,new Zu)}}else st(Va,"Using default OfflineComponentProvider"),await Rh(s,new ZS(void 0));return s._offlineComponents}async function tb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(Va,"Using user provided OnlineComponentProvider"),await qy(s,s._uninitializedComponentsProvider._online)):(st(Va,"Using default OnlineComponentProvider"),await qy(s,new Qh))),s._onlineComponents}function eb(s){return tb(s).then((n=>n.syncEngine))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(s){const n={};return s.timeoutSeconds!==void 0&&(n.timeoutSeconds=s.timeoutSeconds),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="firestore.googleapis.com",Gy=!0;class Qy{constructor(n){if(n.host===void 0){if(n.ssl!==void 0)throw new ft($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=R0,this.ssl=Gy}else this.host=n.host,this.ssl=n.ssl??Gy;if(this.isUsingEmulator=n.emulatorOptions!==void 0,this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,n.cacheSizeBytes===void 0)this.cacheSizeBytes=d0;else{if(n.cacheSizeBytes!==-1&&n.cacheSizeBytes<WA)throw new ft($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}k1("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:n.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b0(n.experimentalLongPollingOptions??{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ft($.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ft($.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ft($.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&(function(l,u){return l.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,n.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class fc{constructor(n,a,l,u){this._authCredentials=n,this._appCheckCredentials=a,this._databaseId=l,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(n){if(this._settingsFrozen)throw new ft($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qy(n),this._emulatorOptions=n.emulatorOptions||{},n.credentials!==void 0&&(this._authCredentials=(function(l){if(!l)return new x1;switch(l.type){case"firstParty":return new U1(l.sessionIndex||"0",l.iamToken||null,l.authTokenFactory||null);case"provider":return l.client;default:throw new ft($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(a){const l=Hy.get(a);l&&(st("ComponentProvider","Removing Datastore"),Hy.delete(a),l.terminate())})(this),Promise.resolve()}}function nb(s,n,a,l={}){s=L_(s,fc);const u=Kh(n),h=s._getSettings(),m={...h,emulatorOptions:s._getEmulatorOptions()},y=`${n}:${a}`;u&&(iT(`https://${y}`),lT("Firestore",!0)),h.host!==R0&&h.host!==y&&ic("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:u,emulatorOptions:l};if(!Xl(v,m)&&(s._setSettings(v),l.mockUserToken)){let _,S;if(typeof l.mockUserToken=="string")_=l.mockUserToken,S=Xe.MOCK_USER;else{_=aT(l.mockUserToken,s._app?.options.projectId);const M=l.mockUserToken.sub||l.mockUserToken.user_id;if(!M)throw new ft($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Xe(M)}s._authCredentials=new M1(new O_(_,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(n,a,l){this.converter=a,this._query=l,this.type="query",this.firestore=n}withConverter(n){return new vd(this.firestore,n,this._query)}}class $e{constructor(n,a,l){this.converter=a,this._key=l,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new $e(this.firestore,n,this._key)}toJSON(){return{type:$e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(n,a,l){if(no(a,$e._jsonSchema))return new $e(n,l||null,new At(ue.fromString(a.referencePath)))}}$e._jsonSchemaVersion="firestore/documentReference/1.0",$e._jsonSchema={type:Ae("string",$e._jsonSchemaVersion),referencePath:Ae("string")};class Ia extends vd{constructor(n,a,l){super(n,a,mA(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new $e(this.firestore,null,new At(n))}withConverter(n){return new Ia(this.firestore,n,this._path)}}function ib(s,n,...a){if(s=Rs(s),V_("collection","path",n),s instanceof fc){const l=ue.fromString(n,...a);return dy(l),new Ia(s,null,l)}{if(!(s instanceof $e||s instanceof Ia))throw new ft($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=s._path.child(ue.fromString(n,...a));return dy(l),new Ia(s.firestore,null,l)}}function ab(s,n,...a){if(s=Rs(s),arguments.length===1&&(n=ed.newId()),V_("doc","path",n),s instanceof fc){const l=ue.fromString(n,...a);return hy(l),new $e(s,null,new At(l))}{if(!(s instanceof $e||s instanceof Ia))throw new ft($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=s._path.child(ue.fromString(n,...a));return hy(l),new $e(s.firestore,s instanceof Ia?s.converter:null,new At(l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="AsyncQueue";class Yy{constructor(n=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new p0(this,"async_queue_retry"),this._c=()=>{const l=bh();l&&st(Fy,"Visibility state changed to "+l.visibilityState),this.M_.w_()},this.ac=n;const a=bh();a&&typeof a.addEventListener=="function"&&a.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.uc(),this.cc(n)}enterRestrictedMode(n){if(!this.ec){this.ec=!0,this.sc=n||!1;const a=bh();a&&typeof a.removeEventListener=="function"&&a.removeEventListener("visibilitychange",this._c)}}enqueue(n){if(this.uc(),this.ec)return new Promise((()=>{}));const a=new Ss;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(n().then(a.resolve,a.reject),a.promise))).then((()=>a.promise))}enqueueRetryable(n){this.enqueueAndForget((()=>(this.Xu.push(n),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(n){if(!io(n))throw n;st(Fy,"Operation failed with retryable error: "+n)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(n){const a=this.ac.then((()=>(this.rc=!0,n().catch((l=>{throw this.nc=l,this.rc=!1,Cs("INTERNAL UNHANDLED ERROR: ",Xy(l)),l})).then((l=>(this.rc=!1,l))))));return this.ac=a,a}enqueueAfterDelay(n,a,l){this.uc(),this.oc.indexOf(n)>-1&&(a=0);const u=_d.createAndSchedule(this,n,a,l,(h=>this.hc(h)));return this.tc.push(u),u}uc(){this.nc&&Rt(47125,{Pc:Xy(this.nc)})}verifyOperationInProgress(){}async Tc(){let n;do n=this.ac,await n;while(n!==this.ac)}Ic(n){for(const a of this.tc)if(a.timerId===n)return!0;return!1}Ec(n){return this.Tc().then((()=>{this.tc.sort(((a,l)=>a.targetTimeMs-l.targetTimeMs));for(const a of this.tc)if(a.skipDelay(),n!=="all"&&a.timerId===n)break;return this.Tc()}))}dc(n){this.oc.push(n)}hc(n){const a=this.tc.indexOf(n);this.tc.splice(a,1)}}function Xy(s){let n=s.message||"";return s.stack&&(n=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),n}class w0 extends fc{constructor(n,a,l,u){super(n,a,l,u),this.type="firestore",this._queue=new Yy,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const n=this._firestoreClient.terminate();this._queue=new Yy(n),this._firestoreClient=void 0,await n}}}function sb(s,n){const a=typeof s=="object"?s:b_(),l=typeof s=="string"?s:Gu,u=eo(a,"firestore").getImmediate({identifier:l});if(!u._initialized){const h=eT("firestore");h&&nb(u,...h)}return u}function rb(s){if(s._terminated)throw new ft($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||lb(s),s._firestoreClient}function lb(s){const n=s._freezeSettings(),a=(function(u,h,m,y){return new W1(u,h,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,b0(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,n);s._componentsProvider||n.localCache?._offlineComponentProvider&&n.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:n.localCache._offlineComponentProvider,_online:n.localCache._onlineComponentProvider}),s._firestoreClient=new JS(s._authCredentials,s._appCheckCredentials,s._queue,a,s._componentsProvider&&(function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(n){this._byteString=n}static fromBase64String(n){try{return new Kn(yi.fromBase64String(n))}catch(a){throw new ft($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(n){return new Kn(yi.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(n){if(no(n,Kn._jsonSchema))return Kn.fromBase64String(n.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Ae("string",Kn._jsonSchemaVersion),bytes:Ae("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(...n){for(let a=0;a<n.length;++a)if(n[a].length===0)throw new ft($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(n){this._methodName=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(n,a){if(!isFinite(n)||n<-90||n>90)throw new ft($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(a)||a<-180||a>180)throw new ft($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=n,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}_compareTo(n){return Ht(this._lat,n._lat)||Ht(this._long,n._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(n){if(no(n,Xi._jsonSchema))return new Xi(n.latitude,n.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Ae("string",Xi._jsonSchemaVersion),latitude:Ae("number"),longitude:Ae("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(n){this._values=(n||[]).map((a=>a))}toArray(){return this._values.map((n=>n))}isEqual(n){return(function(l,u){if(l.length!==u.length)return!1;for(let h=0;h<l.length;++h)if(l[h]!==u[h])return!1;return!0})(this._values,n._values)}toJSON(){return{type:Ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(n){if(no(n,Ki._jsonSchema)){if(Array.isArray(n.vectorValues)&&n.vectorValues.every((a=>typeof a=="number")))return new Ki(n.vectorValues);throw new ft($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ki._jsonSchemaVersion="firestore/vectorValue/1.0",Ki._jsonSchema={type:Ae("string",Ki._jsonSchemaVersion),vectorValues:Ae("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=/^__.*__$/;class ub{constructor(n,a,l){this.data=n,this.fieldMask=a,this.fieldTransforms=l}toMutation(n,a){return this.fieldMask!==null?new Os(n,this.data,this.fieldMask,a,this.fieldTransforms):new ao(n,this.data,a,this.fieldTransforms)}}function C0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{Ac:s})}}class Ad{constructor(n,a,l,u,h,m){this.settings=n,this.databaseId=a,this.serializer=l,this.ignoreUndefinedProperties=u,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(n){return new Ad({...this.settings,...n},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(n){const a=this.path?.child(n),l=this.Vc({path:a,fc:!1});return l.gc(n),l}yc(n){const a=this.path?.child(n),l=this.Vc({path:a,fc:!1});return l.Rc(),l}wc(n){return this.Vc({path:void 0,fc:!0})}Sc(n){return Ju(n,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(n){return this.fieldMask.find((a=>n.isPrefixOf(a)))!==void 0||this.fieldTransforms.find((a=>n.isPrefixOf(a.field)))!==void 0}Rc(){if(this.path)for(let n=0;n<this.path.length;n++)this.gc(this.path.get(n))}gc(n){if(n.length===0)throw this.Sc("Document fields must not be empty");if(C0(this.Ac)&&ob.test(n))throw this.Sc('Document fields cannot begin and end with "__"')}}class cb{constructor(n,a,l){this.databaseId=n,this.ignoreUndefinedProperties=a,this.serializer=l||lc(n)}Cc(n,a,l,u=!1){return new Ad({Ac:n,methodName:a,Dc:l,path:qe.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fb(s){const n=s._freezeSettings(),a=lc(s._databaseId);return new cb(s._databaseId,!!n.ignoreUndefinedProperties,a)}function hb(s,n,a,l,u,h={}){const m=s.Cc(h.merge||h.mergeFields?2:0,n,a,u);x0("Data must be an object, but it was:",m,l);const y=I0(l,m);let v,_;if(h.merge)v=new $n(m.fieldMask),_=m.fieldTransforms;else if(h.mergeFields){const S=[];for(const M of h.mergeFields){const I=db(n,M,a);if(!m.contains(I))throw new ft($.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);gb(S,I)||S.push(I)}v=new $n(S),_=m.fieldTransforms.filter((M=>v.covers(M.field)))}else v=null,_=m.fieldTransforms;return new ub(new Xn(y),v,_)}class Sd extends Td{_toFieldTransform(n){return new CA(n.path,new Jl)}isEqual(n){return n instanceof Sd}}function D0(s,n){if(N0(s=Rs(s)))return x0("Unsupported field value:",n,s),I0(s,n);if(s instanceof Td)return(function(l,u){if(!C0(u.Ac))throw u.Sc(`${l._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${l._methodName}() is not currently supported inside arrays`);const h=l._toFieldTransform(u);h&&u.fieldTransforms.push(h)})(s,n),null;if(s===void 0&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),s instanceof Array){if(n.settings.fc&&n.Ac!==4)throw n.Sc("Nested arrays are not supported");return(function(l,u){const h=[];let m=0;for(const y of l){let v=D0(y,u.wc(m));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),m++}return{arrayValue:{values:h}}})(s,n)}return(function(l,u){if((l=Rs(l))===null)return{nullValue:"NULL_VALUE"};if(typeof l=="number")return bA(u.serializer,l);if(typeof l=="boolean")return{booleanValue:l};if(typeof l=="string")return{stringValue:l};if(l instanceof Date){const h=re.fromDate(l);return{timestampValue:kh(u.serializer,h)}}if(l instanceof re){const h=new re(l.seconds,1e3*Math.floor(l.nanoseconds/1e3));return{timestampValue:kh(u.serializer,h)}}if(l instanceof Xi)return{geoPointValue:{latitude:l.latitude,longitude:l.longitude}};if(l instanceof Kn)return{bytesValue:zA(u.serializer,l._byteString)};if(l instanceof $e){const h=u.databaseId,m=l.firestore._databaseId;if(!m.isEqual(h))throw u.Sc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:f0(l.firestore._databaseId||u.databaseId,l._key.path)}}if(l instanceof Ki)return(function(m,y){return{mapValue:{fields:{[H_]:{stringValue:G_},[Lh]:{arrayValue:{values:m.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return dd(y.serializer,_)}))}}}}}})(l,u);throw u.Sc(`Unsupported field value: ${nd(l)}`)})(s,n)}function I0(s,n){const a={};return z_(s)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Lr(s,((l,u)=>{const h=D0(u,n.mc(l));h!=null&&(a[l]=h)})),{mapValue:{fields:a}}}function N0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof re||s instanceof Xi||s instanceof Kn||s instanceof $e||s instanceof Td||s instanceof Ki)}function x0(s,n,a){if(!N0(a)||!U_(a)){const l=nd(a);throw l==="an object"?n.Sc(s+" a custom object"):n.Sc(s+" "+l)}}function db(s,n,a){if((n=Rs(n))instanceof Ed)return n._internalPath;if(typeof n=="string")return M0(s,n);throw Ju("Field path arguments must be of type string or ",s,!1,void 0,a)}const mb=new RegExp("[~\\*/\\[\\]]");function M0(s,n,a){if(n.search(mb)>=0)throw Ju(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,a);try{return new Ed(...n.split("."))._internalPath}catch{throw Ju(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,a)}}function Ju(s,n,a,l,u){const h=l&&!l.isEmpty(),m=u!==void 0;let y=`Function ${n}() called with invalid data`;a&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||m)&&(v+=" (found",h&&(v+=` in field ${l}`),m&&(v+=` in document ${u}`),v+=")"),new ft($.INVALID_ARGUMENT,y+s+v)}function gb(s,n){return s.some((a=>a.isEqual(n)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(n,a,l,u,h){this._firestore=n,this._userDataWriter=a,this._key=l,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new $e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const n=new pb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const a=this._document.data.field(V0("DocumentSnapshot.get",n));if(a!==null)return this._userDataWriter.convertValue(a)}}}class pb extends O0{data(){return super.data()}}function V0(s,n){return typeof n=="string"?M0(s,n):n instanceof Ed?n._internalPath:n._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(s,n,a){let l;return l=s?s.toFirestore(n):n,l}class Vu{constructor(n,a){this.hasPendingWrites=n,this.fromCache=a}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Ir extends O0{constructor(n,a,l,u,h,m){super(n,a,l,u,m),this._firestore=n,this._firestoreImpl=n,this.metadata=h}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const a=new Pu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,a={}){if(this._document){const l=this._document.data.field(V0("DocumentSnapshot.get",n));if(l!==null)return this._userDataWriter.convertValue(l,a.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n=this._document,a={};return a.type=Ir._jsonSchemaVersion,a.bundle="",a.bundleSource="DocumentSnapshot",a.bundleName=this._key.toString(),!n||!n.isValidDocument()||!n.isFoundDocument()?a:(this._userDataWriter.convertObjectMap(n.data.value.mapValue.fields,"previous"),a.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),a)}}Ir._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ir._jsonSchema={type:Ae("string",Ir._jsonSchemaVersion),bundleSource:Ae("string","DocumentSnapshot"),bundleName:Ae("string"),bundle:Ae("string")};class Pu extends Ir{data(n={}){return super.data(n)}}class Fl{constructor(n,a,l,u){this._firestore=n,this._userDataWriter=a,this._snapshot=u,this.metadata=new Vu(u.hasPendingWrites,u.fromCache),this.query=l}get docs(){const n=[];return this.forEach((a=>n.push(a))),n}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(n,a){this._snapshot.docs.forEach((l=>{n.call(a,new Pu(this._firestore,this._userDataWriter,l.key,l,new Vu(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(n={}){const a=!!n.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new ft($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=(function(u,h){if(u._snapshot.oldDocs.isEmpty()){let m=0;return u._snapshot.docChanges.map((y=>{const v=new Pu(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Vu(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:m++}}))}{let m=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new Pu(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Vu(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,S=-1;return y.type!==0&&(_=m.indexOf(y.doc.key),m=m.delete(y.doc.key)),y.type!==1&&(m=m.add(y.doc),S=m.indexOf(y.doc.key)),{type:_b(y.type),doc:v,oldIndex:_,newIndex:S}}))}})(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n={};n.type=Fl._jsonSchemaVersion,n.bundleSource="QuerySnapshot",n.bundleName=ed.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const a=[],l=[],u=[];return this.docs.forEach((h=>{h._document!==null&&(a.push(h._document),l.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))})),n.bundle=(this._firestore,this.query._query,n.bundleName,"NOT SUPPORTED"),n}}function _b(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:s})}}Fl._jsonSchemaVersion="firestore/querySnapshot/1.0",Fl._jsonSchema={type:Ae("string",Fl._jsonSchemaVersion),bundleSource:Ae("string","QuerySnapshot"),bundleName:Ae("string"),bundle:Ae("string")};function vb(s,n){const a=L_(s.firestore,w0),l=ab(s),u=yb(s.converter,n);return Eb(a,[hb(fb(s.firestore),"addDoc",l._key,u,s.converter!==null,{}).toMutation(l._key,Yi.exists(!1))]).then((()=>l))}function Eb(s,n){return(function(l,u){const h=new Ss;return l.asyncQueue.enqueueAndForget((async()=>FS(await eb(l),u,h))),h.promise})(rb(s),n)}function Tb(){return new Sd("serverTimestamp")}(function(n,a=!0){(function(u){Ur=u})(_1),Na(new $i("firestore",((l,{instanceIdentifier:u,options:h})=>{const m=l.getProvider("app").getImmediate(),y=new w0(new O1(l.getProvider("auth-internal")),new L1(m,l.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ft($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qu(_.options.projectId,S)})(m,u),m);return h={useFetchStreams:a,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),pi(oy,uy,n),pi(oy,uy,"esm2020")})();const U0="@firebase/installations",bd="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=1e4,j0=`w:${bd}`,z0="FIS_v2",Ab="https://firebaseinstallations.googleapis.com/v1",Sb=3600*1e3,bb="installations",Rb="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ns=new nc(bb,Rb,wb);function P0(s){return s instanceof Ua&&s.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0({projectId:s}){return`${Ab}/projects/${s}/installations`}function k0(s){return{token:s.token,requestStatus:2,expiresIn:Db(s.expiresIn),creationTime:Date.now()}}async function q0(s,n){const l=(await n.json()).error;return Ns.create("request-failed",{requestName:s,serverCode:l.code,serverMessage:l.message,serverStatus:l.status})}function H0({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function Cb(s,{refreshToken:n}){const a=H0(s);return a.append("Authorization",Ib(n)),a}async function G0(s){const n=await s();return n.status>=500&&n.status<600?s():n}function Db(s){return Number(s.replace("s","000"))}function Ib(s){return`${z0} ${s}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nb({appConfig:s,heartbeatServiceProvider:n},{fid:a}){const l=B0(s),u=H0(s),h=n.getImmediate({optional:!0});if(h){const _=await h.getHeartbeatsHeader();_&&u.append("x-firebase-client",_)}const m={fid:a,authVersion:z0,appId:s.appId,sdkVersion:j0},y={method:"POST",headers:u,body:JSON.stringify(m)},v=await G0(()=>fetch(l,y));if(v.ok){const _=await v.json();return{fid:_.fid||a,registrationStatus:2,refreshToken:_.refreshToken,authToken:k0(_.authToken)}}else throw await q0("Create Installation",v)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(s){return new Promise(n=>{setTimeout(n,s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=/^[cdef][\w-]{21}$/,Fh="";function Ob(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const a=Vb(s);return Mb.test(a)?a:Fh}catch{return Fh}}function Vb(s){return xb(s).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(s){return`${s.appName}!${s.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=new Map;function Y0(s,n){const a=hc(s);X0(a,n),Ub(a,n)}function X0(s,n){const a=F0.get(s);if(a)for(const l of a)l(n)}function Ub(s,n){const a=Lb();a&&a.postMessage({key:s,fid:n}),jb()}let As=null;function Lb(){return!As&&"BroadcastChannel"in self&&(As=new BroadcastChannel("[Firebase] FID Change"),As.onmessage=s=>{X0(s.data.key,s.data.fid)}),As}function jb(){F0.size===0&&As&&(As.close(),As=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="firebase-installations-database",Pb=1,xs="firebase-installations-store";let wh=null;function Rd(){return wh||(wh=S_(zb,Pb,{upgrade:(s,n)=>{switch(n){case 0:s.createObjectStore(xs)}}})),wh}async function Wu(s,n){const a=hc(s),u=(await Rd()).transaction(xs,"readwrite"),h=u.objectStore(xs),m=await h.get(a);return await h.put(n,a),await u.done,(!m||m.fid!==n.fid)&&Y0(s,n.fid),n}async function K0(s){const n=hc(s),l=(await Rd()).transaction(xs,"readwrite");await l.objectStore(xs).delete(n),await l.done}async function dc(s,n){const a=hc(s),u=(await Rd()).transaction(xs,"readwrite"),h=u.objectStore(xs),m=await h.get(a),y=n(m);return y===void 0?await h.delete(a):await h.put(y,a),await u.done,y&&(!m||m.fid!==y.fid)&&Y0(s,y.fid),y}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wd(s){let n;const a=await dc(s.appConfig,l=>{const u=Bb(l),h=kb(s,u);return n=h.registrationPromise,h.installationEntry});return a.fid===Fh?{installationEntry:await n}:{installationEntry:a,registrationPromise:n}}function Bb(s){const n=s||{fid:Ob(),registrationStatus:0};return $0(n)}function kb(s,n){if(n.registrationStatus===0){if(!navigator.onLine){const u=Promise.reject(Ns.create("app-offline"));return{installationEntry:n,registrationPromise:u}}const a={fid:n.fid,registrationStatus:1,registrationTime:Date.now()},l=qb(s,a);return{installationEntry:a,registrationPromise:l}}else return n.registrationStatus===1?{installationEntry:n,registrationPromise:Hb(s)}:{installationEntry:n}}async function qb(s,n){try{const a=await Nb(s,n);return Wu(s.appConfig,a)}catch(a){throw P0(a)&&a.customData.serverCode===409?await K0(s.appConfig):await Wu(s.appConfig,{fid:n.fid,registrationStatus:0}),a}}async function Hb(s){let n=await Ky(s.appConfig);for(;n.registrationStatus===1;)await Q0(100),n=await Ky(s.appConfig);if(n.registrationStatus===0){const{installationEntry:a,registrationPromise:l}=await wd(s);return l||a}return n}function Ky(s){return dc(s,n=>{if(!n)throw Ns.create("installation-not-found");return $0(n)})}function $0(s){return Gb(s)?{fid:s.fid,registrationStatus:0}:s}function Gb(s){return s.registrationStatus===1&&s.registrationTime+L0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qb({appConfig:s,heartbeatServiceProvider:n},a){const l=Fb(s,a),u=Cb(s,a),h=n.getImmediate({optional:!0});if(h){const _=await h.getHeartbeatsHeader();_&&u.append("x-firebase-client",_)}const m={installation:{sdkVersion:j0,appId:s.appId}},y={method:"POST",headers:u,body:JSON.stringify(m)},v=await G0(()=>fetch(l,y));if(v.ok){const _=await v.json();return k0(_)}else throw await q0("Generate Auth Token",v)}function Fb(s,{fid:n}){return`${B0(s)}/${n}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cd(s,n=!1){let a;const l=await dc(s.appConfig,h=>{if(!Z0(h))throw Ns.create("not-registered");const m=h.authToken;if(!n&&Kb(m))return h;if(m.requestStatus===1)return a=Yb(s,n),h;{if(!navigator.onLine)throw Ns.create("app-offline");const y=Zb(h);return a=Xb(s,y),y}});return a?await a:l.authToken}async function Yb(s,n){let a=await $y(s.appConfig);for(;a.authToken.requestStatus===1;)await Q0(100),a=await $y(s.appConfig);const l=a.authToken;return l.requestStatus===0?Cd(s,n):l}function $y(s){return dc(s,n=>{if(!Z0(n))throw Ns.create("not-registered");const a=n.authToken;return Jb(a)?{...n,authToken:{requestStatus:0}}:n})}async function Xb(s,n){try{const a=await Qb(s,n),l={...n,authToken:a};return await Wu(s.appConfig,l),a}catch(a){if(P0(a)&&(a.customData.serverCode===401||a.customData.serverCode===404))await K0(s.appConfig);else{const l={...n,authToken:{requestStatus:0}};await Wu(s.appConfig,l)}throw a}}function Z0(s){return s!==void 0&&s.registrationStatus===2}function Kb(s){return s.requestStatus===2&&!$b(s)}function $b(s){const n=Date.now();return n<s.creationTime||s.creationTime+s.expiresIn<n+Sb}function Zb(s){const n={requestStatus:1,requestTime:Date.now()};return{...s,authToken:n}}function Jb(s){return s.requestStatus===1&&s.requestTime+L0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wb(s){const n=s,{installationEntry:a,registrationPromise:l}=await wd(n);return l?l.catch(console.error):Cd(n).catch(console.error),a.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(s,n=!1){const a=s;return await e2(a),(await Cd(a,n)).token}async function e2(s){const{registrationPromise:n}=await wd(s);n&&await n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(s){if(!s||!s.options)throw Ch("App Configuration");if(!s.name)throw Ch("App Name");const n=["projectId","apiKey","appId"];for(const a of n)if(!s.options[a])throw Ch(a);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function Ch(s){return Ns.create("missing-app-config-values",{valueName:s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="installations",i2="installations-internal",a2=s=>{const n=s.getProvider("app").getImmediate(),a=n2(n),l=eo(n,"heartbeat");return{app:n,appConfig:a,heartbeatServiceProvider:l,_delete:()=>Promise.resolve()}},s2=s=>{const n=s.getProvider("app").getImmediate(),a=eo(n,J0).getImmediate();return{getId:()=>Wb(a),getToken:u=>t2(a,u)}};function r2(){Na(new $i(J0,a2,"PUBLIC")),Na(new $i(i2,s2,"PRIVATE"))}r2();pi(U0,bd);pi(U0,bd,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc="analytics",l2="firebase_id",o2="origin",u2=60*1e3,c2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Dd="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un=new $h("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Tn=new nc("analytics","Analytics",f2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(s){if(!s.startsWith(Dd)){const n=Tn.create("invalid-gtag-resource",{gtagURL:s});return un.warn(n.message),""}return s}function W0(s){return Promise.all(s.map(n=>n.catch(a=>a)))}function d2(s,n){let a;return window.trustedTypes&&(a=window.trustedTypes.createPolicy(s,n)),a}function m2(s,n){const a=d2("firebase-js-sdk-policy",{createScriptURL:h2}),l=document.createElement("script"),u=`${Dd}?l=${s}&id=${n}`;l.src=a?a?.createScriptURL(u):u,l.async=!0,document.head.appendChild(l)}function g2(s){let n=[];return Array.isArray(window[s])?n=window[s]:window[s]=n,n}async function p2(s,n,a,l,u,h){const m=l[u];try{if(m)await n[m];else{const v=(await W0(a)).find(_=>_.measurementId===u);v&&await n[v.appId]}}catch(y){un.error(y)}s("config",u,h)}async function y2(s,n,a,l,u){try{let h=[];if(u&&u.send_to){let m=u.send_to;Array.isArray(m)||(m=[m]);const y=await W0(a);for(const v of m){const _=y.find(M=>M.measurementId===v),S=_&&n[_.appId];if(S)h.push(S);else{h=[];break}}}h.length===0&&(h=Object.values(n)),await Promise.all(h),s("event",l,u||{})}catch(h){un.error(h)}}function _2(s,n,a,l){async function u(h,...m){try{if(h==="event"){const[y,v]=m;await y2(s,n,a,y,v)}else if(h==="config"){const[y,v]=m;await p2(s,n,a,l,y,v)}else if(h==="consent"){const[y,v]=m;s("consent",y,v)}else if(h==="get"){const[y,v,_]=m;s("get",y,v,_)}else if(h==="set"){const[y]=m;s("set",y)}else s(h,...m)}catch(y){un.error(y)}}return u}function v2(s,n,a,l,u){let h=function(...m){window[l].push(arguments)};return window[u]&&typeof window[u]=="function"&&(h=window[u]),window[u]=_2(h,s,n,a),{gtagCore:h,wrappedGtag:window[u]}}function E2(s){const n=window.document.getElementsByTagName("script");for(const a of Object.values(n))if(a.src&&a.src.includes(Dd)&&a.src.includes(s))return a;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=30,A2=1e3;class S2{constructor(n={},a=A2){this.throttleMetadata=n,this.intervalMillis=a}getThrottleMetadata(n){return this.throttleMetadata[n]}setThrottleMetadata(n,a){this.throttleMetadata[n]=a}deleteThrottleMetadata(n){delete this.throttleMetadata[n]}}const tv=new S2;function b2(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function R2(s){const{appId:n,apiKey:a}=s,l={method:"GET",headers:b2(a)},u=c2.replace("{app-id}",n),h=await fetch(u,l);if(h.status!==200&&h.status!==304){let m="";try{const y=await h.json();y.error?.message&&(m=y.error.message)}catch{}throw Tn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:m})}return h.json()}async function w2(s,n=tv,a){const{appId:l,apiKey:u,measurementId:h}=s.options;if(!l)throw Tn.create("no-app-id");if(!u){if(h)return{measurementId:h,appId:l};throw Tn.create("no-api-key")}const m=n.getThrottleMetadata(l)||{backoffCount:0,throttleEndTimeMillis:Date.now()},y=new I2;return setTimeout(async()=>{y.abort()},u2),ev({appId:l,apiKey:u,measurementId:h},m,y,n)}async function ev(s,{throttleEndTimeMillis:n,backoffCount:a},l,u=tv){const{appId:h,measurementId:m}=s;try{await C2(l,n)}catch(y){if(m)return un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:h,measurementId:m};throw y}try{const y=await R2(s);return u.deleteThrottleMetadata(h),y}catch(y){const v=y;if(!D2(v)){if(u.deleteThrottleMetadata(h),m)return un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:h,measurementId:m};throw y}const _=Number(v?.customData?.httpStatus)===503?Jp(a,u.intervalMillis,T2):Jp(a,u.intervalMillis),S={throttleEndTimeMillis:Date.now()+_,backoffCount:a+1};return u.setThrottleMetadata(h,S),un.debug(`Calling attemptFetch again in ${_} millis`),ev(s,S,l,u)}}function C2(s,n){return new Promise((a,l)=>{const u=Math.max(n-Date.now(),0),h=setTimeout(a,u);s.addEventListener(()=>{clearTimeout(h),l(Tn.create("fetch-throttle",{throttleEndTimeMillis:n}))})})}function D2(s){if(!(s instanceof Ua)||!s.customData)return!1;const n=Number(s.customData.httpStatus);return n===429||n===500||n===503||n===504}class I2{constructor(){this.listeners=[]}addEventListener(n){this.listeners.push(n)}abort(){this.listeners.forEach(n=>n())}}async function N2(s,n,a,l,u){if(u&&u.global){s("event",a,l);return}else{const h=await n,m={...l,send_to:h};s("event",a,m)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(){if(v_())try{await E_()}catch(s){return un.warn(Tn.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return un.warn(Tn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function M2(s,n,a,l,u,h,m){const y=w2(s);y.then(I=>{a[I.measurementId]=I.appId,s.options.measurementId&&I.measurementId!==s.options.measurementId&&un.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>un.error(I)),n.push(y);const v=x2().then(I=>{if(I)return l.getId()}),[_,S]=await Promise.all([y,v]);E2(h)||m2(h,_.measurementId),u("js",new Date);const M=m?.config??{};return M[o2]="firebase",M.update=!0,S!=null&&(M[l2]=S),u("config",_.measurementId,M),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(n){this.app=n}_delete(){return delete Yl[this.app.options.appId],Promise.resolve()}}let Yl={},Zy=[];const Jy={};let Dh="dataLayer",V2="gtag",Wy,nv,t_=!1;function U2(){const s=[];if(cT()&&s.push("This is a browser extension environment."),hT()||s.push("Cookies are not available."),s.length>0){const n=s.map((l,u)=>`(${u+1}) ${l}`).join(" "),a=Tn.create("invalid-analytics-context",{errorInfo:n});un.warn(a.message)}}function L2(s,n,a){U2();const l=s.options.appId;if(!l)throw Tn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Tn.create("no-api-key");if(Yl[l]!=null)throw Tn.create("already-exists",{id:l});if(!t_){g2(Dh);const{wrappedGtag:h,gtagCore:m}=v2(Yl,Zy,Jy,Dh,V2);nv=h,Wy=m,t_=!0}return Yl[l]=M2(s,Zy,Jy,n,Wy,Dh,a),new O2(s)}function j2(s=b_()){s=Rs(s);const n=eo(s,tc);return n.isInitialized()?n.getImmediate():z2(s)}function z2(s,n={}){const a=eo(s,tc);if(a.isInitialized()){const u=a.getImmediate();if(Xl(n,a.getOptions()))return u;throw Tn.create("already-initialized")}return a.initialize({options:n})}function P2(s,n,a,l){s=Rs(s),N2(nv,Yl[s.app.options.appId],n,a,l).catch(u=>un.error(u))}const e_="@firebase/analytics",n_="0.10.18";function B2(){Na(new $i(tc,(n,{options:a})=>{const l=n.getProvider("app").getImmediate(),u=n.getProvider("installations-internal").getImmediate();return L2(l,u,a)},"PUBLIC")),Na(new $i("analytics-internal",s,"PRIVATE")),pi(e_,n_),pi(e_,n_,"esm2020");function s(n){try{const a=n.getProvider(tc).getImmediate();return{logEvent:(l,u,h)=>P2(a,l,u,h)}}catch(a){throw Tn.create("interop-component-reg-failed",{reason:a})}}}B2();const ec={apiKey:"AIzaSyDwst-4J5unX773oOfXHfjdOymh02yH_fU",authDomain:"steering-experiment.firebaseapp.com",projectId:"steering-experiment",storageBucket:"steering-experiment.firebasestorage.app",messagingSenderId:"773443415350",appId:"1:773443415350:web:f95e4d189b16ebb76d9797",measurementId:"G-RFZQQVCF7C"},k2=Jh(ec);j2(k2);const q2=Jh(ec),H2=sb(q2);async function G2(s){try{const n={...s,uploadedAt:Tb(),version:"2.0"},a=await vb(ib(H2,"experiments"),n);return console.log("Data uploaded successfully with ID:",a.id),a.id}catch(n){throw console.error("Error uploading data to Firebase:",n),n}}async function Q2(s,n=3){let a;for(let l=1;l<=n;l++)try{return await G2(s)}catch(u){if(a=u,console.warn(`Upload attempt ${l} failed:`,u.message),l<n){const h=Math.pow(2,l)*1e3;await new Promise(m=>setTimeout(m,h))}}throw new Error(`Failed to upload data after ${n} attempts. Last error: ${a.message}`)}function F2(){return ec.apiKey!=="your-api-key-here"&&ec.projectId!=="your-project-id"}const i_=(s,n,a)=>{const l={participantId:s,prolificData:n,trialData:a,summary:{totalTrials:a.length,averageCompletionTime:a.reduce((y,v)=>y+v.completionTime,0)/a.length}},u=new Blob([JSON.stringify(l,null,2)],{type:"application/json"}),h=URL.createObjectURL(u),m=document.createElement("a");m.href=h,m.download=`steering_experiment_${s}_${Date.now()}.json`,m.click(),URL.revokeObjectURL(h)},Y2=async(s,n,a)=>{if(!F2())throw new Error("Firebase not configured. Please check your configuration.");const l={participantId:s,prolificData:n,trialData:a,summary:{totalTrials:a.length,averageCompletionTime:a.reduce((h,m)=>h+m.completionTime,0)/a.length},experimentVersion:"3.0",completedAt:new Date().toISOString()};return await Q2(l)},a_=(s,n)=>s===ct.MAIN_TRIALS?n+1:s===ct.SEQUENTIAL_TRIALS?Cr.length+n+1:0,s_=()=>Cr.length+BE.length,r_=(s,n)=>s===ct.TIME_TRIALS?n+1:s===ct.SEQUENTIAL_TIME_TRIALS?h_.length+n+1:0,l_=()=>h_.length+kE.length,X2=({phase:s,currentTrial:n,currentConditions:a,practicedConditions:l,setPhase:u,setCurrentTrial:h,setCurrentConditions:m,setCurrentPracticeCondition:y,setIsPractice:v,setupTrial:_})=>{const S=n+1;if(h(S),S>=a.length){s===ct.MAIN_TRIALS&&u(ct.COMPLETE);return}_(a[S])},K2=(s,n,a,l,u,h)=>{if(s.strokeStyle="#666666",s.lineWidth=2,a==="sequential"){const m=n.length/2;for(let v=0;v<2;v++){const _=Math.floor(v*m),S=Math.floor((v+1)*m),M=u[v]/2;s.beginPath();for(let I=_;I<S&&I<n.length;I++){const K=n[I],Z=K.x*h,nt=(K.y-M)*h;I===_?s.moveTo(Z,nt):s.lineTo(Z,nt)}s.stroke(),s.beginPath();for(let I=_;I<S&&I<n.length;I++){const K=n[I],Z=K.x*h,nt=(K.y+M)*h;I===_?s.moveTo(Z,nt):s.lineTo(Z,nt)}s.stroke()}s.strokeStyle="#666666",s.lineWidth=2;const y=Math.floor(m);if(y<n.length){const v=n[y],_=v.x*h,S=u[0]/2,M=u[1]/2;s.beginPath(),s.moveTo(_,(v.y-S)*h),s.lineTo(_,(v.y-M)*h),s.stroke(),s.beginPath(),s.moveTo(_,(v.y+S)*h),s.lineTo(_,(v.y+M)*h),s.stroke()}}else{const m=l/2;s.beginPath(),n.forEach((y,v)=>{const _=y.x*SCALE,S=(y.y-m)*SCALE;v===0?s.moveTo(_,S):s.lineTo(_,S)}),s.stroke(),s.beginPath(),n.forEach((y,v)=>{const _=y.x*SCALE,S=(y.y+m)*SCALE;v===0?s.moveTo(_,S):s.lineTo(_,S)}),s.stroke()}},$2=(s,n,a)=>{n.forEach(l=>{s.fillStyle="#FF6B6B",s.strokeStyle="#DC2626",s.lineWidth=2;const u=l.x*a,h=l.y*a,m=4;s.beginPath(),s.moveTo(u-m,h-m),s.lineTo(u+m,h+m),s.moveTo(u-m,h+m),s.lineTo(u+m,h-m),s.stroke(),s.beginPath(),s.arc(u,h,m+2,0,2*Math.PI),s.stroke()})},Z2=(s,n,a)=>{s.fillStyle="#0000FF",s.beginPath(),s.arc(n.x*a,n.y*a,3,0,2*Math.PI),s.fill()},J2=(s,n,a)=>{const l=n.x*a,u=n.y*a,h=d_*a;s.fillStyle="#00FF00",s.beginPath(),s.arc(l,u,h,0,2*Math.PI),s.fill(),s.strokeStyle="#009900",s.lineWidth=3,s.stroke(),s.fillStyle="#000000",s.font="12px Arial",s.textAlign="center"},W2=(s,n,a)=>{const l=n.x*a,u=n.y*a,h=m_*a;s.fillStyle="#FF0000",s.beginPath(),s.arc(l,u,h,0,2*Math.PI),s.fill(),s.strokeStyle="#990000",s.lineWidth=2,s.stroke()},tR=(s,n,a,l,u,h,m,y,v,_,S,M,I,K)=>{s.clearRect(0,0,M,I),n.length>0&&K2(s,n,a,l,u,K),m&&h.length>0&&$2(s,h,K),Z2(s,y,K),v==="waiting_for_start"&&J2(s,_,K),W2(s,S,K)},eR=({phase:s,setPhase:n,currentTrial:a,setCurrentTrial:l,currentConditions:u,setCurrentConditions:h,currentPracticeCondition:m,setCurrentPracticeCondition:y,practicedConditions:v,setPracticedConditions:_,participantId:S,setParticipantId:M,setIsPractice:I,setupTrial:K})=>{ht.useEffect(()=>{const Z=nt=>{switch(s){case ct.WELCOME:nt.key==="Enter"&&n(ct.ENVIRONMENT_SETUP);break;case ct.ENVIRONMENT_SETUP:nt.key===" "&&n(ct.SCREEN_CALIBRATION);break;case ct.SCREEN_CALIBRATION:nt.key===" "&&n(ct.INSTRUCTIONS);break;case ct.INSTRUCTIONS:nt.key===" "&&(n(ct.PRACTICE),I(!0),K(Cr[0]));break;case ct.PRACTICE:nt.key==="r"?K(Cr[0]):nt.key==="n"&&(n(ct.MAIN_TRIALS),l(0),h([...Cr]),I(!1),S||M(`P${new Date().toTimeString().slice(0,8).replace(/:/g,"")}`),K(Cr[0]));break;case ct.MAIN_TRIALS:nt.key==="r"&&K(u[a]);break}};return window.addEventListener("keydown",Z),()=>window.removeEventListener("keydown",Z)},[s,a,u,m,S,K,n,l,h,y,_,M,I])},nR=(s,n,a,l,u,h)=>{if(!a.length)return{isExcursion:!1};let m=1/0,y=null,v=-1;a.forEach((S,M)=>{const I=Math.sqrt((s-S.x)**2+(n-S.y)**2);I<m&&(m=I,y=S,v=M)});let _;if(l==="sequential"){const S=a.length/2,M=Math.floor(v/S);_=h[Math.min(M,h.length-1)]/2}else _=u/2;if(m>_){const S=(s-y.x)/m,M=(n-y.y)/m;return{isExcursion:!0,boundaryPoint:{x:y.x+S*_,y:y.y+M*_},distanceOutside:m-_}}return{isExcursion:!1}},iR=({phase:s,trialState:n,setTrialState:a,setCursorPos:l,setCursorVel:u,setTrajectoryPoints:h,setSpeedHistory:m,setTimestampHistory:y,startButtonPos:v,targetPos:_,tunnelPath:S,tunnelType:M,tunnelWidth:I,segmentWidths:K,shouldMarkBoundaries:Z,shouldEnforceBoundaries:nt,setExcursionEvents:it,setExcursionMarkers:St,hasExcursionMarker:vt,setHasExcursionMarker:dt,onTrialComplete:jt,onStartTrial:_t,scale:Ct})=>{const V=ht.useRef(0),A=ht.useRef(null),w=ht.useRef(0),N=ht.useCallback(U=>{if(![ct.PRACTICE,ct.MAIN_TRIALS,ct.SEQUENTIAL_TRIALS,ct.TIME_TRIAL_PRACTICE,ct.TIME_TRIALS,ct.SEQUENTIAL_TIME_TRIALS].includes(s)||n!==Ye.WAITING_FOR_START)return;const R=U.currentTarget.getBoundingClientRect(),Gt=(U.clientX-R.left)/Ct,Nt=(U.clientY-R.top)/Ct;Math.sqrt((Gt-v.x)**2+(Nt-v.y)**2)<=d_&&_t()},[s,n,v,_t]),O=ht.useCallback(U=>{if(![ct.PRACTICE,ct.MAIN_TRIALS,ct.SEQUENTIAL_TRIALS,ct.TIME_TRIAL_PRACTICE,ct.TIME_TRIALS,ct.SEQUENTIAL_TIME_TRIALS].includes(s)||n!==Ye.IN_PROGRESS)return;const R=U.currentTarget.getBoundingClientRect(),Gt=(U.clientX-R.left)/Ct,Nt=(U.clientY-R.top)/Ct,H=Date.now();let W={x:0,y:0};if(A.current&&V.current){const C=(H-V.current)/1e3;if(C>0){const F=Gt-A.current.x,et=Nt-A.current.y;W={x:F/C,y:et/C}}}l({x:Gt,y:Nt}),u(W);const rt=Math.sqrt(W.x**2+W.y**2);if(h(C=>{const F=[...C,{x:Gt,y:Nt}];return w.current=F.length,F}),m(C=>[...C,rt]),y(C=>[...C,H]),Z()){const C=nR(Gt,Nt,S,M,I,K);if(C.isExcursion&&!vt){St([C.boundaryPoint]),dt(!0);const F={timeIndex:w.current-1,position:{x:Gt,y:Nt},distanceOutside:C.distanceOutside,timestamp:H,boundaryPoint:C.boundaryPoint};if(it(et=>[...et,F]),nt()){a(Ye.FAILED);return}}}Math.sqrt((Gt-_.x)**2+(Nt-_.y)**2)<m_&&jt(!0),A.current={x:Gt,y:Nt},V.current=H},[s,n,l,u,h,m,y,v,_,S,M,I,K,Z,nt,it,St,vt,dt,a,jt,Ct]);return{handleMouseClick:N,handleMouseMove:O,lastTimeRef:V}},aR=()=>x.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center",children:[x.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Human Steering Experiment"}),x.jsx("p",{className:"mb-6 text-gray-600",children:"Press ENTER to continue"})]})});/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rR=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,a,l)=>l?l.toUpperCase():a.toLowerCase()),o_=s=>{const n=rR(s);return n.charAt(0).toUpperCase()+n.slice(1)},iv=(...s)=>s.filter((n,a,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===a).join(" ").trim(),lR=s=>{for(const n in s)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=ht.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:u="",children:h,iconNode:m,...y},v)=>ht.createElement("svg",{ref:v,...oR,width:n,height:n,stroke:s,strokeWidth:l?Number(a)*24/Number(n):a,className:iv("lucide",u),...!h&&!lR(y)&&{"aria-hidden":"true"},...y},[...m.map(([_,S])=>ht.createElement(_,S)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=(s,n)=>{const a=ht.forwardRef(({className:l,...u},h)=>ht.createElement(uR,{ref:h,iconNode:n,className:iv(`lucide-${sR(o_(s))}`,`lucide-${s}`,l),...u}));return a.displayName=o_(s),a};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fR=La("circle-check-big",cR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],dR=La("credit-card",hR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gR=La("eye",mR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],yR=La("monitor",pR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["rect",{x:"5",y:"2",width:"14",height:"20",rx:"7",key:"11ol66"}],["path",{d:"M12 6v4",key:"16clxf"}]],vR=La("mouse",_R);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],TR=La("settings",ER);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],SR=La("triangle-alert",AR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],RR=La("users",bR),wR=()=>x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full mx-auto",children:[x.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-6 text-center rounded-t-2xl",children:[x.jsxs("div",{className:"flex items-center justify-center mb-2",children:[x.jsx(TR,{className:"w-8 h-8 mr-3"}),x.jsx("h1",{className:"text-2xl font-bold",children:"Environment Setup Instructions"})]}),x.jsx("p",{className:"text-blue-100",children:"Thank you for joining our study!"})]}),x.jsxs("div",{className:"p-8",children:[x.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-2",children:[x.jsx(SR,{className:"w-5 h-5 text-yellow-600 mr-2"}),x.jsx("span",{className:"font-semibold text-gray-800",children:"Important"})]}),x.jsx("p",{className:"text-sm text-gray-700",children:"Please configure your setup correctly to ensure consistent and usable data."})]}),x.jsxs("div",{className:"space-y-5",children:[x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-3",children:[x.jsx("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm mr-3",children:"1"}),x.jsx(yR,{className:"w-6 h-6 text-blue-600 mr-2"}),x.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Device Requirements"})]}),x.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[x.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[x.jsx("span",{className:"text-green-600",children:""})," Use a ",x.jsx("strong",{children:"desktop/laptop"})," with a ",x.jsx("strong",{children:"physical mouse"})," on a flat surface"]}),x.jsxs("p",{className:"text-sm text-gray-700",children:[x.jsx("span",{className:"text-red-600",children:""})," Do not use trackpad, touchscreen, or drawing tablet"]})]})]}),x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-3",children:[x.jsx("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm mr-3",children:"2"}),x.jsx(vR,{className:"w-6 h-6 text-blue-600 mr-2"}),x.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Mouse Settings"})]}),x.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:["Set your mouse to ",x.jsx("strong",{children:"default sensitivity"}),":"]}),x.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[x.jsx("h3",{className:"font-semibold text-gray-800 mb-2 text-sm",children:"Windows"}),x.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[x.jsx("p",{children:" Open Control Panel  Hardware and Sound  Devices and Printers  Mouse"}),x.jsx("p",{children:' Go to the "Pointer Options" tab'}),x.jsx("p",{children:' Uncheck "Enhance pointer precision"'}),x.jsx("p",{children:" Set the pointer speed slider to the middle position"})]})]}),x.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[x.jsx("h3",{className:"font-semibold text-gray-800 mb-2 text-sm",children:"Mac (macOS)"}),x.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[x.jsx("p",{children:" System Preferences  Mouse"}),x.jsx("p",{children:" Set Tracking Speed to middle (4th from left)"}),x.jsx("p",{children:" Click on advanced  disable Pointer acceleration"})]})]})]})]}),x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-3",children:[x.jsx("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm mr-3",children:"3"}),x.jsx(gR,{className:"w-6 h-6 text-blue-600 mr-2"}),x.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Screen Setup"})]}),x.jsx("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:x.jsxs("p",{className:"text-sm text-gray-700",children:[x.jsx("strong",{})," Make browser full screen: ",x.jsx("kbd",{className:"bg-gray-200 px-1 py-0.5 rounded text-xs",children:"F11"})," (Windows) or ",x.jsx("kbd",{className:"bg-gray-200 px-1 py-0.5 rounded text-xs",children:"F"})," (Mac)"]})})]}),x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-3",children:[x.jsx("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm mr-3",children:"4"}),x.jsx(RR,{className:"w-6 h-6 text-blue-600 mr-2"}),x.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Positioning"})]}),x.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[x.jsx("p",{className:"text-sm text-gray-700",children:"Sit about one arm's length away from the monitor and try to keep the same position during the experiment."}),x.jsx("p",{children:"At the start of each trial, adjust your posture so you are comfortable."})]})]}),x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-3",children:[x.jsx("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm mr-3",children:"5"}),x.jsx(fR,{className:"w-6 h-6 text-blue-600 mr-2"}),x.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"During the Experiment"})]}),x.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:x.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[x.jsxs("p",{children:[x.jsx("span",{className:"text-green-600",children:""})," Follow instructions carefully and try your best"]}),x.jsxs("p",{children:[x.jsx("span",{className:"text-red-600",children:""})," Do not change mouse settings once you start"]})]})})]})]}),x.jsx("div",{className:"mt-12 text-center",children:x.jsxs("div",{className:"bg-white border-4 border-blue-600 px-12 py-8 rounded-2xl inline-block shadow-2xl hover:shadow-3xl transition-all duration-300 transform hover:scale-105",children:[x.jsx("div",{className:"flex items-center justify-center space-x-4",children:x.jsx("span",{className:"text-3xl font-black text-gray-800",children:"Ready to continue?"})}),x.jsxs("div",{className:"mt-4 text-lg font-semibold text-gray-600",children:["Press ",x.jsx("kbd",{className:"bg-gray-200 text-gray-800 px-3 py-1 rounded text-lg font-bold",children:"SPACEBAR"})," to proceed"]})]})})]})]})}),CR=()=>x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-4",children:x.jsx("div",{className:"max-w-4xl mx-auto",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden border border-gray-100",children:[x.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white p-6 text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-2",children:[x.jsx(dR,{className:"w-8 h-8 mr-3"}),x.jsx("h1",{className:"text-3xl font-bold",children:"Screen Calibration"})]}),x.jsx("p",{className:"text-lg text-blue-100",children:"Calibrate your screen using a credit card"})]}),x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"text-center mb-6",children:[x.jsx("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:x.jsxs("p",{className:"text-gray-700",children:["Hold your ",x.jsx("strong",{children:"credit card"})," against the window below and adjust browser zoom until they match"]})}),x.jsx("div",{className:"space-y-2 text-sm text-gray-600 max-w-lg mx-auto",children:x.jsx("p",{children:'Use Ctrl/ + "+" or "" to adjust zoom'})})]}),x.jsx("div",{className:"flex justify-center mb-6",children:x.jsx("div",{className:"bg-gray-100 border-2 border-dashed border-gray-400 rounded-lg p-6",children:x.jsx("div",{className:"bg-blue-200 border-2 border-blue-400 rounded",style:{width:"340px",height:"200px",position:"relative"},children:x.jsx("div",{className:"absolute inset-0 flex items-center justify-center"})})})}),x.jsx("div",{className:"text-center",children:x.jsx("div",{className:"bg-white border-4 border-blue-600 px-8 py-4 rounded-2xl inline-block shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105",children:x.jsxs("div",{className:"text-lg font-semibold text-gray-600",children:["Press ",x.jsx("kbd",{className:"bg-gray-200 text-gray-800 px-2 py-1 rounded text-lg font-bold",children:"SPACEBAR"})," when done"]})})})]})]})})}),DR=()=>x.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-6",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-3xl",children:[x.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-6",children:"Task Instructions (Please read carefully):"}),x.jsxs("ul",{className:"space-y-3 mb-6",children:[x.jsx("li",{children:"Click the green START button to begin each trial"}),x.jsx("li",{children:"Navigate through the tunnel to reach the red target"}),x.jsx("li",{children:"Do NOT stop once you begin the trial"}),x.jsx("li",{children:"Move as smoothly and accurately as possible"}),x.jsx("li",{children:"Press R to restart the current trial at anytime if needed"})]}),x.jsx("p",{className:"mb-4",children:"You will start with a practice trial to get familiar with the controls and task."}),x.jsx("p",{className:"font-semibold",children:"Press 'SPACEBAR' to start practice"})]})}),IR=()=>x.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-6",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-3xl",children:[x.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-6",children:"Time-Constrained Trials (Please read carefully):"}),x.jsx("p",{className:"mb-4",children:"In this part of the experiment, you must complete each task within a set time limit."}),x.jsxs("ul",{className:"space-y-3 mb-6",children:[x.jsx("li",{children:"Each trial has a different time limit."}),x.jsx("li",{children:"Before each new type of timed trial, you'll complete one practice round with a visible timer."}),x.jsx("li",{children:"During practice, learn the timing; in the actual trial, the timer won't be shown but the limit will still apply."}),x.jsx("li",{children:"You may cross the boundary in these trials, but aim to follow the tunnel as closely as possible."}),x.jsx("li",{children:"Balance speed and accuracy  the goal is to finish right as the time runs out."})]}),x.jsx("p",{className:"font-semibold",children:"Press SPACEBAR to begin time-constrained trials."})]})}),NR=({uploadStatus:s,uploadError:n,onCompleteExperiment:a,onRetryUpload:l,onDownloadData:u})=>x.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center max-w-md",children:[x.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-6",children:"Experiment Complete!"}),x.jsx("p",{className:"mb-6",children:"All trials completed successfully!"}),s==="idle"&&x.jsx("div",{className:"mb-6",children:x.jsx("button",{onClick:a,className:"bg-green-500 hover:bg-green-700 text-white font-bold py-3 px-6 rounded mb-4 w-full",children:"Upload Data"})}),s==="uploading"&&x.jsxs("div",{className:"mb-6",children:[x.jsxs("div",{className:"flex items-center justify-center mb-4",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),x.jsx("span",{className:"ml-3 text-blue-600",children:"Uploading data..."})]}),x.jsx("p",{className:"text-sm text-gray-600",children:"Please wait while we save your data"})]}),s==="success"&&x.jsx("div",{className:"mb-6",children:x.jsxs("div",{className:"text-green-600 mb-4",children:[x.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),x.jsx("p",{className:"font-semibold",children:"Data uploaded successfully!"})]})}),s==="error"&&x.jsxs("div",{className:"mb-6",children:[x.jsxs("div",{className:"text-red-600 mb-4",children:[x.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),x.jsx("p",{className:"font-semibold",children:"Upload failed"})]}),x.jsx("p",{className:"text-sm text-red-600 mb-4",children:n}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("button",{onClick:l,className:"bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded w-full",children:"Retry Upload"}),x.jsx("button",{onClick:u,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-full",children:"Download Data Only"})]})]}),x.jsx("p",{className:"text-gray-600",children:"Thank you for participating!"})]})}),xR=({canvasRef:s,phase:n,trialState:a,timeLimit:l,timeRemaining:u,failedDueToTimeout:h,shouldEnforceBoundaries:m,onMouseClick:y,onMouseMove:v,renderStatus:_,renderControls:S,canvasWidth:M,canvasHeight:I})=>x.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-4",children:[x.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[x.jsx("div",{className:"mb-4 w-full max-w-md mx-auto",children:n===ct.TIME_TRIAL_PRACTICE&&l&&x.jsx("div",{style:{width:"100%"},children:x.jsx("div",{style:{width:"100%",height:"32px",backgroundColor:"#d1d5db",borderRadius:"8px",overflow:"hidden",marginBottom:"8px",position:"relative"},children:x.jsx("div",{style:{height:"100%",position:"absolute",top:"0",left:"0",transition:"all 0.1s",backgroundColor:a!==Ye.IN_PROGRESS?"#10b981":u/l>.2?"#f59e0b":"#ef4444",width:`${a!==Ye.IN_PROGRESS?100:Math.max(0,u/l*100)}%`}})})})}),x.jsx("canvas",{ref:s,width:M,height:I,style:{width:`${M}px`,height:`${I}px`},onClick:y,onMouseMove:v,className:"border border-gray-300 cursor-crosshair"}),x.jsxs("div",{className:"mt-4 text-center",children:[_(),S()]})]}),a===Ye.FAILED&&(n===ct.TIME_TRIALS||n===ct.SEQUENTIAL_TIME_TRIALS||n===ct.TIME_TRIAL_PRACTICE)&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:x.jsxs("div",{className:"bg-gray-100 rounded-lg p-8 text-center",children:[x.jsx("h3",{className:"text-xl font-bold mb-4 text-red-600",children:h?"TIME'S UP!":"TRIAL FAILED"}),x.jsx("p",{className:"mb-4",children:h?"You ran out of time. Try to move faster.":m()?"You went outside the tunnel boundary, please retry the trial.":"Complete the task to advance."}),x.jsx("p",{className:"text-sm text-gray-600",children:"Press R to restart trial"})]})})]}),u_=(s,n=96)=>s/2.54*n,MR=()=>window.devicePixelRatio*96,c_=()=>{const a=MR(),l=u_(46,a),u=u_(26,a),h=40,m=window.innerWidth-h,y=window.innerHeight-h-200;let v=l,_=u;if(l>m||u>y){const M=m/l,I=y/u,K=Math.min(M,I);v=l*K,_=u*K}return v=Math.max(v,300),_=Math.max(_,200),{width:Math.round(v),height:Math.round(_),scale:v/.46}},OR=()=>{const s=ht.useRef(null),n=ht.useRef(null),[a,l]=ht.useState(()=>c_()),[u,h]=ht.useState(ct.WELCOME),[m,y]=ht.useState(Ye.WAITING_FOR_START),[v,_]=ht.useState(""),[S,M]=ht.useState({}),[I,K]=ht.useState(0),[Z,nt]=ht.useState([]),[it,St]=ht.useState(!1),[vt,dt]=ht.useState(null),[jt,_t]=ht.useState(new Set),[Ct,V]=ht.useState([]),[A,w]=ht.useState([]),[N,O]=ht.useState([]),[U,R]=ht.useState([]),[Gt,Nt]=ht.useState("idle"),[H,W]=ht.useState(null),[rt,xt]=ht.useState(null),[C,F]=ht.useState([]),[et,J]=ht.useState([]),[ut,Et]=ht.useState(!1),[pt,ce]=ht.useState({x:0,y:0}),[Zt,nn]=ht.useState({x:0,y:0}),[An,jn]=ht.useState([]),[zn,Zn]=ht.useState(.015),[Pn,Ji]=ht.useState("curved"),[Wi,an]=ht.useState([.015,.025,.015]),[ja,za]=ht.useState({x:0,y:0}),[Sn,vi]=ht.useState({x:0,y:0}),[Pa,Ei]=ht.useState(0),[bn,Vs]=ht.useState(null),[ie,zt]=ht.useState(0),[Ze,Se]=ht.useState(!1),Ba=ht.useCallback(()=>u===ct.PRACTICE||u===ct.MAIN_TRIALS||u===ct.SEQUENTIAL_TRIALS,[u]),ka=ht.useCallback(()=>u===ct.PRACTICE||u===ct.MAIN_TRIALS||u===ct.SEQUENTIAL_TRIALS,[u]);ht.useEffect(()=>{const lt=()=>{l(c_())};return lt(),window.addEventListener("resize",lt),()=>window.removeEventListener("resize",lt)},[]),ht.useEffect(()=>{const lt=qE();M(lt),lt.prolificPid?_(`P${lt.prolificPid}`):_(`P${new Date().toTimeString().slice(0,8).replace(/:/g,"")}`)},[]);const Jn=ht.useCallback(lt=>{let kt;lt.tunnelType==="sequential"?(kt=GE(lt),Ji("sequential"),an([lt.segment1Width,lt.segment2Width]),Zn(lt.segment1Width)):(kt=HE(lt.curvature),Ji("curved"),Zn(lt.tunnelWidth)),jn(kt),Vs(lt.timeLimit);const Wt=kt[0],hn=kt[kt.length-1];vi(Wt),za(hn),ce(Wt),nn({x:0,y:0}),y(Ye.WAITING_FOR_START),w([]),O([]),R([]),F([]),J([]),Et(!1),Ei(0),zt(lt.timeLimit||0),Se(!1)},[]),Ti=()=>{y(Ye.IN_PROGRESS);const lt=Date.now();Ei(lt),Se(!1),bn&&zt(bn);const kt={x:Sn.x,y:Sn.y};ce(kt),nn({x:0,y:0}),w([kt]),O([0]),R([lt]),F([])},Ai=lt=>{const Wt=(Date.now()-Pa)/1e3;if(it||u===ct.TIME_TRIAL_PRACTICE){if(lt){const le=u===ct.PRACTICE?"Practice":"Individual practice";console.log(`${le} completed! Time: ${Wt.toFixed(2)}s`)}y(lt?Ye.WAITING_FOR_START:Ye.FAILED);return}if(!lt){y(Ye.FAILED);return}const hn=Z[I],{id:Si,...Ls}=hn,te={participantId:v,completionTime:Wt,condition:Ls,trial_id:hn.id,timestamps:[...U],trajectory:[...A],speeds:[...N]};V(le=>[...le,te]),X2({phase:u,currentTrial:I,currentConditions:Z,practicedConditions:jt,setPhase:h,setCurrentTrial:K,setCurrentConditions:nt,setCurrentPracticeCondition:dt,setIsPractice:St,setupTrial:Jn})};ht.useEffect(()=>{if(m!==Ye.IN_PROGRESS||!bn)return;const lt=setInterval(()=>{const Wt=(Date.now()-Pa)/1e3,hn=Math.max(0,bn-Wt);zt(hn)},50);return()=>clearInterval(lt)},[m,bn,Pa]),eR({phase:u,setPhase:h,currentTrial:I,setCurrentTrial:K,currentConditions:Z,setCurrentConditions:nt,currentPracticeCondition:vt,setCurrentPracticeCondition:dt,practicedConditions:jt,setPracticedConditions:_t,participantId:v,setParticipantId:_,setIsPractice:St,setupTrial:Jn});const{handleMouseClick:fn,handleMouseMove:ta}=iR({phase:u,trialState:m,setTrialState:y,setCursorPos:ce,setCursorVel:nn,setTrajectoryPoints:w,setSpeedHistory:O,setTimestampHistory:R,startButtonPos:Sn,targetPos:ja,tunnelPath:An,tunnelType:Pn,tunnelWidth:zn,segmentWidths:Wi,shouldMarkBoundaries:ka,shouldEnforceBoundaries:Ba,setExcursionEvents:F,setExcursionMarkers:J,hasExcursionMarker:ut,setHasExcursionMarker:Et,onTrialComplete:Ai,onStartTrial:Ti,scale:a.scale});ht.useEffect(()=>{const lt=()=>{const kt=s.current;if(!kt)return;const Wt=kt.getContext("2d");tR(Wt,An,Pn,zn,Wi,et,ka(),pt,m,Sn,ja,a.width,a.height,a.scale),n.current=requestAnimationFrame(lt)};return n.current=requestAnimationFrame(lt),()=>{n.current&&cancelAnimationFrame(n.current)}},[pt,m,An,Sn,ja,zn,et,ka,ut,Pn,Wi,a]);const Wn=async()=>{Nt("uploading"),W(null);try{const lt=await Y2(v,S,Ct);xt(lt),Nt("success")}catch(lt){console.error("Upload failed:",lt),W(lt.message),Nt("error")}},qa=async()=>{await Wn(),i_(v,S,Ct)},Ha=()=>{Wn()},Ga=()=>{i_(v,S,Ct)},Bn=()=>{let lt="",kt="text-gray-600";u===ct.PRACTICE?(lt="[Practice Round]",kt="text-green-600"):u===ct.MAIN_TRIALS&&I<Z.length?(lt=`Trial ${a_(u,I)}/${s_()}`,kt="text-blue-600"):u===ct.SEQUENTIAL_TRIALS&&I<Z.length?(lt=`Trial ${a_(u,I)}/${s_()}`,kt="text-indigo-600"):u===ct.TIME_TRIAL_PRACTICE&&vt?(lt="PRACTICE ROUND",kt="text-purple-600"):u===ct.TIME_TRIALS&&I<Z.length?(lt=`Timed Trial ${r_(u,I)}/${l_()}`,kt="text-red-600"):u===ct.SEQUENTIAL_TIME_TRIALS&&I<Z.length&&(lt=`Timed Trial ${r_(u,I)}/${l_()}`,kt="text-pink-600");let Wt="";return m===Ye.WAITING_FOR_START?Wt="Click the green button to begin":m===Ye.IN_PROGRESS?Wt="Navigate to the red target":m===Ye.FAILED&&(Wt="Trial failed, please try again"),x.jsxs("div",{className:"space-y-1",children:[lt&&x.jsx("p",{className:`text-sm ${kt}`,children:lt}),Wt&&x.jsx("p",{className:"text-lg font-bold gray-red-900",children:Wt})]})},kn=()=>{const lt=[];return lt.push(x.jsxs(x.Fragment,{children:["Press ",x.jsx("span",{className:"font-bold text-blue-600",children:"'R'"})," to restart trial at any time"]})),(u===ct.PRACTICE||u===ct.TIME_TRIAL_PRACTICE)&&lt.push(x.jsxs(x.Fragment,{children:["Press ",x.jsx("span",{className:"font-bold text-blue-600",children:"'N'"})," to continue to real trial"]})),x.jsx("div",{className:"mt-2 text-sm text-gray-600",children:lt.map((kt,Wt)=>x.jsx("p",{children:kt},Wt))})};return(()=>{switch(u){case ct.WELCOME:return x.jsx(aR,{});case ct.ENVIRONMENT_SETUP:return x.jsx(wR,{});case ct.SCREEN_CALIBRATION:return x.jsx(CR,{});case ct.INSTRUCTIONS:return x.jsx(DR,{});case ct.TIME_CONSTRAINT_INTRO:return x.jsx(IR,{});case ct.COMPLETE:return x.jsx(NR,{uploadStatus:Gt,uploadError:H,onCompleteExperiment:qa,onRetryUpload:Ha,onDownloadData:Ga});default:return x.jsx(xR,{canvasRef:s,phase:u,trialState:m,timeLimit:bn,timeRemaining:ie,failedDueToTimeout:Ze,shouldEnforceBoundaries:Ba,onMouseClick:fn,onMouseMove:ta,renderStatus:Bn,renderControls:kn,canvasWidth:a.width,canvasHeight:a.height})}})()};PE.createRoot(document.getElementById("root")).render(x.jsx(xE.StrictMode,{children:x.jsx(OR,{})}));
