(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function s(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(u){if(u.ep)return;u.ep=!0;const f=s(u);fetch(u.href,f)}})();function T0(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var dh={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function L1(){if(qp)return Gl;qp=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(r,u,f){var d=null;if(f!==void 0&&(d=""+f),u.key!==void 0&&(d=""+u.key),"key"in u){f={};for(var g in u)g!=="key"&&(f[g]=u[g])}else f=u;return u=f.ref,{$$typeof:a,type:r,key:d,ref:u!==void 0?u:null,props:f}}return Gl.Fragment=n,Gl.jsx=s,Gl.jsxs=s,Gl}var Hp;function U1(){return Hp||(Hp=1,dh.exports=L1()),dh.exports}var V=U1(),mh={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function j1(){if(Xp)return xt;Xp=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.iterator;function E(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,P={};function z(N,Z,ut){this.props=N,this.context=Z,this.refs=P,this.updater=ut||R}z.prototype.isReactComponent={},z.prototype.setState=function(N,Z){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Z,"setState")},z.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function K(){}K.prototype=z.prototype;function it(N,Z,ut){this.props=N,this.context=Z,this.refs=P,this.updater=ut||R}var $=it.prototype=new K;$.constructor=it,j($,z.prototype),$.isPureReactComponent=!0;var lt=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},at=Object.prototype.hasOwnProperty;function C(N,Z,ut,nt,mt,St){return ut=St.ref,{$$typeof:a,type:N,key:Z,ref:ut!==void 0?ut:null,props:St}}function b(N,Z){return C(N.type,Z,void 0,void 0,void 0,N.props)}function x(N){return typeof N=="object"&&N!==null&&N.$$typeof===a}function D(N){var Z={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ut){return Z[ut]})}var O=/\/+/g;function L(N,Z){return typeof N=="object"&&N!==null&&N.key!=null?D(""+N.key):Z.toString(36)}function M(){}function gt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(M,M):(N.status="pending",N.then(function(Z){N.status==="pending"&&(N.status="fulfilled",N.value=Z)},function(Z){N.status==="pending"&&(N.status="rejected",N.reason=Z)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function dt(N,Z,ut,nt,mt){var St=typeof N;(St==="undefined"||St==="boolean")&&(N=null);var _t=!1;if(N===null)_t=!0;else switch(St){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(N.$$typeof){case a:case n:_t=!0;break;case A:return _t=N._init,dt(_t(N._payload),Z,ut,nt,mt)}}if(_t)return mt=mt(N),_t=nt===""?"."+L(N,0):nt,lt(mt)?(ut="",_t!=null&&(ut=_t.replace(O,"$&/")+"/"),dt(mt,Z,ut,"",function(oe){return oe})):mt!=null&&(x(mt)&&(mt=b(mt,ut+(mt.key==null||N&&N.key===mt.key?"":(""+mt.key).replace(O,"$&/")+"/")+_t)),Z.push(mt)),1;_t=0;var ee=nt===""?".":nt+":";if(lt(N))for(var Ut=0;Ut<N.length;Ut++)nt=N[Ut],St=ee+L(nt,Ut),_t+=dt(nt,Z,ut,St,mt);else if(Ut=E(N),typeof Ut=="function")for(N=Ut.call(N),Ut=0;!(nt=N.next()).done;)nt=nt.value,St=ee+L(nt,Ut++),_t+=dt(nt,Z,ut,St,mt);else if(St==="object"){if(typeof N.then=="function")return dt(gt(N),Z,ut,nt,mt);throw Z=String(N),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return _t}function Y(N,Z,ut){if(N==null)return N;var nt=[],mt=0;return dt(N,nt,"","",function(St){return Z.call(ut,St,mt++)}),nt}function st(N){if(N._status===-1){var Z=N._result;Z=Z(),Z.then(function(ut){(N._status===0||N._status===-1)&&(N._status=1,N._result=ut)},function(ut){(N._status===0||N._status===-1)&&(N._status=2,N._result=ut)}),N._status===-1&&(N._status=0,N._result=Z)}if(N._status===1)return N._result.default;throw N._result}var ot=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Tt(){}return xt.Children={map:Y,forEach:function(N,Z,ut){Y(N,function(){Z.apply(this,arguments)},ut)},count:function(N){var Z=0;return Y(N,function(){Z++}),Z},toArray:function(N){return Y(N,function(Z){return Z})||[]},only:function(N){if(!x(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},xt.Component=z,xt.Fragment=s,xt.Profiler=u,xt.PureComponent=it,xt.StrictMode=r,xt.Suspense=v,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,xt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return Q.H.useMemoCache(N)}},xt.cache=function(N){return function(){return N.apply(null,arguments)}},xt.cloneElement=function(N,Z,ut){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var nt=j({},N.props),mt=N.key,St=void 0;if(Z!=null)for(_t in Z.ref!==void 0&&(St=void 0),Z.key!==void 0&&(mt=""+Z.key),Z)!at.call(Z,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&Z.ref===void 0||(nt[_t]=Z[_t]);var _t=arguments.length-2;if(_t===1)nt.children=ut;else if(1<_t){for(var ee=Array(_t),Ut=0;Ut<_t;Ut++)ee[Ut]=arguments[Ut+2];nt.children=ee}return C(N.type,mt,void 0,void 0,St,nt)},xt.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:f,_context:N},N},xt.createElement=function(N,Z,ut){var nt,mt={},St=null;if(Z!=null)for(nt in Z.key!==void 0&&(St=""+Z.key),Z)at.call(Z,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(mt[nt]=Z[nt]);var _t=arguments.length-2;if(_t===1)mt.children=ut;else if(1<_t){for(var ee=Array(_t),Ut=0;Ut<_t;Ut++)ee[Ut]=arguments[Ut+2];mt.children=ee}if(N&&N.defaultProps)for(nt in _t=N.defaultProps,_t)mt[nt]===void 0&&(mt[nt]=_t[nt]);return C(N,St,void 0,void 0,null,mt)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(N){return{$$typeof:g,render:N}},xt.isValidElement=x,xt.lazy=function(N){return{$$typeof:A,_payload:{_status:-1,_result:N},_init:st}},xt.memo=function(N,Z){return{$$typeof:p,type:N,compare:Z===void 0?null:Z}},xt.startTransition=function(N){var Z=Q.T,ut={};Q.T=ut;try{var nt=N(),mt=Q.S;mt!==null&&mt(ut,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(Tt,ot)}catch(St){ot(St)}finally{Q.T=Z}},xt.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},xt.use=function(N){return Q.H.use(N)},xt.useActionState=function(N,Z,ut){return Q.H.useActionState(N,Z,ut)},xt.useCallback=function(N,Z){return Q.H.useCallback(N,Z)},xt.useContext=function(N){return Q.H.useContext(N)},xt.useDebugValue=function(){},xt.useDeferredValue=function(N,Z){return Q.H.useDeferredValue(N,Z)},xt.useEffect=function(N,Z,ut){var nt=Q.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return nt.useEffect(N,Z)},xt.useId=function(){return Q.H.useId()},xt.useImperativeHandle=function(N,Z,ut){return Q.H.useImperativeHandle(N,Z,ut)},xt.useInsertionEffect=function(N,Z){return Q.H.useInsertionEffect(N,Z)},xt.useLayoutEffect=function(N,Z){return Q.H.useLayoutEffect(N,Z)},xt.useMemo=function(N,Z){return Q.H.useMemo(N,Z)},xt.useOptimistic=function(N,Z){return Q.H.useOptimistic(N,Z)},xt.useReducer=function(N,Z,ut){return Q.H.useReducer(N,Z,ut)},xt.useRef=function(N){return Q.H.useRef(N)},xt.useState=function(N){return Q.H.useState(N)},xt.useSyncExternalStore=function(N,Z,ut){return Q.H.useSyncExternalStore(N,Z,ut)},xt.useTransition=function(){return Q.H.useTransition()},xt.version="19.1.1",xt}var Gp;function Kh(){return Gp||(Gp=1,mh.exports=j1()),mh.exports}var vt=Kh();const z1=T0(vt);var gh={exports:{}},Yl={},ph={exports:{}},yh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function P1(){return Yp||(Yp=1,(function(a){function n(Y,st){var ot=Y.length;Y.push(st);t:for(;0<ot;){var Tt=ot-1>>>1,N=Y[Tt];if(0<u(N,st))Y[Tt]=st,Y[ot]=N,ot=Tt;else break t}}function s(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var st=Y[0],ot=Y.pop();if(ot!==st){Y[0]=ot;t:for(var Tt=0,N=Y.length,Z=N>>>1;Tt<Z;){var ut=2*(Tt+1)-1,nt=Y[ut],mt=ut+1,St=Y[mt];if(0>u(nt,ot))mt<N&&0>u(St,nt)?(Y[Tt]=St,Y[mt]=ot,Tt=mt):(Y[Tt]=nt,Y[ut]=ot,Tt=ut);else if(mt<N&&0>u(St,ot))Y[Tt]=St,Y[mt]=ot,Tt=mt;else break t}}return st}function u(Y,st){var ot=Y.sortIndex-st.sortIndex;return ot!==0?ot:Y.id-st.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var v=[],p=[],A=1,w=null,E=3,R=!1,j=!1,P=!1,z=!1,K=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function lt(Y){for(var st=s(p);st!==null;){if(st.callback===null)r(p);else if(st.startTime<=Y)r(p),st.sortIndex=st.expirationTime,n(v,st);else break;st=s(p)}}function Q(Y){if(P=!1,lt(Y),!j)if(s(v)!==null)j=!0,at||(at=!0,L());else{var st=s(p);st!==null&&dt(Q,st.startTime-Y)}}var at=!1,C=-1,b=5,x=-1;function D(){return z?!0:!(a.unstable_now()-x<b)}function O(){if(z=!1,at){var Y=a.unstable_now();x=Y;var st=!0;try{t:{j=!1,P&&(P=!1,it(C),C=-1),R=!0;var ot=E;try{e:{for(lt(Y),w=s(v);w!==null&&!(w.expirationTime>Y&&D());){var Tt=w.callback;if(typeof Tt=="function"){w.callback=null,E=w.priorityLevel;var N=Tt(w.expirationTime<=Y);if(Y=a.unstable_now(),typeof N=="function"){w.callback=N,lt(Y),st=!0;break e}w===s(v)&&r(v),lt(Y)}else r(v);w=s(v)}if(w!==null)st=!0;else{var Z=s(p);Z!==null&&dt(Q,Z.startTime-Y),st=!1}}break t}finally{w=null,E=ot,R=!1}st=void 0}}finally{st?L():at=!1}}}var L;if(typeof $=="function")L=function(){$(O)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,gt=M.port2;M.port1.onmessage=O,L=function(){gt.postMessage(null)}}else L=function(){K(O,0)};function dt(Y,st){C=K(function(){Y(a.unstable_now())},st)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Y){Y.callback=null},a.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Y?Math.floor(1e3/Y):5},a.unstable_getCurrentPriorityLevel=function(){return E},a.unstable_next=function(Y){switch(E){case 1:case 2:case 3:var st=3;break;default:st=E}var ot=E;E=st;try{return Y()}finally{E=ot}},a.unstable_requestPaint=function(){z=!0},a.unstable_runWithPriority=function(Y,st){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ot=E;E=Y;try{return st()}finally{E=ot}},a.unstable_scheduleCallback=function(Y,st,ot){var Tt=a.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Tt+ot:Tt):ot=Tt,Y){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ot+N,Y={id:A++,callback:st,priorityLevel:Y,startTime:ot,expirationTime:N,sortIndex:-1},ot>Tt?(Y.sortIndex=ot,n(p,Y),s(v)===null&&Y===s(p)&&(P?(it(C),C=-1):P=!0,dt(Q,ot-Tt))):(Y.sortIndex=N,n(v,Y),j||R||(j=!0,at||(at=!0,L()))),Y},a.unstable_shouldYield=D,a.unstable_wrapCallback=function(Y){var st=E;return function(){var ot=E;E=st;try{return Y.apply(this,arguments)}finally{E=ot}}}})(yh)),yh}var Fp;function k1(){return Fp||(Fp=1,ph.exports=P1()),ph.exports}var _h={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function B1(){if(Qp)return un;Qp=1;var a=Kh();function n(v){var p="https://react.dev/errors/"+v;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)p+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(v,p,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:w==null?null:""+w,children:v,containerInfo:p,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,p){if(v==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,un.createPortal=function(v,p){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return f(v,p,null,A)},un.flushSync=function(v){var p=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=p,r.p=A,r.d.f()}},un.preconnect=function(v,p){typeof v=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(v,p))},un.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},un.preinit=function(v,p){if(typeof v=="string"&&p&&typeof p.as=="string"){var A=p.as,w=g(A,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;A==="style"?r.d.S(v,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:E,fetchPriority:R}):A==="script"&&r.d.X(v,{crossOrigin:w,integrity:E,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},un.preinitModule=function(v,p){if(typeof v=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var A=g(p.as,p.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(v)},un.preload=function(v,p){if(typeof v=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var A=p.as,w=g(A,p.crossOrigin);r.d.L(v,A,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},un.preloadModule=function(v,p){if(typeof v=="string")if(p){var A=g(p.as,p.crossOrigin);r.d.m(v,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(v)},un.requestFormReset=function(v){r.d.r(v)},un.unstable_batchedUpdates=function(v,p){return v(p)},un.useFormState=function(v,p,A){return d.H.useFormState(v,p,A)},un.useFormStatus=function(){return d.H.useHostTransitionStatus()},un.version="19.1.1",un}var Kp;function q1(){if(Kp)return _h.exports;Kp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),_h.exports=B1(),_h.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function H1(){if($p)return Yl;$p=1;var a=k1(),n=Kh(),s=q1();function r(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function d(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function g(t){if(f(t)!==t)throw Error(r(188))}function v(t){var e=t.alternate;if(!e){if(e=f(t),e===null)throw Error(r(188));return e!==t?null:t}for(var i=t,l=e;;){var c=i.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){i=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===i)return g(c),t;if(h===l)return g(c),e;h=h.sibling}throw Error(r(188))}if(i.return!==l.return)i=c,l=h;else{for(var _=!1,T=c.child;T;){if(T===i){_=!0,i=c,l=h;break}if(T===l){_=!0,l=c,i=h;break}T=T.sibling}if(!_){for(T=h.child;T;){if(T===i){_=!0,i=h,l=c;break}if(T===l){_=!0,l=h,i=c;break}T=T.sibling}if(!_)throw Error(r(189))}}if(i.alternate!==l)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?t:e}function p(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=p(t),e!==null)return e;t=t.sibling}return null}var A=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),it=Symbol.for("react.consumer"),$=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function gt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case z:return"Profiler";case P:return"StrictMode";case Q:return"Suspense";case at:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case R:return"Portal";case $:return(t.displayName||"Context")+".Provider";case it:return(t._context.displayName||"Context")+".Consumer";case lt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return e=t.displayName||null,e!==null?e:gt(t.type)||"Memo";case b:e=t._payload,t=t._init;try{return gt(t(e))}catch{}}return null}var dt=Array.isArray,Y=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Tt=[],N=-1;function Z(t){return{current:t}}function ut(t){0>N||(t.current=Tt[N],Tt[N]=null,N--)}function nt(t,e){N++,Tt[N]=t.current,t.current=e}var mt=Z(null),St=Z(null),_t=Z(null),ee=Z(null);function Ut(t,e){switch(nt(_t,e),nt(St,t),nt(mt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?pp(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=pp(e),t=yp(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ut(mt),nt(mt,t)}function oe(){ut(mt),ut(St),ut(_t)}function jt(t){t.memoizedState!==null&&nt(ee,t);var e=mt.current,i=yp(e,t.type);e!==i&&(nt(St,t),nt(mt,i))}function ue(t){St.current===t&&(ut(mt),ut(St)),ee.current===t&&(ut(ee),kl._currentValue=ot)}var we=Object.prototype.hasOwnProperty,ln=a.unstable_scheduleCallback,Ke=a.unstable_cancelCallback,xe=a.unstable_shouldYield,Fn=a.unstable_requestPaint,ye=a.unstable_now,Qn=a.unstable_getCurrentPriorityLevel,yn=a.unstable_ImmediatePriority,mn=a.unstable_UserBlockingPriority,Kn=a.unstable_NormalPriority,vs=a.unstable_LowPriority,$n=a.unstable_IdlePriority,Mn=a.log,_n=a.unstable_setDisableYieldValue,ie=null,Ht=null;function Ue(t){if(typeof Mn=="function"&&_n(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(ie,t)}catch{}}var Me=Math.clz32?Math.clz32:ci,Ei=Math.log,la=Math.LN2;function ci(t){return t>>>=0,t===0?32:31-(Ei(t)/la|0)|0}var Si=256,vn=4194304;function In(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ts(t,e,i){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~h,l!==0?c=In(l):(_&=T,_!==0?c=In(_):i||(i=T&~t,i!==0&&(c=In(i))))):(T=l&~h,T!==0?c=In(T):_!==0?c=In(_):i||(i=l&~t,i!==0&&(c=In(i)))),c===0?0:e!==0&&e!==c&&(e&h)===0&&(h=c&-c,i=e&-e,h>=i||h===32&&(i&4194048)!==0)?e:c}function fi(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function oa(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Es(){var t=Si;return Si<<=1,(Si&4194048)===0&&(Si=256),t}function Ss(){var t=vn;return vn<<=1,(vn&62914560)===0&&(vn=4194304),t}function Cn(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function Nn(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ua(t,e,i,l,c,h){var _=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,H=t.hiddenUpdates;for(i=_&~i;0<i;){var J=31-Me(i),tt=1<<J;T[J]=0,I[J]=-1;var X=H[J];if(X!==null)for(H[J]=null,J=0;J<X.length;J++){var G=X[J];G!==null&&(G.lane&=-536870913)}i&=~tt}l!==0&&Zn(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(_&~e))}function Zn(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var l=31-Me(e);t.entangledLanes|=e,t.entanglements[l]=t.entanglements[l]|1073741824|i&4194090}function ca(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var l=31-Me(i),c=1<<l;c&e|t[l]&e&&(t[l]|=e),i&=~c}}function bi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Hi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ai(){var t=st.p;return t!==0?t:(t=window.event,t===void 0?32:Up(t.type))}function Ja(t,e){var i=st.p;try{return st.p=t,e()}finally{st.p=i}}var se=Math.random().toString(36).slice(2),be="__reactFiber$"+se,_e="__reactProps$"+se,Dn="__reactContainer$"+se,ct="__reactEvents$"+se,Ct="__reactListeners$"+se,It="__reactHandles$"+se,Gt="__reactResources$"+se,ae="__reactMarker$"+se;function Ie(t){delete t[be],delete t[_e],delete t[ct],delete t[Ct],delete t[It]}function Ce(t){var e=t[be];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Dn]||i[be]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=Ep(t);t!==null;){if(i=t[be])return i;t=Ep(t)}return e}t=i,i=t.parentNode}return null}function On(t){if(t=t[be]||t[Dn]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Vn(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(r(33))}function $e(t){var e=t[Gt];return e||(e=t[Gt]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function me(t){t[ae]=!0}var ce=new Set,Ln={};function Un(t,e){Tn(t,e),Tn(t+"Capture",e)}function Tn(t,e){for(Ln[t]=e,t=0;t<e.length;t++)ce.add(e[t])}var Xi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ri={},jn={};function wi(t){return we.call(jn,t)?!0:we.call(Ri,t)?!1:Xi.test(t)?jn[t]=!0:(Ri[t]=!0,!1)}function Jn(t,e,i){if(wi(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var l=e.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function En(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function je(t,e,i,l){if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+l)}}var Gi,Wa;function hi(t){if(Gi===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);Gi=e&&e[1]||"",Wa=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gi+t+Wa}var bs=!1;function As(t,e){if(!t||bs)return"";bs=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(e){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(G){var X=G}Reflect.construct(t,[],tt)}else{try{tt.call()}catch(G){X=G}t.call(tt.prototype)}}else{try{throw Error()}catch(G){X=G}(tt=t())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(G){if(G&&X&&typeof G.stack=="string")return[G.stack,X.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),_=h[0],T=h[1];if(_&&T){var I=_.split(`
`),H=T.split(`
`);for(c=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;if(l===I.length||c===H.length)for(l=I.length-1,c=H.length-1;1<=l&&0<=c&&I[l]!==H[c];)c--;for(;1<=l&&0<=c;l--,c--)if(I[l]!==H[c]){if(l!==1||c!==1)do if(l--,c--,0>c||I[l]!==H[c]){var J=`
`+I[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=c);break}}}finally{bs=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?hi(i):""}function Rs(t){switch(t.tag){case 26:case 27:case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return As(t.type,!1);case 11:return As(t.type.render,!1);case 1:return As(t.type,!0);case 31:return hi("Activity");default:return""}}function ws(t){try{var e="";do e+=Rs(t),t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xs(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yo(t){var e=xs(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),l=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,h=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return c.call(this)},set:function(_){l=""+_,h.call(this,_)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yi(t){t._valueTracker||(t._valueTracker=yo(t))}function fa(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),l="";return t&&(l=xs(t)?t.checked?"true":"false":t.value),t=l,t!==i?(e.setValue(t),!0):!1}function Fi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Kr=/[\n"\\]/g;function ve(t){return t.replace(Kr,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function zn(t,e,i,l,c,h,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),e!=null?_==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Ze(e)):t.value!==""+Ze(e)&&(t.value=""+Ze(e)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),e!=null?Ms(t,_,Ze(e)):i!=null?Ms(t,_,Ze(i)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ze(T):t.removeAttribute("name")}function ha(t,e,i,l,c,h,_,T){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),e!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||e!=null))return;i=i!=null?""+Ze(i):"",e=e!=null?""+Ze(e):i,T||e===t.value||(t.value=e),t.defaultValue=e}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Ms(t,e,i){e==="number"&&Fi(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Qi(t,e,i,l){if(t=t.options,e){e={};for(var c=0;c<i.length;c++)e["$"+i[c]]=!0;for(i=0;i<t.length;i++)c=e.hasOwnProperty("$"+t[i].value),t[i].selected!==c&&(t[i].selected=c),c&&l&&(t[i].defaultSelected=!0)}else{for(i=""+Ze(i),e=null,c=0;c<t.length;c++){if(t[c].value===i){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}e!==null||t[c].disabled||(e=t[c])}e!==null&&(e.selected=!0)}}function Zt(t,e,i){if(e!=null&&(e=""+Ze(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+Ze(i):""}function da(t,e,i,l){if(e==null){if(l!=null){if(i!=null)throw Error(r(92));if(dt(l)){if(1<l.length)throw Error(r(93));l=l[0]}i=l}i==null&&(i=""),e=i}i=Ze(e),t.defaultValue=i,l=t.textContent,l===i&&l!==""&&l!==null&&(t.value=l)}function Wn(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var ma=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _o(t,e,i){var l=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":l?t.setProperty(e,i):typeof i!="number"||i===0||ma.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function $r(t,e,i){if(e!=null&&typeof e!="object")throw Error(r(62));if(t=t.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||e!=null&&e.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in e)l=e[c],e.hasOwnProperty(c)&&i[c]!==l&&_o(t,c,l)}else for(var h in e)e.hasOwnProperty(h)&&_o(t,h,e[h])}function Zr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _c=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tr(t){return vc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ki=null;function ti(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $i=null,Zi=null;function Jr(t){var e=On(t);if(e&&(t=e.stateNode)){var i=t[_e]||null;t:switch(t=e.stateNode,e.type){case"input":if(zn(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+ve(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var l=i[e];if(l!==t&&l.form===t.form){var c=l[_e]||null;if(!c)throw Error(r(90));zn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(e=0;e<i.length;e++)l=i[e],l.form===t.form&&fa(l)}break t;case"textarea":Zt(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&Qi(t,!!i.multiple,e,!1)}}}var xi=!1;function vo(t,e,i){if(xi)return t(e,i);xi=!0;try{var l=t(e);return l}finally{if(xi=!1,($i!==null||Zi!==null)&&(hu(),$i&&(e=$i,t=Zi,Zi=$i=null,Jr(e),t)))for(e=0;e<t.length;e++)Jr(t[e])}}function ga(t,e){var i=t.stateNode;if(i===null)return null;var l=i[_e]||null;if(l===null)return null;i=l[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(r(231,e,typeof i));return i}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ei=!1;if(di)try{var pa={};Object.defineProperty(pa,"passive",{get:function(){ei=!0}}),window.addEventListener("test",pa,pa),window.removeEventListener("test",pa,pa)}catch{ei=!1}var Mi=null,Is=null,Ji=null;function Wr(){if(Ji)return Ji;var t,e=Is,i=e.length,l,c="value"in Mi?Mi.value:Mi.textContent,h=c.length;for(t=0;t<i&&e[t]===c[t];t++);var _=i-t;for(l=1;l<=_&&e[i-l]===c[h-l];l++);return Ji=c.slice(t,1<l?1-l:void 0)}function Ii(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ci(){return!0}function tl(){return!1}function qe(t){function e(i,l,c,h,_){this._reactName=i,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(i=t[T],this[T]=i?i(h):h[T]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ci:tl,this.isPropagationStopped=tl,this}return A(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),e}var Ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},er=qe(Ft),ya=A({},Ft,{view:0,detail:0}),To=qe(ya),nr,ir,Ni,_a=A({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ea,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ni&&(Ni&&t.type==="mousemove"?(nr=t.screenX-Ni.screenX,ir=t.screenY-Ni.screenY):ir=nr=0,Ni=t),nr)},movementY:function(t){return"movementY"in t?t.movementY:ir}}),ni=qe(_a),Eo=A({},_a,{dataTransfer:0}),Tc=qe(Eo),va=A({},ya,{relatedTarget:0}),sr=qe(va),el=A({},Ft,{animationName:0,elapsedTime:0,pseudoElement:0}),ar=qe(el),So=A({},Ft,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rr=qe(So),Ec=A({},Ft,{data:0}),nl=qe(Ec),Ta={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ao={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function il(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ao[t])?!!e[t]:!1}function Ea(){return il}var Ro=A({},ya,{key:function(t){if(t.key){var e=Ta[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ii(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ea,charCode:function(t){return t.type==="keypress"?Ii(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ii(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lr=qe(Ro),wo=A({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sl=qe(wo),Wi=A({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ea}),xo=qe(Wi),Mo=A({},Ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),Io=qe(Mo),Co=A({},_a,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),or=qe(Co),gn=A({},Ft,{newState:0,oldState:0}),No=qe(gn),Do=[9,13,27,32],Di=di&&"CompositionEvent"in window,o=null;di&&"documentMode"in document&&(o=document.documentMode);var m=di&&"TextEvent"in window&&!o,y=di&&(!Di||o&&8<o&&11>=o),S=" ",B=!1;function F(t,e){switch(t){case"keyup":return Do.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ft(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zt=!1;function ze(t,e){switch(t){case"compositionend":return ft(e);case"keypress":return e.which!==32?null:(B=!0,S);case"textInput":return t=e.data,t===S&&B?null:t;default:return null}}function Pt(t,e){if(zt)return t==="compositionend"||!Di&&F(t,e)?(t=Wr(),Ji=Is=Mi=null,zt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return y&&e.locale!=="ko"?null:e.data;default:return null}}var He={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pe(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!He[t.type]:e==="textarea"}function ts(t,e,i,l){$i?Zi?Zi.push(l):Zi=[l]:$i=l,e=_u(e,"onChange"),0<e.length&&(i=new er("onChange","change",null,i,l),t.push({event:i,listeners:e}))}var Je=null,Oi=null;function al(t){fp(t,0)}function Oo(t){var e=Vn(t);if(fa(e))return t}function Dd(t,e){if(t==="change")return e}var Od=!1;if(di){var Sc;if(di){var bc="oninput"in document;if(!bc){var Vd=document.createElement("div");Vd.setAttribute("oninput","return;"),bc=typeof Vd.oninput=="function"}Sc=bc}else Sc=!1;Od=Sc&&(!document.documentMode||9<document.documentMode)}function Ld(){Je&&(Je.detachEvent("onpropertychange",Ud),Oi=Je=null)}function Ud(t){if(t.propertyName==="value"&&Oo(Oi)){var e=[];ts(e,Oi,t,ti(t)),vo(al,e)}}function fv(t,e,i){t==="focusin"?(Ld(),Je=e,Oi=i,Je.attachEvent("onpropertychange",Ud)):t==="focusout"&&Ld()}function hv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Oo(Oi)}function dv(t,e){if(t==="click")return Oo(e)}function mv(t,e){if(t==="input"||t==="change")return Oo(e)}function gv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pn=typeof Object.is=="function"?Object.is:gv;function rl(t,e){if(Pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),l=Object.keys(e);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var c=i[l];if(!we.call(e,c)||!Pn(t[c],e[c]))return!1}return!0}function jd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zd(t,e){var i=jd(t);t=0;for(var l;i;){if(i.nodeType===3){if(l=t+i.textContent.length,t<=e&&l>=e)return{node:i,offset:e-t};t=l}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=jd(i)}}function Pd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Pd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Fi(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=Fi(t.document)}return e}function Ac(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var pv=di&&"documentMode"in document&&11>=document.documentMode,ur=null,Rc=null,ll=null,wc=!1;function Bd(t,e,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;wc||ur==null||ur!==Fi(l)||(l=ur,"selectionStart"in l&&Ac(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ll&&rl(ll,l)||(ll=l,l=_u(Rc,"onSelect"),0<l.length&&(e=new er("onSelect","select",null,e,i),t.push({event:e,listeners:l}),e.target=ur)))}function Sa(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var cr={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionrun:Sa("Transition","TransitionRun"),transitionstart:Sa("Transition","TransitionStart"),transitioncancel:Sa("Transition","TransitionCancel"),transitionend:Sa("Transition","TransitionEnd")},xc={},qd={};di&&(qd=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);function ba(t){if(xc[t])return xc[t];if(!cr[t])return t;var e=cr[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in qd)return xc[t]=e[i];return t}var Hd=ba("animationend"),Xd=ba("animationiteration"),Gd=ba("animationstart"),yv=ba("transitionrun"),_v=ba("transitionstart"),vv=ba("transitioncancel"),Yd=ba("transitionend"),Fd=new Map,Mc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mc.push("scrollEnd");function mi(t,e){Fd.set(t,e),Un(e,[t])}var Qd=new WeakMap;function ii(t,e){if(typeof t=="object"&&t!==null){var i=Qd.get(t);return i!==void 0?i:(e={value:t,source:e,stack:ws(e)},Qd.set(t,e),e)}return{value:t,source:e,stack:ws(e)}}var si=[],fr=0,Ic=0;function Vo(){for(var t=fr,e=Ic=fr=0;e<t;){var i=si[e];si[e++]=null;var l=si[e];si[e++]=null;var c=si[e];si[e++]=null;var h=si[e];if(si[e++]=null,l!==null&&c!==null){var _=l.pending;_===null?c.next=c:(c.next=_.next,_.next=c),l.pending=c}h!==0&&Kd(i,c,h)}}function Lo(t,e,i,l){si[fr++]=t,si[fr++]=e,si[fr++]=i,si[fr++]=l,Ic|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Cc(t,e,i,l){return Lo(t,e,i,l),Uo(t)}function hr(t,e){return Lo(t,null,null,e),Uo(t)}function Kd(t,e,i){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i);for(var c=!1,h=t.return;h!==null;)h.childLanes|=i,l=h.alternate,l!==null&&(l.childLanes|=i),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&e!==null&&(c=31-Me(i),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[e]:l.push(e),e.lane=i|536870912),h):null}function Uo(t){if(50<Dl)throw Dl=0,jf=null,Error(r(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var dr={};function Tv(t,e,i,l){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,e,i,l){return new Tv(t,e,i,l)}function Nc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function es(t,e){var i=t.alternate;return i===null?(i=kn(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function $d(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function jo(t,e,i,l,c,h){var _=0;if(l=t,typeof t=="function")Nc(t)&&(_=1);else if(typeof t=="string")_=S1(t,i,mt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case x:return t=kn(31,i,e,c),t.elementType=x,t.lanes=h,t;case j:return Aa(i.children,c,h,e);case P:_=8,c|=24;break;case z:return t=kn(12,i,e,c|2),t.elementType=z,t.lanes=h,t;case Q:return t=kn(13,i,e,c),t.elementType=Q,t.lanes=h,t;case at:return t=kn(19,i,e,c),t.elementType=at,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:case $:_=10;break t;case it:_=9;break t;case lt:_=11;break t;case C:_=14;break t;case b:_=16,l=null;break t}_=29,i=Error(r(130,t===null?"null":typeof t,"")),l=null}return e=kn(_,i,e,c),e.elementType=t,e.type=l,e.lanes=h,e}function Aa(t,e,i,l){return t=kn(7,t,l,e),t.lanes=i,t}function Dc(t,e,i){return t=kn(6,t,null,e),t.lanes=i,t}function Oc(t,e,i){return e=kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var mr=[],gr=0,zo=null,Po=0,ai=[],ri=0,Ra=null,ns=1,is="";function wa(t,e){mr[gr++]=Po,mr[gr++]=zo,zo=t,Po=e}function Zd(t,e,i){ai[ri++]=ns,ai[ri++]=is,ai[ri++]=Ra,Ra=t;var l=ns;t=is;var c=32-Me(l)-1;l&=~(1<<c),i+=1;var h=32-Me(e)+c;if(30<h){var _=c-c%5;h=(l&(1<<_)-1).toString(32),l>>=_,c-=_,ns=1<<32-Me(e)+c|i<<c|l,is=h+t}else ns=1<<h|i<<c|l,is=t}function Vc(t){t.return!==null&&(wa(t,1),Zd(t,1,0))}function Lc(t){for(;t===zo;)zo=mr[--gr],mr[gr]=null,Po=mr[--gr],mr[gr]=null;for(;t===Ra;)Ra=ai[--ri],ai[ri]=null,is=ai[--ri],ai[ri]=null,ns=ai[--ri],ai[ri]=null}var pn=null,Te=null,Yt=!1,xa=null,Vi=!1,Uc=Error(r(519));function Ma(t){var e=Error(r(418,""));throw cl(ii(e,t)),Uc}function Jd(t){var e=t.stateNode,i=t.type,l=t.memoizedProps;switch(e[be]=t,e[_e]=l,i){case"dialog":Lt("cancel",e),Lt("close",e);break;case"iframe":case"object":case"embed":Lt("load",e);break;case"video":case"audio":for(i=0;i<Vl.length;i++)Lt(Vl[i],e);break;case"source":Lt("error",e);break;case"img":case"image":case"link":Lt("error",e),Lt("load",e);break;case"details":Lt("toggle",e);break;case"input":Lt("invalid",e),ha(e,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Yi(e);break;case"select":Lt("invalid",e);break;case"textarea":Lt("invalid",e),da(e,l.value,l.defaultValue,l.children),Yi(e)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||l.suppressHydrationWarning===!0||gp(e.textContent,i)?(l.popover!=null&&(Lt("beforetoggle",e),Lt("toggle",e)),l.onScroll!=null&&Lt("scroll",e),l.onScrollEnd!=null&&Lt("scrollend",e),l.onClick!=null&&(e.onclick=vu),e=!0):e=!1,e||Ma(t)}function Wd(t){for(pn=t.return;pn;)switch(pn.tag){case 5:case 13:Vi=!1;return;case 27:case 3:Vi=!0;return;default:pn=pn.return}}function ol(t){if(t!==pn)return!1;if(!Yt)return Wd(t),Yt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Wf(t.type,t.memoizedProps)),i=!i),i&&Te&&Ma(t),Wd(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(e===0){Te=pi(t.nextSibling);break t}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++;t=t.nextSibling}Te=null}}else e===27?(e=Te,Gs(t.type)?(t=ih,ih=null,Te=t):Te=e):Te=pn?pi(t.stateNode.nextSibling):null;return!0}function ul(){Te=pn=null,Yt=!1}function tm(){var t=xa;return t!==null&&(An===null?An=t:An.push.apply(An,t),xa=null),t}function cl(t){xa===null?xa=[t]:xa.push(t)}var jc=Z(null),Ia=null,ss=null;function Cs(t,e,i){nt(jc,e._currentValue),e._currentValue=i}function as(t){t._currentValue=jc.current,ut(jc)}function zc(t,e,i){for(;t!==null;){var l=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,l!==null&&(l.childLanes|=e)):l!==null&&(l.childLanes&e)!==e&&(l.childLanes|=e),t===i)break;t=t.return}}function Pc(t,e,i,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var _=c.child;h=h.firstContext;t:for(;h!==null;){var T=h;h=c;for(var I=0;I<e.length;I++)if(T.context===e[I]){h.lanes|=i,T=h.alternate,T!==null&&(T.lanes|=i),zc(h.return,i,t),l||(_=null);break t}h=T.next}}else if(c.tag===18){if(_=c.return,_===null)throw Error(r(341));_.lanes|=i,h=_.alternate,h!==null&&(h.lanes|=i),zc(_,i,t),_=null}else _=c.child;if(_!==null)_.return=c;else for(_=c;_!==null;){if(_===t){_=null;break}if(c=_.sibling,c!==null){c.return=_.return,_=c;break}_=_.return}c=_}}function fl(t,e,i,l){t=null;for(var c=e,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var _=c.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=c.type;Pn(c.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(c===ee.current){if(_=c.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(kl):t=[kl])}c=c.return}t!==null&&Pc(e,t,i,l),e.flags|=262144}function ko(t){for(t=t.firstContext;t!==null;){if(!Pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ca(t){Ia=t,ss=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function on(t){return em(Ia,t)}function Bo(t,e){return Ia===null&&Ca(t),em(t,e)}function em(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},ss===null){if(t===null)throw Error(r(308));ss=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ss=ss.next=e;return i}var Ev=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,l){t.push(l)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},Sv=a.unstable_scheduleCallback,bv=a.unstable_NormalPriority,ke={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kc(){return{controller:new Ev,data:new Map,refCount:0}}function hl(t){t.refCount--,t.refCount===0&&Sv(bv,function(){t.controller.abort()})}var dl=null,Bc=0,pr=0,yr=null;function Av(t,e){if(dl===null){var i=dl=[];Bc=0,pr=Xf(),yr={status:"pending",value:void 0,then:function(l){i.push(l)}}}return Bc++,e.then(nm,nm),e}function nm(){if(--Bc===0&&dl!==null){yr!==null&&(yr.status="fulfilled");var t=dl;dl=null,pr=0,yr=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Rv(t,e){var i=[],l={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return t.then(function(){l.status="fulfilled",l.value=e;for(var c=0;c<i.length;c++)(0,i[c])(e)},function(c){for(l.status="rejected",l.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),l}var im=Y.S;Y.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&Av(t,e),im!==null&&im(t,e)};var Na=Z(null);function qc(){var t=Na.current;return t!==null?t:re.pooledCache}function qo(t,e){e===null?nt(Na,Na.current):nt(Na,e.pool)}function sm(){var t=qc();return t===null?null:{parent:ke._currentValue,pool:t}}var ml=Error(r(460)),am=Error(r(474)),Ho=Error(r(542)),Hc={then:function(){}};function rm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xo(){}function lm(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(Xo,Xo),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,um(t),t;default:if(typeof e.status=="string")e.then(Xo,Xo);else{if(t=re,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=e,t.status="pending",t.then(function(l){if(e.status==="pending"){var c=e;c.status="fulfilled",c.value=l}},function(l){if(e.status==="pending"){var c=e;c.status="rejected",c.reason=l}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,um(t),t}throw gl=e,ml}}var gl=null;function om(){if(gl===null)throw Error(r(459));var t=gl;return gl=null,t}function um(t){if(t===ml||t===Ho)throw Error(r(483))}var Ns=!1;function Xc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ds(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Os(t,e,i){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var c=l.pending;return c===null?e.next=e:(e.next=c.next,c.next=e),l.pending=e,e=Uo(t),Kd(t,null,i),e}return Lo(t,l,e,i),Uo(t)}function pl(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var l=e.lanes;l&=t.pendingLanes,i|=l,e.lanes=i,ca(t,i)}}function Yc(t,e){var i=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var c=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var _={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?c=h=_:h=h.next=_,i=i.next}while(i!==null);h===null?c=h=e:h=h.next=e}else c=h=e;i={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var Fc=!1;function yl(){if(Fc){var t=yr;if(t!==null)throw t}}function _l(t,e,i,l){Fc=!1;var c=t.updateQueue;Ns=!1;var h=c.firstBaseUpdate,_=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var I=T,H=I.next;I.next=null,_===null?h=H:_.next=H,_=I;var J=t.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==_&&(T===null?J.firstBaseUpdate=H:T.next=H,J.lastBaseUpdate=I))}if(h!==null){var tt=c.baseState;_=0,J=H=I=null,T=h;do{var X=T.lane&-536870913,G=X!==T.lane;if(G?(kt&X)===X:(l&X)===X){X!==0&&X===pr&&(Fc=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var wt=t,At=T;X=e;var te=i;switch(At.tag){case 1:if(wt=At.payload,typeof wt=="function"){tt=wt.call(te,tt,X);break t}tt=wt;break t;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=At.payload,X=typeof wt=="function"?wt.call(te,tt,X):wt,X==null)break t;tt=A({},tt,X);break t;case 2:Ns=!0}}X=T.callback,X!==null&&(t.flags|=64,G&&(t.flags|=8192),G=c.callbacks,G===null?c.callbacks=[X]:G.push(X))}else G={lane:X,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(H=J=G,I=tt):J=J.next=G,_|=X;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;G=T,T=G.next,G.next=null,c.lastBaseUpdate=G,c.shared.pending=null}}while(!0);J===null&&(I=tt),c.baseState=I,c.firstBaseUpdate=H,c.lastBaseUpdate=J,h===null&&(c.shared.lanes=0),Bs|=_,t.lanes=_,t.memoizedState=tt}}function cm(t,e){if(typeof t!="function")throw Error(r(191,t));t.call(e)}function fm(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)cm(i[t],e)}var _r=Z(null),Go=Z(0);function hm(t,e){t=hs,nt(Go,t),nt(_r,e),hs=t|e.baseLanes}function Qc(){nt(Go,hs),nt(_r,_r.current)}function Kc(){hs=Go.current,ut(_r),ut(Go)}var Vs=0,Nt=null,Jt=null,Ne=null,Yo=!1,vr=!1,Da=!1,Fo=0,vl=0,Tr=null,wv=0;function Ae(){throw Error(r(321))}function $c(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Pn(t[i],e[i]))return!1;return!0}function Zc(t,e,i,l,c,h){return Vs=h,Nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Y.H=t===null||t.memoizedState===null?Km:$m,Da=!1,h=i(l,c),Da=!1,vr&&(h=mm(e,i,l,c)),dm(t),h}function dm(t){Y.H=Wo;var e=Jt!==null&&Jt.next!==null;if(Vs=0,Ne=Jt=Nt=null,Yo=!1,vl=0,Tr=null,e)throw Error(r(300));t===null||Xe||(t=t.dependencies,t!==null&&ko(t)&&(Xe=!0))}function mm(t,e,i,l){Nt=t;var c=0;do{if(vr&&(Tr=null),vl=0,vr=!1,25<=c)throw Error(r(301));if(c+=1,Ne=Jt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}Y.H=Ov,h=e(i,l)}while(vr);return h}function xv(){var t=Y.H,e=t.useState()[0];return e=typeof e.then=="function"?Tl(e):e,t=t.useState()[0],(Jt!==null?Jt.memoizedState:null)!==t&&(Nt.flags|=1024),e}function Jc(){var t=Fo!==0;return Fo=0,t}function Wc(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function tf(t){if(Yo){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Yo=!1}Vs=0,Ne=Jt=Nt=null,vr=!1,vl=Fo=0,Tr=null}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?Nt.memoizedState=Ne=t:Ne=Ne.next=t,Ne}function De(){if(Jt===null){var t=Nt.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var e=Ne===null?Nt.memoizedState:Ne.next;if(e!==null)Ne=e,Jt=t;else{if(t===null)throw Nt.alternate===null?Error(r(467)):Error(r(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ne===null?Nt.memoizedState=Ne=t:Ne=Ne.next=t}return Ne}function ef(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(t){var e=vl;return vl+=1,Tr===null&&(Tr=[]),t=lm(Tr,t,e),e=Nt,(Ne===null?e.memoizedState:Ne.next)===null&&(e=e.alternate,Y.H=e===null||e.memoizedState===null?Km:$m),t}function Qo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Tl(t);if(t.$$typeof===$)return on(t)}throw Error(r(438,String(t)))}function nf(t){var e=null,i=Nt.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(e={data:l.data.map(function(c){return c.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=ef(),Nt.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),l=0;l<t;l++)i[l]=D;return e.index++,i}function rs(t,e){return typeof e=="function"?e(t):e}function Ko(t){var e=De();return sf(e,Jt,t)}function sf(t,e,i){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var _=c.next;c.next=h.next,h.next=_}e.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{e=c.next;var T=_=null,I=null,H=e,J=!1;do{var tt=H.lane&-536870913;if(tt!==H.lane?(kt&tt)===tt:(Vs&tt)===tt){var X=H.revertLane;if(X===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),tt===pr&&(J=!0);else if((Vs&X)===X){H=H.next,X===pr&&(J=!0);continue}else tt={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=tt,_=h):I=I.next=tt,Nt.lanes|=X,Bs|=X;tt=H.action,Da&&i(h,tt),h=H.hasEagerState?H.eagerState:i(h,tt)}else X={lane:tt,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=X,_=h):I=I.next=X,Nt.lanes|=tt,Bs|=tt;H=H.next}while(H!==null&&H!==e);if(I===null?_=h:I.next=T,!Pn(h,t.memoizedState)&&(Xe=!0,J&&(i=yr,i!==null)))throw i;t.memoizedState=h,t.baseState=_,t.baseQueue=I,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function af(t){var e=De(),i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=t;var l=i.dispatch,c=i.pending,h=e.memoizedState;if(c!==null){i.pending=null;var _=c=c.next;do h=t(h,_.action),_=_.next;while(_!==c);Pn(h,e.memoizedState)||(Xe=!0),e.memoizedState=h,e.baseQueue===null&&(e.baseState=h),i.lastRenderedState=h}return[h,l]}function gm(t,e,i){var l=Nt,c=De(),h=Yt;if(h){if(i===void 0)throw Error(r(407));i=i()}else i=e();var _=!Pn((Jt||c).memoizedState,i);_&&(c.memoizedState=i,Xe=!0),c=c.queue;var T=_m.bind(null,l,c,t);if(El(2048,8,T,[t]),c.getSnapshot!==e||_||Ne!==null&&Ne.memoizedState.tag&1){if(l.flags|=2048,Er(9,$o(),ym.bind(null,l,c,i,e),null),re===null)throw Error(r(349));h||(Vs&124)!==0||pm(l,e,i)}return i}function pm(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=Nt.updateQueue,e===null?(e=ef(),Nt.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function ym(t,e,i,l){e.value=i,e.getSnapshot=l,vm(e)&&Tm(t)}function _m(t,e,i){return i(function(){vm(e)&&Tm(t)})}function vm(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!Pn(t,i)}catch{return!0}}function Tm(t){var e=hr(t,2);e!==null&&Gn(e,t,2)}function rf(t){var e=Sn();if(typeof t=="function"){var i=t;if(t=i(),Da){Ue(!0);try{i()}finally{Ue(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:t},e}function Em(t,e,i,l){return t.baseState=i,sf(t,Jt,typeof l=="function"?l:rs)}function Mv(t,e,i,l,c){if(Jo(t))throw Error(r(485));if(t=e.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){h.listeners.push(_)}};Y.T!==null?i(!0):h.isTransition=!1,l(h),i=e.pending,i===null?(h.next=e.pending=h,Sm(e,h)):(h.next=i.next,e.pending=i.next=h)}}function Sm(t,e){var i=e.action,l=e.payload,c=t.state;if(e.isTransition){var h=Y.T,_={};Y.T=_;try{var T=i(c,l),I=Y.S;I!==null&&I(_,T),bm(t,e,T)}catch(H){lf(t,e,H)}finally{Y.T=h}}else try{h=i(c,l),bm(t,e,h)}catch(H){lf(t,e,H)}}function bm(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){Am(t,e,l)},function(l){return lf(t,e,l)}):Am(t,e,i)}function Am(t,e,i){e.status="fulfilled",e.value=i,Rm(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,Sm(t,i)))}function lf(t,e,i){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do e.status="rejected",e.reason=i,Rm(e),e=e.next;while(e!==l)}t.action=null}function Rm(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function wm(t,e){return e}function xm(t,e){if(Yt){var i=re.formState;if(i!==null){t:{var l=Nt;if(Yt){if(Te){e:{for(var c=Te,h=Vi;c.nodeType!==8;){if(!h){c=null;break e}if(c=pi(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Te=pi(c.nextSibling),l=c.data==="F!";break t}}Ma(l)}l=!1}l&&(e=i[0])}}return i=Sn(),i.memoizedState=i.baseState=e,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wm,lastRenderedState:e},i.queue=l,i=Ym.bind(null,Nt,l),l.dispatch=i,l=rf(!1),h=hf.bind(null,Nt,!1,l.queue),l=Sn(),c={state:e,dispatch:null,action:t,pending:null},l.queue=c,i=Mv.bind(null,Nt,c,h,i),c.dispatch=i,l.memoizedState=t,[e,i,!1]}function Mm(t){var e=De();return Im(e,Jt,t)}function Im(t,e,i){if(e=sf(t,e,wm)[0],t=Ko(rs)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var l=Tl(e)}catch(_){throw _===ml?Ho:_}else l=e;e=De();var c=e.queue,h=c.dispatch;return i!==e.memoizedState&&(Nt.flags|=2048,Er(9,$o(),Iv.bind(null,c,i),null)),[l,h,t]}function Iv(t,e){t.action=e}function Cm(t){var e=De(),i=Jt;if(i!==null)return Im(e,i,t);De(),e=e.memoizedState,i=De();var l=i.queue.dispatch;return i.memoizedState=t,[e,l,!1]}function Er(t,e,i,l){return t={tag:t,create:i,deps:l,inst:e,next:null},e=Nt.updateQueue,e===null&&(e=ef(),Nt.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(l=i.next,i.next=t,t.next=l,e.lastEffect=t),t}function $o(){return{destroy:void 0,resource:void 0}}function Nm(){return De().memoizedState}function Zo(t,e,i,l){var c=Sn();l=l===void 0?null:l,Nt.flags|=t,c.memoizedState=Er(1|e,$o(),i,l)}function El(t,e,i,l){var c=De();l=l===void 0?null:l;var h=c.memoizedState.inst;Jt!==null&&l!==null&&$c(l,Jt.memoizedState.deps)?c.memoizedState=Er(e,h,i,l):(Nt.flags|=t,c.memoizedState=Er(1|e,h,i,l))}function Dm(t,e){Zo(8390656,8,t,e)}function Om(t,e){El(2048,8,t,e)}function Vm(t,e){return El(4,2,t,e)}function Lm(t,e){return El(4,4,t,e)}function Um(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jm(t,e,i){i=i!=null?i.concat([t]):null,El(4,4,Um.bind(null,e,t),i)}function of(){}function zm(t,e){var i=De();e=e===void 0?null:e;var l=i.memoizedState;return e!==null&&$c(e,l[1])?l[0]:(i.memoizedState=[t,e],t)}function Pm(t,e){var i=De();e=e===void 0?null:e;var l=i.memoizedState;if(e!==null&&$c(e,l[1]))return l[0];if(l=t(),Da){Ue(!0);try{t()}finally{Ue(!1)}}return i.memoizedState=[l,e],l}function uf(t,e,i){return i===void 0||(Vs&1073741824)!==0?t.memoizedState=e:(t.memoizedState=i,t=qg(),Nt.lanes|=t,Bs|=t,i)}function km(t,e,i,l){return Pn(i,e)?i:_r.current!==null?(t=uf(t,i,l),Pn(t,e)||(Xe=!0),t):(Vs&42)===0?(Xe=!0,t.memoizedState=i):(t=qg(),Nt.lanes|=t,Bs|=t,e)}function Bm(t,e,i,l,c){var h=st.p;st.p=h!==0&&8>h?h:8;var _=Y.T,T={};Y.T=T,hf(t,!1,e,i);try{var I=c(),H=Y.S;if(H!==null&&H(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var J=Rv(I,l);Sl(t,e,J,Xn(t))}else Sl(t,e,l,Xn(t))}catch(tt){Sl(t,e,{then:function(){},status:"rejected",reason:tt},Xn())}finally{st.p=h,Y.T=_}}function Cv(){}function cf(t,e,i,l){if(t.tag!==5)throw Error(r(476));var c=qm(t).queue;Bm(t,c,e,ot,i===null?Cv:function(){return Hm(t),i(l)})}function qm(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:ot},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Hm(t){var e=qm(t).next.queue;Sl(t,e,{},Xn())}function ff(){return on(kl)}function Xm(){return De().memoizedState}function Gm(){return De().memoizedState}function Nv(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=Xn();t=Ds(i);var l=Os(e,t,i);l!==null&&(Gn(l,e,i),pl(l,e,i)),e={cache:kc()},t.payload=e;return}e=e.return}}function Dv(t,e,i){var l=Xn();i={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Jo(t)?Fm(e,i):(i=Cc(t,e,i,l),i!==null&&(Gn(i,t,l),Qm(i,e,l)))}function Ym(t,e,i){var l=Xn();Sl(t,e,i,l)}function Sl(t,e,i,l){var c={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Jo(t))Fm(e,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=e.lastRenderedReducer,h!==null))try{var _=e.lastRenderedState,T=h(_,i);if(c.hasEagerState=!0,c.eagerState=T,Pn(T,_))return Lo(t,e,c,0),re===null&&Vo(),!1}catch{}finally{}if(i=Cc(t,e,c,l),i!==null)return Gn(i,t,l),Qm(i,e,l),!0}return!1}function hf(t,e,i,l){if(l={lane:2,revertLane:Xf(),action:l,hasEagerState:!1,eagerState:null,next:null},Jo(t)){if(e)throw Error(r(479))}else e=Cc(t,i,l,2),e!==null&&Gn(e,t,2)}function Jo(t){var e=t.alternate;return t===Nt||e!==null&&e===Nt}function Fm(t,e){vr=Yo=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Qm(t,e,i){if((i&4194048)!==0){var l=e.lanes;l&=t.pendingLanes,i|=l,e.lanes=i,ca(t,i)}}var Wo={readContext:on,use:Qo,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useLayoutEffect:Ae,useInsertionEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useSyncExternalStore:Ae,useId:Ae,useHostTransitionStatus:Ae,useFormState:Ae,useActionState:Ae,useOptimistic:Ae,useMemoCache:Ae,useCacheRefresh:Ae},Km={readContext:on,use:Qo,useCallback:function(t,e){return Sn().memoizedState=[t,e===void 0?null:e],t},useContext:on,useEffect:Dm,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,Zo(4194308,4,Um.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Zo(4194308,4,t,e)},useInsertionEffect:function(t,e){Zo(4,2,t,e)},useMemo:function(t,e){var i=Sn();e=e===void 0?null:e;var l=t();if(Da){Ue(!0);try{t()}finally{Ue(!1)}}return i.memoizedState=[l,e],l},useReducer:function(t,e,i){var l=Sn();if(i!==void 0){var c=i(e);if(Da){Ue(!0);try{i(e)}finally{Ue(!1)}}}else c=e;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=Dv.bind(null,Nt,t),[l.memoizedState,t]},useRef:function(t){var e=Sn();return t={current:t},e.memoizedState=t},useState:function(t){t=rf(t);var e=t.queue,i=Ym.bind(null,Nt,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:of,useDeferredValue:function(t,e){var i=Sn();return uf(i,t,e)},useTransition:function(){var t=rf(!1);return t=Bm.bind(null,Nt,t.queue,!0,!1),Sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var l=Nt,c=Sn();if(Yt){if(i===void 0)throw Error(r(407));i=i()}else{if(i=e(),re===null)throw Error(r(349));(kt&124)!==0||pm(l,e,i)}c.memoizedState=i;var h={value:i,getSnapshot:e};return c.queue=h,Dm(_m.bind(null,l,h,t),[t]),l.flags|=2048,Er(9,$o(),ym.bind(null,l,h,i,e),null),i},useId:function(){var t=Sn(),e=re.identifierPrefix;if(Yt){var i=is,l=ns;i=(l&~(1<<32-Me(l)-1)).toString(32)+i,e=""+e+"R"+i,i=Fo++,0<i&&(e+="H"+i.toString(32)),e+=""}else i=wv++,e=""+e+"r"+i.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:ff,useFormState:xm,useActionState:xm,useOptimistic:function(t){var e=Sn();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=hf.bind(null,Nt,!0,i),i.dispatch=e,[t,e]},useMemoCache:nf,useCacheRefresh:function(){return Sn().memoizedState=Nv.bind(null,Nt)}},$m={readContext:on,use:Qo,useCallback:zm,useContext:on,useEffect:Om,useImperativeHandle:jm,useInsertionEffect:Vm,useLayoutEffect:Lm,useMemo:Pm,useReducer:Ko,useRef:Nm,useState:function(){return Ko(rs)},useDebugValue:of,useDeferredValue:function(t,e){var i=De();return km(i,Jt.memoizedState,t,e)},useTransition:function(){var t=Ko(rs)[0],e=De().memoizedState;return[typeof t=="boolean"?t:Tl(t),e]},useSyncExternalStore:gm,useId:Xm,useHostTransitionStatus:ff,useFormState:Mm,useActionState:Mm,useOptimistic:function(t,e){var i=De();return Em(i,Jt,t,e)},useMemoCache:nf,useCacheRefresh:Gm},Ov={readContext:on,use:Qo,useCallback:zm,useContext:on,useEffect:Om,useImperativeHandle:jm,useInsertionEffect:Vm,useLayoutEffect:Lm,useMemo:Pm,useReducer:af,useRef:Nm,useState:function(){return af(rs)},useDebugValue:of,useDeferredValue:function(t,e){var i=De();return Jt===null?uf(i,t,e):km(i,Jt.memoizedState,t,e)},useTransition:function(){var t=af(rs)[0],e=De().memoizedState;return[typeof t=="boolean"?t:Tl(t),e]},useSyncExternalStore:gm,useId:Xm,useHostTransitionStatus:ff,useFormState:Cm,useActionState:Cm,useOptimistic:function(t,e){var i=De();return Jt!==null?Em(i,Jt,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:nf,useCacheRefresh:Gm},Sr=null,bl=0;function tu(t){var e=bl;return bl+=1,Sr===null&&(Sr=[]),lm(Sr,t,e)}function Al(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function eu(t,e){throw e.$$typeof===w?Error(r(525)):(t=Object.prototype.toString.call(e),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Zm(t){var e=t._init;return e(t._payload)}function Jm(t){function e(k,U){if(t){var q=k.deletions;q===null?(k.deletions=[U],k.flags|=16):q.push(U)}}function i(k,U){if(!t)return null;for(;U!==null;)e(k,U),U=U.sibling;return null}function l(k){for(var U=new Map;k!==null;)k.key!==null?U.set(k.key,k):U.set(k.index,k),k=k.sibling;return U}function c(k,U){return k=es(k,U),k.index=0,k.sibling=null,k}function h(k,U,q){return k.index=q,t?(q=k.alternate,q!==null?(q=q.index,q<U?(k.flags|=67108866,U):q):(k.flags|=67108866,U)):(k.flags|=1048576,U)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,U,q,W){return U===null||U.tag!==6?(U=Dc(q,k.mode,W),U.return=k,U):(U=c(U,q),U.return=k,U)}function I(k,U,q,W){var pt=q.type;return pt===j?J(k,U,q.props.children,W,q.key):U!==null&&(U.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===b&&Zm(pt)===U.type)?(U=c(U,q.props),Al(U,q),U.return=k,U):(U=jo(q.type,q.key,q.props,null,k.mode,W),Al(U,q),U.return=k,U)}function H(k,U,q,W){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=Oc(q,k.mode,W),U.return=k,U):(U=c(U,q.children||[]),U.return=k,U)}function J(k,U,q,W,pt){return U===null||U.tag!==7?(U=Aa(q,k.mode,W,pt),U.return=k,U):(U=c(U,q),U.return=k,U)}function tt(k,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Dc(""+U,k.mode,q),U.return=k,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case E:return q=jo(U.type,U.key,U.props,null,k.mode,q),Al(q,U),q.return=k,q;case R:return U=Oc(U,k.mode,q),U.return=k,U;case b:var W=U._init;return U=W(U._payload),tt(k,U,q)}if(dt(U)||L(U))return U=Aa(U,k.mode,q,null),U.return=k,U;if(typeof U.then=="function")return tt(k,tu(U),q);if(U.$$typeof===$)return tt(k,Bo(k,U),q);eu(k,U)}return null}function X(k,U,q,W){var pt=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return pt!==null?null:T(k,U,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case E:return q.key===pt?I(k,U,q,W):null;case R:return q.key===pt?H(k,U,q,W):null;case b:return pt=q._init,q=pt(q._payload),X(k,U,q,W)}if(dt(q)||L(q))return pt!==null?null:J(k,U,q,W,null);if(typeof q.then=="function")return X(k,U,tu(q),W);if(q.$$typeof===$)return X(k,U,Bo(k,q),W);eu(k,q)}return null}function G(k,U,q,W,pt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return k=k.get(q)||null,T(U,k,""+W,pt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case E:return k=k.get(W.key===null?q:W.key)||null,I(U,k,W,pt);case R:return k=k.get(W.key===null?q:W.key)||null,H(U,k,W,pt);case b:var Ot=W._init;return W=Ot(W._payload),G(k,U,q,W,pt)}if(dt(W)||L(W))return k=k.get(q)||null,J(U,k,W,pt,null);if(typeof W.then=="function")return G(k,U,q,tu(W),pt);if(W.$$typeof===$)return G(k,U,q,Bo(U,W),pt);eu(U,W)}return null}function wt(k,U,q,W){for(var pt=null,Ot=null,Et=U,Rt=U=0,Ye=null;Et!==null&&Rt<q.length;Rt++){Et.index>Rt?(Ye=Et,Et=null):Ye=Et.sibling;var Xt=X(k,Et,q[Rt],W);if(Xt===null){Et===null&&(Et=Ye);break}t&&Et&&Xt.alternate===null&&e(k,Et),U=h(Xt,U,Rt),Ot===null?pt=Xt:Ot.sibling=Xt,Ot=Xt,Et=Ye}if(Rt===q.length)return i(k,Et),Yt&&wa(k,Rt),pt;if(Et===null){for(;Rt<q.length;Rt++)Et=tt(k,q[Rt],W),Et!==null&&(U=h(Et,U,Rt),Ot===null?pt=Et:Ot.sibling=Et,Ot=Et);return Yt&&wa(k,Rt),pt}for(Et=l(Et);Rt<q.length;Rt++)Ye=G(Et,k,Rt,q[Rt],W),Ye!==null&&(t&&Ye.alternate!==null&&Et.delete(Ye.key===null?Rt:Ye.key),U=h(Ye,U,Rt),Ot===null?pt=Ye:Ot.sibling=Ye,Ot=Ye);return t&&Et.forEach(function($s){return e(k,$s)}),Yt&&wa(k,Rt),pt}function At(k,U,q,W){if(q==null)throw Error(r(151));for(var pt=null,Ot=null,Et=U,Rt=U=0,Ye=null,Xt=q.next();Et!==null&&!Xt.done;Rt++,Xt=q.next()){Et.index>Rt?(Ye=Et,Et=null):Ye=Et.sibling;var $s=X(k,Et,Xt.value,W);if($s===null){Et===null&&(Et=Ye);break}t&&Et&&$s.alternate===null&&e(k,Et),U=h($s,U,Rt),Ot===null?pt=$s:Ot.sibling=$s,Ot=$s,Et=Ye}if(Xt.done)return i(k,Et),Yt&&wa(k,Rt),pt;if(Et===null){for(;!Xt.done;Rt++,Xt=q.next())Xt=tt(k,Xt.value,W),Xt!==null&&(U=h(Xt,U,Rt),Ot===null?pt=Xt:Ot.sibling=Xt,Ot=Xt);return Yt&&wa(k,Rt),pt}for(Et=l(Et);!Xt.done;Rt++,Xt=q.next())Xt=G(Et,k,Rt,Xt.value,W),Xt!==null&&(t&&Xt.alternate!==null&&Et.delete(Xt.key===null?Rt:Xt.key),U=h(Xt,U,Rt),Ot===null?pt=Xt:Ot.sibling=Xt,Ot=Xt);return t&&Et.forEach(function(V1){return e(k,V1)}),Yt&&wa(k,Rt),pt}function te(k,U,q,W){if(typeof q=="object"&&q!==null&&q.type===j&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case E:t:{for(var pt=q.key;U!==null;){if(U.key===pt){if(pt=q.type,pt===j){if(U.tag===7){i(k,U.sibling),W=c(U,q.props.children),W.return=k,k=W;break t}}else if(U.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===b&&Zm(pt)===U.type){i(k,U.sibling),W=c(U,q.props),Al(W,q),W.return=k,k=W;break t}i(k,U);break}else e(k,U);U=U.sibling}q.type===j?(W=Aa(q.props.children,k.mode,W,q.key),W.return=k,k=W):(W=jo(q.type,q.key,q.props,null,k.mode,W),Al(W,q),W.return=k,k=W)}return _(k);case R:t:{for(pt=q.key;U!==null;){if(U.key===pt)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){i(k,U.sibling),W=c(U,q.children||[]),W.return=k,k=W;break t}else{i(k,U);break}else e(k,U);U=U.sibling}W=Oc(q,k.mode,W),W.return=k,k=W}return _(k);case b:return pt=q._init,q=pt(q._payload),te(k,U,q,W)}if(dt(q))return wt(k,U,q,W);if(L(q)){if(pt=L(q),typeof pt!="function")throw Error(r(150));return q=pt.call(q),At(k,U,q,W)}if(typeof q.then=="function")return te(k,U,tu(q),W);if(q.$$typeof===$)return te(k,U,Bo(k,q),W);eu(k,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(i(k,U.sibling),W=c(U,q),W.return=k,k=W):(i(k,U),W=Dc(q,k.mode,W),W.return=k,k=W),_(k)):i(k,U)}return function(k,U,q,W){try{bl=0;var pt=te(k,U,q,W);return Sr=null,pt}catch(Et){if(Et===ml||Et===Ho)throw Et;var Ot=kn(29,Et,null,k.mode);return Ot.lanes=W,Ot.return=k,Ot}finally{}}}var br=Jm(!0),Wm=Jm(!1),li=Z(null),Li=null;function Ls(t){var e=t.alternate;nt(Be,Be.current&1),nt(li,t),Li===null&&(e===null||_r.current!==null||e.memoizedState!==null)&&(Li=t)}function tg(t){if(t.tag===22){if(nt(Be,Be.current),nt(li,t),Li===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Li=t)}}else Us()}function Us(){nt(Be,Be.current),nt(li,li.current)}function ls(t){ut(li),Li===t&&(Li=null),ut(Be)}var Be=Z(0);function nu(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||nh(i)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function df(t,e,i,l){e=t.memoizedState,i=i(l,e),i=i==null?e:A({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var mf={enqueueSetState:function(t,e,i){t=t._reactInternals;var l=Xn(),c=Ds(l);c.payload=e,i!=null&&(c.callback=i),e=Os(t,c,l),e!==null&&(Gn(e,t,l),pl(e,t,l))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var l=Xn(),c=Ds(l);c.tag=1,c.payload=e,i!=null&&(c.callback=i),e=Os(t,c,l),e!==null&&(Gn(e,t,l),pl(e,t,l))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=Xn(),l=Ds(i);l.tag=2,e!=null&&(l.callback=e),e=Os(t,l,i),e!==null&&(Gn(e,t,i),pl(e,t,i))}};function eg(t,e,i,l,c,h,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,_):e.prototype&&e.prototype.isPureReactComponent?!rl(i,l)||!rl(c,h):!0}function ng(t,e,i,l){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,l),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,l),e.state!==t&&mf.enqueueReplaceState(e,e.state,null)}function Oa(t,e){var i=e;if("ref"in e){i={};for(var l in e)l!=="ref"&&(i[l]=e[l])}if(t=t.defaultProps){i===e&&(i=A({},i));for(var c in t)i[c]===void 0&&(i[c]=t[c])}return i}var iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ig(t){iu(t)}function sg(t){console.error(t)}function ag(t){iu(t)}function su(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(l){setTimeout(function(){throw l})}}function rg(t,e,i){try{var l=t.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function gf(t,e,i){return i=Ds(i),i.tag=3,i.payload={element:null},i.callback=function(){su(t,e)},i}function lg(t){return t=Ds(t),t.tag=3,t}function og(t,e,i,l){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){rg(e,i,l)}}var _=i.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){rg(e,i,l),typeof c!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Vv(t,e,i,l,c){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(e=i.alternate,e!==null&&fl(e,i,c,!0),i=li.current,i!==null){switch(i.tag){case 13:return Li===null?Pf():i.alternate===null&&Ee===0&&(Ee=3),i.flags&=-257,i.flags|=65536,i.lanes=c,l===Hc?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([l]):e.add(l),Bf(t,l,c)),!1;case 22:return i.flags|=65536,l===Hc?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([l]):i.add(l)),Bf(t,l,c)),!1}throw Error(r(435,i.tag))}return Bf(t,l,c),Pf(),!1}if(Yt)return e=li.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=c,l!==Uc&&(t=Error(r(422),{cause:l}),cl(ii(t,i)))):(l!==Uc&&(e=Error(r(423),{cause:l}),cl(ii(e,i))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=ii(l,i),c=gf(t.stateNode,l,c),Yc(t,c),Ee!==4&&(Ee=2)),!1;var h=Error(r(520),{cause:l});if(h=ii(h,i),Nl===null?Nl=[h]:Nl.push(h),Ee!==4&&(Ee=2),e===null)return!0;l=ii(l,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=c&-c,i.lanes|=t,t=gf(i.stateNode,l,t),Yc(i,t),!1;case 1:if(e=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(qs===null||!qs.has(h))))return i.flags|=65536,c&=-c,i.lanes|=c,c=lg(c),og(c,t,i,l),Yc(i,c),!1}i=i.return}while(i!==null);return!1}var ug=Error(r(461)),Xe=!1;function We(t,e,i,l){e.child=t===null?Wm(e,null,i,l):br(e,t.child,i,l)}function cg(t,e,i,l,c){i=i.render;var h=e.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Ca(e),l=Zc(t,e,i,_,h,c),T=Jc(),t!==null&&!Xe?(Wc(t,e,c),os(t,e,c)):(Yt&&T&&Vc(e),e.flags|=1,We(t,e,l,c),e.child)}function fg(t,e,i,l,c){if(t===null){var h=i.type;return typeof h=="function"&&!Nc(h)&&h.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=h,hg(t,e,h,l,c)):(t=jo(i.type,null,l,e,e.mode,c),t.ref=e.ref,t.return=e,e.child=t)}if(h=t.child,!bf(t,c)){var _=h.memoizedProps;if(i=i.compare,i=i!==null?i:rl,i(_,l)&&t.ref===e.ref)return os(t,e,c)}return e.flags|=1,t=es(h,l),t.ref=e.ref,t.return=e,e.child=t}function hg(t,e,i,l,c){if(t!==null){var h=t.memoizedProps;if(rl(h,l)&&t.ref===e.ref)if(Xe=!1,e.pendingProps=l=h,bf(t,c))(t.flags&131072)!==0&&(Xe=!0);else return e.lanes=t.lanes,os(t,e,c)}return pf(t,e,i,l,c)}function dg(t,e,i){var l=e.pendingProps,c=l.children,h=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((e.flags&128)!==0){if(l=h!==null?h.baseLanes|i:i,t!==null){for(c=e.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;e.childLanes=h&~l}else e.childLanes=0,e.child=null;return mg(t,e,l,i)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&qo(e,h!==null?h.cachePool:null),h!==null?hm(e,h):Qc(),tg(e);else return e.lanes=e.childLanes=536870912,mg(t,e,h!==null?h.baseLanes|i:i,i)}else h!==null?(qo(e,h.cachePool),hm(e,h),Us(),e.memoizedState=null):(t!==null&&qo(e,null),Qc(),Us());return We(t,e,c,i),e.child}function mg(t,e,i,l){var c=qc();return c=c===null?null:{parent:ke._currentValue,pool:c},e.memoizedState={baseLanes:i,cachePool:c},t!==null&&qo(e,null),Qc(),tg(e),t!==null&&fl(t,e,l,!0),null}function au(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function pf(t,e,i,l,c){return Ca(e),i=Zc(t,e,i,l,void 0,c),l=Jc(),t!==null&&!Xe?(Wc(t,e,c),os(t,e,c)):(Yt&&l&&Vc(e),e.flags|=1,We(t,e,i,c),e.child)}function gg(t,e,i,l,c,h){return Ca(e),e.updateQueue=null,i=mm(e,l,i,c),dm(t),l=Jc(),t!==null&&!Xe?(Wc(t,e,h),os(t,e,h)):(Yt&&l&&Vc(e),e.flags|=1,We(t,e,i,h),e.child)}function pg(t,e,i,l,c){if(Ca(e),e.stateNode===null){var h=dr,_=i.contextType;typeof _=="object"&&_!==null&&(h=on(_)),h=new i(l,h),e.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=mf,e.stateNode=h,h._reactInternals=e,h=e.stateNode,h.props=l,h.state=e.memoizedState,h.refs={},Xc(e),_=i.contextType,h.context=typeof _=="object"&&_!==null?on(_):dr,h.state=e.memoizedState,_=i.getDerivedStateFromProps,typeof _=="function"&&(df(e,i,_,l),h.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(_=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),_!==h.state&&mf.enqueueReplaceState(h,h.state,null),_l(e,l,h,c),yl(),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308),l=!0}else if(t===null){h=e.stateNode;var T=e.memoizedProps,I=Oa(i,T);h.props=I;var H=h.context,J=i.contextType;_=dr,typeof J=="object"&&J!==null&&(_=on(J));var tt=i.getDerivedStateFromProps;J=typeof tt=="function"||typeof h.getSnapshotBeforeUpdate=="function",T=e.pendingProps!==T,J||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T||H!==_)&&ng(e,h,l,_),Ns=!1;var X=e.memoizedState;h.state=X,_l(e,l,h,c),yl(),H=e.memoizedState,T||X!==H||Ns?(typeof tt=="function"&&(df(e,i,tt,l),H=e.memoizedState),(I=Ns||eg(e,i,I,l,X,H,_))?(J||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(e.flags|=4194308)):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=l,e.memoizedState=H),h.props=l,h.state=H,h.context=_,l=I):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),l=!1)}else{h=e.stateNode,Gc(t,e),_=e.memoizedProps,J=Oa(i,_),h.props=J,tt=e.pendingProps,X=h.context,H=i.contextType,I=dr,typeof H=="object"&&H!==null&&(I=on(H)),T=i.getDerivedStateFromProps,(H=typeof T=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==tt||X!==I)&&ng(e,h,l,I),Ns=!1,X=e.memoizedState,h.state=X,_l(e,l,h,c),yl();var G=e.memoizedState;_!==tt||X!==G||Ns||t!==null&&t.dependencies!==null&&ko(t.dependencies)?(typeof T=="function"&&(df(e,i,T,l),G=e.memoizedState),(J=Ns||eg(e,i,J,l,X,G,I)||t!==null&&t.dependencies!==null&&ko(t.dependencies))?(H||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,G,I),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,G,I)),typeof h.componentDidUpdate=="function"&&(e.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof h.componentDidUpdate!="function"||_===t.memoizedProps&&X===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&X===t.memoizedState||(e.flags|=1024),e.memoizedProps=l,e.memoizedState=G),h.props=l,h.state=G,h.context=I,l=J):(typeof h.componentDidUpdate!="function"||_===t.memoizedProps&&X===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&X===t.memoizedState||(e.flags|=1024),l=!1)}return h=l,au(t,e),l=(e.flags&128)!==0,h||l?(h=e.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:h.render(),e.flags|=1,t!==null&&l?(e.child=br(e,t.child,null,c),e.child=br(e,null,i,c)):We(t,e,i,c),e.memoizedState=h.state,t=e.child):t=os(t,e,c),t}function yg(t,e,i,l){return ul(),e.flags|=256,We(t,e,i,l),e.child}var yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _f(t){return{baseLanes:t,cachePool:sm()}}function vf(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=oi),t}function _g(t,e,i){var l=e.pendingProps,c=!1,h=(e.flags&128)!==0,_;if((_=h)||(_=t!==null&&t.memoizedState===null?!1:(Be.current&2)!==0),_&&(c=!0,e.flags&=-129),_=(e.flags&32)!==0,e.flags&=-33,t===null){if(Yt){if(c?Ls(e):Us(),Yt){var T=Te,I;if(I=T){t:{for(I=T,T=Vi;I.nodeType!==8;){if(!T){T=null;break t}if(I=pi(I.nextSibling),I===null){T=null;break t}}T=I}T!==null?(e.memoizedState={dehydrated:T,treeContext:Ra!==null?{id:ns,overflow:is}:null,retryLane:536870912,hydrationErrors:null},I=kn(18,null,null,0),I.stateNode=T,I.return=e,e.child=I,pn=e,Te=null,I=!0):I=!1}I||Ma(e)}if(T=e.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return nh(T)?e.lanes=32:e.lanes=536870912,null;ls(e)}return T=l.children,l=l.fallback,c?(Us(),c=e.mode,T=ru({mode:"hidden",children:T},c),l=Aa(l,c,i,null),T.return=e,l.return=e,T.sibling=l,e.child=T,c=e.child,c.memoizedState=_f(i),c.childLanes=vf(t,_,i),e.memoizedState=yf,l):(Ls(e),Tf(e,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(h)e.flags&256?(Ls(e),e.flags&=-257,e=Ef(t,e,i)):e.memoizedState!==null?(Us(),e.child=t.child,e.flags|=128,e=null):(Us(),c=l.fallback,T=e.mode,l=ru({mode:"visible",children:l.children},T),c=Aa(c,T,i,null),c.flags|=2,l.return=e,c.return=e,l.sibling=c,e.child=l,br(e,t.child,null,i),l=e.child,l.memoizedState=_f(i),l.childLanes=vf(t,_,i),e.memoizedState=yf,e=c);else if(Ls(e),nh(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(r(419)),l.stack="",l.digest=_,cl({value:l,source:null,stack:null}),e=Ef(t,e,i)}else if(Xe||fl(t,e,i,!1),_=(i&t.childLanes)!==0,Xe||_){if(_=re,_!==null&&(l=i&-i,l=(l&42)!==0?1:bi(l),l=(l&(_.suspendedLanes|i))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,hr(t,l),Gn(_,t,l),ug;T.data==="$?"||Pf(),e=Ef(t,e,i)}else T.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=I.treeContext,Te=pi(T.nextSibling),pn=e,Yt=!0,xa=null,Vi=!1,t!==null&&(ai[ri++]=ns,ai[ri++]=is,ai[ri++]=Ra,ns=t.id,is=t.overflow,Ra=e),e=Tf(e,l.children),e.flags|=4096);return e}return c?(Us(),c=l.fallback,T=e.mode,I=t.child,H=I.sibling,l=es(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,H!==null?c=es(H,c):(c=Aa(c,T,i,null),c.flags|=2),c.return=e,l.return=e,l.sibling=c,e.child=l,l=c,c=e.child,T=t.child.memoizedState,T===null?T=_f(i):(I=T.cachePool,I!==null?(H=ke._currentValue,I=I.parent!==H?{parent:H,pool:H}:I):I=sm(),T={baseLanes:T.baseLanes|i,cachePool:I}),c.memoizedState=T,c.childLanes=vf(t,_,i),e.memoizedState=yf,l):(Ls(e),i=t.child,t=i.sibling,i=es(i,{mode:"visible",children:l.children}),i.return=e,i.sibling=null,t!==null&&(_=e.deletions,_===null?(e.deletions=[t],e.flags|=16):_.push(t)),e.child=i,e.memoizedState=null,i)}function Tf(t,e){return e=ru({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function ru(t,e){return t=kn(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ef(t,e,i){return br(e,t.child,null,i),t=Tf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vg(t,e,i){t.lanes|=e;var l=t.alternate;l!==null&&(l.lanes|=e),zc(t.return,e,i)}function Sf(t,e,i,l,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:c}:(h.isBackwards=e,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=i,h.tailMode=c)}function Tg(t,e,i){var l=e.pendingProps,c=l.revealOrder,h=l.tail;if(We(t,e,l.children,i),l=Be.current,(l&2)!==0)l=l&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vg(t,i,e);else if(t.tag===19)vg(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(nt(Be,l),c){case"forwards":for(i=e.child,c=null;i!==null;)t=i.alternate,t!==null&&nu(t)===null&&(c=i),i=i.sibling;i=c,i===null?(c=e.child,e.child=null):(c=i.sibling,i.sibling=null),Sf(e,!1,c,i,h);break;case"backwards":for(i=null,c=e.child,e.child=null;c!==null;){if(t=c.alternate,t!==null&&nu(t)===null){e.child=c;break}t=c.sibling,c.sibling=i,i=c,c=t}Sf(e,!0,i,null,h);break;case"together":Sf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function os(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),Bs|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(fl(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(r(153));if(e.child!==null){for(t=e.child,i=es(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=es(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function bf(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&ko(t)))}function Lv(t,e,i){switch(e.tag){case 3:Ut(e,e.stateNode.containerInfo),Cs(e,ke,t.memoizedState.cache),ul();break;case 27:case 5:jt(e);break;case 4:Ut(e,e.stateNode.containerInfo);break;case 10:Cs(e,e.type,e.memoizedProps.value);break;case 13:var l=e.memoizedState;if(l!==null)return l.dehydrated!==null?(Ls(e),e.flags|=128,null):(i&e.child.childLanes)!==0?_g(t,e,i):(Ls(e),t=os(t,e,i),t!==null?t.sibling:null);Ls(e);break;case 19:var c=(t.flags&128)!==0;if(l=(i&e.childLanes)!==0,l||(fl(t,e,i,!1),l=(i&e.childLanes)!==0),c){if(l)return Tg(t,e,i);e.flags|=128}if(c=e.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(Be,Be.current),l)break;return null;case 22:case 23:return e.lanes=0,dg(t,e,i);case 24:Cs(e,ke,t.memoizedState.cache)}return os(t,e,i)}function Eg(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)Xe=!0;else{if(!bf(t,i)&&(e.flags&128)===0)return Xe=!1,Lv(t,e,i);Xe=(t.flags&131072)!==0}else Xe=!1,Yt&&(e.flags&1048576)!==0&&Zd(e,Po,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var l=e.elementType,c=l._init;if(l=c(l._payload),e.type=l,typeof l=="function")Nc(l)?(t=Oa(l,t),e.tag=1,e=pg(null,e,l,t,i)):(e.tag=0,e=pf(null,e,l,t,i));else{if(l!=null){if(c=l.$$typeof,c===lt){e.tag=11,e=cg(null,e,l,t,i);break t}else if(c===C){e.tag=14,e=fg(null,e,l,t,i);break t}}throw e=gt(l)||l,Error(r(306,e,""))}}return e;case 0:return pf(t,e,e.type,e.pendingProps,i);case 1:return l=e.type,c=Oa(l,e.pendingProps),pg(t,e,l,c,i);case 3:t:{if(Ut(e,e.stateNode.containerInfo),t===null)throw Error(r(387));l=e.pendingProps;var h=e.memoizedState;c=h.element,Gc(t,e),_l(e,l,null,i);var _=e.memoizedState;if(l=_.cache,Cs(e,ke,l),l!==h.cache&&Pc(e,[ke],i,!0),yl(),l=_.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:_.cache},e.updateQueue.baseState=h,e.memoizedState=h,e.flags&256){e=yg(t,e,l,i);break t}else if(l!==c){c=ii(Error(r(424)),e),cl(c),e=yg(t,e,l,i);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Te=pi(t.firstChild),pn=e,Yt=!0,xa=null,Vi=!0,i=Wm(e,null,l,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(ul(),l===c){e=os(t,e,i);break t}We(t,e,l,i)}e=e.child}return e;case 26:return au(t,e),t===null?(i=Rp(e.type,null,e.pendingProps,null))?e.memoizedState=i:Yt||(i=e.type,t=e.pendingProps,l=Tu(_t.current).createElement(i),l[be]=e,l[_e]=t,en(l,i,t),me(l),e.stateNode=l):e.memoizedState=Rp(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return jt(e),t===null&&Yt&&(l=e.stateNode=Sp(e.type,e.pendingProps,_t.current),pn=e,Vi=!0,c=Te,Gs(e.type)?(ih=c,Te=pi(l.firstChild)):Te=c),We(t,e,e.pendingProps.children,i),au(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Yt&&((c=l=Te)&&(l=u1(l,e.type,e.pendingProps,Vi),l!==null?(e.stateNode=l,pn=e,Te=pi(l.firstChild),Vi=!1,c=!0):c=!1),c||Ma(e)),jt(e),c=e.type,h=e.pendingProps,_=t!==null?t.memoizedProps:null,l=h.children,Wf(c,h)?l=null:_!==null&&Wf(c,_)&&(e.flags|=32),e.memoizedState!==null&&(c=Zc(t,e,xv,null,null,i),kl._currentValue=c),au(t,e),We(t,e,l,i),e.child;case 6:return t===null&&Yt&&((t=i=Te)&&(i=c1(i,e.pendingProps,Vi),i!==null?(e.stateNode=i,pn=e,Te=null,t=!0):t=!1),t||Ma(e)),null;case 13:return _g(t,e,i);case 4:return Ut(e,e.stateNode.containerInfo),l=e.pendingProps,t===null?e.child=br(e,null,l,i):We(t,e,l,i),e.child;case 11:return cg(t,e,e.type,e.pendingProps,i);case 7:return We(t,e,e.pendingProps,i),e.child;case 8:return We(t,e,e.pendingProps.children,i),e.child;case 12:return We(t,e,e.pendingProps.children,i),e.child;case 10:return l=e.pendingProps,Cs(e,e.type,l.value),We(t,e,l.children,i),e.child;case 9:return c=e.type._context,l=e.pendingProps.children,Ca(e),c=on(c),l=l(c),e.flags|=1,We(t,e,l,i),e.child;case 14:return fg(t,e,e.type,e.pendingProps,i);case 15:return hg(t,e,e.type,e.pendingProps,i);case 19:return Tg(t,e,i);case 31:return l=e.pendingProps,i=e.mode,l={mode:l.mode,children:l.children},t===null?(i=ru(l,i),i.ref=e.ref,e.child=i,i.return=e,e=i):(i=es(t.child,l),i.ref=e.ref,e.child=i,i.return=e,e=i),e;case 22:return dg(t,e,i);case 24:return Ca(e),l=on(ke),t===null?(c=qc(),c===null&&(c=re,h=kc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=i),c=h),e.memoizedState={parent:l,cache:c},Xc(e),Cs(e,ke,c)):((t.lanes&i)!==0&&(Gc(t,e),_l(e,null,null,i),yl()),c=t.memoizedState,h=e.memoizedState,c.parent!==l?(c={parent:l,cache:l},e.memoizedState=c,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=c),Cs(e,ke,l)):(l=h.cache,Cs(e,ke,l),l!==c.cache&&Pc(e,[ke],i,!0))),We(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(r(156,e.tag))}function us(t){t.flags|=4}function Sg(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Cp(e)){if(e=li.current,e!==null&&((kt&4194048)===kt?Li!==null:(kt&62914560)!==kt&&(kt&536870912)===0||e!==Li))throw gl=Hc,am;t.flags|=8192}}function lu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Ss():536870912,t.lanes|=e,xr|=e)}function Rl(t,e){if(!Yt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ge(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,l=0;if(e)for(var c=t.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=i,e}function Uv(t,e,i){var l=e.pendingProps;switch(Lc(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(e),null;case 1:return ge(e),null;case 3:return i=e.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),e.memoizedState.cache!==l&&(e.flags|=2048),as(ke),oe(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(ol(e)?us(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,tm())),ge(e),null;case 26:return i=e.memoizedState,t===null?(us(e),i!==null?(ge(e),Sg(e,i)):(ge(e),e.flags&=-16777217)):i?i!==t.memoizedState?(us(e),ge(e),Sg(e,i)):(ge(e),e.flags&=-16777217):(t.memoizedProps!==l&&us(e),ge(e),e.flags&=-16777217),null;case 27:ue(e),i=_t.current;var c=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==l&&us(e);else{if(!l){if(e.stateNode===null)throw Error(r(166));return ge(e),null}t=mt.current,ol(e)?Jd(e):(t=Sp(c,l,i),e.stateNode=t,us(e))}return ge(e),null;case 5:if(ue(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==l&&us(e);else{if(!l){if(e.stateNode===null)throw Error(r(166));return ge(e),null}if(t=mt.current,ol(e))Jd(e);else{switch(c=Tu(_t.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(i,{is:l.is}):c.createElement(i)}}t[be]=e,t[_e]=l;t:for(c=e.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break t;for(;c.sibling===null;){if(c.return===null||c.return===e)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}e.stateNode=t;t:switch(en(t,i,l),i){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&us(e)}}return ge(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==l&&us(e);else{if(typeof l!="string"&&e.stateNode===null)throw Error(r(166));if(t=_t.current,ol(e)){if(t=e.stateNode,i=e.memoizedProps,l=null,c=pn,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[be]=e,t=!!(t.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||gp(t.nodeValue,i)),t||Ma(e)}else t=Tu(t).createTextNode(l),t[be]=e,e.stateNode=t}return ge(e),null;case 13:if(l=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ol(e),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[be]=e}else ul(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ge(e),c=!1}else c=tm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return e.flags&256?(ls(e),e):(ls(e),null)}if(ls(e),(e.flags&128)!==0)return e.lanes=i,e;if(i=l!==null,t=t!==null&&t.memoizedState!==null,i){l=e.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var h=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)}return i!==t&&i&&(e.child.flags|=8192),lu(e,e.updateQueue),ge(e),null;case 4:return oe(),t===null&&Qf(e.stateNode.containerInfo),ge(e),null;case 10:return as(e.type),ge(e),null;case 19:if(ut(Be),c=e.memoizedState,c===null)return ge(e),null;if(l=(e.flags&128)!==0,h=c.rendering,h===null)if(l)Rl(c,!1);else{if(Ee!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(h=nu(t),h!==null){for(e.flags|=128,Rl(c,!1),t=h.updateQueue,e.updateQueue=t,lu(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)$d(i,t),i=i.sibling;return nt(Be,Be.current&1|2),e.child}t=t.sibling}c.tail!==null&&ye()>cu&&(e.flags|=128,l=!0,Rl(c,!1),e.lanes=4194304)}else{if(!l)if(t=nu(h),t!==null){if(e.flags|=128,l=!0,t=t.updateQueue,e.updateQueue=t,lu(e,t),Rl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Yt)return ge(e),null}else 2*ye()-c.renderingStartTime>cu&&i!==536870912&&(e.flags|=128,l=!0,Rl(c,!1),e.lanes=4194304);c.isBackwards?(h.sibling=e.child,e.child=h):(t=c.last,t!==null?t.sibling=h:e.child=h,c.last=h)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=ye(),e.sibling=null,t=Be.current,nt(Be,l?t&1|2:t&1),e):(ge(e),null);case 22:case 23:return ls(e),Kc(),l=e.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(e.flags|=8192):l&&(e.flags|=8192),l?(i&536870912)!==0&&(e.flags&128)===0&&(ge(e),e.subtreeFlags&6&&(e.flags|=8192)):ge(e),i=e.updateQueue,i!==null&&lu(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),l=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),l!==i&&(e.flags|=2048),t!==null&&ut(Na),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),as(ke),ge(e),null;case 25:return null;case 30:return null}throw Error(r(156,e.tag))}function jv(t,e){switch(Lc(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return as(ke),oe(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return ue(e),null;case 13:if(ls(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(r(340));ul()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ut(Be),null;case 4:return oe(),null;case 10:return as(e.type),null;case 22:case 23:return ls(e),Kc(),t!==null&&ut(Na),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return as(ke),null;case 25:return null;default:return null}}function bg(t,e){switch(Lc(e),e.tag){case 3:as(ke),oe();break;case 26:case 27:case 5:ue(e);break;case 4:oe();break;case 13:ls(e);break;case 19:ut(Be);break;case 10:as(e.type);break;case 22:case 23:ls(e),Kc(),t!==null&&ut(Na);break;case 24:as(ke)}}function wl(t,e){try{var i=e.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var c=l.next;i=c;do{if((i.tag&t)===t){l=void 0;var h=i.create,_=i.inst;l=h(),_.destroy=l}i=i.next}while(i!==c)}}catch(T){ne(e,e.return,T)}}function js(t,e,i){try{var l=e.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,c=e;var I=i,H=T;try{H()}catch(J){ne(c,I,J)}}}l=l.next}while(l!==h)}}catch(J){ne(e,e.return,J)}}function Ag(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{fm(e,i)}catch(l){ne(t,t.return,l)}}}function Rg(t,e,i){i.props=Oa(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(l){ne(t,e,l)}}function xl(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof i=="function"?t.refCleanup=i(l):i.current=l}}catch(c){ne(t,e,c)}}function Ui(t,e){var i=t.ref,l=t.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(c){ne(t,e,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){ne(t,e,c)}else i.current=null}function wg(t){var e=t.type,i=t.memoizedProps,l=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break t;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(c){ne(t,t.return,c)}}function Af(t,e,i){try{var l=t.stateNode;s1(l,t.type,i,e),l[_e]=e}catch(c){ne(t,t.return,c)}}function xg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Gs(t.type)||t.tag===4}function Rf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||xg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Gs(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wf(t,e,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=vu));else if(l!==4&&(l===27&&Gs(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(wf(t,e,i),t=t.sibling;t!==null;)wf(t,e,i),t=t.sibling}function ou(t,e,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(l!==4&&(l===27&&Gs(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(ou(t,e,i),t=t.sibling;t!==null;)ou(t,e,i),t=t.sibling}function Mg(t){var e=t.stateNode,i=t.memoizedProps;try{for(var l=t.type,c=e.attributes;c.length;)e.removeAttributeNode(c[0]);en(e,l,i),e[be]=t,e[_e]=i}catch(h){ne(t,t.return,h)}}var cs=!1,Re=!1,xf=!1,Ig=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function zv(t,e){if(t=t.containerInfo,Zf=wu,t=kd(t),Ac(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break t}var _=0,T=-1,I=-1,H=0,J=0,tt=t,X=null;e:for(;;){for(var G;tt!==i||c!==0&&tt.nodeType!==3||(T=_+c),tt!==h||l!==0&&tt.nodeType!==3||(I=_+l),tt.nodeType===3&&(_+=tt.nodeValue.length),(G=tt.firstChild)!==null;)X=tt,tt=G;for(;;){if(tt===t)break e;if(X===i&&++H===c&&(T=_),X===h&&++J===l&&(I=_),(G=tt.nextSibling)!==null)break;tt=X,X=tt.parentNode}tt=G}i=T===-1||I===-1?null:{start:T,end:I}}else i=null}i=i||{start:0,end:0}}else i=null;for(Jf={focusedElem:t,selectionRange:i},wu=!1,Ge=e;Ge!==null;)if(e=Ge,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Ge=t;else for(;Ge!==null;){switch(e=Ge,h=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,i=e,c=h.memoizedProps,h=h.memoizedState,l=i.stateNode;try{var wt=Oa(i.type,c,i.elementType===i.type);t=l.getSnapshotBeforeUpdate(wt,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(At){ne(i,i.return,At)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)eh(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":eh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=e.sibling,t!==null){t.return=e.return,Ge=t;break}Ge=e.return}}function Cg(t,e,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:zs(t,i),l&4&&wl(5,i);break;case 1:if(zs(t,i),l&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(_){ne(i,i.return,_)}else{var c=Oa(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(c,e,t.__reactInternalSnapshotBeforeUpdate)}catch(_){ne(i,i.return,_)}}l&64&&Ag(i),l&512&&xl(i,i.return);break;case 3:if(zs(t,i),l&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{fm(t,e)}catch(_){ne(i,i.return,_)}}break;case 27:e===null&&l&4&&Mg(i);case 26:case 5:zs(t,i),e===null&&l&4&&wg(i),l&512&&xl(i,i.return);break;case 12:zs(t,i);break;case 13:zs(t,i),l&4&&Og(t,i),l&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=Fv.bind(null,i),f1(t,i))));break;case 22:if(l=i.memoizedState!==null||cs,!l){e=e!==null&&e.memoizedState!==null||Re,c=cs;var h=Re;cs=l,(Re=e)&&!h?Ps(t,i,(i.subtreeFlags&8772)!==0):zs(t,i),cs=c,Re=h}break;case 30:break;default:zs(t,i)}}function Ng(t){var e=t.alternate;e!==null&&(t.alternate=null,Ng(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Ie(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var fe=null,bn=!1;function fs(t,e,i){for(i=i.child;i!==null;)Dg(t,e,i),i=i.sibling}function Dg(t,e,i){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(ie,i)}catch{}switch(i.tag){case 26:Re||Ui(i,e),fs(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Re||Ui(i,e);var l=fe,c=bn;Gs(i.type)&&(fe=i.stateNode,bn=!1),fs(t,e,i),Ul(i.stateNode),fe=l,bn=c;break;case 5:Re||Ui(i,e);case 6:if(l=fe,c=bn,fe=null,fs(t,e,i),fe=l,bn=c,fe!==null)if(bn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(i.stateNode)}catch(h){ne(i,e,h)}else try{fe.removeChild(i.stateNode)}catch(h){ne(i,e,h)}break;case 18:fe!==null&&(bn?(t=fe,Tp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Xl(t)):Tp(fe,i.stateNode));break;case 4:l=fe,c=bn,fe=i.stateNode.containerInfo,bn=!0,fs(t,e,i),fe=l,bn=c;break;case 0:case 11:case 14:case 15:Re||js(2,i,e),Re||js(4,i,e),fs(t,e,i);break;case 1:Re||(Ui(i,e),l=i.stateNode,typeof l.componentWillUnmount=="function"&&Rg(i,e,l)),fs(t,e,i);break;case 21:fs(t,e,i);break;case 22:Re=(l=Re)||i.memoizedState!==null,fs(t,e,i),Re=l;break;default:fs(t,e,i)}}function Og(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xl(t)}catch(i){ne(e,e.return,i)}}function Pv(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Ig),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Ig),e;default:throw Error(r(435,t.tag))}}function Mf(t,e){var i=Pv(t);e.forEach(function(l){var c=Qv.bind(null,t,l);i.has(l)||(i.add(l),l.then(c,c))})}function Bn(t,e){var i=e.deletions;if(i!==null)for(var l=0;l<i.length;l++){var c=i[l],h=t,_=e,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Gs(T.type)){fe=T.stateNode,bn=!1;break t}break;case 5:fe=T.stateNode,bn=!1;break t;case 3:case 4:fe=T.stateNode.containerInfo,bn=!0;break t}T=T.return}if(fe===null)throw Error(r(160));Dg(h,_,c),fe=null,bn=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)Vg(e,t),e=e.sibling}var gi=null;function Vg(t,e){var i=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Bn(e,t),qn(t),l&4&&(js(3,t,t.return),wl(3,t),js(5,t,t.return));break;case 1:Bn(e,t),qn(t),l&512&&(Re||i===null||Ui(i,i.return)),l&64&&cs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var c=gi;if(Bn(e,t),qn(t),l&512&&(Re||i===null||Ui(i,i.return)),l&4){var h=i!==null?i.memoizedState:null;if(l=t.memoizedState,i===null)if(l===null)if(t.stateNode===null){t:{l=t.type,i=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[ae]||h[be]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),en(h,l,i),h[be]=t,me(h),l=h;break t;case"link":var _=Mp("link","href",c).get(l+(i.href||""));if(_){for(var T=0;T<_.length;T++)if(h=_[T],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){_.splice(T,1);break e}}h=c.createElement(l),en(h,l,i),c.head.appendChild(h);break;case"meta":if(_=Mp("meta","content",c).get(l+(i.content||""))){for(T=0;T<_.length;T++)if(h=_[T],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){_.splice(T,1);break e}}h=c.createElement(l),en(h,l,i),c.head.appendChild(h);break;default:throw Error(r(468,l))}h[be]=t,me(h),l=h}t.stateNode=l}else Ip(c,t.type,t.stateNode);else t.stateNode=xp(c,l,t.memoizedProps);else h!==l?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,l===null?Ip(c,t.type,t.stateNode):xp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Af(t,t.memoizedProps,i.memoizedProps)}break;case 27:Bn(e,t),qn(t),l&512&&(Re||i===null||Ui(i,i.return)),i!==null&&l&4&&Af(t,t.memoizedProps,i.memoizedProps);break;case 5:if(Bn(e,t),qn(t),l&512&&(Re||i===null||Ui(i,i.return)),t.flags&32){c=t.stateNode;try{Wn(c,"")}catch(G){ne(t,t.return,G)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Af(t,c,i!==null?i.memoizedProps:c)),l&1024&&(xf=!0);break;case 6:if(Bn(e,t),qn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,i=t.stateNode;try{i.nodeValue=l}catch(G){ne(t,t.return,G)}}break;case 3:if(bu=null,c=gi,gi=Eu(e.containerInfo),Bn(e,t),gi=c,qn(t),l&4&&i!==null&&i.memoizedState.isDehydrated)try{Xl(e.containerInfo)}catch(G){ne(t,t.return,G)}xf&&(xf=!1,Lg(t));break;case 4:l=gi,gi=Eu(t.stateNode.containerInfo),Bn(e,t),qn(t),gi=l;break;case 12:Bn(e,t),qn(t);break;case 13:Bn(e,t),qn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Vf=ye()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mf(t,l)));break;case 22:c=t.memoizedState!==null;var I=i!==null&&i.memoizedState!==null,H=cs,J=Re;if(cs=H||c,Re=J||I,Bn(e,t),Re=J,cs=H,qn(t),l&8192)t:for(e=t.stateNode,e._visibility=c?e._visibility&-2:e._visibility|1,c&&(i===null||I||cs||Re||Va(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){I=i=e;try{if(h=I.stateNode,c)_=h.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=I.stateNode;var tt=I.memoizedProps.style,X=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;T.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(G){ne(I,I.return,G)}}}else if(e.tag===6){if(i===null){I=e;try{I.stateNode.nodeValue=c?"":I.memoizedProps}catch(G){ne(I,I.return,G)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}l&4&&(l=t.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,Mf(t,i))));break;case 19:Bn(e,t),qn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mf(t,l)));break;case 30:break;case 21:break;default:Bn(e,t),qn(t)}}function qn(t){var e=t.flags;if(e&2){try{for(var i,l=t.return;l!==null;){if(xg(l)){i=l;break}l=l.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var c=i.stateNode,h=Rf(t);ou(t,h,c);break;case 5:var _=i.stateNode;i.flags&32&&(Wn(_,""),i.flags&=-33);var T=Rf(t);ou(t,T,_);break;case 3:case 4:var I=i.stateNode.containerInfo,H=Rf(t);wf(t,H,I);break;default:throw Error(r(161))}}catch(J){ne(t,t.return,J)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Lg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Lg(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function zs(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Cg(t,e.alternate,e),e=e.sibling}function Va(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:js(4,e,e.return),Va(e);break;case 1:Ui(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&Rg(e,e.return,i),Va(e);break;case 27:Ul(e.stateNode);case 26:case 5:Ui(e,e.return),Va(e);break;case 22:e.memoizedState===null&&Va(e);break;case 30:Va(e);break;default:Va(e)}t=t.sibling}}function Ps(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var l=e.alternate,c=t,h=e,_=h.flags;switch(h.tag){case 0:case 11:case 15:Ps(c,h,i),wl(4,h);break;case 1:if(Ps(c,h,i),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(H){ne(l,l.return,H)}if(l=h,c=l.updateQueue,c!==null){var T=l.stateNode;try{var I=c.shared.hiddenCallbacks;if(I!==null)for(c.shared.hiddenCallbacks=null,c=0;c<I.length;c++)cm(I[c],T)}catch(H){ne(l,l.return,H)}}i&&_&64&&Ag(h),xl(h,h.return);break;case 27:Mg(h);case 26:case 5:Ps(c,h,i),i&&l===null&&_&4&&wg(h),xl(h,h.return);break;case 12:Ps(c,h,i);break;case 13:Ps(c,h,i),i&&_&4&&Og(c,h);break;case 22:h.memoizedState===null&&Ps(c,h,i),xl(h,h.return);break;case 30:break;default:Ps(c,h,i)}e=e.sibling}}function If(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&hl(i))}function Cf(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&hl(t))}function ji(t,e,i,l){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ug(t,e,i,l),e=e.sibling}function Ug(t,e,i,l){var c=e.flags;switch(e.tag){case 0:case 11:case 15:ji(t,e,i,l),c&2048&&wl(9,e);break;case 1:ji(t,e,i,l);break;case 3:ji(t,e,i,l),c&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&hl(t)));break;case 12:if(c&2048){ji(t,e,i,l),t=e.stateNode;try{var h=e.memoizedProps,_=h.id,T=h.onPostCommit;typeof T=="function"&&T(_,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){ne(e,e.return,I)}}else ji(t,e,i,l);break;case 13:ji(t,e,i,l);break;case 23:break;case 22:h=e.stateNode,_=e.alternate,e.memoizedState!==null?h._visibility&2?ji(t,e,i,l):Ml(t,e):h._visibility&2?ji(t,e,i,l):(h._visibility|=2,Ar(t,e,i,l,(e.subtreeFlags&10256)!==0)),c&2048&&If(_,e);break;case 24:ji(t,e,i,l),c&2048&&Cf(e.alternate,e);break;default:ji(t,e,i,l)}}function Ar(t,e,i,l,c){for(c=c&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var h=t,_=e,T=i,I=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Ar(h,_,T,I,c),wl(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?Ar(h,_,T,I,c):Ml(h,_):(J._visibility|=2,Ar(h,_,T,I,c)),c&&H&2048&&If(_.alternate,_);break;case 24:Ar(h,_,T,I,c),c&&H&2048&&Cf(_.alternate,_);break;default:Ar(h,_,T,I,c)}e=e.sibling}}function Ml(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,l=e,c=l.flags;switch(l.tag){case 22:Ml(i,l),c&2048&&If(l.alternate,l);break;case 24:Ml(i,l),c&2048&&Cf(l.alternate,l);break;default:Ml(i,l)}e=e.sibling}}var Il=8192;function Rr(t){if(t.subtreeFlags&Il)for(t=t.child;t!==null;)jg(t),t=t.sibling}function jg(t){switch(t.tag){case 26:Rr(t),t.flags&Il&&t.memoizedState!==null&&A1(gi,t.memoizedState,t.memoizedProps);break;case 5:Rr(t);break;case 3:case 4:var e=gi;gi=Eu(t.stateNode.containerInfo),Rr(t),gi=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Il,Il=16777216,Rr(t),Il=e):Rr(t));break;default:Rr(t)}}function zg(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Cl(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var l=e[i];Ge=l,kg(l,t)}zg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Pg(t),t=t.sibling}function Pg(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&js(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,uu(t)):Cl(t);break;default:Cl(t)}}function uu(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var l=e[i];Ge=l,kg(l,t)}zg(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:js(8,e,e.return),uu(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,uu(e));break;default:uu(e)}t=t.sibling}}function kg(t,e){for(;Ge!==null;){var i=Ge;switch(i.tag){case 0:case 11:case 15:js(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,Ge=l;else t:for(i=t;Ge!==null;){l=Ge;var c=l.sibling,h=l.return;if(Ng(l),l===i){Ge=null;break t}if(c!==null){c.return=h,Ge=c;break t}Ge=h}}}var kv={getCacheForType:function(t){var e=on(ke),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i}},Bv=typeof WeakMap=="function"?WeakMap:Map,Kt=0,re=null,Vt=null,kt=0,$t=0,Hn=null,ks=!1,wr=!1,Nf=!1,hs=0,Ee=0,Bs=0,La=0,Df=0,oi=0,xr=0,Nl=null,An=null,Of=!1,Vf=0,cu=1/0,fu=null,qs=null,tn=0,Hs=null,Mr=null,Ir=0,Lf=0,Uf=null,Bg=null,Dl=0,jf=null;function Xn(){if((Kt&2)!==0&&kt!==0)return kt&-kt;if(Y.T!==null){var t=pr;return t!==0?t:Xf()}return Ai()}function qg(){oi===0&&(oi=(kt&536870912)===0||Yt?Es():536870912);var t=li.current;return t!==null&&(t.flags|=32),oi}function Gn(t,e,i){(t===re&&($t===2||$t===9)||t.cancelPendingCommit!==null)&&(Cr(t,0),Xs(t,kt,oi,!1)),Nn(t,i),((Kt&2)===0||t!==re)&&(t===re&&((Kt&2)===0&&(La|=i),Ee===4&&Xs(t,kt,oi,!1)),zi(t))}function Hg(t,e,i){if((Kt&6)!==0)throw Error(r(327));var l=!i&&(e&124)===0&&(e&t.expiredLanes)===0||fi(t,e),c=l?Xv(t,e):kf(t,e,!0),h=l;do{if(c===0){wr&&!l&&Xs(t,e,0,!1);break}else{if(i=t.current.alternate,h&&!qv(i)){c=kf(t,e,!1),h=!1;continue}if(c===2){if(h=e,t.errorRecoveryDisabledLanes&h)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){e=_;t:{var T=t;c=Nl;var I=T.current.memoizedState.isDehydrated;if(I&&(Cr(T,_).flags|=256),_=kf(T,_,!1),_!==2){if(Nf&&!I){T.errorRecoveryDisabledLanes|=h,La|=h,c=4;break t}h=An,An=c,h!==null&&(An===null?An=h:An.push.apply(An,h))}c=_}if(h=!1,c!==2)continue}}if(c===1){Cr(t,0),Xs(t,e,0,!0);break}t:{switch(l=t,h=c,h){case 0:case 1:throw Error(r(345));case 4:if((e&4194048)!==e)break;case 6:Xs(l,e,oi,!ks);break t;case 2:An=null;break;case 3:case 5:break;default:throw Error(r(329))}if((e&62914560)===e&&(c=Vf+300-ye(),10<c)){if(Xs(l,e,oi,!ks),Ts(l,0,!0)!==0)break t;l.timeoutHandle=_p(Xg.bind(null,l,i,An,fu,Of,e,oi,La,xr,ks,h,2,-0,0),c);break t}Xg(l,i,An,fu,Of,e,oi,La,xr,ks,h,0,-0,0)}}break}while(!0);zi(t)}function Xg(t,e,i,l,c,h,_,T,I,H,J,tt,X,G){if(t.timeoutHandle=-1,tt=e.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(Pl={stylesheets:null,count:0,unsuspend:b1},jg(e),tt=R1(),tt!==null)){t.cancelPendingCommit=tt(Zg.bind(null,t,e,h,i,l,c,_,T,I,J,1,X,G)),Xs(t,h,_,!H);return}Zg(t,e,h,i,l,c,_,T,I)}function qv(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var c=i[l],h=c.getSnapshot;c=c.value;try{if(!Pn(h(),c))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xs(t,e,i,l){e&=~Df,e&=~La,t.suspendedLanes|=e,t.pingedLanes&=~e,l&&(t.warmLanes|=e),l=t.expirationTimes;for(var c=e;0<c;){var h=31-Me(c),_=1<<h;l[h]=-1,c&=~_}i!==0&&Zn(t,i,e)}function hu(){return(Kt&6)===0?(Ol(0),!1):!0}function zf(){if(Vt!==null){if($t===0)var t=Vt.return;else t=Vt,ss=Ia=null,tf(t),Sr=null,bl=0,t=Vt;for(;t!==null;)bg(t.alternate,t),t=t.return;Vt=null}}function Cr(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,r1(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),zf(),re=t,Vt=i=es(t.current,null),kt=e,$t=0,Hn=null,ks=!1,wr=fi(t,e),Nf=!1,xr=oi=Df=La=Bs=Ee=0,An=Nl=null,Of=!1,(e&8)!==0&&(e|=e&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=e;0<l;){var c=31-Me(l),h=1<<c;e|=t[c],l&=~h}return hs=e,Vo(),i}function Gg(t,e){Nt=null,Y.H=Wo,e===ml||e===Ho?(e=om(),$t=3):e===am?(e=om(),$t=4):$t=e===ug?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Hn=e,Vt===null&&(Ee=1,su(t,ii(e,t.current)))}function Yg(){var t=Y.H;return Y.H=Wo,t===null?Wo:t}function Fg(){var t=Y.A;return Y.A=kv,t}function Pf(){Ee=4,ks||(kt&4194048)!==kt&&li.current!==null||(wr=!0),(Bs&134217727)===0&&(La&134217727)===0||re===null||Xs(re,kt,oi,!1)}function kf(t,e,i){var l=Kt;Kt|=2;var c=Yg(),h=Fg();(re!==t||kt!==e)&&(fu=null,Cr(t,e)),e=!1;var _=Ee;t:do try{if($t!==0&&Vt!==null){var T=Vt,I=Hn;switch($t){case 8:zf(),_=6;break t;case 3:case 2:case 9:case 6:li.current===null&&(e=!0);var H=$t;if($t=0,Hn=null,Nr(t,T,I,H),i&&wr){_=0;break t}break;default:H=$t,$t=0,Hn=null,Nr(t,T,I,H)}}Hv(),_=Ee;break}catch(J){Gg(t,J)}while(!0);return e&&t.shellSuspendCounter++,ss=Ia=null,Kt=l,Y.H=c,Y.A=h,Vt===null&&(re=null,kt=0,Vo()),_}function Hv(){for(;Vt!==null;)Qg(Vt)}function Xv(t,e){var i=Kt;Kt|=2;var l=Yg(),c=Fg();re!==t||kt!==e?(fu=null,cu=ye()+500,Cr(t,e)):wr=fi(t,e);t:do try{if($t!==0&&Vt!==null){e=Vt;var h=Hn;e:switch($t){case 1:$t=0,Hn=null,Nr(t,e,h,1);break;case 2:case 9:if(rm(h)){$t=0,Hn=null,Kg(e);break}e=function(){$t!==2&&$t!==9||re!==t||($t=7),zi(t)},h.then(e,e);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:rm(h)?($t=0,Hn=null,Kg(e)):($t=0,Hn=null,Nr(t,e,h,7));break;case 5:var _=null;switch(Vt.tag){case 26:_=Vt.memoizedState;case 5:case 27:var T=Vt;if(!_||Cp(_)){$t=0,Hn=null;var I=T.sibling;if(I!==null)Vt=I;else{var H=T.return;H!==null?(Vt=H,du(H)):Vt=null}break e}}$t=0,Hn=null,Nr(t,e,h,5);break;case 6:$t=0,Hn=null,Nr(t,e,h,6);break;case 8:zf(),Ee=6;break t;default:throw Error(r(462))}}Gv();break}catch(J){Gg(t,J)}while(!0);return ss=Ia=null,Y.H=l,Y.A=c,Kt=i,Vt!==null?0:(re=null,kt=0,Vo(),Ee)}function Gv(){for(;Vt!==null&&!xe();)Qg(Vt)}function Qg(t){var e=Eg(t.alternate,t,hs);t.memoizedProps=t.pendingProps,e===null?du(t):Vt=e}function Kg(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=gg(i,e,e.pendingProps,e.type,void 0,kt);break;case 11:e=gg(i,e,e.pendingProps,e.type.render,e.ref,kt);break;case 5:tf(e);default:bg(i,e),e=Vt=$d(e,hs),e=Eg(i,e,hs)}t.memoizedProps=t.pendingProps,e===null?du(t):Vt=e}function Nr(t,e,i,l){ss=Ia=null,tf(e),Sr=null,bl=0;var c=e.return;try{if(Vv(t,c,e,i,kt)){Ee=1,su(t,ii(i,t.current)),Vt=null;return}}catch(h){if(c!==null)throw Vt=c,h;Ee=1,su(t,ii(i,t.current)),Vt=null;return}e.flags&32768?(Yt||l===1?t=!0:wr||(kt&536870912)!==0?t=!1:(ks=t=!0,(l===2||l===9||l===3||l===6)&&(l=li.current,l!==null&&l.tag===13&&(l.flags|=16384))),$g(e,t)):du(e)}function du(t){var e=t;do{if((e.flags&32768)!==0){$g(e,ks);return}t=e.return;var i=Uv(e.alternate,e,hs);if(i!==null){Vt=i;return}if(e=e.sibling,e!==null){Vt=e;return}Vt=e=t}while(e!==null);Ee===0&&(Ee=5)}function $g(t,e){do{var i=jv(t.alternate,t);if(i!==null){i.flags&=32767,Vt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){Vt=t;return}Vt=t=i}while(t!==null);Ee=6,Vt=null}function Zg(t,e,i,l,c,h,_,T,I){t.cancelPendingCommit=null;do mu();while(tn!==0);if((Kt&6)!==0)throw Error(r(327));if(e!==null){if(e===t.current)throw Error(r(177));if(h=e.lanes|e.childLanes,h|=Ic,ua(t,i,h,_,T,I),t===re&&(Vt=re=null,kt=0),Mr=e,Hs=t,Ir=i,Lf=h,Uf=c,Bg=l,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Kv(Kn,function(){return np(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,c=st.p,st.p=2,_=Kt,Kt|=4;try{zv(t,e,i)}finally{Kt=_,st.p=c,Y.T=l}}tn=1,Jg(),Wg(),tp()}}function Jg(){if(tn===1){tn=0;var t=Hs,e=Mr,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=Y.T,Y.T=null;var l=st.p;st.p=2;var c=Kt;Kt|=4;try{Vg(e,t);var h=Jf,_=kd(t.containerInfo),T=h.focusedElem,I=h.selectionRange;if(_!==T&&T&&T.ownerDocument&&Pd(T.ownerDocument.documentElement,T)){if(I!==null&&Ac(T)){var H=I.start,J=I.end;if(J===void 0&&(J=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(J,T.value.length);else{var tt=T.ownerDocument||document,X=tt&&tt.defaultView||window;if(X.getSelection){var G=X.getSelection(),wt=T.textContent.length,At=Math.min(I.start,wt),te=I.end===void 0?At:Math.min(I.end,wt);!G.extend&&At>te&&(_=te,te=At,At=_);var k=zd(T,At),U=zd(T,te);if(k&&U&&(G.rangeCount!==1||G.anchorNode!==k.node||G.anchorOffset!==k.offset||G.focusNode!==U.node||G.focusOffset!==U.offset)){var q=tt.createRange();q.setStart(k.node,k.offset),G.removeAllRanges(),At>te?(G.addRange(q),G.extend(U.node,U.offset)):(q.setEnd(U.node,U.offset),G.addRange(q))}}}}for(tt=[],G=T;G=G.parentNode;)G.nodeType===1&&tt.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<tt.length;T++){var W=tt[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}wu=!!Zf,Jf=Zf=null}finally{Kt=c,st.p=l,Y.T=i}}t.current=e,tn=2}}function Wg(){if(tn===2){tn=0;var t=Hs,e=Mr,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=Y.T,Y.T=null;var l=st.p;st.p=2;var c=Kt;Kt|=4;try{Cg(t,e.alternate,e)}finally{Kt=c,st.p=l,Y.T=i}}tn=3}}function tp(){if(tn===4||tn===3){tn=0,Fn();var t=Hs,e=Mr,i=Ir,l=Bg;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?tn=5:(tn=0,Mr=Hs=null,ep(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(qs=null),Hi(i),e=e.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(ie,e,void 0,(e.current.flags&128)===128)}catch{}if(l!==null){e=Y.T,c=st.p,st.p=2,Y.T=null;try{for(var h=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];h(T.value,{componentStack:T.stack})}}finally{Y.T=e,st.p=c}}(Ir&3)!==0&&mu(),zi(t),c=t.pendingLanes,(i&4194090)!==0&&(c&42)!==0?t===jf?Dl++:(Dl=0,jf=t):Dl=0,Ol(0)}}function ep(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,hl(e)))}function mu(t){return Jg(),Wg(),tp(),np()}function np(){if(tn!==5)return!1;var t=Hs,e=Lf;Lf=0;var i=Hi(Ir),l=Y.T,c=st.p;try{st.p=32>i?32:i,Y.T=null,i=Uf,Uf=null;var h=Hs,_=Ir;if(tn=0,Mr=Hs=null,Ir=0,(Kt&6)!==0)throw Error(r(331));var T=Kt;if(Kt|=4,Pg(h.current),Ug(h,h.current,_,i),Kt=T,Ol(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(ie,h)}catch{}return!0}finally{st.p=c,Y.T=l,ep(t,e)}}function ip(t,e,i){e=ii(i,e),e=gf(t.stateNode,e,2),t=Os(t,e,2),t!==null&&(Nn(t,2),zi(t))}function ne(t,e,i){if(t.tag===3)ip(t,t,i);else for(;e!==null;){if(e.tag===3){ip(e,t,i);break}else if(e.tag===1){var l=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qs===null||!qs.has(l))){t=ii(i,t),i=lg(2),l=Os(e,i,2),l!==null&&(og(i,l,e,t),Nn(l,2),zi(l));break}}e=e.return}}function Bf(t,e,i){var l=t.pingCache;if(l===null){l=t.pingCache=new Bv;var c=new Set;l.set(e,c)}else c=l.get(e),c===void 0&&(c=new Set,l.set(e,c));c.has(i)||(Nf=!0,c.add(i),t=Yv.bind(null,t,e,i),e.then(t,t))}function Yv(t,e,i){var l=t.pingCache;l!==null&&l.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,re===t&&(kt&i)===i&&(Ee===4||Ee===3&&(kt&62914560)===kt&&300>ye()-Vf?(Kt&2)===0&&Cr(t,0):Df|=i,xr===kt&&(xr=0)),zi(t)}function sp(t,e){e===0&&(e=Ss()),t=hr(t,e),t!==null&&(Nn(t,e),zi(t))}function Fv(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),sp(t,i)}function Qv(t,e){var i=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(i=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(e),sp(t,i)}function Kv(t,e){return ln(t,e)}var gu=null,Dr=null,qf=!1,pu=!1,Hf=!1,Ua=0;function zi(t){t!==Dr&&t.next===null&&(Dr===null?gu=Dr=t:Dr=Dr.next=t),pu=!0,qf||(qf=!0,Zv())}function Ol(t,e){if(!Hf&&pu){Hf=!0;do for(var i=!1,l=gu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var _=l.suspendedLanes,T=l.pingedLanes;h=(1<<31-Me(42|t)+1)-1,h&=c&~(_&~T),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,op(l,h))}else h=kt,h=Ts(l,l===re?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||fi(l,h)||(i=!0,op(l,h));l=l.next}while(i);Hf=!1}}function $v(){ap()}function ap(){pu=qf=!1;var t=0;Ua!==0&&(a1()&&(t=Ua),Ua=0);for(var e=ye(),i=null,l=gu;l!==null;){var c=l.next,h=rp(l,e);h===0?(l.next=null,i===null?gu=c:i.next=c,c===null&&(Dr=i)):(i=l,(t!==0||(h&3)!==0)&&(pu=!0)),l=c}Ol(t)}function rp(t,e){for(var i=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var _=31-Me(h),T=1<<_,I=c[_];I===-1?((T&i)===0||(T&l)!==0)&&(c[_]=oa(T,e)):I<=e&&(t.expiredLanes|=T),h&=~T}if(e=re,i=kt,i=Ts(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,i===0||t===e&&($t===2||$t===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ke(l),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||fi(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(l!==null&&Ke(l),Hi(i)){case 2:case 8:i=mn;break;case 32:i=Kn;break;case 268435456:i=$n;break;default:i=Kn}return l=lp.bind(null,t),i=ln(i,l),t.callbackPriority=e,t.callbackNode=i,e}return l!==null&&l!==null&&Ke(l),t.callbackPriority=2,t.callbackNode=null,2}function lp(t,e){if(tn!==0&&tn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(mu()&&t.callbackNode!==i)return null;var l=kt;return l=Ts(t,t===re?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Hg(t,l,e),rp(t,ye()),t.callbackNode!=null&&t.callbackNode===i?lp.bind(null,t):null)}function op(t,e){if(mu())return null;Hg(t,e,!0)}function Zv(){l1(function(){(Kt&6)!==0?ln(yn,$v):ap()})}function Xf(){return Ua===0&&(Ua=Es()),Ua}function up(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:tr(""+t)}function cp(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function Jv(t,e,i,l,c){if(e==="submit"&&i&&i.stateNode===c){var h=up((c[_e]||null).action),_=l.submitter;_&&(e=(e=_[_e]||null)?up(e.formAction):_.getAttribute("formAction"),e!==null&&(h=e,_=null));var T=new er("action","action",null,l,c);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ua!==0){var I=_?cp(c,_):new FormData(c);cf(i,{pending:!0,data:I,method:c.method,action:h},null,I)}}else typeof h=="function"&&(T.preventDefault(),I=_?cp(c,_):new FormData(c),cf(i,{pending:!0,data:I,method:c.method,action:h},h,I))},currentTarget:c}]})}}for(var Gf=0;Gf<Mc.length;Gf++){var Yf=Mc[Gf],Wv=Yf.toLowerCase(),t1=Yf[0].toUpperCase()+Yf.slice(1);mi(Wv,"on"+t1)}mi(Hd,"onAnimationEnd"),mi(Xd,"onAnimationIteration"),mi(Gd,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(yv,"onTransitionRun"),mi(_v,"onTransitionStart"),mi(vv,"onTransitionCancel"),mi(Yd,"onTransitionEnd"),Tn("onMouseEnter",["mouseout","mouseover"]),Tn("onMouseLeave",["mouseout","mouseover"]),Tn("onPointerEnter",["pointerout","pointerover"]),Tn("onPointerLeave",["pointerout","pointerover"]),Un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Un("onBeforeInput",["compositionend","keypress","textInput","paste"]),Un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function fp(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var l=t[i],c=l.event;l=l.listeners;t:{var h=void 0;if(e)for(var _=l.length-1;0<=_;_--){var T=l[_],I=T.instance,H=T.currentTarget;if(T=T.listener,I!==h&&c.isPropagationStopped())break t;h=T,c.currentTarget=H;try{h(c)}catch(J){iu(J)}c.currentTarget=null,h=I}else for(_=0;_<l.length;_++){if(T=l[_],I=T.instance,H=T.currentTarget,T=T.listener,I!==h&&c.isPropagationStopped())break t;h=T,c.currentTarget=H;try{h(c)}catch(J){iu(J)}c.currentTarget=null,h=I}}}}function Lt(t,e){var i=e[ct];i===void 0&&(i=e[ct]=new Set);var l=t+"__bubble";i.has(l)||(hp(e,t,2,!1),i.add(l))}function Ff(t,e,i){var l=0;e&&(l|=4),hp(i,t,l,e)}var yu="_reactListening"+Math.random().toString(36).slice(2);function Qf(t){if(!t[yu]){t[yu]=!0,ce.forEach(function(i){i!=="selectionchange"&&(e1.has(i)||Ff(i,!1,t),Ff(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yu]||(e[yu]=!0,Ff("selectionchange",!1,e))}}function hp(t,e,i,l){switch(Up(e)){case 2:var c=M1;break;case 8:c=I1;break;default:c=oh}i=c.bind(null,e,i,t),c=void 0,!ei||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(e,i,{capture:!0,passive:c}):t.addEventListener(e,i,!0):c!==void 0?t.addEventListener(e,i,{passive:c}):t.addEventListener(e,i,!1)}function Kf(t,e,i,l,c){var h=l;if((e&1)===0&&(e&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===c)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===c)return;_=_.return}for(;T!==null;){if(_=Ce(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=h=_;continue t}T=T.parentNode}}l=l.return}vo(function(){var H=h,J=ti(i),tt=[];t:{var X=Fd.get(t);if(X!==void 0){var G=er,wt=t;switch(t){case"keypress":if(Ii(i)===0)break t;case"keydown":case"keyup":G=lr;break;case"focusin":wt="focus",G=sr;break;case"focusout":wt="blur",G=sr;break;case"beforeblur":case"afterblur":G=sr;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=ni;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=xo;break;case Hd:case Xd:case Gd:G=ar;break;case Yd:G=Io;break;case"scroll":case"scrollend":G=To;break;case"wheel":G=or;break;case"copy":case"cut":case"paste":G=rr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=sl;break;case"toggle":case"beforetoggle":G=No}var At=(e&4)!==0,te=!At&&(t==="scroll"||t==="scrollend"),k=At?X!==null?X+"Capture":null:X;At=[];for(var U=H,q;U!==null;){var W=U;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||k===null||(W=ga(U,k),W!=null&&At.push(Ll(U,W,q))),te)break;U=U.return}0<At.length&&(X=new G(X,wt,null,i,J),tt.push({event:X,listeners:At}))}}if((e&7)===0){t:{if(X=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",X&&i!==Ki&&(wt=i.relatedTarget||i.fromElement)&&(Ce(wt)||wt[Dn]))break t;if((G||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,G?(wt=i.relatedTarget||i.toElement,G=H,wt=wt?Ce(wt):null,wt!==null&&(te=f(wt),At=wt.tag,wt!==te||At!==5&&At!==27&&At!==6)&&(wt=null)):(G=null,wt=H),G!==wt)){if(At=ni,W="onMouseLeave",k="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(At=sl,W="onPointerLeave",k="onPointerEnter",U="pointer"),te=G==null?X:Vn(G),q=wt==null?X:Vn(wt),X=new At(W,U+"leave",G,i,J),X.target=te,X.relatedTarget=q,W=null,Ce(J)===H&&(At=new At(k,U+"enter",wt,i,J),At.target=q,At.relatedTarget=te,W=At),te=W,G&&wt)e:{for(At=G,k=wt,U=0,q=At;q;q=Or(q))U++;for(q=0,W=k;W;W=Or(W))q++;for(;0<U-q;)At=Or(At),U--;for(;0<q-U;)k=Or(k),q--;for(;U--;){if(At===k||k!==null&&At===k.alternate)break e;At=Or(At),k=Or(k)}At=null}else At=null;G!==null&&dp(tt,X,G,At,!1),wt!==null&&te!==null&&dp(tt,te,wt,At,!0)}}t:{if(X=H?Vn(H):window,G=X.nodeName&&X.nodeName.toLowerCase(),G==="select"||G==="input"&&X.type==="file")var pt=Dd;else if(Pe(X))if(Od)pt=mv;else{pt=hv;var Ot=fv}else G=X.nodeName,!G||G.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?H&&Zr(H.elementType)&&(pt=Dd):pt=dv;if(pt&&(pt=pt(t,H))){ts(tt,pt,i,J);break t}Ot&&Ot(t,X,H),t==="focusout"&&H&&X.type==="number"&&H.memoizedProps.value!=null&&Ms(X,"number",X.value)}switch(Ot=H?Vn(H):window,t){case"focusin":(Pe(Ot)||Ot.contentEditable==="true")&&(ur=Ot,Rc=H,ll=null);break;case"focusout":ll=Rc=ur=null;break;case"mousedown":wc=!0;break;case"contextmenu":case"mouseup":case"dragend":wc=!1,Bd(tt,i,J);break;case"selectionchange":if(pv)break;case"keydown":case"keyup":Bd(tt,i,J)}var Et;if(Di)t:{switch(t){case"compositionstart":var Rt="onCompositionStart";break t;case"compositionend":Rt="onCompositionEnd";break t;case"compositionupdate":Rt="onCompositionUpdate";break t}Rt=void 0}else zt?F(t,i)&&(Rt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Rt="onCompositionStart");Rt&&(y&&i.locale!=="ko"&&(zt||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&zt&&(Et=Wr()):(Mi=J,Is="value"in Mi?Mi.value:Mi.textContent,zt=!0)),Ot=_u(H,Rt),0<Ot.length&&(Rt=new nl(Rt,t,null,i,J),tt.push({event:Rt,listeners:Ot}),Et?Rt.data=Et:(Et=ft(i),Et!==null&&(Rt.data=Et)))),(Et=m?ze(t,i):Pt(t,i))&&(Rt=_u(H,"onBeforeInput"),0<Rt.length&&(Ot=new nl("onBeforeInput","beforeinput",null,i,J),tt.push({event:Ot,listeners:Rt}),Ot.data=Et)),Jv(tt,t,H,i,J)}fp(tt,e)})}function Ll(t,e,i){return{instance:t,listener:e,currentTarget:i}}function _u(t,e){for(var i=e+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=ga(t,i),c!=null&&l.unshift(Ll(t,c,h)),c=ga(t,e),c!=null&&l.push(Ll(t,c,h))),t.tag===3)return l;t=t.return}return[]}function Or(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function dp(t,e,i,l,c){for(var h=e._reactName,_=[];i!==null&&i!==l;){var T=i,I=T.alternate,H=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||H===null||(I=H,c?(H=ga(i,h),H!=null&&_.unshift(Ll(i,H,I))):c||(H=ga(i,h),H!=null&&_.push(Ll(i,H,I)))),i=i.return}_.length!==0&&t.push({event:e,listeners:_})}var n1=/\r\n?/g,i1=/\u0000|\uFFFD/g;function mp(t){return(typeof t=="string"?t:""+t).replace(n1,`
`).replace(i1,"")}function gp(t,e){return e=mp(e),mp(t)===e}function vu(){}function Wt(t,e,i,l,c,h){switch(i){case"children":typeof l=="string"?e==="body"||e==="textarea"&&l===""||Wn(t,l):(typeof l=="number"||typeof l=="bigint")&&e!=="body"&&Wn(t,""+l);break;case"className":En(t,"class",l);break;case"tabIndex":En(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":En(t,i,l);break;case"style":$r(t,l,h);break;case"data":if(e!=="object"){En(t,"data",l);break}case"src":case"href":if(l===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=tr(""+l),t.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(e!=="input"&&Wt(t,e,"name",c.name,c,null),Wt(t,e,"formEncType",c.formEncType,c,null),Wt(t,e,"formMethod",c.formMethod,c,null),Wt(t,e,"formTarget",c.formTarget,c,null)):(Wt(t,e,"encType",c.encType,c,null),Wt(t,e,"method",c.method,c,null),Wt(t,e,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=tr(""+l),t.setAttribute(i,l);break;case"onClick":l!=null&&(t.onclick=vu);break;case"onScroll":l!=null&&Lt("scroll",t);break;case"onScrollEnd":l!=null&&Lt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(i=l.__html,i!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}i=tr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""+l):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":l===!0?t.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,l):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(i,l):t.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(i):t.setAttribute(i,l);break;case"popover":Lt("beforetoggle",t),Lt("toggle",t),Jn(t,"popover",l);break;case"xlinkActuate":je(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":je(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":je(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":je(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":je(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":je(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":je(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":je(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":je(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Jn(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=_c.get(i)||i,Jn(t,i,l))}}function $f(t,e,i,l,c,h){switch(i){case"style":$r(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(i=l.__html,i!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"children":typeof l=="string"?Wn(t,l):(typeof l=="number"||typeof l=="bigint")&&Wn(t,""+l);break;case"onScroll":l!=null&&Lt("scroll",t);break;case"onScrollEnd":l!=null&&Lt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=vu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ln.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),e=i.slice(2,c?i.length-7:void 0),h=t[_e]||null,h=h!=null?h[i]:null,typeof h=="function"&&t.removeEventListener(e,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,l,c);break t}i in t?t[i]=l:l===!0?t.setAttribute(i,""):Jn(t,i,l)}}}function en(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",t),Lt("load",t);var l=!1,c=!1,h;for(h in i)if(i.hasOwnProperty(h)){var _=i[h];if(_!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:Wt(t,e,h,_,i,null)}}c&&Wt(t,e,"srcSet",i.srcSet,i,null),l&&Wt(t,e,"src",i.src,i,null);return;case"input":Lt("invalid",t);var T=h=_=c=null,I=null,H=null;for(l in i)if(i.hasOwnProperty(l)){var J=i[l];if(J!=null)switch(l){case"name":c=J;break;case"type":_=J;break;case"checked":I=J;break;case"defaultChecked":H=J;break;case"value":h=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,e));break;default:Wt(t,e,l,J,i,null)}}ha(t,h,T,I,H,_,c,!1),Yi(t);return;case"select":Lt("invalid",t),l=_=h=null;for(c in i)if(i.hasOwnProperty(c)&&(T=i[c],T!=null))switch(c){case"value":h=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Wt(t,e,c,T,i,null)}e=h,i=_,t.multiple=!!l,e!=null?Qi(t,!!l,e,!1):i!=null&&Qi(t,!!l,i,!0);return;case"textarea":Lt("invalid",t),h=c=l=null;for(_ in i)if(i.hasOwnProperty(_)&&(T=i[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":c=T;break;case"children":h=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Wt(t,e,_,T,i,null)}da(t,l,c,h),Yi(t);return;case"option":for(I in i)if(i.hasOwnProperty(I)&&(l=i[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Wt(t,e,I,l,i,null)}return;case"dialog":Lt("beforetoggle",t),Lt("toggle",t),Lt("cancel",t),Lt("close",t);break;case"iframe":case"object":Lt("load",t);break;case"video":case"audio":for(l=0;l<Vl.length;l++)Lt(Vl[l],t);break;case"image":Lt("error",t),Lt("load",t);break;case"details":Lt("toggle",t);break;case"embed":case"source":case"link":Lt("error",t),Lt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in i)if(i.hasOwnProperty(H)&&(l=i[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:Wt(t,e,H,l,i,null)}return;default:if(Zr(e)){for(J in i)i.hasOwnProperty(J)&&(l=i[J],l!==void 0&&$f(t,e,J,l,i,void 0));return}}for(T in i)i.hasOwnProperty(T)&&(l=i[T],l!=null&&Wt(t,e,T,l,i,null))}function s1(t,e,i,l){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,_=null,T=null,I=null,H=null,J=null;for(G in i){var tt=i[G];if(i.hasOwnProperty(G)&&tt!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=tt;default:l.hasOwnProperty(G)||Wt(t,e,G,null,l,tt)}}for(var X in l){var G=l[X];if(tt=i[X],l.hasOwnProperty(X)&&(G!=null||tt!=null))switch(X){case"type":h=G;break;case"name":c=G;break;case"checked":H=G;break;case"defaultChecked":J=G;break;case"value":_=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,e));break;default:G!==tt&&Wt(t,e,X,G,l,tt)}}zn(t,_,T,I,H,J,h,c);return;case"select":G=_=T=X=null;for(h in i)if(I=i[h],i.hasOwnProperty(h)&&I!=null)switch(h){case"value":break;case"multiple":G=I;default:l.hasOwnProperty(h)||Wt(t,e,h,null,l,I)}for(c in l)if(h=l[c],I=i[c],l.hasOwnProperty(c)&&(h!=null||I!=null))switch(c){case"value":X=h;break;case"defaultValue":T=h;break;case"multiple":_=h;default:h!==I&&Wt(t,e,c,h,l,I)}e=T,i=_,l=G,X!=null?Qi(t,!!i,X,!1):!!l!=!!i&&(e!=null?Qi(t,!!i,e,!0):Qi(t,!!i,i?[]:"",!1));return;case"textarea":G=X=null;for(T in i)if(c=i[T],i.hasOwnProperty(T)&&c!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Wt(t,e,T,null,l,c)}for(_ in l)if(c=l[_],h=i[_],l.hasOwnProperty(_)&&(c!=null||h!=null))switch(_){case"value":X=c;break;case"defaultValue":G=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==h&&Wt(t,e,_,c,l,h)}Zt(t,X,G);return;case"option":for(var wt in i)if(X=i[wt],i.hasOwnProperty(wt)&&X!=null&&!l.hasOwnProperty(wt))switch(wt){case"selected":t.selected=!1;break;default:Wt(t,e,wt,null,l,X)}for(I in l)if(X=l[I],G=i[I],l.hasOwnProperty(I)&&X!==G&&(X!=null||G!=null))switch(I){case"selected":t.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:Wt(t,e,I,X,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in i)X=i[At],i.hasOwnProperty(At)&&X!=null&&!l.hasOwnProperty(At)&&Wt(t,e,At,null,l,X);for(H in l)if(X=l[H],G=i[H],l.hasOwnProperty(H)&&X!==G&&(X!=null||G!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,e));break;default:Wt(t,e,H,X,l,G)}return;default:if(Zr(e)){for(var te in i)X=i[te],i.hasOwnProperty(te)&&X!==void 0&&!l.hasOwnProperty(te)&&$f(t,e,te,void 0,l,X);for(J in l)X=l[J],G=i[J],!l.hasOwnProperty(J)||X===G||X===void 0&&G===void 0||$f(t,e,J,X,l,G);return}}for(var k in i)X=i[k],i.hasOwnProperty(k)&&X!=null&&!l.hasOwnProperty(k)&&Wt(t,e,k,null,l,X);for(tt in l)X=l[tt],G=i[tt],!l.hasOwnProperty(tt)||X===G||X==null&&G==null||Wt(t,e,tt,X,l,G)}var Zf=null,Jf=null;function Tu(t){return t.nodeType===9?t:t.ownerDocument}function pp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yp(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Wf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var th=null;function a1(){var t=window.event;return t&&t.type==="popstate"?t===th?!1:(th=t,!0):(th=null,!1)}var _p=typeof setTimeout=="function"?setTimeout:void 0,r1=typeof clearTimeout=="function"?clearTimeout:void 0,vp=typeof Promise=="function"?Promise:void 0,l1=typeof queueMicrotask=="function"?queueMicrotask:typeof vp<"u"?function(t){return vp.resolve(null).then(t).catch(o1)}:_p;function o1(t){setTimeout(function(){throw t})}function Gs(t){return t==="head"}function Tp(t,e){var i=e,l=0,c=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(0<l&&8>l){i=l;var _=t.ownerDocument;if(i&1&&Ul(_.documentElement),i&2&&Ul(_.body),i&4)for(i=_.head,Ul(i),_=i.firstChild;_;){var T=_.nextSibling,I=_.nodeName;_[ae]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&_.rel.toLowerCase()==="stylesheet"||i.removeChild(_),_=T}}if(c===0){t.removeChild(h),Xl(e);return}c--}else i==="$"||i==="$?"||i==="$!"?c++:l=i.charCodeAt(0)-48;else l=0;i=h}while(i);Xl(e)}function eh(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":eh(i),Ie(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function u1(t,e,i,l){for(;t.nodeType===1;){var c=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ae])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=pi(t.nextSibling),t===null)break}return null}function c1(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=pi(t.nextSibling),t===null))return null;return t}function nh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function f1(t,e){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")e();else{var l=function(){e(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function pi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var ih=null;function Ep(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}function Sp(t,e,i){switch(e=Tu(i),t){case"html":if(t=e.documentElement,!t)throw Error(r(452));return t;case"head":if(t=e.head,!t)throw Error(r(453));return t;case"body":if(t=e.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Ul(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Ie(t)}var ui=new Map,bp=new Set;function Eu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ds=st.d;st.d={f:h1,r:d1,D:m1,C:g1,L:p1,m:y1,X:v1,S:_1,M:T1};function h1(){var t=ds.f(),e=hu();return t||e}function d1(t){var e=On(t);e!==null&&e.tag===5&&e.type==="form"?Hm(e):ds.r(t)}var Vr=typeof document>"u"?null:document;function Ap(t,e,i){var l=Vr;if(l&&typeof e=="string"&&e){var c=ve(e);c='link[rel="'+t+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),bp.has(c)||(bp.add(c),t={rel:t,crossOrigin:i,href:e},l.querySelector(c)===null&&(e=l.createElement("link"),en(e,"link",t),me(e),l.head.appendChild(e)))}}function m1(t){ds.D(t),Ap("dns-prefetch",t,null)}function g1(t,e){ds.C(t,e),Ap("preconnect",t,e)}function p1(t,e,i){ds.L(t,e,i);var l=Vr;if(l&&t&&e){var c='link[rel="preload"][as="'+ve(e)+'"]';e==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+ve(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+ve(i.imageSizes)+'"]')):c+='[href="'+ve(t)+'"]';var h=c;switch(e){case"style":h=Lr(t);break;case"script":h=Ur(t)}ui.has(h)||(t=A({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),ui.set(h,t),l.querySelector(c)!==null||e==="style"&&l.querySelector(jl(h))||e==="script"&&l.querySelector(zl(h))||(e=l.createElement("link"),en(e,"link",t),me(e),l.head.appendChild(e)))}}function y1(t,e){ds.m(t,e);var i=Vr;if(i&&t){var l=e&&typeof e.as=="string"?e.as:"script",c='link[rel="modulepreload"][as="'+ve(l)+'"][href="'+ve(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Ur(t)}if(!ui.has(h)&&(t=A({rel:"modulepreload",href:t},e),ui.set(h,t),i.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(zl(h)))return}l=i.createElement("link"),en(l,"link",t),me(l),i.head.appendChild(l)}}}function _1(t,e,i){ds.S(t,e,i);var l=Vr;if(l&&t){var c=$e(l).hoistableStyles,h=Lr(t);e=e||"default";var _=c.get(h);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(jl(h)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":e},i),(i=ui.get(h))&&sh(t,i);var I=_=l.createElement("link");me(I),en(I,"link",t),I._p=new Promise(function(H,J){I.onload=H,I.onerror=J}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Su(_,e,l)}_={type:"stylesheet",instance:_,count:1,state:T},c.set(h,_)}}}function v1(t,e){ds.X(t,e);var i=Vr;if(i&&t){var l=$e(i).hoistableScripts,c=Ur(t),h=l.get(c);h||(h=i.querySelector(zl(c)),h||(t=A({src:t,async:!0},e),(e=ui.get(c))&&ah(t,e),h=i.createElement("script"),me(h),en(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function T1(t,e){ds.M(t,e);var i=Vr;if(i&&t){var l=$e(i).hoistableScripts,c=Ur(t),h=l.get(c);h||(h=i.querySelector(zl(c)),h||(t=A({src:t,async:!0,type:"module"},e),(e=ui.get(c))&&ah(t,e),h=i.createElement("script"),me(h),en(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function Rp(t,e,i,l){var c=(c=_t.current)?Eu(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=Lr(i.href),i=$e(c).hoistableStyles,l=i.get(e),l||(l={type:"style",instance:null,count:0,state:null},i.set(e,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=Lr(i.href);var h=$e(c).hoistableStyles,_=h.get(t);if(_||(c=c.ownerDocument||c,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,_),(h=c.querySelector(jl(t)))&&!h._p&&(_.instance=h,_.state.loading=5),ui.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},ui.set(t,i),h||E1(c,t,i,_.state))),e&&l===null)throw Error(r(528,""));return _}if(e&&l!==null)throw Error(r(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Ur(i),i=$e(c).hoistableScripts,l=i.get(e),l||(l={type:"script",instance:null,count:0,state:null},i.set(e,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Lr(t){return'href="'+ve(t)+'"'}function jl(t){return'link[rel="stylesheet"]['+t+"]"}function wp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function E1(t,e,i,l){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?l.loading=1:(e=t.createElement("link"),l.preload=e,e.addEventListener("load",function(){return l.loading|=1}),e.addEventListener("error",function(){return l.loading|=2}),en(e,"link",i),me(e),t.head.appendChild(e))}function Ur(t){return'[src="'+ve(t)+'"]'}function zl(t){return"script[async]"+t}function xp(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var l=t.querySelector('style[data-href~="'+ve(i.href)+'"]');if(l)return e.instance=l,me(l),l;var c=A({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),me(l),en(l,"style",c),Su(l,i.precedence,t),e.instance=l;case"stylesheet":c=Lr(i.href);var h=t.querySelector(jl(c));if(h)return e.state.loading|=4,e.instance=h,me(h),h;l=wp(i),(c=ui.get(c))&&sh(l,c),h=(t.ownerDocument||t).createElement("link"),me(h);var _=h;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),en(h,"link",l),e.state.loading|=4,Su(h,i.precedence,t),e.instance=h;case"script":return h=Ur(i.src),(c=t.querySelector(zl(h)))?(e.instance=c,me(c),c):(l=i,(c=ui.get(h))&&(l=A({},i),ah(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),me(c),en(c,"link",l),t.head.appendChild(c),e.instance=c);case"void":return null;default:throw Error(r(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(l=e.instance,e.state.loading|=4,Su(l,i.precedence,t));return e.instance}function Su(t,e,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===e)h=T;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function sh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function ah(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var bu=null;function Mp(t,e,i){if(bu===null){var l=new Map,c=bu=new Map;c.set(i,l)}else c=bu,l=c.get(i),l||(l=new Map,c.set(i,l));if(l.has(t))return l;for(l.set(t,null),i=i.getElementsByTagName(t),c=0;c<i.length;c++){var h=i[c];if(!(h[ae]||h[be]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var _=h.getAttribute(e)||"";_=t+_;var T=l.get(_);T?T.push(h):l.set(_,[h])}}return l}function Ip(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function S1(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Cp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Pl=null;function b1(){}function A1(t,e,i){if(Pl===null)throw Error(r(475));var l=Pl;if(e.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var c=Lr(i.href),h=t.querySelector(jl(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Au.bind(l),t.then(l,l)),e.state.loading|=4,e.instance=h,me(h);return}h=t.ownerDocument||t,i=wp(i),(c=ui.get(c))&&sh(i,c),h=h.createElement("link"),me(h);var _=h;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),en(h,"link",i),e.instance=h}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(l.count++,e=Au.bind(l),t.addEventListener("load",e),t.addEventListener("error",e))}}function R1(){if(Pl===null)throw Error(r(475));var t=Pl;return t.stylesheets&&t.count===0&&rh(t,t.stylesheets),0<t.count?function(e){var i=setTimeout(function(){if(t.stylesheets&&rh(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(i)}}:null}function Au(){if(this.count--,this.count===0){if(this.stylesheets)rh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ru=null;function rh(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ru=new Map,e.forEach(w1,t),Ru=null,Au.call(t))}function w1(t,e){if(!(e.state.loading&4)){var i=Ru.get(t);if(i)var l=i.get(null);else{i=new Map,Ru.set(t,i);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var _=c[h];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(i.set(_.dataset.precedence,_),l=_)}l&&i.set(null,l)}c=e.instance,_=c.getAttribute("data-precedence"),h=i.get(_)||l,h===l&&i.set(null,c),i.set(_,c),this.count++,l=Au.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),e.state.loading|=4}}var kl={$$typeof:$,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function x1(t,e,i,l,c,h,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cn(0),this.hiddenUpdates=Cn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Np(t,e,i,l,c,h,_,T,I,H,J,tt){return t=new x1(t,e,i,_,T,I,H,tt),e=1,h===!0&&(e|=24),h=kn(3,null,null,e),t.current=h,h.stateNode=t,e=kc(),e.refCount++,t.pooledCache=e,e.refCount++,h.memoizedState={element:l,isDehydrated:i,cache:e},Xc(h),t}function Dp(t){return t?(t=dr,t):dr}function Op(t,e,i,l,c,h){c=Dp(c),l.context===null?l.context=c:l.pendingContext=c,l=Ds(e),l.payload={element:i},h=h===void 0?null:h,h!==null&&(l.callback=h),i=Os(t,l,e),i!==null&&(Gn(i,t,e),pl(i,t,e))}function Vp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function lh(t,e){Vp(t,e),(t=t.alternate)&&Vp(t,e)}function Lp(t){if(t.tag===13){var e=hr(t,67108864);e!==null&&Gn(e,t,67108864),lh(t,67108864)}}var wu=!0;function M1(t,e,i,l){var c=Y.T;Y.T=null;var h=st.p;try{st.p=2,oh(t,e,i,l)}finally{st.p=h,Y.T=c}}function I1(t,e,i,l){var c=Y.T;Y.T=null;var h=st.p;try{st.p=8,oh(t,e,i,l)}finally{st.p=h,Y.T=c}}function oh(t,e,i,l){if(wu){var c=uh(l);if(c===null)Kf(t,e,l,xu,i),jp(t,l);else if(N1(c,t,e,i,l))l.stopPropagation();else if(jp(t,l),e&4&&-1<C1.indexOf(t)){for(;c!==null;){var h=On(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var _=In(h.pendingLanes);if(_!==0){var T=h;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-Me(_);T.entanglements[1]|=I,_&=~I}zi(h),(Kt&6)===0&&(cu=ye()+500,Ol(0))}}break;case 13:T=hr(h,2),T!==null&&Gn(T,h,2),hu(),lh(h,2)}if(h=uh(l),h===null&&Kf(t,e,l,xu,i),h===c)break;c=h}c!==null&&l.stopPropagation()}else Kf(t,e,l,null,i)}}function uh(t){return t=ti(t),ch(t)}var xu=null;function ch(t){if(xu=null,t=Ce(t),t!==null){var e=f(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=d(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return xu=t,null}function Up(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qn()){case yn:return 2;case mn:return 8;case Kn:case vs:return 32;case $n:return 268435456;default:return 32}default:return 32}}var fh=!1,Ys=null,Fs=null,Qs=null,Bl=new Map,ql=new Map,Ks=[],C1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jp(t,e){switch(t){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":Bl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(e.pointerId)}}function Hl(t,e,i,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:e,domEventName:i,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},e!==null&&(e=On(e),e!==null&&Lp(e)),t):(t.eventSystemFlags|=l,e=t.targetContainers,c!==null&&e.indexOf(c)===-1&&e.push(c),t)}function N1(t,e,i,l,c){switch(e){case"focusin":return Ys=Hl(Ys,t,e,i,l,c),!0;case"dragenter":return Fs=Hl(Fs,t,e,i,l,c),!0;case"mouseover":return Qs=Hl(Qs,t,e,i,l,c),!0;case"pointerover":var h=c.pointerId;return Bl.set(h,Hl(Bl.get(h)||null,t,e,i,l,c)),!0;case"gotpointercapture":return h=c.pointerId,ql.set(h,Hl(ql.get(h)||null,t,e,i,l,c)),!0}return!1}function zp(t){var e=Ce(t.target);if(e!==null){var i=f(e);if(i!==null){if(e=i.tag,e===13){if(e=d(i),e!==null){t.blockedOn=e,Ja(t.priority,function(){if(i.tag===13){var l=Xn();l=bi(l);var c=hr(i,l);c!==null&&Gn(c,i,l),lh(i,l)}});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=uh(t.nativeEvent);if(i===null){i=t.nativeEvent;var l=new i.constructor(i.type,i);Ki=l,i.target.dispatchEvent(l),Ki=null}else return e=On(i),e!==null&&Lp(e),t.blockedOn=i,!1;e.shift()}return!0}function Pp(t,e,i){Mu(t)&&i.delete(e)}function D1(){fh=!1,Ys!==null&&Mu(Ys)&&(Ys=null),Fs!==null&&Mu(Fs)&&(Fs=null),Qs!==null&&Mu(Qs)&&(Qs=null),Bl.forEach(Pp),ql.forEach(Pp)}function Iu(t,e){t.blockedOn===e&&(t.blockedOn=null,fh||(fh=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,D1)))}var Cu=null;function kp(t){Cu!==t&&(Cu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Cu===t&&(Cu=null);for(var e=0;e<t.length;e+=3){var i=t[e],l=t[e+1],c=t[e+2];if(typeof l!="function"){if(ch(l||i)===null)continue;break}var h=On(i);h!==null&&(t.splice(e,3),e-=3,cf(h,{pending:!0,data:c,method:i.method,action:l},l,c))}}))}function Xl(t){function e(I){return Iu(I,t)}Ys!==null&&Iu(Ys,t),Fs!==null&&Iu(Fs,t),Qs!==null&&Iu(Qs,t),Bl.forEach(e),ql.forEach(e);for(var i=0;i<Ks.length;i++){var l=Ks[i];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ks.length&&(i=Ks[0],i.blockedOn===null);)zp(i),i.blockedOn===null&&Ks.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var c=i[l],h=i[l+1],_=c[_e]||null;if(typeof h=="function")_||kp(i);else if(_){var T=null;if(h&&h.hasAttribute("formAction")){if(c=h,_=h[_e]||null)T=_.formAction;else if(ch(c)!==null)continue}else T=_.action;typeof T=="function"?i[l+1]=T:(i.splice(l,3),l-=3),kp(i)}}}function hh(t){this._internalRoot=t}Nu.prototype.render=hh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(r(409));var i=e.current,l=Xn();Op(i,l,t,e,null,null)},Nu.prototype.unmount=hh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Op(t.current,2,null,t,null,null),hu(),e[Dn]=null}};function Nu(t){this._internalRoot=t}Nu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ai();t={blockedOn:null,target:t,priority:e};for(var i=0;i<Ks.length&&e!==0&&e<Ks[i].priority;i++);Ks.splice(i,0,t),i===0&&zp(t)}};var Bp=n.version;if(Bp!=="19.1.1")throw Error(r(527,Bp,"19.1.1"));st.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(e),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var O1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Du.isDisabled&&Du.supportsFiber)try{ie=Du.inject(O1),Ht=Du}catch{}}return Yl.createRoot=function(t,e){if(!u(t))throw Error(r(299));var i=!1,l="",c=ig,h=sg,_=ag,T=null;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(l=e.identifierPrefix),e.onUncaughtError!==void 0&&(c=e.onUncaughtError),e.onCaughtError!==void 0&&(h=e.onCaughtError),e.onRecoverableError!==void 0&&(_=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(T=e.unstable_transitionCallbacks)),e=Np(t,1,!1,null,null,i,l,c,h,_,T,null),t[Dn]=e.current,Qf(t),new hh(e)},Yl.hydrateRoot=function(t,e,i){if(!u(t))throw Error(r(299));var l=!1,c="",h=ig,_=sg,T=ag,I=null,H=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(_=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(I=i.unstable_transitionCallbacks),i.formState!==void 0&&(H=i.formState)),e=Np(t,1,!0,e,i??null,l,c,h,_,T,I,H),e.context=Dp(null),i=e.current,l=Xn(),l=bi(l),c=Ds(l),c.callback=null,Os(i,c,l),i=l,e.current.lanes=i,Nn(e,i),zi(e),t[Dn]=e.current,Qf(t),new Nu(e)},Yl.version="19.1.1",Yl}var Zp;function X1(){if(Zp)return gh.exports;Zp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),gh.exports=H1(),gh.exports}var G1=X1();const Y1=T0(G1),ht={ENVIRONMENT_SETUP:"environment_setup",WELCOME:"welcome",INSTRUCTIONS:"instructions",PRACTICE:"practice",MAIN_TRIALS:"main_trials",LASSO_INSTRUCTIONS:"lasso_instructions",LASSO_TRIALS:"lasso_trials",CASCADING_MENU_INSTRUCTIONS:"cascading_menu_instructions",CASCADING_MENU_TRIALS:"cascading_menu_trials",SEQUENTIAL_TRIALS:"sequential_trials",TIME_CONSTRAINT_INTRO:"time_constraint_intro",TIME_TRIAL_PRACTICE:"time_trial_practice",TIME_TRIALS:"time_trials",SEQUENTIAL_TIME_TRIALS:"sequential_time_trials",COMPLETE:"complete"},Ve={WAITING_FOR_START:"waiting_for_start",IN_PROGRESS:"in_progress",FAILED:"failed"},Pr=[{id:1,tunnelWidth:.02,curvature:.025,timeLimit:null,description:"narrow tunnel, gentle curve"},{id:2,tunnelWidth:.04,curvature:.025,timeLimit:null,description:"narrow tunnel, sharp curve"},{id:3,tunnelType:"corner",tunnelWidth:.02,numCorners:2,cornerOffset:.1,timeLimit:null,description:"narrow tunnel, 2 corners"},{id:4,tunnelType:"corner",tunnelWidth:.04,numCorners:2,cornerOffset:.1,timeLimit:null,description:"narrow tunnel, 3 corners"}],Jp=[{id:101,tunnelType:"lasso",grid_layout:["O O O O O O O O O","O X X O O O O O O","O X X X X X X X O","O X X X X X X X O"],icon_radius:.015,icon_spacing:.035,grid_origin:[.1,.05],timeLimit:null,description:"L-shaped target cluster, medium spacing"},{id:102,tunnelType:"lasso",grid_layout:[". . . . . . . . .",". X X . . . . . .",". X X X X X X X .",". X X X X X X X ."],icon_radius:.015,icon_spacing:.035,grid_origin:[.1,.05],timeLimit:null,description:"L-shaped target cluster, medium spacing"},{id:103,tunnelType:"lasso",grid_layout:[". . . . . . . . .",". X X . . . . . .",". X X X X X X X .",". X X X X X X X .",". . . . . . . . ."],icon_radius:.015,icon_spacing:.035,grid_origin:[.1,.05],timeLimit:null,description:"L-shaped target cluster, medium spacing"},{id:104,tunnelType:"lasso",grid_layout:[". . . . . . . . .",". X X . . . . . .",". X X X X X X X .",". X X X X X X X .",". . . . . . . . ."],icon_radius:.013,icon_spacing:.036,grid_origin:[.1,.05],timeLimit:null,description:"L-shaped target cluster, medium spacing"},{id:105,tunnelType:"lasso",grid_layout:[". . . . . . . . .",". X X . . . . . .",". X X X X X X X .",". X X X X X X X .",". . . . . . . . ."],icon_radius:.016,icon_spacing:.0345,grid_origin:[.1,.05],timeLimit:null,description:"L-shaped target cluster, medium spacing"}],Wp=[{id:201,tunnelType:"cascading_menu",mainMenuSize:12,subMenuSize:12,targetMainMenuIndex:5,targetSubMenuIndex:11,mainMenuWindowSize:[.12,.12],subMenuWindowSize:[.1,.12],mainMenuOrigin:[.1,.02],timeLimit:null,description:"5-item main menu, 4-item submenu, target at main[2] sub[1]"},{id:202,tunnelType:"cascading_menu",mainMenuSize:12,subMenuSize:12,targetMainMenuIndex:5,targetSubMenuIndex:5,mainMenuWindowSize:[.12,.12],subMenuWindowSize:[.1,.12],mainMenuOrigin:[.1,.02],timeLimit:null,description:"5-item main menu, 4-item submenu, target at main[2] sub[1]"},{id:203,tunnelType:"cascading_menu",mainMenuSize:8,subMenuSize:8,targetMainMenuIndex:3,targetSubMenuIndex:7,mainMenuWindowSize:[.12,.12],subMenuWindowSize:[.12,.12],mainMenuOrigin:[.1,.01],timeLimit:null,description:"5-item main menu, 4-item submenu, target at main[2] sub[1]"},{id:204,tunnelType:"cascading_menu",mainMenuSize:8,subMenuSize:8,targetMainMenuIndex:3,targetSubMenuIndex:3,mainMenuWindowSize:[.12,.12],subMenuWindowSize:[.12,.12],mainMenuOrigin:[.1,.01],timeLimit:null,description:"5-item main menu, 4-item submenu, target at main[2] sub[1]"},{id:205,tunnelType:"cascading_menu",mainMenuSize:4,subMenuSize:4,targetMainMenuIndex:1,targetSubMenuIndex:3,mainMenuWindowSize:[.12,.12],subMenuWindowSize:[.12,.12],mainMenuOrigin:[.1,.02],timeLimit:null,description:"5-item main menu, 4-item submenu, target at main[2] sub[1]"},{id:206,tunnelType:"cascading_menu",mainMenuSize:4,subMenuSize:4,targetMainMenuIndex:1,targetSubMenuIndex:1,mainMenuWindowSize:[.12,.12],subMenuWindowSize:[.12,.12],mainMenuOrigin:[.1,.02],timeLimit:null,description:"5-item main menu, 4-item submenu, target at main[2] sub[1]"}],E0=[],F1=[],Q1=[],S0=.008,$h=.01,K1=.001,ty=3,ey=2,ny=2,$1=()=>{const a=new URLSearchParams(window.location.search);return{prolificPid:a.get("PROLIFIC_PID")||null,studyId:a.get("STUDY_ID")||null,sessionId:a.get("SESSION_ID")||null}},Z1=(a,n,s=0,r=.46,u=.13,f=.15,d=.002)=>{const g=[];for(let v=s;v<r;v+=d){const A=u+n*Math.sin(2*Math.PI*v/f);g.push({x:v,y:A})}return[g,a]},J1=a=>{const f=[];for(let d=0;d<.46;d+=K1){let g=.13;if(a.segmentType==="curvature")if(d<0+.23)g=.13;else{const v=d-.23,p=a.segment2Curvature,w=v/.23;g=.13+p*(1-Math.pow(2*w-1,2))}f.push({x:d,y:g})}return f},W1=(a,n=0,s=.46,r=.13,u=3,f=.05,d=.002)=>{const g=[],p=(s-n)/(u+1);let A=n,w=r;for(let j=0;j<u;j++){const P=A+p;let z=A;for(;z<P+d*.5;)z<=P&&g.push({x:z,y:w}),z+=d;g.length===0||Math.abs(g[g.length-1].x-P)>1e-6?g.push({x:P,y:w}):g[g.length-1]={x:P,y:w},A=P;const K=j%2===0?1:-1,it=w,$=w+K*f;if(K>0){let lt=it+d;for(;lt<$+d*.5;)g.push({x:A,y:lt}),lt+=d}else{let lt=it-d;for(;lt>$-d*.5;)g.push({x:A,y:lt}),lt-=d}(g.length===0||Math.abs(g[g.length-1].y-$)>d*.5)&&g.push({x:A,y:$}),w=$}let E=A+p;E=Math.min(E,s);let R=A+d;for(;R<E+d*.5;)R<=E&&g.push({x:R,y:w}),R+=d;return g.length===0||Math.abs(g[g.length-1].x-s)>1e-6?g.push({x:s,y:w}):g[g.length-1]={x:s,y:w},[g,a]},tT=(a,n=.002)=>{const{grid_layout:s,icon_radius:r=.01,icon_spacing:u=.05,grid_origin:f=[.1,.1],margin_size:d=null}=a,g=d!==null?d:u-2*r,v=[],p=s.length;for(let b=0;b<p;b++){const x=s[b].split(/\s+/).filter(D=>D.length>0);for(let D=0;D<x.length;D++)if(x[D]==="X"){const O=f[0]+D*u,L=f[1]+b*u;v.push({x:O,y:L,row:b,col:D})}}if(v.length===0){const x=[{x:f[0],y:f[1]},{x:f[0]+.1,y:f[1]},{x:f[0]+.1,y:f[1]+.1},{x:f[0],y:f[1]+.1},{x:f[0],y:f[1]}],D=x[0],O=x[x.length-1];return[x,g,D,O]}const A=Math.min(...v.map(b=>b.y)),w=v.filter(b=>Math.abs(b.y-A)<1e-6),R={x:Math.min(...w.map(b=>b.x)),y:A},j=u*.5,P=R.x-j,z=R.y-j,K={x:P-g,y:z},it={x:P,y:z+j*.5},$=Math.min(...v.map(b=>b.x))-r-g,lt=Math.max(...v.map(b=>b.x))+r+g,Q=Math.min(...v.map(b=>b.y))-r-g,at=Math.max(...v.map(b=>b.y))+r+g,C=[];C.push({x:$,y:Q});for(let b=$+n;b<=lt;b+=n)C.push({x:b,y:Q});for(let b=Q+n;b<=at;b+=n)C.push({x:lt,y:b});for(let b=lt-n;b>=$;b-=n)C.push({x:b,y:at});for(let b=at-n;b>=Q;b-=n)C.push({x:$,y:b});return C.push({x:$,y:Q}),[C,g,K,it]},eT=(a,n=.002)=>{const{mainMenuSize:s,subMenuSize:r,targetMainMenuIndex:u,targetSubMenuIndex:f,mainMenuWindowSize:d=[.08,.15],subMenuWindowSize:g=[.08,.12],mainMenuOrigin:v=[.1,.1]}=a,[p,A]=v,[w,E]=d,[R,j]=g,P=E/s,z=j/r,K=p,it=A,$=K+w,lt=K+w/2,Q=jt=>it+jt*P+P/2,at=lt,C=Q(u),b=it+u*P,D=$+R/2,O=b,L=jt=>O+jt*z+z/2,M=D,gt=L(f),dt={x:lt,y:Q(0)},Y={x:M,y:gt},st=[],ot=dt.y,Tt=C,N=Math.ceil(Math.abs(Tt-ot)/n);for(let jt=0;jt<=N;jt++){const ue=jt/N,we=ot+(Tt-ot)*ue;st.push({x:lt,y:we})}const Z=at,ut=C,nt=M,mt=gt,St=nt-Z,_t=mt-ut,ee=Math.sqrt(St*St+_t*_t),Ut=Math.ceil(ee/n);for(let jt=1;jt<=Ut;jt++){const ue=jt/Ut,we=Z+St*ue,ln=ut+_t*ue;st.push({x:we,y:ln})}const oe=Math.min(P,z)*.3;return[st,oe,dt,Y]},nT=()=>{};var iy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=function(a){const n=[];let s=0;for(let r=0;r<a.length;r++){let u=a.charCodeAt(r);u<128?n[s++]=u:u<2048?(n[s++]=u>>6|192,n[s++]=u&63|128):(u&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(a.charCodeAt(++r)&1023),n[s++]=u>>18|240,n[s++]=u>>12&63|128,n[s++]=u>>6&63|128,n[s++]=u&63|128):(n[s++]=u>>12|224,n[s++]=u>>6&63|128,n[s++]=u&63|128)}return n},iT=function(a){const n=[];let s=0,r=0;for(;s<a.length;){const u=a[s++];if(u<128)n[r++]=String.fromCharCode(u);else if(u>191&&u<224){const f=a[s++];n[r++]=String.fromCharCode((u&31)<<6|f&63)}else if(u>239&&u<365){const f=a[s++],d=a[s++],g=a[s++],v=((u&7)<<18|(f&63)<<12|(d&63)<<6|g&63)-65536;n[r++]=String.fromCharCode(55296+(v>>10)),n[r++]=String.fromCharCode(56320+(v&1023))}else{const f=a[s++],d=a[s++];n[r++]=String.fromCharCode((u&15)<<12|(f&63)<<6|d&63)}}return n.join("")},A0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,n){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<a.length;u+=3){const f=a[u],d=u+1<a.length,g=d?a[u+1]:0,v=u+2<a.length,p=v?a[u+2]:0,A=f>>2,w=(f&3)<<4|g>>4;let E=(g&15)<<2|p>>6,R=p&63;v||(R=64,d||(E=64)),r.push(s[A],s[w],s[E],s[R])}return r.join("")},encodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(a):this.encodeByteArray(b0(a),n)},decodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(a):iT(this.decodeStringToByteArray(a,n))},decodeStringToByteArray(a,n){this.init_();const s=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<a.length;){const f=s[a.charAt(u++)],g=u<a.length?s[a.charAt(u)]:0;++u;const p=u<a.length?s[a.charAt(u)]:64;++u;const w=u<a.length?s[a.charAt(u)]:64;if(++u,f==null||g==null||p==null||w==null)throw new sT;const E=f<<2|g>>4;if(r.push(E),p!==64){const R=g<<4&240|p>>2;if(r.push(R),w!==64){const j=p<<6&192|w;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class sT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aT=function(a){const n=b0(a);return A0.encodeByteArray(n,!0)},Xu=function(a){return aT(a).replace(/\./g,"")},rT=function(a){try{return A0.decodeString(a,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=()=>lT().__FIREBASE_DEFAULTS__,uT=()=>{if(typeof process>"u"||typeof iy>"u")return;const a=iy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},cT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=a&&rT(a[1]);return n&&JSON.parse(n)},Zh=()=>{try{return nT()||oT()||uT()||cT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},fT=a=>Zh()?.emulatorHosts?.[a],hT=a=>{const n=fT(a);if(!n)return;const s=n.lastIndexOf(":");if(s<=0||s+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(s+1),10);return n[0]==="["?[n.substring(1,s-1),r]:[n.substring(0,s),r]},R0=()=>Zh()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,s)=>{this.resolve=n,this.reject=s})}wrapCallback(n){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(s):n(s,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mT(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(a,n){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=n||"demo-project",u=a.iat||0,f=a.sub||a.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Xu(JSON.stringify(s)),Xu(JSON.stringify(d)),""].join(".")}const Kl={};function pT(){const a={prod:[],emulator:[]};for(const n of Object.keys(Kl))Kl[n]?a.emulator.push(n):a.prod.push(n);return a}function yT(a){let n=document.getElementById(a),s=!1;return n||(n=document.createElement("div"),n.setAttribute("id",a),s=!0),{created:s,element:n}}let sy=!1;function _T(a,n){if(typeof window>"u"||typeof document>"u"||!Jh(window.location.host)||Kl[a]===n||Kl[a]||sy)return;Kl[a]=n;function s(E){return`__firebase__banner__${E}`}const r="__firebase__banner",f=pT().prod.length>0;function d(){const E=document.getElementById(r);E&&E.remove()}function g(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function v(E,R){E.setAttribute("width","24"),E.setAttribute("id",R),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{sy=!0,d()},E}function A(E,R){E.setAttribute("id",R),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function w(){const E=yT(r),R=s("text"),j=document.getElementById(R)||document.createElement("span"),P=s("learnmore"),z=document.getElementById(P)||document.createElement("a"),K=s("preprendIcon"),it=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const $=E.element;g($),A(z,P);const lt=p();v(it,K),$.append(it,j,z,lt),document.body.appendChild($)}f?(j.innerText="Preview backend disconnected.",it.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(it.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TT(){const a=Zh()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ET(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function ST(){return!TT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w0(){try{return typeof indexedDB=="object"}catch{return!1}}function x0(){return new Promise((a,n)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),s||self.indexedDB.deleteDatabase(r),a(!0)},u.onupgradeneeded=()=>{s=!1},u.onerror=()=>{n(u.error?.message||"")}}catch(s){n(s)}})}function bT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="FirebaseError";class ra extends Error{constructor(n,s,r){super(s),this.code=n,this.customData=r,this.name=AT,Object.setPrototypeOf(this,ra.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rc.prototype.create)}}class rc{constructor(n,s,r){this.service=n,this.serviceName=s,this.errors=r}create(n,...s){const r=s[0]||{},u=`${this.service}/${n}`,f=this.errors[n],d=f?RT(f,r):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new ra(u,g,r)}}function RT(a,n){return a.replace(wT,(s,r)=>{const u=n[r];return u!=null?String(u):`<${r}?>`})}const wT=/\{\$([^}]+)}/g;function no(a,n){if(a===n)return!0;const s=Object.keys(a),r=Object.keys(n);for(const u of s){if(!r.includes(u))return!1;const f=a[u],d=n[u];if(ay(f)&&ay(d)){if(!no(f,d))return!1}else if(f!==d)return!1}for(const u of r)if(!s.includes(u))return!1;return!0}function ay(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=1e3,MT=2,IT=14400*1e3,CT=.5;function ry(a,n=xT,s=MT){const r=n*Math.pow(s,a),u=Math.round(CT*r*(Math.random()-.5)*2);return Math.min(IT,r+u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(a){return a&&a._delegate?a._delegate:a}class ys{constructor(n,s,r){this.name=n,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(n,s){this.name=n,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const s=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(s)){const r=new dT;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:s});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(n){const s=this.normalizeInstanceIdentifier(n?.identifier),r=n?.optional??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(r)return null;throw u}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(OT(n))try{this.getOrInitializeService({instanceIdentifier:ja})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);try{const f=this.getOrInitializeService({instanceIdentifier:u});r.resolve(f)}catch{}}}}clearInstance(n=ja){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...n.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=ja){return this.instances.has(n)}getOptions(n=ja){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:s={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[f,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(f);r===g&&d.resolve(u)}return u}onInit(n,s){const r=this.normalizeInstanceIdentifier(s),u=this.onInitCallbacks.get(r)??new Set;u.add(n),this.onInitCallbacks.set(r,u);const f=this.instances.get(r);return f&&n(f,r),()=>{u.delete(n)}}invokeOnInitCallbacks(n,s){const r=this.onInitCallbacks.get(s);if(r)for(const u of r)try{u(n,s)}catch{}}getOrInitializeService({instanceIdentifier:n,options:s={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DT(n),options:s}),this.instances.set(n,r),this.instancesOptions.set(n,s),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=ja){return this.component?this.component.multipleInstances?n:ja:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DT(a){return a===ja?void 0:a}function OT(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const s=this.getProvider(n.name);if(s.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);s.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const s=new NT(n,this);return this.providers.set(n,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(qt||(qt={}));const LT={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},UT=qt.INFO,jT={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},zT=(a,n,...s)=>{if(n<a.logLevel)return;const r=new Date().toISOString(),u=jT[n];if(u)console[u](`[${r}]  ${a.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Wh{constructor(n){this.name=n,this._logLevel=UT,this._logHandler=zT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in qt))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?LT[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...n),this._logHandler(this,qt.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...n),this._logHandler(this,qt.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...n),this._logHandler(this,qt.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...n),this._logHandler(this,qt.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...n),this._logHandler(this,qt.ERROR,...n)}}const PT=(a,n)=>n.some(s=>a instanceof s);let ly,oy;function kT(){return ly||(ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BT(){return oy||(oy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M0=new WeakMap,Nh=new WeakMap,I0=new WeakMap,vh=new WeakMap,td=new WeakMap;function qT(a){const n=new Promise((s,r)=>{const u=()=>{a.removeEventListener("success",f),a.removeEventListener("error",d)},f=()=>{s(Js(a.result)),u()},d=()=>{r(a.error),u()};a.addEventListener("success",f),a.addEventListener("error",d)});return n.then(s=>{s instanceof IDBCursor&&M0.set(s,a)}).catch(()=>{}),td.set(n,a),n}function HT(a){if(Nh.has(a))return;const n=new Promise((s,r)=>{const u=()=>{a.removeEventListener("complete",f),a.removeEventListener("error",d),a.removeEventListener("abort",d)},f=()=>{s(),u()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),u()};a.addEventListener("complete",f),a.addEventListener("error",d),a.addEventListener("abort",d)});Nh.set(a,n)}let Dh={get(a,n,s){if(a instanceof IDBTransaction){if(n==="done")return Nh.get(a);if(n==="objectStoreNames")return a.objectStoreNames||I0.get(a);if(n==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Js(a[n])},set(a,n,s){return a[n]=s,!0},has(a,n){return a instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in a}};function XT(a){Dh=a(Dh)}function GT(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...s){const r=a.call(Th(this),n,...s);return I0.set(r,n.sort?n.sort():[n]),Js(r)}:BT().includes(a)?function(...n){return a.apply(Th(this),n),Js(M0.get(this))}:function(...n){return Js(a.apply(Th(this),n))}}function YT(a){return typeof a=="function"?GT(a):(a instanceof IDBTransaction&&HT(a),PT(a,kT())?new Proxy(a,Dh):a)}function Js(a){if(a instanceof IDBRequest)return qT(a);if(vh.has(a))return vh.get(a);const n=YT(a);return n!==a&&(vh.set(a,n),td.set(n,a)),n}const Th=a=>td.get(a);function C0(a,n,{blocked:s,upgrade:r,blocking:u,terminated:f}={}){const d=indexedDB.open(a,n),g=Js(d);return r&&d.addEventListener("upgradeneeded",v=>{r(Js(d.result),v.oldVersion,v.newVersion,Js(d.transaction),v)}),s&&d.addEventListener("blocked",v=>s(v.oldVersion,v.newVersion,v)),g.then(v=>{f&&v.addEventListener("close",()=>f()),u&&v.addEventListener("versionchange",p=>u(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const FT=["get","getKey","getAll","getAllKeys","count"],QT=["put","add","delete","clear"],Eh=new Map;function uy(a,n){if(!(a instanceof IDBDatabase&&!(n in a)&&typeof n=="string"))return;if(Eh.get(n))return Eh.get(n);const s=n.replace(/FromIndex$/,""),r=n!==s,u=QT.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(u||FT.includes(s)))return;const f=async function(d,...g){const v=this.transaction(d,u?"readwrite":"readonly");let p=v.store;return r&&(p=p.index(g.shift())),(await Promise.all([p[s](...g),u&&v.done]))[0]};return Eh.set(n,f),f}XT(a=>({...a,get:(n,s,r)=>uy(n,s)||a.get(n,s,r),has:(n,s)=>!!uy(n,s)||a.has(n,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(s=>{if($T(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function $T(a){return a.getComponent()?.type==="VERSION"}const Oh="@firebase/app",cy="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new Wh("@firebase/app"),ZT="@firebase/app-compat",JT="@firebase/analytics-compat",WT="@firebase/analytics",tE="@firebase/app-check-compat",eE="@firebase/app-check",nE="@firebase/auth",iE="@firebase/auth-compat",sE="@firebase/database",aE="@firebase/data-connect",rE="@firebase/database-compat",lE="@firebase/functions",oE="@firebase/functions-compat",uE="@firebase/installations",cE="@firebase/installations-compat",fE="@firebase/messaging",hE="@firebase/messaging-compat",dE="@firebase/performance",mE="@firebase/performance-compat",gE="@firebase/remote-config",pE="@firebase/remote-config-compat",yE="@firebase/storage",_E="@firebase/storage-compat",vE="@firebase/firestore",TE="@firebase/ai",EE="@firebase/firestore-compat",SE="firebase",bE="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh="[DEFAULT]",AE={[Oh]:"fire-core",[ZT]:"fire-core-compat",[WT]:"fire-analytics",[JT]:"fire-analytics-compat",[eE]:"fire-app-check",[tE]:"fire-app-check-compat",[nE]:"fire-auth",[iE]:"fire-auth-compat",[sE]:"fire-rtdb",[aE]:"fire-data-connect",[rE]:"fire-rtdb-compat",[lE]:"fire-fn",[oE]:"fire-fn-compat",[uE]:"fire-iid",[cE]:"fire-iid-compat",[fE]:"fire-fcm",[hE]:"fire-fcm-compat",[dE]:"fire-perf",[mE]:"fire-perf-compat",[gE]:"fire-rc",[pE]:"fire-rc-compat",[yE]:"fire-gcs",[_E]:"fire-gcs-compat",[vE]:"fire-fst",[EE]:"fire-fst-compat",[TE]:"fire-vertex","fire-js":"fire-js",[SE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=new Map,RE=new Map,Lh=new Map;function fy(a,n){try{a.container.addComponent(n)}catch(s){_s.debug(`Component ${n.name} failed to register with FirebaseApp ${a.name}`,s)}}function ea(a){const n=a.name;if(Lh.has(n))return _s.debug(`There were multiple attempts to register component ${n}.`),!1;Lh.set(n,a);for(const s of Gu.values())fy(s,a);for(const s of RE.values())fy(s,a);return!0}function uo(a,n){const s=a.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),a.container.getProvider(n)}function wE(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new rc("app","Firebase",xE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(n,s,r){this._isDeleted=!1,this._options={...n},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=bE;function ed(a,n={}){let s=a;typeof n!="object"&&(n={name:n});const r={name:Vh,automaticDataCollectionEnabled:!0,...n},u=r.name;if(typeof u!="string"||!u)throw Ws.create("bad-app-name",{appName:String(u)});if(s||(s=R0()),!s)throw Ws.create("no-options");const f=Gu.get(u);if(f){if(no(s,f.options)&&no(r,f.config))return f;throw Ws.create("duplicate-app",{appName:u})}const d=new VT(u);for(const v of Lh.values())d.addComponent(v);const g=new ME(s,r,d);return Gu.set(u,g),g}function N0(a=Vh){const n=Gu.get(a);if(!n&&a===Vh&&R0())return ed();if(!n)throw Ws.create("no-app",{appName:a});return n}function ki(a,n,s){let r=AE[a]??a;s&&(r+=`-${s}`);const u=r.match(/\s|\//),f=n.match(/\s|\//);if(u||f){const d=[`Unable to register library "${r}" with version "${n}":`];u&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),u&&f&&d.push("and"),f&&d.push(`version name "${n}" contains illegal characters (whitespace or "/")`),_s.warn(d.join(" "));return}ea(new ys(`${r}-version`,()=>({library:r,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="firebase-heartbeat-database",NE=1,io="firebase-heartbeat-store";let Sh=null;function D0(){return Sh||(Sh=C0(CE,NE,{upgrade:(a,n)=>{switch(n){case 0:try{a.createObjectStore(io)}catch(s){console.warn(s)}}}}).catch(a=>{throw Ws.create("idb-open",{originalErrorMessage:a.message})})),Sh}async function DE(a){try{const s=(await D0()).transaction(io),r=await s.objectStore(io).get(O0(a));return await s.done,r}catch(n){if(n instanceof ra)_s.warn(n.message);else{const s=Ws.create("idb-get",{originalErrorMessage:n?.message});_s.warn(s.message)}}}async function hy(a,n){try{const r=(await D0()).transaction(io,"readwrite");await r.objectStore(io).put(n,O0(a)),await r.done}catch(s){if(s instanceof ra)_s.warn(s.message);else{const r=Ws.create("idb-set",{originalErrorMessage:s?.message});_s.warn(r.message)}}}function O0(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=1024,VE=30;class LE{constructor(n){this.container=n,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new jE(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=dy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(u=>u.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>VE){const u=zE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){_s.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dy(),{heartbeatsToSend:s,unsentEntries:r}=UE(this._heartbeatsCache.heartbeats),u=Xu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return _s.warn(n),""}}}function dy(){return new Date().toISOString().substring(0,10)}function UE(a,n=OE){const s=[];let r=a.slice();for(const u of a){const f=s.find(d=>d.agent===u.agent);if(f){if(f.dates.push(u.date),my(s)>n){f.dates.pop();break}}else if(s.push({agent:u.agent,dates:[u.date]}),my(s)>n){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class jE{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w0()?x0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await DE(this.app);return s?.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return hy(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return hy(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...n.heartbeats]})}else return}}function my(a){return Xu(JSON.stringify({version:2,heartbeats:a})).length}function zE(a){if(a.length===0)return-1;let n=0,s=a[0].date;for(let r=1;r<a.length;r++)a[r].date<s&&(s=a[r].date,n=r);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(a){ea(new ys("platform-logger",n=>new KT(n),"PRIVATE")),ea(new ys("heartbeat",n=>new LE(n),"PRIVATE")),ki(Oh,cy,a),ki(Oh,cy,"esm2020"),ki("fire-js","")}PE("");var kE="firebase",BE="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki(kE,BE,"app");var gy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nd;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function n(C,b){function x(){}x.prototype=b.prototype,C.D=b.prototype,C.prototype=new x,C.prototype.constructor=C,C.C=function(D,O,L){for(var M=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)M[gt-2]=arguments[gt];return b.prototype[O].apply(D,M)}}function s(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}n(r,s),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(C,b,x){x||(x=0);var D=Array(16);if(typeof b=="string")for(var O=0;16>O;++O)D[O]=b.charCodeAt(x++)|b.charCodeAt(x++)<<8|b.charCodeAt(x++)<<16|b.charCodeAt(x++)<<24;else for(O=0;16>O;++O)D[O]=b[x++]|b[x++]<<8|b[x++]<<16|b[x++]<<24;b=C.g[0],x=C.g[1],O=C.g[2];var L=C.g[3],M=b+(L^x&(O^L))+D[0]+3614090360&4294967295;b=x+(M<<7&4294967295|M>>>25),M=L+(O^b&(x^O))+D[1]+3905402710&4294967295,L=b+(M<<12&4294967295|M>>>20),M=O+(x^L&(b^x))+D[2]+606105819&4294967295,O=L+(M<<17&4294967295|M>>>15),M=x+(b^O&(L^b))+D[3]+3250441966&4294967295,x=O+(M<<22&4294967295|M>>>10),M=b+(L^x&(O^L))+D[4]+4118548399&4294967295,b=x+(M<<7&4294967295|M>>>25),M=L+(O^b&(x^O))+D[5]+1200080426&4294967295,L=b+(M<<12&4294967295|M>>>20),M=O+(x^L&(b^x))+D[6]+2821735955&4294967295,O=L+(M<<17&4294967295|M>>>15),M=x+(b^O&(L^b))+D[7]+4249261313&4294967295,x=O+(M<<22&4294967295|M>>>10),M=b+(L^x&(O^L))+D[8]+1770035416&4294967295,b=x+(M<<7&4294967295|M>>>25),M=L+(O^b&(x^O))+D[9]+2336552879&4294967295,L=b+(M<<12&4294967295|M>>>20),M=O+(x^L&(b^x))+D[10]+4294925233&4294967295,O=L+(M<<17&4294967295|M>>>15),M=x+(b^O&(L^b))+D[11]+2304563134&4294967295,x=O+(M<<22&4294967295|M>>>10),M=b+(L^x&(O^L))+D[12]+1804603682&4294967295,b=x+(M<<7&4294967295|M>>>25),M=L+(O^b&(x^O))+D[13]+4254626195&4294967295,L=b+(M<<12&4294967295|M>>>20),M=O+(x^L&(b^x))+D[14]+2792965006&4294967295,O=L+(M<<17&4294967295|M>>>15),M=x+(b^O&(L^b))+D[15]+1236535329&4294967295,x=O+(M<<22&4294967295|M>>>10),M=b+(O^L&(x^O))+D[1]+4129170786&4294967295,b=x+(M<<5&4294967295|M>>>27),M=L+(x^O&(b^x))+D[6]+3225465664&4294967295,L=b+(M<<9&4294967295|M>>>23),M=O+(b^x&(L^b))+D[11]+643717713&4294967295,O=L+(M<<14&4294967295|M>>>18),M=x+(L^b&(O^L))+D[0]+3921069994&4294967295,x=O+(M<<20&4294967295|M>>>12),M=b+(O^L&(x^O))+D[5]+3593408605&4294967295,b=x+(M<<5&4294967295|M>>>27),M=L+(x^O&(b^x))+D[10]+38016083&4294967295,L=b+(M<<9&4294967295|M>>>23),M=O+(b^x&(L^b))+D[15]+3634488961&4294967295,O=L+(M<<14&4294967295|M>>>18),M=x+(L^b&(O^L))+D[4]+3889429448&4294967295,x=O+(M<<20&4294967295|M>>>12),M=b+(O^L&(x^O))+D[9]+568446438&4294967295,b=x+(M<<5&4294967295|M>>>27),M=L+(x^O&(b^x))+D[14]+3275163606&4294967295,L=b+(M<<9&4294967295|M>>>23),M=O+(b^x&(L^b))+D[3]+4107603335&4294967295,O=L+(M<<14&4294967295|M>>>18),M=x+(L^b&(O^L))+D[8]+1163531501&4294967295,x=O+(M<<20&4294967295|M>>>12),M=b+(O^L&(x^O))+D[13]+2850285829&4294967295,b=x+(M<<5&4294967295|M>>>27),M=L+(x^O&(b^x))+D[2]+4243563512&4294967295,L=b+(M<<9&4294967295|M>>>23),M=O+(b^x&(L^b))+D[7]+1735328473&4294967295,O=L+(M<<14&4294967295|M>>>18),M=x+(L^b&(O^L))+D[12]+2368359562&4294967295,x=O+(M<<20&4294967295|M>>>12),M=b+(x^O^L)+D[5]+4294588738&4294967295,b=x+(M<<4&4294967295|M>>>28),M=L+(b^x^O)+D[8]+2272392833&4294967295,L=b+(M<<11&4294967295|M>>>21),M=O+(L^b^x)+D[11]+1839030562&4294967295,O=L+(M<<16&4294967295|M>>>16),M=x+(O^L^b)+D[14]+4259657740&4294967295,x=O+(M<<23&4294967295|M>>>9),M=b+(x^O^L)+D[1]+2763975236&4294967295,b=x+(M<<4&4294967295|M>>>28),M=L+(b^x^O)+D[4]+1272893353&4294967295,L=b+(M<<11&4294967295|M>>>21),M=O+(L^b^x)+D[7]+4139469664&4294967295,O=L+(M<<16&4294967295|M>>>16),M=x+(O^L^b)+D[10]+3200236656&4294967295,x=O+(M<<23&4294967295|M>>>9),M=b+(x^O^L)+D[13]+681279174&4294967295,b=x+(M<<4&4294967295|M>>>28),M=L+(b^x^O)+D[0]+3936430074&4294967295,L=b+(M<<11&4294967295|M>>>21),M=O+(L^b^x)+D[3]+3572445317&4294967295,O=L+(M<<16&4294967295|M>>>16),M=x+(O^L^b)+D[6]+76029189&4294967295,x=O+(M<<23&4294967295|M>>>9),M=b+(x^O^L)+D[9]+3654602809&4294967295,b=x+(M<<4&4294967295|M>>>28),M=L+(b^x^O)+D[12]+3873151461&4294967295,L=b+(M<<11&4294967295|M>>>21),M=O+(L^b^x)+D[15]+530742520&4294967295,O=L+(M<<16&4294967295|M>>>16),M=x+(O^L^b)+D[2]+3299628645&4294967295,x=O+(M<<23&4294967295|M>>>9),M=b+(O^(x|~L))+D[0]+4096336452&4294967295,b=x+(M<<6&4294967295|M>>>26),M=L+(x^(b|~O))+D[7]+1126891415&4294967295,L=b+(M<<10&4294967295|M>>>22),M=O+(b^(L|~x))+D[14]+2878612391&4294967295,O=L+(M<<15&4294967295|M>>>17),M=x+(L^(O|~b))+D[5]+4237533241&4294967295,x=O+(M<<21&4294967295|M>>>11),M=b+(O^(x|~L))+D[12]+1700485571&4294967295,b=x+(M<<6&4294967295|M>>>26),M=L+(x^(b|~O))+D[3]+2399980690&4294967295,L=b+(M<<10&4294967295|M>>>22),M=O+(b^(L|~x))+D[10]+4293915773&4294967295,O=L+(M<<15&4294967295|M>>>17),M=x+(L^(O|~b))+D[1]+2240044497&4294967295,x=O+(M<<21&4294967295|M>>>11),M=b+(O^(x|~L))+D[8]+1873313359&4294967295,b=x+(M<<6&4294967295|M>>>26),M=L+(x^(b|~O))+D[15]+4264355552&4294967295,L=b+(M<<10&4294967295|M>>>22),M=O+(b^(L|~x))+D[6]+2734768916&4294967295,O=L+(M<<15&4294967295|M>>>17),M=x+(L^(O|~b))+D[13]+1309151649&4294967295,x=O+(M<<21&4294967295|M>>>11),M=b+(O^(x|~L))+D[4]+4149444226&4294967295,b=x+(M<<6&4294967295|M>>>26),M=L+(x^(b|~O))+D[11]+3174756917&4294967295,L=b+(M<<10&4294967295|M>>>22),M=O+(b^(L|~x))+D[2]+718787259&4294967295,O=L+(M<<15&4294967295|M>>>17),M=x+(L^(O|~b))+D[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(O+(M<<21&4294967295|M>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+L&4294967295}r.prototype.u=function(C,b){b===void 0&&(b=C.length);for(var x=b-this.blockSize,D=this.B,O=this.h,L=0;L<b;){if(O==0)for(;L<=x;)u(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<b;)if(D[O++]=C.charCodeAt(L++),O==this.blockSize){u(this,D),O=0;break}}else for(;L<b;)if(D[O++]=C[L++],O==this.blockSize){u(this,D),O=0;break}}this.h=O,this.o+=b},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;var x=8*this.o;for(b=C.length-8;b<C.length;++b)C[b]=x&255,x/=256;for(this.u(C),C=Array(16),b=x=0;4>b;++b)for(var D=0;32>D;D+=8)C[x++]=this.g[b]>>>D&255;return C};function f(C,b){var x=g;return Object.prototype.hasOwnProperty.call(x,C)?x[C]:x[C]=b(C)}function d(C,b){this.h=b;for(var x=[],D=!0,O=C.length-1;0<=O;O--){var L=C[O]|0;D&&L==b||(x[O]=L,D=!1)}this.g=x}var g={};function v(C){return-128<=C&&128>C?f(C,function(b){return new d([b|0],0>b?-1:0)}):new d([C|0],0>C?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return w;if(0>C)return z(p(-C));for(var b=[],x=1,D=0;C>=x;D++)b[D]=C/x|0,x*=4294967296;return new d(b,0)}function A(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return z(A(C.substring(1),b));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=p(Math.pow(b,8)),D=w,O=0;O<C.length;O+=8){var L=Math.min(8,C.length-O),M=parseInt(C.substring(O,O+L),b);8>L?(L=p(Math.pow(b,L)),D=D.j(L).add(p(M))):(D=D.j(x),D=D.add(p(M)))}return D}var w=v(0),E=v(1),R=v(16777216);a=d.prototype,a.m=function(){if(P(this))return-z(this).m();for(var C=0,b=1,x=0;x<this.g.length;x++){var D=this.i(x);C+=(0<=D?D:4294967296+D)*b,b*=4294967296}return C},a.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(j(this))return"0";if(P(this))return"-"+z(this).toString(C);for(var b=p(Math.pow(C,6)),x=this,D="";;){var O=lt(x,b).g;x=K(x,O.j(b));var L=((0<x.g.length?x.g[0]:x.h)>>>0).toString(C);if(x=O,j(x))return L+D;for(;6>L.length;)L="0"+L;D=L+D}},a.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function j(C){if(C.h!=0)return!1;for(var b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function P(C){return C.h==-1}a.l=function(C){return C=K(this,C),P(C)?-1:j(C)?0:1};function z(C){for(var b=C.g.length,x=[],D=0;D<b;D++)x[D]=~C.g[D];return new d(x,~C.h).add(E)}a.abs=function(){return P(this)?z(this):this},a.add=function(C){for(var b=Math.max(this.g.length,C.g.length),x=[],D=0,O=0;O<=b;O++){var L=D+(this.i(O)&65535)+(C.i(O)&65535),M=(L>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);D=M>>>16,L&=65535,M&=65535,x[O]=M<<16|L}return new d(x,x[x.length-1]&-2147483648?-1:0)};function K(C,b){return C.add(z(b))}a.j=function(C){if(j(this)||j(C))return w;if(P(this))return P(C)?z(this).j(z(C)):z(z(this).j(C));if(P(C))return z(this.j(z(C)));if(0>this.l(R)&&0>C.l(R))return p(this.m()*C.m());for(var b=this.g.length+C.g.length,x=[],D=0;D<2*b;D++)x[D]=0;for(D=0;D<this.g.length;D++)for(var O=0;O<C.g.length;O++){var L=this.i(D)>>>16,M=this.i(D)&65535,gt=C.i(O)>>>16,dt=C.i(O)&65535;x[2*D+2*O]+=M*dt,it(x,2*D+2*O),x[2*D+2*O+1]+=L*dt,it(x,2*D+2*O+1),x[2*D+2*O+1]+=M*gt,it(x,2*D+2*O+1),x[2*D+2*O+2]+=L*gt,it(x,2*D+2*O+2)}for(D=0;D<b;D++)x[D]=x[2*D+1]<<16|x[2*D];for(D=b;D<2*b;D++)x[D]=0;return new d(x,0)};function it(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function $(C,b){this.g=C,this.h=b}function lt(C,b){if(j(b))throw Error("division by zero");if(j(C))return new $(w,w);if(P(C))return b=lt(z(C),b),new $(z(b.g),z(b.h));if(P(b))return b=lt(C,z(b)),new $(z(b.g),b.h);if(30<C.g.length){if(P(C)||P(b))throw Error("slowDivide_ only works with positive integers.");for(var x=E,D=b;0>=D.l(C);)x=Q(x),D=Q(D);var O=at(x,1),L=at(D,1);for(D=at(D,2),x=at(x,2);!j(D);){var M=L.add(D);0>=M.l(C)&&(O=O.add(x),L=M),D=at(D,1),x=at(x,1)}return b=K(C,O.j(b)),new $(O,b)}for(O=w;0<=C.l(b);){for(x=Math.max(1,Math.floor(C.m()/b.m())),D=Math.ceil(Math.log(x)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),L=p(x),M=L.j(b);P(M)||0<M.l(C);)x-=D,L=p(x),M=L.j(b);j(L)&&(L=E),O=O.add(L),C=K(C,M)}return new $(O,C)}a.A=function(C){return lt(this,C).h},a.and=function(C){for(var b=Math.max(this.g.length,C.g.length),x=[],D=0;D<b;D++)x[D]=this.i(D)&C.i(D);return new d(x,this.h&C.h)},a.or=function(C){for(var b=Math.max(this.g.length,C.g.length),x=[],D=0;D<b;D++)x[D]=this.i(D)|C.i(D);return new d(x,this.h|C.h)},a.xor=function(C){for(var b=Math.max(this.g.length,C.g.length),x=[],D=0;D<b;D++)x[D]=this.i(D)^C.i(D);return new d(x,this.h^C.h)};function Q(C){for(var b=C.g.length+1,x=[],D=0;D<b;D++)x[D]=C.i(D)<<1|C.i(D-1)>>>31;return new d(x,C.h)}function at(C,b){var x=b>>5;b%=32;for(var D=C.g.length-x,O=[],L=0;L<D;L++)O[L]=0<b?C.i(L+x)>>>b|C.i(L+x+1)<<32-b:C.i(L+x);return new d(O,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=A,nd=d}).apply(typeof gy<"u"?gy:typeof self<"u"?self:typeof window<"u"?window:{});var Ou=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var V0,Ql,L0,Pu,Uh,U0,j0,z0;(function(){var a,n=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,y){return o==Array.prototype||o==Object.prototype||(o[m]=y.value),o};function s(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ou=="object"&&Ou];for(var m=0;m<o.length;++m){var y=o[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=s(this);function u(o,m){if(m)t:{var y=r;o=o.split(".");for(var S=0;S<o.length-1;S++){var B=o[S];if(!(B in y))break t;y=y[B]}o=o[o.length-1],S=y[o],m=m(S),m!=S&&m!=null&&n(y,o,{configurable:!0,writable:!0,value:m})}}function f(o,m){o instanceof String&&(o+="");var y=0,S=!1,B={next:function(){if(!S&&y<o.length){var F=y++;return{value:m(F,o[F]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}u("Array.prototype.values",function(o){return o||function(){return f(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function v(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function p(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,y){return o.call.apply(o.bind,arguments)}function w(o,m,y){if(!o)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),o.apply(m,B)}}return function(){return o.apply(m,arguments)}}function E(o,m,y){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:w,E.apply(null,arguments)}function R(o,m){var y=Array.prototype.slice.call(arguments,1);return function(){var S=y.slice();return S.push.apply(S,arguments),o.apply(this,S)}}function j(o,m){function y(){}y.prototype=m.prototype,o.aa=m.prototype,o.prototype=new y,o.prototype.constructor=o,o.Qb=function(S,B,F){for(var ft=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)ft[zt-2]=arguments[zt];return m.prototype[B].apply(S,ft)}}function P(o){const m=o.length;if(0<m){const y=Array(m);for(let S=0;S<m;S++)y[S]=o[S];return y}return[]}function z(o,m){for(let y=1;y<arguments.length;y++){const S=arguments[y];if(v(S)){const B=o.length||0,F=S.length||0;o.length=B+F;for(let ft=0;ft<F;ft++)o[B+ft]=S[ft]}else o.push(S)}}class K{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function it(o){return/^[\s\xa0]*$/.test(o)}function $(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function lt(o){return lt[" "](o),o}lt[" "]=function(){};var Q=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function at(o,m,y){for(const S in o)m.call(y,o[S],S,o)}function C(o,m){for(const y in o)m.call(void 0,o[y],y,o)}function b(o){const m={};for(const y in o)m[y]=o[y];return m}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(o,m){let y,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(y in S)o[y]=S[y];for(let F=0;F<x.length;F++)y=x[F],Object.prototype.hasOwnProperty.call(S,y)&&(o[y]=S[y])}}function O(o){var m=1;o=o.split(":");const y=[];for(;0<m&&o.length;)y.push(o.shift()),m--;return o.length&&y.push(o.join(":")),y}function L(o){g.setTimeout(()=>{throw o},0)}function M(){var o=Tt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class gt{constructor(){this.h=this.g=null}add(m,y){const S=dt.get();S.set(m,y),this.h?this.h.next=S:this.g=S,this.h=S}}var dt=new K(()=>new Y,o=>o.reset());class Y{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let st,ot=!1,Tt=new gt,N=()=>{const o=g.Promise.resolve(void 0);st=()=>{o.then(Z)}};var Z=()=>{for(var o;o=M();){try{o.h.call(o.g)}catch(y){L(y)}var m=dt;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ot=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var mt=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return o})();function St(o,m){if(nt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var y=this.type=o.type,S=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(Q){t:{try{lt(m.nodeName);var B=!0;break t}catch{}B=!1}B||(m=null)}}else y=="mouseover"?m=o.fromElement:y=="mouseout"&&(m=o.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:_t[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&St.aa.h.call(this)}}j(St,nt);var _t={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ee="closure_listenable_"+(1e6*Math.random()|0),Ut=0;function oe(o,m,y,S,B){this.listener=o,this.proxy=null,this.src=m,this.type=y,this.capture=!!S,this.ha=B,this.key=++Ut,this.da=this.fa=!1}function jt(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ue(o){this.src=o,this.g={},this.h=0}ue.prototype.add=function(o,m,y,S,B){var F=o.toString();o=this.g[F],o||(o=this.g[F]=[],this.h++);var ft=ln(o,m,S,B);return-1<ft?(m=o[ft],y||(m.fa=!1)):(m=new oe(m,this.src,F,!!S,B),m.fa=y,o.push(m)),m};function we(o,m){var y=m.type;if(y in o.g){var S=o.g[y],B=Array.prototype.indexOf.call(S,m,void 0),F;(F=0<=B)&&Array.prototype.splice.call(S,B,1),F&&(jt(m),o.g[y].length==0&&(delete o.g[y],o.h--))}}function ln(o,m,y,S){for(var B=0;B<o.length;++B){var F=o[B];if(!F.da&&F.listener==m&&F.capture==!!y&&F.ha==S)return B}return-1}var Ke="closure_lm_"+(1e6*Math.random()|0),xe={};function Fn(o,m,y,S,B){if(Array.isArray(m)){for(var F=0;F<m.length;F++)Fn(o,m[F],y,S,B);return null}return y=_n(y),o&&o[ee]?o.K(m,y,p(S)?!!S.capture:!1,B):ye(o,m,y,!1,S,B)}function ye(o,m,y,S,B,F){if(!m)throw Error("Invalid event type");var ft=p(B)?!!B.capture:!!B,zt=$n(o);if(zt||(o[Ke]=zt=new ue(o)),y=zt.add(m,y,S,ft,F),y.proxy)return y;if(S=Qn(),y.proxy=S,S.src=o,S.listener=y,o.addEventListener)mt||(B=ft),B===void 0&&(B=!1),o.addEventListener(m.toString(),S,B);else if(o.attachEvent)o.attachEvent(Kn(m.toString()),S);else if(o.addListener&&o.removeListener)o.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Qn(){function o(y){return m.call(o.src,o.listener,y)}const m=vs;return o}function yn(o,m,y,S,B){if(Array.isArray(m))for(var F=0;F<m.length;F++)yn(o,m[F],y,S,B);else S=p(S)?!!S.capture:!!S,y=_n(y),o&&o[ee]?(o=o.i,m=String(m).toString(),m in o.g&&(F=o.g[m],y=ln(F,y,S,B),-1<y&&(jt(F[y]),Array.prototype.splice.call(F,y,1),F.length==0&&(delete o.g[m],o.h--)))):o&&(o=$n(o))&&(m=o.g[m.toString()],o=-1,m&&(o=ln(m,y,S,B)),(y=-1<o?m[o]:null)&&mn(y))}function mn(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[ee])we(m.i,o);else{var y=o.type,S=o.proxy;m.removeEventListener?m.removeEventListener(y,S,o.capture):m.detachEvent?m.detachEvent(Kn(y),S):m.addListener&&m.removeListener&&m.removeListener(S),(y=$n(m))?(we(y,o),y.h==0&&(y.src=null,m[Ke]=null)):jt(o)}}}function Kn(o){return o in xe?xe[o]:xe[o]="on"+o}function vs(o,m){if(o.da)o=!0;else{m=new St(m,this);var y=o.listener,S=o.ha||o.src;o.fa&&mn(o),o=y.call(S,m)}return o}function $n(o){return o=o[Ke],o instanceof ue?o:null}var Mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(o){return typeof o=="function"?o:(o[Mn]||(o[Mn]=function(m){return o.handleEvent(m)}),o[Mn])}function ie(){ut.call(this),this.i=new ue(this),this.M=this,this.F=null}j(ie,ut),ie.prototype[ee]=!0,ie.prototype.removeEventListener=function(o,m,y,S){yn(this,o,m,y,S)};function Ht(o,m){var y,S=o.F;if(S)for(y=[];S;S=S.F)y.push(S);if(o=o.M,S=m.type||m,typeof m=="string")m=new nt(m,o);else if(m instanceof nt)m.target=m.target||o;else{var B=m;m=new nt(S,o),D(m,B)}if(B=!0,y)for(var F=y.length-1;0<=F;F--){var ft=m.g=y[F];B=Ue(ft,S,!0,m)&&B}if(ft=m.g=o,B=Ue(ft,S,!0,m)&&B,B=Ue(ft,S,!1,m)&&B,y)for(F=0;F<y.length;F++)ft=m.g=y[F],B=Ue(ft,S,!1,m)&&B}ie.prototype.N=function(){if(ie.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var y=o.g[m],S=0;S<y.length;S++)jt(y[S]);delete o.g[m],o.h--}}this.F=null},ie.prototype.K=function(o,m,y,S){return this.i.add(String(o),m,!1,y,S)},ie.prototype.L=function(o,m,y,S){return this.i.add(String(o),m,!0,y,S)};function Ue(o,m,y,S){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var B=!0,F=0;F<m.length;++F){var ft=m[F];if(ft&&!ft.da&&ft.capture==y){var zt=ft.listener,ze=ft.ha||ft.src;ft.fa&&we(o.i,ft),B=zt.call(ze,S)!==!1&&B}}return B&&!S.defaultPrevented}function Me(o,m,y){if(typeof o=="function")y&&(o=E(o,y));else if(o&&typeof o.handleEvent=="function")o=E(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function Ei(o){o.g=Me(()=>{o.g=null,o.i&&(o.i=!1,Ei(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class la extends ut{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ei(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ci(o){ut.call(this),this.h=o,this.g={}}j(ci,ut);var Si=[];function vn(o){at(o.g,function(m,y){this.g.hasOwnProperty(y)&&mn(m)},o),o.g={}}ci.prototype.N=function(){ci.aa.N.call(this),vn(this)},ci.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=g.JSON.stringify,Ts=g.JSON.parse,fi=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function oa(){}oa.prototype.h=null;function Es(o){return o.h||(o.h=o.i())}function Ss(){}var Cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nn(){nt.call(this,"d")}j(Nn,nt);function ua(){nt.call(this,"c")}j(ua,nt);var Zn={},ca=null;function bi(){return ca=ca||new ie}Zn.La="serverreachability";function Hi(o){nt.call(this,Zn.La,o)}j(Hi,nt);function Ai(o){const m=bi();Ht(m,new Hi(m))}Zn.STAT_EVENT="statevent";function Ja(o,m){nt.call(this,Zn.STAT_EVENT,o),this.stat=m}j(Ja,nt);function se(o){const m=bi();Ht(m,new Ja(m,o))}Zn.Ma="timingevent";function be(o,m){nt.call(this,Zn.Ma,o),this.size=m}j(be,nt);function _e(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function Dn(){this.g=!0}Dn.prototype.xa=function(){this.g=!1};function ct(o,m,y,S,B,F){o.info(function(){if(o.g)if(F)for(var ft="",zt=F.split("&"),ze=0;ze<zt.length;ze++){var Pt=zt[ze].split("=");if(1<Pt.length){var He=Pt[0];Pt=Pt[1];var Pe=He.split("_");ft=2<=Pe.length&&Pe[1]=="type"?ft+(He+"="+Pt+"&"):ft+(He+"=redacted&")}}else ft=null;else ft=F;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+m+`
`+y+`
`+ft})}function Ct(o,m,y,S,B,F,ft){o.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+m+`
`+y+`
`+F+" "+ft})}function It(o,m,y,S){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+ae(o,y)+(S?" "+S:"")})}function Gt(o,m){o.info(function(){return"TIMEOUT: "+m})}Dn.prototype.info=function(){};function ae(o,m){if(!o.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(o=0;o<y.length;o++)if(Array.isArray(y[o])){var S=y[o];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var F=B[0];if(F!="noop"&&F!="stop"&&F!="close")for(var ft=1;ft<B.length;ft++)B[ft]=""}}}}return In(y)}catch{return m}}var Ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ce={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},On;function Vn(){}j(Vn,oa),Vn.prototype.g=function(){return new XMLHttpRequest},Vn.prototype.i=function(){return{}},On=new Vn;function $e(o,m,y,S){this.j=o,this.i=m,this.l=y,this.R=S||1,this.U=new ci(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var ce={},Ln={};function Un(o,m,y){o.L=1,o.v=da(zn(m)),o.m=y,o.P=!0,Tn(o,null)}function Tn(o,m){o.F=Date.now(),jn(o),o.A=zn(o.v);var y=o.A,S=o.R;Array.isArray(S)||(S=[String(S)]),Jr(y.i,"t",S),o.C=0,y=o.j.J,o.h=new me,o.g=Io(o.j,y?m:null,!o.m),0<o.O&&(o.M=new la(E(o.Y,o,o.g),o.O)),m=o.U,y=o.g,S=o.ca;var B="readystatechange";Array.isArray(B)||(B&&(Si[0]=B.toString()),B=Si);for(var F=0;F<B.length;F++){var ft=Fn(y,B[F],S||m.handleEvent,!1,m.h||m);if(!ft)break;m.g[ft.key]=ft}m=o.H?b(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Ai(),ct(o.i,o.u,o.A,o.l,o.R,o.m)}$e.prototype.ca=function(o){o=o.target;const m=this.M;m&&ni(o)==3?m.j():this.Y(o)},$e.prototype.Y=function(o){try{if(o==this.g)t:{const Pe=ni(this.g);var m=this.g.Ba();const ts=this.g.Z();if(!(3>Pe)&&(Pe!=3||this.g&&(this.h.h||this.g.oa()||Eo(this.g)))){this.J||Pe!=4||m==7||(m==8||0>=ts?Ai(3):Ai(2)),Jn(this);var y=this.g.Z();this.X=y;e:if(Xi(this)){var S=Eo(this.g);o="";var B=S.length,F=ni(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){je(this),En(this);var ft="";break e}this.h.i=new g.TextDecoder}for(m=0;m<B;m++)this.h.h=!0,o+=this.h.i.decode(S[m],{stream:!(F&&m==B-1)});S.length=0,this.h.g+=o,this.C=0,ft=this.h.g}else ft=this.g.oa();if(this.o=y==200,Ct(this.i,this.u,this.A,this.l,this.R,Pe,y),this.o){if(this.T&&!this.K){e:{if(this.g){var zt,ze=this.g;if((zt=ze.g?ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!it(zt)){var Pt=zt;break e}}Pt=null}if(y=Pt)It(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gi(this,y);else{this.o=!1,this.s=3,se(12),je(this),En(this);break t}}if(this.P){y=!0;let Je;for(;!this.J&&this.C<ft.length;)if(Je=Ri(this,ft),Je==Ln){Pe==4&&(this.s=4,se(14),y=!1),It(this.i,this.l,null,"[Incomplete Response]");break}else if(Je==ce){this.s=4,se(15),It(this.i,this.l,ft,"[Invalid Chunk]"),y=!1;break}else It(this.i,this.l,Je,null),Gi(this,Je);if(Xi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||ft.length!=0||this.h.h||(this.s=1,se(16),y=!1),this.o=this.o&&y,!y)It(this.i,this.l,ft,"[Invalid Chunked Response]"),je(this),En(this);else if(0<ft.length&&!this.W){this.W=!0;var He=this.j;He.g==this&&He.ba&&!He.M&&(He.j.info("Great, no buffering proxy detected. Bytes received: "+ft.length),Ea(He),He.M=!0,se(11))}}else It(this.i,this.l,ft,null),Gi(this,ft);Pe==4&&je(this),this.o&&!this.J&&(Pe==4?wo(this.j,this):(this.o=!1,jn(this)))}else Tc(this.g),y==400&&0<ft.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),je(this),En(this)}}}catch{}finally{}};function Xi(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Ri(o,m){var y=o.C,S=m.indexOf(`
`,y);return S==-1?Ln:(y=Number(m.substring(y,S)),isNaN(y)?ce:(S+=1,S+y>m.length?Ln:(m=m.slice(S,S+y),o.C=S+y,m)))}$e.prototype.cancel=function(){this.J=!0,je(this)};function jn(o){o.S=Date.now()+o.I,wi(o,o.I)}function wi(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=_e(E(o.ba,o),m)}function Jn(o){o.B&&(g.clearTimeout(o.B),o.B=null)}$e.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Gt(this.i,this.A),this.L!=2&&(Ai(),se(17)),je(this),this.s=2,En(this)):wi(this,this.S-o)};function En(o){o.j.G==0||o.J||wo(o.j,o)}function je(o){Jn(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,vn(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Gi(o,m){try{var y=o.j;if(y.G!=0&&(y.g==o||Rs(y.h,o))){if(!o.K&&Rs(y.h,o)&&y.G==3){try{var S=y.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<o.F)lr(y),ar(y);else break t;il(y),se(18)}}else y.za=B[1],0<y.za-y.T&&37500>B[2]&&y.F&&y.v==0&&!y.C&&(y.C=_e(E(y.Za,y),6e3));if(1>=As(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Wi(y,11)}else if((o.K||y.g==o)&&lr(y),!it(m))for(B=y.Da.g.parse(m),m=0;m<B.length;m++){let Pt=B[m];if(y.T=Pt[0],Pt=Pt[1],y.G==2)if(Pt[0]=="c"){y.K=Pt[1],y.ia=Pt[2];const He=Pt[3];He!=null&&(y.la=He,y.j.info("VER="+y.la));const Pe=Pt[4];Pe!=null&&(y.Aa=Pe,y.j.info("SVER="+y.Aa));const ts=Pt[5];ts!=null&&typeof ts=="number"&&0<ts&&(S=1.5*ts,y.L=S,y.j.info("backChannelRequestTimeoutMs_="+S)),S=y;const Je=o.g;if(Je){const Oi=Je.g?Je.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oi){var F=S.h;F.g||Oi.indexOf("spdy")==-1&&Oi.indexOf("quic")==-1&&Oi.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ws(F,F.h),F.h=null))}if(S.D){const al=Je.g?Je.g.getResponseHeader("X-HTTP-Session-Id"):null;al&&(S.ya=al,Zt(S.I,S.D,al))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-o.F,y.j.info("Handshake RTT: "+y.R+"ms")),S=y;var ft=o;if(S.qa=Mo(S,S.J?S.ia:null,S.W),ft.K){Ze(S.h,ft);var zt=ft,ze=S.L;ze&&(zt.I=ze),zt.B&&(Jn(zt),jn(zt)),S.g=ft}else Ao(S);0<y.i.length&&rr(y)}else Pt[0]!="stop"&&Pt[0]!="close"||Wi(y,7);else y.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?Wi(y,7):el(y):Pt[0]!="noop"&&y.l&&y.l.ta(Pt),y.v=0)}}Ai(4)}catch{}}var Wa=class{constructor(o,m){this.g=o,this.map=m}};function hi(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bs(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function As(o){return o.h?1:o.g?o.g.size:0}function Rs(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function ws(o,m){o.g?o.g.add(m):o.h=m}function Ze(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}hi.prototype.cancel=function(){if(this.i=xs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function xs(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const y of o.g.values())m=m.concat(y.D);return m}return P(o.i)}function yo(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(v(o)){for(var m=[],y=o.length,S=0;S<y;S++)m.push(o[S]);return m}m=[],y=0;for(S in o)m[y++]=o[S];return m}function Yi(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(v(o)||typeof o=="string"){var m=[];o=o.length;for(var y=0;y<o;y++)m.push(y);return m}m=[],y=0;for(const S in o)m[y++]=S;return m}}}function fa(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(v(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var y=Yi(o),S=yo(o),B=S.length,F=0;F<B;F++)m.call(void 0,S[F],y&&y[F],o)}var Fi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kr(o,m){if(o){o=o.split("&");for(var y=0;y<o.length;y++){var S=o[y].indexOf("="),B=null;if(0<=S){var F=o[y].substring(0,S);B=o[y].substring(S+1)}else F=o[y];m(F,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function ve(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof ve){this.h=o.h,ha(this,o.j),this.o=o.o,this.g=o.g,Ms(this,o.s),this.l=o.l;var m=o.i,y=new Ki;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Qi(this,y),this.m=o.m}else o&&(m=String(o).match(Fi))?(this.h=!1,ha(this,m[1]||"",!0),this.o=Wn(m[2]||""),this.g=Wn(m[3]||"",!0),Ms(this,m[4]),this.l=Wn(m[5]||"",!0),Qi(this,m[6]||"",!0),this.m=Wn(m[7]||"")):(this.h=!1,this.i=new Ki(null,this.h))}ve.prototype.toString=function(){var o=[],m=this.j;m&&o.push(ma(m,$r,!0),":");var y=this.g;return(y||m=="file")&&(o.push("//"),(m=this.o)&&o.push(ma(m,$r,!0),"@"),o.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&o.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&o.push("/"),o.push(ma(y,y.charAt(0)=="/"?_c:Zr,!0))),(y=this.i.toString())&&o.push("?",y),(y=this.m)&&o.push("#",ma(y,tr)),o.join("")};function zn(o){return new ve(o)}function ha(o,m,y){o.j=y?Wn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Ms(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function Qi(o,m,y){m instanceof Ki?(o.i=m,vo(o.i,o.h)):(y||(m=ma(m,vc)),o.i=new Ki(m,o.h))}function Zt(o,m,y){o.i.set(m,y)}function da(o){return Zt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Wn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function ma(o,m,y){return typeof o=="string"?(o=encodeURI(o).replace(m,_o),y&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function _o(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var $r=/[#\/\?@]/g,Zr=/[#\?:]/g,_c=/[#\?]/g,vc=/[#\?@]/g,tr=/#/g;function Ki(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function ti(o){o.g||(o.g=new Map,o.h=0,o.i&&Kr(o.i,function(m,y){o.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}a=Ki.prototype,a.add=function(o,m){ti(this),this.i=null,o=xi(this,o);var y=this.g.get(o);return y||this.g.set(o,y=[]),y.push(m),this.h+=1,this};function $i(o,m){ti(o),m=xi(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function Zi(o,m){return ti(o),m=xi(o,m),o.g.has(m)}a.forEach=function(o,m){ti(this),this.g.forEach(function(y,S){y.forEach(function(B){o.call(m,B,S,this)},this)},this)},a.na=function(){ti(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let S=0;S<m.length;S++){const B=o[S];for(let F=0;F<B.length;F++)y.push(m[S])}return y},a.V=function(o){ti(this);let m=[];if(typeof o=="string")Zi(this,o)&&(m=m.concat(this.g.get(xi(this,o))));else{o=Array.from(this.g.values());for(let y=0;y<o.length;y++)m=m.concat(o[y])}return m},a.set=function(o,m){return ti(this),this.i=null,o=xi(this,o),Zi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},a.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function Jr(o,m,y){$i(o,m),0<y.length&&(o.i=null,o.g.set(xi(o,m),P(y)),o.h+=y.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var S=m[y];const F=encodeURIComponent(String(S)),ft=this.V(S);for(S=0;S<ft.length;S++){var B=F;ft[S]!==""&&(B+="="+encodeURIComponent(String(ft[S]))),o.push(B)}}return this.i=o.join("&")};function xi(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function vo(o,m){m&&!o.j&&(ti(o),o.i=null,o.g.forEach(function(y,S){var B=S.toLowerCase();S!=B&&($i(this,S),Jr(this,B,y))},o)),o.j=m}function ga(o,m){const y=new Dn;if(g.Image){const S=new Image;S.onload=R(ei,y,"TestLoadImage: loaded",!0,m,S),S.onerror=R(ei,y,"TestLoadImage: error",!1,m,S),S.onabort=R(ei,y,"TestLoadImage: abort",!1,m,S),S.ontimeout=R(ei,y,"TestLoadImage: timeout",!1,m,S),g.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=o}else m(!1)}function di(o,m){const y=new Dn,S=new AbortController,B=setTimeout(()=>{S.abort(),ei(y,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:S.signal}).then(F=>{clearTimeout(B),F.ok?ei(y,"TestPingServer: ok",!0,m):ei(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(B),ei(y,"TestPingServer: error",!1,m)})}function ei(o,m,y,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(y)}catch{}}function pa(){this.g=new fi}function Mi(o,m,y){const S=y||"";try{fa(o,function(B,F){let ft=B;p(B)&&(ft=In(B)),m.push(S+F+"="+encodeURIComponent(ft))})}catch(B){throw m.push(S+"type="+encodeURIComponent("_badmap")),B}}function Is(o){this.l=o.Ub||null,this.j=o.eb||!1}j(Is,oa),Is.prototype.g=function(){return new Ji(this.l,this.j)},Is.prototype.i=(function(o){return function(){return o}})({});function Ji(o,m){ie.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(Ji,ie),a=Ji.prototype,a.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Ci(this)},a.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ii(this)),this.readyState=0},a.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Ci(this)),this.g&&(this.readyState=3,Ci(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wr(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wr(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}a.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Ii(this):Ci(this),this.readyState==3&&Wr(this)}},a.Ra=function(o){this.g&&(this.response=this.responseText=o,Ii(this))},a.Qa=function(o){this.g&&(this.response=o,Ii(this))},a.ga=function(){this.g&&Ii(this)};function Ii(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Ci(o)}a.setRequestHeader=function(o,m){this.u.append(o,m)},a.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,o.push(y[0]+": "+y[1]),y=m.next();return o.join(`\r
`)};function Ci(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function tl(o){let m="";return at(o,function(y,S){m+=S,m+=":",m+=y,m+=`\r
`}),m}function qe(o,m,y){t:{for(S in y){var S=!1;break t}S=!0}S||(y=tl(y),typeof o=="string"?y!=null&&encodeURIComponent(String(y)):Zt(o,m,y))}function Ft(o){ie.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Ft,ie);var er=/^https?$/i,ya=["POST","PUT"];a=Ft.prototype,a.Ha=function(o){this.J=o},a.ea=function(o,m,y,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():On.g(),this.v=this.o?Es(this.o):Es(On),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(F){To(this,F);return}if(o=y||"",y=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)y.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())y.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(y.keys()).find(F=>F.toLowerCase()=="content-type"),B=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ya,m,void 0))||S||B||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ft]of y)this.g.setRequestHeader(F,ft);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_a(this),this.u=!0,this.g.send(o),this.u=!1}catch(F){To(this,F)}};function To(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,nr(o),Ni(o)}function nr(o){o.A||(o.A=!0,Ht(o,"complete"),Ht(o,"error"))}a.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Ht(this,"complete"),Ht(this,"abort"),Ni(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),Ft.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?ir(this):this.bb())},a.bb=function(){ir(this)};function ir(o){if(o.h&&typeof d<"u"&&(!o.v[1]||ni(o)!=4||o.Z()!=2)){if(o.u&&ni(o)==4)Me(o.Ea,0,o);else if(Ht(o,"readystatechange"),ni(o)==4){o.h=!1;try{const ft=o.Z();t:switch(ft){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var S;if(S=ft===0){var B=String(o.D).match(Fi)[1]||null;!B&&g.self&&g.self.location&&(B=g.self.location.protocol.slice(0,-1)),S=!er.test(B?B.toLowerCase():"")}y=S}if(y)Ht(o,"complete"),Ht(o,"success");else{o.m=6;try{var F=2<ni(o)?o.g.statusText:""}catch{F=""}o.l=F+" ["+o.Z()+"]",nr(o)}}finally{Ni(o)}}}}function Ni(o,m){if(o.g){_a(o);const y=o.g,S=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Ht(o,"ready");try{y.onreadystatechange=S}catch{}}}function _a(o){o.I&&(g.clearTimeout(o.I),o.I=null)}a.isActive=function(){return!!this.g};function ni(o){return o.g?o.g.readyState:0}a.Z=function(){try{return 2<ni(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Ts(m)}};function Eo(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Tc(o){const m={};o=(o.g&&2<=ni(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<o.length;S++){if(it(o[S]))continue;var y=O(o[S]);const B=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const F=m[B]||[];m[B]=F,F.push(y)}C(m,function(S){return S.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function va(o,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[o]||m}function sr(o){this.Aa=0,this.i=[],this.j=new Dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=va("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=va("baseRetryDelayMs",5e3,o),this.cb=va("retryDelaySeedMs",1e4,o),this.Wa=va("forwardChannelMaxRetries",2,o),this.wa=va("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new hi(o&&o.concurrentRequestLimit),this.Da=new pa,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=sr.prototype,a.la=8,a.G=1,a.connect=function(o,m,y,S){se(0),this.W=o,this.H=m||{},y&&S!==void 0&&(this.H.OSID=y,this.H.OAID=S),this.F=this.X,this.I=Mo(this,null,this.W),rr(this)};function el(o){if(So(o),o.G==3){var m=o.U++,y=zn(o.I);if(Zt(y,"SID",o.K),Zt(y,"RID",m),Zt(y,"TYPE","terminate"),Ta(o,y),m=new $e(o,o.j,m),m.L=2,m.v=da(zn(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=Io(m.j,null),m.g.ea(m.v)),m.F=Date.now(),jn(m)}xo(o)}function ar(o){o.g&&(Ea(o),o.g.cancel(),o.g=null)}function So(o){ar(o),o.u&&(g.clearTimeout(o.u),o.u=null),lr(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function rr(o){if(!bs(o.h)&&!o.s){o.s=!0;var m=o.Ga;st||N(),ot||(st(),ot=!0),Tt.add(m,o),o.B=0}}function Ec(o,m){return As(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=_e(E(o.Ga,o,m),sl(o,o.B)),o.B++,!0)}a.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const B=new $e(this,this.j,o);let F=this.o;if(this.S&&(F?(F=b(F),D(F,this.S)):F=this.S),this.m!==null||this.O||(B.H=F,F=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var S=this.i[y];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=bo(this,B,m),y=zn(this.I),Zt(y,"RID",o),Zt(y,"CVER",22),this.D&&Zt(y,"X-HTTP-Session-Id",this.D),Ta(this,y),F&&(this.O?m="headers="+encodeURIComponent(String(tl(F)))+"&"+m:this.m&&qe(y,this.m,F)),ws(this.h,B),this.Ua&&Zt(y,"TYPE","init"),this.P?(Zt(y,"$req",m),Zt(y,"SID","null"),B.T=!0,Un(B,y,null)):Un(B,y,m),this.G=2}}else this.G==3&&(o?nl(this,o):this.i.length==0||bs(this.h)||nl(this))};function nl(o,m){var y;m?y=m.l:y=o.U++;const S=zn(o.I);Zt(S,"SID",o.K),Zt(S,"RID",y),Zt(S,"AID",o.T),Ta(o,S),o.m&&o.o&&qe(S,o.m,o.o),y=new $e(o,o.j,y,o.B+1),o.m===null&&(y.H=o.o),m&&(o.i=m.D.concat(o.i)),m=bo(o,y,1e3),y.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),ws(o.h,y),Un(y,S,m)}function Ta(o,m){o.H&&at(o.H,function(y,S){Zt(m,S,y)}),o.l&&fa({},function(y,S){Zt(m,S,y)})}function bo(o,m,y){y=Math.min(o.i.length,y);var S=o.l?E(o.l.Na,o.l,o):null;t:{var B=o.i;let F=-1;for(;;){const ft=["count="+y];F==-1?0<y?(F=B[0].g,ft.push("ofs="+F)):F=0:ft.push("ofs="+F);let zt=!0;for(let ze=0;ze<y;ze++){let Pt=B[ze].g;const He=B[ze].map;if(Pt-=F,0>Pt)F=Math.max(0,B[ze].g-100),zt=!1;else try{Mi(He,ft,"req"+Pt+"_")}catch{S&&S(He)}}if(zt){S=ft.join("&");break t}}}return o=o.i.splice(0,y),m.D=o,S}function Ao(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;st||N(),ot||(st(),ot=!0),Tt.add(m,o),o.v=0}}function il(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=_e(E(o.Fa,o),sl(o,o.v)),o.v++,!0)}a.Fa=function(){if(this.u=null,Ro(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=_e(E(this.ab,this),o)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),ar(this),Ro(this))};function Ea(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function Ro(o){o.g=new $e(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=zn(o.qa);Zt(m,"RID","rpc"),Zt(m,"SID",o.K),Zt(m,"AID",o.T),Zt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Zt(m,"TO",o.ja),Zt(m,"TYPE","xmlhttp"),Ta(o,m),o.m&&o.o&&qe(m,o.m,o.o),o.L&&(o.g.I=o.L);var y=o.g;o=o.ia,y.L=1,y.v=da(zn(m)),y.m=null,y.P=!0,Tn(y,o)}a.Za=function(){this.C!=null&&(this.C=null,ar(this),il(this),se(19))};function lr(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function wo(o,m){var y=null;if(o.g==m){lr(o),Ea(o),o.g=null;var S=2}else if(Rs(o.h,m))y=m.D,Ze(o.h,m),S=1;else return;if(o.G!=0){if(m.o)if(S==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var B=o.B;S=bi(),Ht(S,new be(S,y)),rr(o)}else Ao(o);else if(B=m.s,B==3||B==0&&0<m.X||!(S==1&&Ec(o,m)||S==2&&il(o)))switch(y&&0<y.length&&(m=o.h,m.i=m.i.concat(y)),B){case 1:Wi(o,5);break;case 4:Wi(o,10);break;case 3:Wi(o,6);break;default:Wi(o,2)}}}function sl(o,m){let y=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(y*=2),y*m}function Wi(o,m){if(o.j.info("Error code "+m),m==2){var y=E(o.fb,o),S=o.Xa;const B=!S;S=new ve(S||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ha(S,"https"),da(S),B?ga(S.toString(),y):di(S.toString(),y)}else se(2);o.G=0,o.l&&o.l.sa(m),xo(o),So(o)}a.fb=function(o){o?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function xo(o){if(o.G=0,o.ka=[],o.l){const m=xs(o.h);(m.length!=0||o.i.length!=0)&&(z(o.ka,m),z(o.ka,o.i),o.h.i.length=0,P(o.i),o.i.length=0),o.l.ra()}}function Mo(o,m,y){var S=y instanceof ve?zn(y):new ve(y);if(S.g!="")m&&(S.g=m+"."+S.g),Ms(S,S.s);else{var B=g.location;S=B.protocol,m=m?m+"."+B.hostname:B.hostname,B=+B.port;var F=new ve(null);S&&ha(F,S),m&&(F.g=m),B&&Ms(F,B),y&&(F.l=y),S=F}return y=o.D,m=o.ya,y&&m&&Zt(S,y,m),Zt(S,"VER",o.la),Ta(o,S),S}function Io(o,m,y){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new Ft(new Is({eb:y})):new Ft(o.pa),m.Ha(o.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Co(){}a=Co.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function or(){}or.prototype.g=function(o,m){return new gn(o,m)};function gn(o,m){ie.call(this),this.g=new sr(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!it(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!it(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Di(this)}j(gn,ie),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){el(this.g)},gn.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var y={};y.__data__=o,o=y}else this.u&&(y={},y.__data__=In(o),o=y);m.i.push(new Wa(m.Ya++,o)),m.G==3&&rr(m)},gn.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,gn.aa.N.call(this)};function No(o){Nn.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const y in m){o=y;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}j(No,Nn);function Do(){ua.call(this),this.status=1}j(Do,ua);function Di(o){this.g=o}j(Di,Co),Di.prototype.ua=function(){Ht(this.g,"a")},Di.prototype.ta=function(o){Ht(this.g,new No(o))},Di.prototype.sa=function(o){Ht(this.g,new Do)},Di.prototype.ra=function(){Ht(this.g,"b")},or.prototype.createWebChannel=or.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,z0=function(){return new or},j0=function(){return bi()},U0=Zn,Uh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ie.NO_ERROR=0,Ie.TIMEOUT=8,Ie.HTTP_ERROR=6,Pu=Ie,Ce.COMPLETE="complete",L0=Ce,Ss.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",ie.prototype.listen=ie.prototype.K,Ql=Ss,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,V0=Ft}).apply(typeof Ou<"u"?Ou:typeof self<"u"?self:typeof window<"u"?window:{});const py="@firebase/firestore",yy="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(n){this.uid=n}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fr="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=new Wh("@firebase/firestore");function jr(){return Ha.logLevel}function yt(a,...n){if(Ha.logLevel<=qt.DEBUG){const s=n.map(id);Ha.debug(`Firestore (${Fr}): ${a}`,...s)}}function Xa(a,...n){if(Ha.logLevel<=qt.ERROR){const s=n.map(id);Ha.error(`Firestore (${Fr}): ${a}`,...s)}}function lc(a,...n){if(Ha.logLevel<=qt.WARN){const s=n.map(id);Ha.warn(`Firestore (${Fr}): ${a}`,...s)}}function id(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(s){return JSON.stringify(s)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(a,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,P0(a,r,s)}function P0(a,n,s){let r=`FIRESTORE (${Fr}) INTERNAL ASSERTION FAILED: ${n} (ID: ${a.toString(16)})`;if(s!==void 0)try{r+=" CONTEXT: "+JSON.stringify(s)}catch{r+=" CONTEXT: "+s}throw Xa(r),new Error(r)}function Se(a,n,s,r){let u="Unexpected state";typeof s=="string"?u=s:r=s,a||P0(n,u,r)}function le(a,n){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class bt extends ra{constructor(n,s){super(n,s),this.code=n,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.promise=new Promise(((n,s)=>{this.resolve=n,this.reject=s}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(n,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class qE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,s){n.enqueueRetryable((()=>s(fn.UNAUTHENTICATED)))}shutdown(){}}class HE{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,s){this.changeListener=s,n.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class XE{constructor(n){this.t=n,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,s){Se(this.o===void 0,42304);let r=this.i;const u=v=>this.i!==r?(r=this.i,s(v)):Promise.resolve();let f=new ka;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new ka,n.enqueueRetryable((()=>u(this.currentUser)))};const d=()=>{const v=f;n.enqueueRetryable((async()=>{await v.promise,await u(this.currentUser)}))},g=v=>{yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new ka)}}),0),d()}getToken(){const n=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((r=>this.i!==n?(yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string",31837,{l:r}),new k0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return Se(n===null||typeof n=="string",2055,{h:n}),new fn(n)}}class GE{constructor(n,s,r){this.P=n,this.T=s,this.I=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const n=this.R();return n&&this.A.set("Authorization",n),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YE{constructor(n,s,r){this.P=n,this.T=s,this.I=r}getToken(){return Promise.resolve(new GE(this.P,this.T,this.I))}start(n,s){n.enqueueRetryable((()=>s(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _y{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FE{constructor(n,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wE(n)&&n.settings.appCheckToken&&(this.p=n.settings.appCheckToken)}start(n,s){Se(this.o===void 0,3512);const r=f=>{f.error!=null&&yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.m;return this.m=f.token,yt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?s(f.token):Promise.resolve()};this.o=f=>{n.enqueueRetryable((()=>r(f)))};const u=f=>{yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((f=>u(f))),setTimeout((()=>{if(!this.appCheck){const f=this.V.getImmediate({optional:!0});f?u(f):yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _y(this.p));const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then((s=>s?(Se(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new _y(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(a){const n=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(a);if(n&&typeof n.getRandomValues=="function")n.getRandomValues(s);else for(let r=0;r<a;r++)s[r]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{static newId(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const u=QE(40);for(let f=0;f<u.length;++f)r.length<20&&u[f]<s&&(r+=n.charAt(u[f]%62))}return r}}function Qt(a,n){return a<n?-1:a>n?1:0}function jh(a,n){const s=Math.min(a.length,n.length);for(let r=0;r<s;r++){const u=a.charAt(r),f=n.charAt(r);if(u!==f)return bh(u)===bh(f)?Qt(u,f):bh(u)?1:-1}return Qt(a.length,n.length)}const KE=55296,$E=57343;function bh(a){const n=a.charCodeAt(0);return n>=KE&&n<=$E}function qr(a,n,s){return a.length===n.length&&a.every(((r,u)=>s(r,n[u])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="__name__";class Pi{constructor(n,s,r){s===void 0?s=0:s>n.length&&Dt(637,{offset:s,range:n.length}),r===void 0?r=n.length-s:r>n.length-s&&Dt(1746,{length:r,range:n.length-s}),this.segments=n,this.offset=s,this.len=r}get length(){return this.len}isEqual(n){return Pi.comparator(this,n)===0}child(n){const s=this.segments.slice(this.offset,this.limit());return n instanceof Pi?n.forEach((r=>{s.push(r)})):s.push(n),this.construct(s)}limit(){return this.offset+this.length}popFirst(n){return n=n===void 0?1:n,this.construct(this.segments,this.offset+n,this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return this.length===0}isPrefixOf(n){if(n.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==n.get(s))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==n.get(s))return!1;return!0}forEach(n){for(let s=this.offset,r=this.limit();s<r;s++)n(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,s){const r=Math.min(n.length,s.length);for(let u=0;u<r;u++){const f=Pi.compareSegments(n.get(u),s.get(u));if(f!==0)return f}return Qt(n.length,s.length)}static compareSegments(n,s){const r=Pi.isNumericId(n),u=Pi.isNumericId(s);return r&&!u?-1:!r&&u?1:r&&u?Pi.extractNumericId(n).compare(Pi.extractNumericId(s)):jh(n,s)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return nd.fromString(n.substring(4,n.length-2))}}class pe extends Pi{construct(n,s,r){return new pe(n,s,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const s=[];for(const r of n){if(r.indexOf("//")>=0)throw new bt(rt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);s.push(...r.split("/").filter((u=>u.length>0)))}return new pe(s)}static emptyPath(){return new pe([])}}const ZE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Pi{construct(n,s,r){return new an(n,s,r)}static isValidIdentifier(n){return ZE.test(n)}canonicalString(){return this.toArray().map((n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(n)||(n="`"+n+"`"),n))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vy}static keyField(){return new an([vy])}static fromServerFormat(n){const s=[];let r="",u=0;const f=()=>{if(r.length===0)throw new bt(rt.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(r),r=""};let d=!1;for(;u<n.length;){const g=n[u];if(g==="\\"){if(u+1===n.length)throw new bt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const v=n[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new bt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);r+=v,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(r+=g,u++):(f(),u++)}if(f(),d)throw new bt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new an(s)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(n){this.path=n}static fromPath(n){return new Mt(pe.fromString(n))}static fromName(n){return new Mt(pe.fromString(n).popFirst(5))}static empty(){return new Mt(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return n!==null&&pe.comparator(this.path,n.path)===0}toString(){return this.path.toString()}static comparator(n,s){return pe.comparator(n.path,s.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Mt(new pe(n.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(a,n,s){if(!s)throw new bt(rt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${n}.`)}function JE(a,n,s,r){if(n===!0&&r===!0)throw new bt(rt.INVALID_ARGUMENT,`${a} and ${s} cannot be used together.`)}function Ty(a){if(!Mt.isDocumentKey(a))throw new bt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Ey(a){if(Mt.isDocumentKey(a))throw new bt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function q0(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function ad(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const n=(function(r){return r.constructor?r.constructor.name:null})(a);return n?`a custom ${n} object`:"an object"}}return typeof a=="function"?"a function":Dt(12329,{type:typeof a})}function H0(a,n){if("_delegate"in a&&(a=a._delegate),!(a instanceof n)){if(n.name===a.constructor.name)throw new bt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=ad(a);throw new bt(rt.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${s}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(a,n){const s={typeString:a};return n&&(s.value=n),s}function co(a,n){if(!q0(a))throw new bt(rt.INVALID_ARGUMENT,"JSON must be an object");let s;for(const r in n)if(n[r]){const u=n[r].typeString,f="value"in n[r]?{value:n[r].value}:void 0;if(!(r in a)){s=`JSON missing required field: '${r}'`;break}const d=a[r];if(u&&typeof d!==u){s=`JSON field '${r}' must be a ${u}.`;break}if(f!==void 0&&d!==f.value){s=`Expected '${r}' field to equal '${f.value}'`;break}}if(s)throw new bt(rt.INVALID_ARGUMENT,s);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=-62135596800,by=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(n){return de.fromMillis(n.getTime())}static fromMillis(n){const s=Math.floor(n/1e3),r=Math.floor((n-1e3*s)*by);return new de(s,r)}constructor(n,s){if(this.seconds=n,this.nanoseconds=s,s<0)throw new bt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new bt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(n<Sy)throw new bt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new bt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/by}_compareTo(n){return this.seconds===n.seconds?Qt(this.nanoseconds,n.nanoseconds):Qt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(n){if(co(n,de._jsonSchema))return new de(n.seconds,n.nanoseconds)}valueOf(){const n=this.seconds-Sy;return String(n).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:Le("string",de._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{static fromTimestamp(n){return new he(n)}static min(){return new he(new de(0,0))}static max(){return new he(new de(253402300799,999999999))}constructor(n){this.timestamp=n}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=-1;function WE(a,n){const s=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,u=he.fromTimestamp(r===1e9?new de(s+1,0):new de(s,r));return new na(u,Mt.empty(),n)}function tS(a){return new na(a.readTime,a.key,so)}class na{constructor(n,s,r){this.readTime=n,this.documentKey=s,this.largestBatchId=r}static min(){return new na(he.min(),Mt.empty(),so)}static max(){return new na(he.max(),Mt.empty(),so)}}function eS(a,n){let s=a.readTime.compareTo(n.readTime);return s!==0?s:(s=Mt.comparator(a.documentKey,n.documentKey),s!==0?s:Qt(a.largestBatchId,n.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((n=>n()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rd(a){if(a.code!==rt.FAILED_PRECONDITION||a.message!==nS)throw a;yt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n((s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)}),(s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)}))}catch(n){return this.next(void 0,n)}next(n,s){return this.callbackAttached&&Dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(n,this.result):new et(((r,u)=>{this.nextCallback=f=>{this.wrapSuccess(n,f).next(r,u)},this.catchCallback=f=>{this.wrapFailure(s,f).next(r,u)}}))}toPromise(){return new Promise(((n,s)=>{this.next(n,s)}))}wrapUserFunction(n){try{const s=n();return s instanceof et?s:et.resolve(s)}catch(s){return et.reject(s)}}wrapSuccess(n,s){return n?this.wrapUserFunction((()=>n(s))):et.resolve(s)}wrapFailure(n,s){return n?this.wrapUserFunction((()=>n(s))):et.reject(s)}static resolve(n){return new et(((s,r)=>{s(n)}))}static reject(n){return new et(((s,r)=>{r(n)}))}static waitFor(n){return new et(((s,r)=>{let u=0,f=0,d=!1;n.forEach((g=>{++u,g.next((()=>{++f,d&&f===u&&s()}),(v=>r(v)))})),d=!0,f===u&&s()}))}static or(n){let s=et.resolve(!1);for(const r of n)s=s.next((u=>u?et.resolve(u):r()));return s}static forEach(n,s){const r=[];return n.forEach(((u,f)=>{r.push(s.call(this,u,f))})),this.waitFor(r)}static mapArray(n,s){return new et(((r,u)=>{const f=n.length,d=new Array(f);let g=0;for(let v=0;v<f;v++){const p=v;s(n[p]).next((A=>{d[p]=A,++g,g===f&&r(d)}),(A=>u(A)))}}))}static doWhile(n,s){return new et(((r,u)=>{const f=()=>{n()===!0?s().next((()=>{f()}),u):r()};f()}))}}function sS(a){const n=a.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function fo(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(n,s){this.previousValue=n,s&&(s.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>s.writeSequenceNumber(r))}ae(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ue&&this.ue(n),n}}ld.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=-1;function ud(a){return a==null}function Yu(a){return a===0&&1/a==-1/0}function aS(a){return typeof a=="number"&&Number.isInteger(a)&&!Yu(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="";function rS(a){let n="";for(let s=0;s<a.length;s++)n.length>0&&(n=Ay(n)),n=lS(a.get(s),n);return Ay(n)}function lS(a,n){let s=n;const r=a.length;for(let u=0;u<r;u++){const f=a.charAt(u);switch(f){case"\0":s+="";break;case X0:s+="";break;default:s+=f}}return s}function Ay(a){return a+X0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(a){let n=0;for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&n++;return n}function Qr(a,n){for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&n(s,a[s])}function G0(a){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(n,s){this.comparator=n,this.root=s||nn.EMPTY}insert(n,s){return new xn(this.comparator,this.root.insert(n,s,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(n){return new xn(this.comparator,this.root.remove(n,this.comparator).copy(null,null,nn.BLACK,null,null))}get(n){let s=this.root;for(;!s.isEmpty();){const r=this.comparator(n,s.key);if(r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}indexOf(n){let s=0,r=this.root;for(;!r.isEmpty();){const u=this.comparator(n,r.key);if(u===0)return s+r.left.size;u<0?r=r.left:(s+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal(((s,r)=>(n(s,r),!1)))}toString(){const n=[];return this.inorderTraversal(((s,r)=>(n.push(`${s}:${r}`),!1))),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Vu(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Vu(this.root,n,this.comparator,!1)}getReverseIterator(){return new Vu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Vu(this.root,n,this.comparator,!0)}}class Vu{constructor(n,s,r,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!n.isEmpty();)if(f=s?r(n.key,s):1,s&&u&&(f*=-1),f<0)n=this.isReverse?n.left:n.right;else{if(f===0){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const s={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class nn{constructor(n,s,r,u,f){this.key=n,this.value=s,this.color=r??nn.RED,this.left=u??nn.EMPTY,this.right=f??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,s,r,u,f){return new nn(n??this.key,s??this.value,r??this.color,u??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,s,r){let u=this;const f=r(n,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(n,s,r),null):f===0?u.copy(null,s,null,null,null):u.copy(null,null,null,null,u.right.insert(n,s,r)),u.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,s){let r,u=this;if(s(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,s),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),s(n,u.key)===0){if(u.right.isEmpty())return nn.EMPTY;r=u.right.min(),u=u.copy(r.key,r.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,s))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,s)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Dt(14113,{key:this.key,value:this.value});const n=this.left.check();if(n!==this.right.check())throw Dt(27949);return n+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt(57766)}get value(){throw Dt(16141)}get color(){throw Dt(16727)}get left(){throw Dt(29726)}get right(){throw Dt(36894)}copy(n,s,r,u,f){return this}insert(n,s,r){return new nn(n,s)}remove(n,s){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(n){this.comparator=n,this.data=new xn(this.comparator)}has(n){return this.data.get(n)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal(((s,r)=>(n(s),!1)))}forEachInRange(n,s){const r=this.data.getIteratorFrom(n[0]);for(;r.hasNext();){const u=r.getNext();if(this.comparator(u.key,n[1])>=0)return;s(u.key)}}forEachWhile(n,s){let r;for(r=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();r.hasNext();)if(!n(r.getNext().key))return}firstAfterOrEqual(n){const s=this.data.getIteratorFrom(n);return s.hasNext()?s.getNext().key:null}getIterator(){return new wy(this.data.getIterator())}getIteratorFrom(n){return new wy(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let s=this;return s.size<n.size&&(s=n,n=this),n.forEach((r=>{s=s.add(r)})),s}isEqual(n){if(!(n instanceof rn)||this.size!==n.size)return!1;const s=this.data.getIterator(),r=n.data.getIterator();for(;s.hasNext();){const u=s.getNext().key,f=r.getNext().key;if(this.comparator(u,f)!==0)return!1}return!0}toArray(){const n=[];return this.forEach((s=>{n.push(s)})),n}toString(){const n=[];return this.forEach((s=>n.push(s))),"SortedSet("+n.toString()+")"}copy(n){const s=new rn(this.comparator);return s.data=n,s}}class wy{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(n){this.fields=n,n.sort(an.comparator)}static empty(){return new Ti([])}unionWith(n){let s=new rn(an.comparator);for(const r of this.fields)s=s.add(r);for(const r of n)s=s.add(r);return new Ti(s.toArray())}covers(n){for(const s of this.fields)if(s.isPrefixOf(n))return!0;return!1}isEqual(n){return qr(this.fields,n.fields,((s,r)=>s.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(n){this.binaryString=n}static fromBase64String(n){const s=(function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new oS("Invalid base64 string: "+f):f}})(n);return new Bi(s)}static fromUint8Array(n){const s=(function(u){let f="";for(let d=0;d<u.length;++d)f+=String.fromCharCode(u[d]);return f})(n);return new Bi(s)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const r=new Uint8Array(s.length);for(let u=0;u<s.length;u++)r[u]=s.charCodeAt(u);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Qt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Bi.EMPTY_BYTE_STRING=new Bi("");const uS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ga(a){if(Se(!!a,39018),typeof a=="string"){let n=0;const s=uS.exec(a);if(Se(!!s,46558,{timestamp:a}),s[1]){let u=s[1];u=(u+"000000000").substr(0,9),n=Number(u)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:n}}return{seconds:sn(a.seconds),nanos:sn(a.nanos)}}function sn(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Hr(a){return typeof a=="string"?Bi.fromBase64String(a):Bi.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="server_timestamp",F0="__type__",Q0="__previous_value__",K0="__local_write_time__";function cd(a){return(a?.mapValue?.fields||{})[F0]?.stringValue===Y0}function fd(a){const n=a.mapValue.fields[Q0];return cd(n)?fd(n):n}function Fu(a){const n=Ga(a.mapValue.fields[K0].timestampValue);return new de(n.seconds,n.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(n,s,r,u,f,d,g,v,p,A){this.databaseId=n,this.appId=s,this.persistenceKey=r,this.host=u,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=p,this.isUsingEmulator=A}}const Qu="(default)";class Ku{constructor(n,s){this.projectId=n,this.database=s||Qu}static empty(){return new Ku("","")}get isDefaultDatabase(){return this.database===Qu}isEqual(n){return n instanceof Ku&&n.projectId===this.projectId&&n.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="__type__",fS="__max__",Lu={mapValue:{}},Z0="__vector__",zh="value";function Ya(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?cd(a)?4:dS(a)?9007199254740991:hS(a)?10:11:Dt(28295,{value:a})}function qi(a,n){if(a===n)return!0;const s=Ya(a);if(s!==Ya(n))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===n.booleanValue;case 4:return Fu(a).isEqual(Fu(n));case 3:return(function(u,f){if(typeof u.timestampValue=="string"&&typeof f.timestampValue=="string"&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const d=Ga(u.timestampValue),g=Ga(f.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(a,n);case 5:return a.stringValue===n.stringValue;case 6:return(function(u,f){return Hr(u.bytesValue).isEqual(Hr(f.bytesValue))})(a,n);case 7:return a.referenceValue===n.referenceValue;case 8:return(function(u,f){return sn(u.geoPointValue.latitude)===sn(f.geoPointValue.latitude)&&sn(u.geoPointValue.longitude)===sn(f.geoPointValue.longitude)})(a,n);case 2:return(function(u,f){if("integerValue"in u&&"integerValue"in f)return sn(u.integerValue)===sn(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const d=sn(u.doubleValue),g=sn(f.doubleValue);return d===g?Yu(d)===Yu(g):isNaN(d)&&isNaN(g)}return!1})(a,n);case 9:return qr(a.arrayValue.values||[],n.arrayValue.values||[],qi);case 10:case 11:return(function(u,f){const d=u.mapValue.fields||{},g=f.mapValue.fields||{};if(Ry(d)!==Ry(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!qi(d[v],g[v])))return!1;return!0})(a,n);default:return Dt(52216,{left:a})}}function ao(a,n){return(a.values||[]).find((s=>qi(s,n)))!==void 0}function Xr(a,n){if(a===n)return 0;const s=Ya(a),r=Ya(n);if(s!==r)return Qt(s,r);switch(s){case 0:case 9007199254740991:return 0;case 1:return Qt(a.booleanValue,n.booleanValue);case 2:return(function(f,d){const g=sn(f.integerValue||f.doubleValue),v=sn(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(a,n);case 3:return xy(a.timestampValue,n.timestampValue);case 4:return xy(Fu(a),Fu(n));case 5:return jh(a.stringValue,n.stringValue);case 6:return(function(f,d){const g=Hr(f),v=Hr(d);return g.compareTo(v)})(a.bytesValue,n.bytesValue);case 7:return(function(f,d){const g=f.split("/"),v=d.split("/");for(let p=0;p<g.length&&p<v.length;p++){const A=Qt(g[p],v[p]);if(A!==0)return A}return Qt(g.length,v.length)})(a.referenceValue,n.referenceValue);case 8:return(function(f,d){const g=Qt(sn(f.latitude),sn(d.latitude));return g!==0?g:Qt(sn(f.longitude),sn(d.longitude))})(a.geoPointValue,n.geoPointValue);case 9:return My(a.arrayValue,n.arrayValue);case 10:return(function(f,d){const g=f.fields||{},v=d.fields||{},p=g[zh]?.arrayValue,A=v[zh]?.arrayValue,w=Qt(p?.values?.length||0,A?.values?.length||0);return w!==0?w:My(p,A)})(a.mapValue,n.mapValue);case 11:return(function(f,d){if(f===Lu.mapValue&&d===Lu.mapValue)return 0;if(f===Lu.mapValue)return 1;if(d===Lu.mapValue)return-1;const g=f.fields||{},v=Object.keys(g),p=d.fields||{},A=Object.keys(p);v.sort(),A.sort();for(let w=0;w<v.length&&w<A.length;++w){const E=jh(v[w],A[w]);if(E!==0)return E;const R=Xr(g[v[w]],p[A[w]]);if(R!==0)return R}return Qt(v.length,A.length)})(a.mapValue,n.mapValue);default:throw Dt(23264,{he:s})}}function xy(a,n){if(typeof a=="string"&&typeof n=="string"&&a.length===n.length)return Qt(a,n);const s=Ga(a),r=Ga(n),u=Qt(s.seconds,r.seconds);return u!==0?u:Qt(s.nanos,r.nanos)}function My(a,n){const s=a.values||[],r=n.values||[];for(let u=0;u<s.length&&u<r.length;++u){const f=Xr(s[u],r[u]);if(f)return f}return Qt(s.length,r.length)}function Gr(a){return Ph(a)}function Ph(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(s){const r=Ga(s);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(s){return Hr(s).toBase64()})(a.bytesValue):"referenceValue"in a?(function(s){return Mt.fromName(s).toString()})(a.referenceValue):"geoPointValue"in a?(function(s){return`geo(${s.latitude},${s.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(s){let r="[",u=!0;for(const f of s.values||[])u?u=!1:r+=",",r+=Ph(f);return r+"]"})(a.arrayValue):"mapValue"in a?(function(s){const r=Object.keys(s.fields||{}).sort();let u="{",f=!0;for(const d of r)f?f=!1:u+=",",u+=`${d}:${Ph(s.fields[d])}`;return u+"}"})(a.mapValue):Dt(61005,{value:a})}function ku(a){switch(Ya(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=fd(a);return n?16+ku(n):16;case 5:return 2*a.stringValue.length;case 6:return Hr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((u,f)=>u+ku(f)),0)})(a.arrayValue);case 10:case 11:return(function(r){let u=0;return Qr(r.fields,((f,d)=>{u+=f.length+ku(d)})),u})(a.mapValue);default:throw Dt(13486,{value:a})}}function kh(a){return!!a&&"integerValue"in a}function hd(a){return!!a&&"arrayValue"in a}function Bu(a){return!!a&&"mapValue"in a}function hS(a){return(a?.mapValue?.fields||{})[$0]?.stringValue===Z0}function $l(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const n={mapValue:{fields:{}}};return Qr(a.mapValue.fields,((s,r)=>n.mapValue.fields[s]=$l(r))),n}if(a.arrayValue){const n={arrayValue:{values:[]}};for(let s=0;s<(a.arrayValue.values||[]).length;++s)n.arrayValue.values[s]=$l(a.arrayValue.values[s]);return n}return{...a}}function dS(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===fS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(n){this.value=n}static empty(){return new _i({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let s=this.value;for(let r=0;r<n.length-1;++r)if(s=(s.mapValue.fields||{})[n.get(r)],!Bu(s))return null;return s=(s.mapValue.fields||{})[n.lastSegment()],s||null}}set(n,s){this.getFieldsMap(n.popLast())[n.lastSegment()]=$l(s)}setAll(n){let s=an.emptyPath(),r={},u=[];n.forEach(((d,g)=>{if(!s.isImmediateParentOf(g)){const v=this.getFieldsMap(s);this.applyChanges(v,r,u),r={},u=[],s=g.popLast()}d?r[g.lastSegment()]=$l(d):u.push(g.lastSegment())}));const f=this.getFieldsMap(s);this.applyChanges(f,r,u)}delete(n){const s=this.field(n.popLast());Bu(s)&&s.mapValue.fields&&delete s.mapValue.fields[n.lastSegment()]}isEqual(n){return qi(this.value,n.value)}getFieldsMap(n){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let r=0;r<n.length;++r){let u=s.mapValue.fields[n.get(r)];Bu(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},s.mapValue.fields[n.get(r)]=u),s=u}return s.mapValue.fields}applyChanges(n,s,r){Qr(s,((u,f)=>n[u]=f));for(const u of r)delete n[u]}clone(){return new _i($l(this.value))}}function J0(a){const n=[];return Qr(a.fields,((s,r)=>{const u=new an([s]);if(Bu(r)){const f=J0(r.mapValue).fields;if(f.length===0)n.push(u);else for(const d of f)n.push(u.child(d))}else n.push(u)})),new Ti(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(n,s,r,u,f,d,g){this.key=n,this.documentType=s,this.version=r,this.readTime=u,this.createTime=f,this.data=d,this.documentState=g}static newInvalidDocument(n){return new yi(n,0,he.min(),he.min(),he.min(),_i.empty(),0)}static newFoundDocument(n,s,r,u){return new yi(n,1,s,he.min(),r,u,0)}static newNoDocument(n,s){return new yi(n,2,s,he.min(),he.min(),_i.empty(),0)}static newUnknownDocument(n,s){return new yi(n,3,s,he.min(),he.min(),_i.empty(),2)}convertToFoundDocument(n,s){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=n),this.version=n,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=_i.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=_i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(n){return n instanceof yi&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new yi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(n,s){this.position=n,this.inclusive=s}}function Iy(a,n,s){let r=0;for(let u=0;u<a.position.length;u++){const f=n[u],d=a.position[u];if(f.field.isKeyField()?r=Mt.comparator(Mt.fromName(d.referenceValue),s.key):r=Xr(d,s.data.field(f.field)),f.dir==="desc"&&(r*=-1),r!==0)break}return r}function Cy(a,n){if(a===null)return n===null;if(n===null||a.inclusive!==n.inclusive||a.position.length!==n.position.length)return!1;for(let s=0;s<a.position.length;s++)if(!qi(a.position[s],n.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(n,s="asc"){this.field=n,this.dir=s}}function mS(a,n){return a.dir===n.dir&&a.field.isEqual(n.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{}class Qe extends W0{constructor(n,s,r){super(),this.field=n,this.op=s,this.value=r}static create(n,s,r){return n.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(n,s,r):new pS(n,s,r):s==="array-contains"?new vS(n,r):s==="in"?new TS(n,r):s==="not-in"?new ES(n,r):s==="array-contains-any"?new SS(n,r):new Qe(n,s,r)}static createKeyFieldInFilter(n,s,r){return s==="in"?new yS(n,r):new _S(n,r)}matches(n){const s=n.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(Xr(s,this.value)):s!==null&&Ya(this.value)===Ya(s)&&this.matchesComparison(Xr(s,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ia extends W0{constructor(n,s){super(),this.filters=n,this.op=s,this.Pe=null}static create(n,s){return new ia(n,s)}matches(n){return t_(this)?this.filters.find((s=>!s.matches(n)))===void 0:this.filters.find((s=>s.matches(n)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((n,s)=>n.concat(s.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function t_(a){return a.op==="and"}function e_(a){return gS(a)&&t_(a)}function gS(a){for(const n of a.filters)if(n instanceof ia)return!1;return!0}function Bh(a){if(a instanceof Qe)return a.field.canonicalString()+a.op.toString()+Gr(a.value);if(e_(a))return a.filters.map((n=>Bh(n))).join(",");{const n=a.filters.map((s=>Bh(s))).join(",");return`${a.op}(${n})`}}function n_(a,n){return a instanceof Qe?(function(r,u){return u instanceof Qe&&r.op===u.op&&r.field.isEqual(u.field)&&qi(r.value,u.value)})(a,n):a instanceof ia?(function(r,u){return u instanceof ia&&r.op===u.op&&r.filters.length===u.filters.length?r.filters.reduce(((f,d,g)=>f&&n_(d,u.filters[g])),!0):!1})(a,n):void Dt(19439)}function i_(a){return a instanceof Qe?(function(s){return`${s.field.canonicalString()} ${s.op} ${Gr(s.value)}`})(a):a instanceof ia?(function(s){return s.op.toString()+" {"+s.getFilters().map(i_).join(" ,")+"}"})(a):"Filter"}class pS extends Qe{constructor(n,s,r){super(n,s,r),this.key=Mt.fromName(r.referenceValue)}matches(n){const s=Mt.comparator(n.key,this.key);return this.matchesComparison(s)}}class yS extends Qe{constructor(n,s){super(n,"in",s),this.keys=s_("in",s)}matches(n){return this.keys.some((s=>s.isEqual(n.key)))}}class _S extends Qe{constructor(n,s){super(n,"not-in",s),this.keys=s_("not-in",s)}matches(n){return!this.keys.some((s=>s.isEqual(n.key)))}}function s_(a,n){return(n.arrayValue?.values||[]).map((s=>Mt.fromName(s.referenceValue)))}class vS extends Qe{constructor(n,s){super(n,"array-contains",s)}matches(n){const s=n.data.field(this.field);return hd(s)&&ao(s.arrayValue,this.value)}}class TS extends Qe{constructor(n,s){super(n,"in",s)}matches(n){const s=n.data.field(this.field);return s!==null&&ao(this.value.arrayValue,s)}}class ES extends Qe{constructor(n,s){super(n,"not-in",s)}matches(n){if(ao(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=n.data.field(this.field);return s!==null&&s.nullValue===void 0&&!ao(this.value.arrayValue,s)}}class SS extends Qe{constructor(n,s){super(n,"array-contains-any",s)}matches(n){const s=n.data.field(this.field);return!(!hd(s)||!s.arrayValue.values)&&s.arrayValue.values.some((r=>ao(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(n,s=null,r=[],u=[],f=null,d=null,g=null){this.path=n,this.collectionGroup=s,this.orderBy=r,this.filters=u,this.limit=f,this.startAt=d,this.endAt=g,this.Te=null}}function Ny(a,n=null,s=[],r=[],u=null,f=null,d=null){return new bS(a,n,s,r,u,f,d)}function dd(a){const n=le(a);if(n.Te===null){let s=n.path.canonicalString();n.collectionGroup!==null&&(s+="|cg:"+n.collectionGroup),s+="|f:",s+=n.filters.map((r=>Bh(r))).join(","),s+="|ob:",s+=n.orderBy.map((r=>(function(f){return f.field.canonicalString()+f.dir})(r))).join(","),ud(n.limit)||(s+="|l:",s+=n.limit),n.startAt&&(s+="|lb:",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((r=>Gr(r))).join(",")),n.endAt&&(s+="|ub:",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((r=>Gr(r))).join(",")),n.Te=s}return n.Te}function md(a,n){if(a.limit!==n.limit||a.orderBy.length!==n.orderBy.length)return!1;for(let s=0;s<a.orderBy.length;s++)if(!mS(a.orderBy[s],n.orderBy[s]))return!1;if(a.filters.length!==n.filters.length)return!1;for(let s=0;s<a.filters.length;s++)if(!n_(a.filters[s],n.filters[s]))return!1;return a.collectionGroup===n.collectionGroup&&!!a.path.isEqual(n.path)&&!!Cy(a.startAt,n.startAt)&&Cy(a.endAt,n.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(n,s=null,r=[],u=[],f=null,d="F",g=null,v=null){this.path=n,this.collectionGroup=s,this.explicitOrderBy=r,this.filters=u,this.limit=f,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function AS(a,n,s,r,u,f,d,g){return new oc(a,n,s,r,u,f,d,g)}function RS(a){return new oc(a)}function Dy(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function wS(a){return a.collectionGroup!==null}function Zl(a){const n=le(a);if(n.Ie===null){n.Ie=[];const s=new Set;for(const f of n.explicitOrderBy)n.Ie.push(f),s.add(f.field.canonicalString());const r=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new rn(an.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(n).forEach((f=>{s.has(f.canonicalString())||f.isKeyField()||n.Ie.push(new Zu(f,r))})),s.has(an.keyField().canonicalString())||n.Ie.push(new Zu(an.keyField(),r))}return n.Ie}function Ba(a){const n=le(a);return n.Ee||(n.Ee=xS(n,Zl(a))),n.Ee}function xS(a,n){if(a.limitType==="F")return Ny(a.path,a.collectionGroup,n,a.filters,a.limit,a.startAt,a.endAt);{n=n.map((u=>{const f=u.dir==="desc"?"asc":"desc";return new Zu(u.field,f)}));const s=a.endAt?new $u(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new $u(a.startAt.position,a.startAt.inclusive):null;return Ny(a.path,a.collectionGroup,n,a.filters,a.limit,s,r)}}function qh(a,n,s){return new oc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),n,s,a.startAt,a.endAt)}function a_(a,n){return md(Ba(a),Ba(n))&&a.limitType===n.limitType}function r_(a){return`${dd(Ba(a))}|lt:${a.limitType}`}function Fl(a){return`Query(target=${(function(s){let r=s.path.canonicalString();return s.collectionGroup!==null&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map((u=>i_(u))).join(", ")}]`),ud(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map((u=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(u))).join(", ")}]`),s.startAt&&(r+=", startAt: ",r+=s.startAt.inclusive?"b:":"a:",r+=s.startAt.position.map((u=>Gr(u))).join(",")),s.endAt&&(r+=", endAt: ",r+=s.endAt.inclusive?"a:":"b:",r+=s.endAt.position.map((u=>Gr(u))).join(",")),`Target(${r})`})(Ba(a))}; limitType=${a.limitType})`}function gd(a,n){return n.isFoundDocument()&&(function(r,u){const f=u.key.path;return r.collectionGroup!==null?u.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(f):Mt.isDocumentKey(r.path)?r.path.isEqual(f):r.path.isImmediateParentOf(f)})(a,n)&&(function(r,u){for(const f of Zl(r))if(!f.field.isKeyField()&&u.data.field(f.field)===null)return!1;return!0})(a,n)&&(function(r,u){for(const f of r.filters)if(!f.matches(u))return!1;return!0})(a,n)&&(function(r,u){return!(r.startAt&&!(function(d,g,v){const p=Iy(d,g,v);return d.inclusive?p<=0:p<0})(r.startAt,Zl(r),u)||r.endAt&&!(function(d,g,v){const p=Iy(d,g,v);return d.inclusive?p>=0:p>0})(r.endAt,Zl(r),u))})(a,n)}function MS(a){return(n,s)=>{let r=!1;for(const u of Zl(a)){const f=IS(u,n,s);if(f!==0)return f;r=r||u.field.isKeyField()}return 0}}function IS(a,n,s){const r=a.field.isKeyField()?Mt.comparator(n.key,s.key):(function(f,d,g){const v=d.data.field(f),p=g.data.field(f);return v!==null&&p!==null?Xr(v,p):Dt(42886)})(a.field,n,s);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return Dt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(n,s){this.mapKeyFn=n,this.equalsFn=s,this.inner={},this.innerSize=0}get(n){const s=this.mapKeyFn(n),r=this.inner[s];if(r!==void 0){for(const[u,f]of r)if(this.equalsFn(u,n))return f}}has(n){return this.get(n)!==void 0}set(n,s){const r=this.mapKeyFn(n),u=this.inner[r];if(u===void 0)return this.inner[r]=[[n,s]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],n))return void(u[f]=[n,s]);u.push([n,s]),this.innerSize++}delete(n){const s=this.mapKeyFn(n),r=this.inner[s];if(r===void 0)return!1;for(let u=0;u<r.length;u++)if(this.equalsFn(r[u][0],n))return r.length===1?delete this.inner[s]:r.splice(u,1),this.innerSize--,!0;return!1}forEach(n){Qr(this.inner,((s,r)=>{for(const[u,f]of r)n(u,f)}))}isEmpty(){return G0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=new xn(Mt.comparator);function Ju(){return CS}const l_=new xn(Mt.comparator);function Uu(...a){let n=l_;for(const s of a)n=n.insert(s.key,s);return n}function o_(a){let n=l_;return a.forEach(((s,r)=>n=n.insert(s,r.overlayedDocument))),n}function za(){return Jl()}function u_(){return Jl()}function Jl(){return new Ka((a=>a.toString()),((a,n)=>a.isEqual(n)))}const NS=new xn(Mt.comparator),DS=new rn(Mt.comparator);function hn(...a){let n=DS;for(const s of a)n=n.add(s);return n}const OS=new rn(Qt);function VS(){return OS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(a,n){if(a.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yu(n)?"-0":n}}function c_(a){return{integerValue:""+a}}function LS(a,n){return aS(n)?c_(n):pd(a,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(){this._=void 0}}function US(a,n,s){return a instanceof ro?(function(u,f){const d={fields:{[F0]:{stringValue:Y0},[K0]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&cd(f)&&(f=fd(f)),f&&(d.fields[Q0]=f),{mapValue:d}})(s,n):a instanceof lo?h_(a,n):a instanceof oo?d_(a,n):(function(u,f){const d=f_(u,f),g=Oy(d)+Oy(u.Ae);return kh(d)&&kh(u.Ae)?c_(g):pd(u.serializer,g)})(a,n)}function jS(a,n,s){return a instanceof lo?h_(a,n):a instanceof oo?d_(a,n):s}function f_(a,n){return a instanceof Wu?(function(r){return kh(r)||(function(f){return!!f&&"doubleValue"in f})(r)})(n)?n:{integerValue:0}:null}class ro extends uc{}class lo extends uc{constructor(n){super(),this.elements=n}}function h_(a,n){const s=m_(n);for(const r of a.elements)s.some((u=>qi(u,r)))||s.push(r);return{arrayValue:{values:s}}}class oo extends uc{constructor(n){super(),this.elements=n}}function d_(a,n){let s=m_(n);for(const r of a.elements)s=s.filter((u=>!qi(u,r)));return{arrayValue:{values:s}}}class Wu extends uc{constructor(n,s){super(),this.serializer=n,this.Ae=s}}function Oy(a){return sn(a.integerValue||a.doubleValue)}function m_(a){return hd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(n,s){this.field=n,this.transform=s}}function PS(a,n){return a.field.isEqual(n.field)&&(function(r,u){return r instanceof lo&&u instanceof lo||r instanceof oo&&u instanceof oo?qr(r.elements,u.elements,qi):r instanceof Wu&&u instanceof Wu?qi(r.Ae,u.Ae):r instanceof ro&&u instanceof ro})(a.transform,n.transform)}class kS{constructor(n,s){this.version=n,this.transformResults=s}}class ms{constructor(n,s){this.updateTime=n,this.exists=s}static none(){return new ms}static exists(n){return new ms(void 0,n)}static updateTime(n){return new ms(n)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function qu(a,n){return a.updateTime!==void 0?n.isFoundDocument()&&n.version.isEqual(a.updateTime):a.exists===void 0||a.exists===n.isFoundDocument()}class cc{}function g_(a,n){if(!a.hasLocalMutations||n&&n.fields.length===0)return null;if(n===null)return a.isNoDocument()?new y_(a.key,ms.none()):new ho(a.key,a.data,ms.none());{const s=a.data,r=_i.empty();let u=new rn(an.comparator);for(let f of n.fields)if(!u.has(f)){let d=s.field(f);d===null&&f.length>1&&(f=f.popLast(),d=s.field(f)),d===null?r.delete(f):r.set(f,d),u=u.add(f)}return new $a(a.key,r,new Ti(u.toArray()),ms.none())}}function BS(a,n,s){a instanceof ho?(function(u,f,d){const g=u.value.clone(),v=Ly(u.fieldTransforms,f,d.transformResults);g.setAll(v),f.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(a,n,s):a instanceof $a?(function(u,f,d){if(!qu(u.precondition,f))return void f.convertToUnknownDocument(d.version);const g=Ly(u.fieldTransforms,f,d.transformResults),v=f.data;v.setAll(p_(u)),v.setAll(g),f.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(a,n,s):(function(u,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()})(0,n,s)}function Wl(a,n,s,r){return a instanceof ho?(function(f,d,g,v){if(!qu(f.precondition,d))return g;const p=f.value.clone(),A=Uy(f.fieldTransforms,v,d);return p.setAll(A),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(a,n,s,r):a instanceof $a?(function(f,d,g,v){if(!qu(f.precondition,d))return g;const p=Uy(f.fieldTransforms,v,d),A=d.data;return A.setAll(p_(f)),A.setAll(p),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map((w=>w.field)))})(a,n,s,r):(function(f,d,g){return qu(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(a,n,s)}function qS(a,n){let s=null;for(const r of a.fieldTransforms){const u=n.data.field(r.field),f=f_(r.transform,u||null);f!=null&&(s===null&&(s=_i.empty()),s.set(r.field,f))}return s||null}function Vy(a,n){return a.type===n.type&&!!a.key.isEqual(n.key)&&!!a.precondition.isEqual(n.precondition)&&!!(function(r,u){return r===void 0&&u===void 0||!(!r||!u)&&qr(r,u,((f,d)=>PS(f,d)))})(a.fieldTransforms,n.fieldTransforms)&&(a.type===0?a.value.isEqual(n.value):a.type!==1||a.data.isEqual(n.data)&&a.fieldMask.isEqual(n.fieldMask))}class ho extends cc{constructor(n,s,r,u=[]){super(),this.key=n,this.value=s,this.precondition=r,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class $a extends cc{constructor(n,s,r,u,f=[]){super(),this.key=n,this.data=s,this.fieldMask=r,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function p_(a){const n=new Map;return a.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const r=a.data.field(s);n.set(s,r)}})),n}function Ly(a,n,s){const r=new Map;Se(a.length===s.length,32656,{Re:s.length,Ve:a.length});for(let u=0;u<s.length;u++){const f=a[u],d=f.transform,g=n.data.field(f.field);r.set(f.field,jS(d,g,s[u]))}return r}function Uy(a,n,s){const r=new Map;for(const u of a){const f=u.transform,d=s.data.field(u.field);r.set(u.field,US(f,d,n))}return r}class y_ extends cc{constructor(n,s){super(),this.key=n,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HS extends cc{constructor(n,s){super(),this.key=n,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(n,s,r,u){this.batchId=n,this.localWriteTime=s,this.baseMutations=r,this.mutations=u}applyToRemoteDocument(n,s){const r=s.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(n.key)&&BS(f,n,r[u])}}applyToLocalView(n,s){for(const r of this.baseMutations)r.key.isEqual(n.key)&&(s=Wl(r,n,s,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(n.key)&&(s=Wl(r,n,s,this.localWriteTime));return s}applyToLocalDocumentSet(n,s){const r=u_();return this.mutations.forEach((u=>{const f=n.get(u.key),d=f.overlayedDocument;let g=this.applyToLocalView(d,f.mutatedFields);g=s.has(u.key)?null:g;const v=g_(d,g);v!==null&&r.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(he.min())})),r}keys(){return this.mutations.reduce(((n,s)=>n.add(s.key)),hn())}isEqual(n){return this.batchId===n.batchId&&qr(this.mutations,n.mutations,((s,r)=>Vy(s,r)))&&qr(this.baseMutations,n.baseMutations,((s,r)=>Vy(s,r)))}}class yd{constructor(n,s,r,u){this.batch=n,this.commitVersion=s,this.mutationResults=r,this.docVersions=u}static from(n,s,r){Se(n.mutations.length===r.length,58842,{me:n.mutations.length,fe:r.length});let u=(function(){return NS})();const f=n.mutations;for(let d=0;d<f.length;d++)u=u.insert(f[d].key,r[d].version);return new yd(n,s,r,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(n,s){this.largestBatchId=n,this.mutation=s}getKey(){return this.mutation.key}isEqual(n){return n!==null&&this.mutation===n.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe,Bt;function YS(a){switch(a){case rt.OK:return Dt(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return Dt(15467,{code:a})}}function FS(a){if(a===void 0)return Xa("GRPC error has no .code"),rt.UNKNOWN;switch(a){case Oe.OK:return rt.OK;case Oe.CANCELLED:return rt.CANCELLED;case Oe.UNKNOWN:return rt.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return rt.INTERNAL;case Oe.UNAVAILABLE:return rt.UNAVAILABLE;case Oe.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case Oe.NOT_FOUND:return rt.NOT_FOUND;case Oe.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case Oe.ABORTED:return rt.ABORTED;case Oe.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case Oe.DATA_LOSS:return rt.DATA_LOSS;default:return Dt(39323,{code:a})}}(Bt=Oe||(Oe={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new nd([4294967295,4294967295],0);class QS{constructor(n,s){this.databaseId=n,this.useProto3Json=s}}function Hh(a,n){return a.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function KS(a,n){return a.useProto3Json?n.toBase64():n.toUint8Array()}function $S(a,n){return Hh(a,n.toTimestamp())}function kr(a){return Se(!!a,49232),he.fromTimestamp((function(s){const r=Ga(s);return new de(r.seconds,r.nanos)})(a))}function __(a,n){return Xh(a,n).canonicalString()}function Xh(a,n){const s=(function(u){return new pe(["projects",u.projectId,"databases",u.database])})(a).child("documents");return n===void 0?s:s.child(n)}function ZS(a){const n=pe.fromString(a);return Se(ab(n),10190,{key:n.toString()}),n}function Gh(a,n){return __(a.databaseId,n.path)}function JS(a){const n=ZS(a);return n.length===4?pe.emptyPath():tb(n)}function WS(a){return new pe(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function tb(a){return Se(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function jy(a,n,s){return{name:Gh(a,n),fields:s.value.mapValue.fields}}function eb(a,n){let s;if(n instanceof ho)s={update:jy(a,n.key,n.value)};else if(n instanceof y_)s={delete:Gh(a,n.key)};else if(n instanceof $a)s={update:jy(a,n.key,n.data),updateMask:sb(n.fieldMask)};else{if(!(n instanceof HS))return Dt(16599,{Vt:n.type});s={verify:Gh(a,n.key)}}return n.fieldTransforms.length>0&&(s.updateTransforms=n.fieldTransforms.map((r=>(function(f,d){const g=d.transform;if(g instanceof ro)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof lo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof oo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Wu)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Dt(20930,{transform:d.transform})})(0,r)))),n.precondition.isNone||(s.currentDocument=(function(u,f){return f.updateTime!==void 0?{updateTime:$S(u,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:Dt(27497)})(a,n.precondition)),s}function nb(a,n){return a&&a.length>0?(Se(n!==void 0,14353),a.map((s=>(function(u,f){let d=u.updateTime?kr(u.updateTime):kr(f);return d.isEqual(he.min())&&(d=kr(f)),new kS(d,u.transformResults||[])})(s,n)))):[]}function ib(a){let n=JS(a.parent);const s=a.structuredQuery,r=s.from?s.from.length:0;let u=null;if(r>0){Se(r===1,65062);const A=s.from[0];A.allDescendants?u=A.collectionId:n=n.child(A.collectionId)}let f=[];s.where&&(f=(function(w){const E=v_(w);return E instanceof ia&&e_(E)?E.getFilters():[E]})(s.where));let d=[];s.orderBy&&(d=(function(w){return w.map((E=>(function(j){return new Zu(zr(j.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(E)))})(s.orderBy));let g=null;s.limit&&(g=(function(w){let E;return E=typeof w=="object"?w.value:w,ud(E)?null:E})(s.limit));let v=null;s.startAt&&(v=(function(w){const E=!!w.before,R=w.values||[];return new $u(R,E)})(s.startAt));let p=null;return s.endAt&&(p=(function(w){const E=!w.before,R=w.values||[];return new $u(R,E)})(s.endAt)),AS(n,u,d,f,g,"F",v,p)}function v_(a){return a.unaryFilter!==void 0?(function(s){switch(s.unaryFilter.op){case"IS_NAN":const r=zr(s.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const u=zr(s.unaryFilter.field);return Qe.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=zr(s.unaryFilter.field);return Qe.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=zr(s.unaryFilter.field);return Qe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Dt(61313);default:return Dt(60726)}})(a):a.fieldFilter!==void 0?(function(s){return Qe.create(zr(s.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Dt(58110);default:return Dt(50506)}})(s.fieldFilter.op),s.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(s){return ia.create(s.compositeFilter.filters.map((r=>v_(r))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Dt(1026)}})(s.compositeFilter.op))})(a):Dt(30097,{filter:a})}function zr(a){return an.fromServerFormat(a.fieldPath)}function sb(a){const n=[];return a.fields.forEach((s=>n.push(s.canonicalString()))),{fieldPaths:n}}function ab(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(n){this.yt=n}}function lb(a){const n=ib({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?qh(n,n.limit,"L"):n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(){this.Cn=new ub}addToCollectionParentIndex(n,s){return this.Cn.add(s),et.resolve()}getCollectionParents(n,s){return et.resolve(this.Cn.getEntries(s))}addFieldIndex(n,s){return et.resolve()}deleteFieldIndex(n,s){return et.resolve()}deleteAllFieldIndexes(n){return et.resolve()}createTargetIndexes(n,s){return et.resolve()}getDocumentsMatchingTarget(n,s){return et.resolve(null)}getIndexType(n,s){return et.resolve(0)}getFieldIndexes(n,s){return et.resolve([])}getNextCollectionGroupToUpdate(n){return et.resolve(null)}getMinOffset(n,s){return et.resolve(na.min())}getMinOffsetFromCollectionGroup(n,s){return et.resolve(na.min())}updateCollectionGroup(n,s,r){return et.resolve()}updateIndexEntries(n,s){return et.resolve()}}class ub{constructor(){this.index={}}add(n){const s=n.lastSegment(),r=n.popLast(),u=this.index[s]||new rn(pe.comparator),f=!u.has(r);return this.index[s]=u.add(r),f}has(n){const s=n.lastSegment(),r=n.popLast(),u=this.index[s];return u&&u.has(r)}getEntries(n){return(this.index[n]||new rn(pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},T_=41943040;class Rn{static withCacheSize(n){return new Rn(n,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,s,r){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(T_,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(n){this.ar=n}next(){return this.ar+=2,this.ar}static ur(){return new Yr(0)}static cr(){return new Yr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="LruGarbageCollector",cb=1048576;function ky([a,n],[s,r]){const u=Qt(a,s);return u===0?Qt(n,r):u}class fb{constructor(n){this.Ir=n,this.buffer=new rn(ky),this.Er=0}dr(){return++this.Er}Ar(n){const s=[n,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(s);else{const r=this.buffer.last();ky(s,r)<0&&(this.buffer=this.buffer.delete(r).add(s))}}get maxValue(){return this.buffer.last()[0]}}class hb{constructor(n,s,r){this.garbageCollector=n,this.asyncQueue=s,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(n){yt(Py,`Garbage collection scheduled in ${n}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){fo(s)?yt(Py,"Ignoring IndexedDB error during garbage collection: ",s):await rd(s)}await this.Vr(3e5)}))}}class db{constructor(n,s){this.mr=n,this.params=s}calculateTargetCount(n,s){return this.mr.gr(n).next((r=>Math.floor(s/100*r)))}nthSequenceNumber(n,s){if(s===0)return et.resolve(ld.ce);const r=new fb(s);return this.mr.forEachTarget(n,(u=>r.Ar(u.sequenceNumber))).next((()=>this.mr.pr(n,(u=>r.Ar(u))))).next((()=>r.maxValue))}removeTargets(n,s,r){return this.mr.removeTargets(n,s,r)}removeOrphanedDocuments(n,s){return this.mr.removeOrphanedDocuments(n,s)}collect(n,s){return this.params.cacheSizeCollectionThreshold===-1?(yt("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(zy)):this.getCacheSize(n).next((r=>r<this.params.cacheSizeCollectionThreshold?(yt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zy):this.yr(n,s)))}getCacheSize(n){return this.mr.getCacheSize(n)}yr(n,s){let r,u,f,d,g,v,p;const A=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(yt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),u=this.params.maximumSequenceNumbersToCollect):u=w,d=Date.now(),this.nthSequenceNumber(n,u)))).next((w=>(r=w,g=Date.now(),this.removeTargets(n,r,s)))).next((w=>(f=w,v=Date.now(),this.removeOrphanedDocuments(n,r)))).next((w=>(p=Date.now(),jr()<=qt.DEBUG&&yt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${f} targets in `+(v-g)+`ms
	Removed ${w} documents in `+(p-v)+`ms
Total Duration: ${p-A}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:w}))))}}function mb(a,n){return new db(a,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(){this.changes=new Ka((n=>n.toString()),((n,s)=>n.isEqual(s))),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,s){this.assertNotApplied(),this.changes.set(n,yi.newInvalidDocument(n).setReadTime(s))}getEntry(n,s){this.assertNotApplied();const r=this.changes.get(s);return r!==void 0?et.resolve(r):this.getFromCache(n,s)}getEntries(n,s){return this.getAllFromCache(n,s)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(n,s){this.overlayedDocument=n,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(n,s,r,u){this.remoteDocumentCache=n,this.mutationQueue=s,this.documentOverlayCache=r,this.indexManager=u}getDocument(n,s){let r=null;return this.documentOverlayCache.getOverlay(n,s).next((u=>(r=u,this.remoteDocumentCache.getEntry(n,s)))).next((u=>(r!==null&&Wl(r.mutation,u,Ti.empty(),de.now()),u)))}getDocuments(n,s){return this.remoteDocumentCache.getEntries(n,s).next((r=>this.getLocalViewOfDocuments(n,r,hn()).next((()=>r))))}getLocalViewOfDocuments(n,s,r=hn()){const u=za();return this.populateOverlays(n,u,s).next((()=>this.computeViews(n,s,u,r).next((f=>{let d=Uu();return f.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(n,s){const r=za();return this.populateOverlays(n,r,s).next((()=>this.computeViews(n,s,r,hn())))}populateOverlays(n,s,r){const u=[];return r.forEach((f=>{s.has(f)||u.push(f)})),this.documentOverlayCache.getOverlays(n,u).next((f=>{f.forEach(((d,g)=>{s.set(d,g)}))}))}computeViews(n,s,r,u){let f=Ju();const d=Jl(),g=(function(){return Jl()})();return s.forEach(((v,p)=>{const A=r.get(p.key);u.has(p.key)&&(A===void 0||A.mutation instanceof $a)?f=f.insert(p.key,p):A!==void 0?(d.set(p.key,A.mutation.getFieldMask()),Wl(A.mutation,p,A.mutation.getFieldMask(),de.now())):d.set(p.key,Ti.empty())})),this.recalculateAndSaveOverlays(n,f).next((v=>(v.forEach(((p,A)=>d.set(p,A))),s.forEach(((p,A)=>g.set(p,new pb(A,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(n,s){const r=Jl();let u=new xn(((d,g)=>d-g)),f=hn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,s).next((d=>{for(const g of d)g.keys().forEach((v=>{const p=s.get(v);if(p===null)return;let A=r.get(v)||Ti.empty();A=g.applyToLocalView(p,A),r.set(v,A);const w=(u.get(g.batchId)||hn()).add(v);u=u.insert(g.batchId,w)}))})).next((()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),p=v.key,A=v.value,w=u_();A.forEach((E=>{if(!f.has(E)){const R=g_(s.get(E),r.get(E));R!==null&&w.set(E,R),f=f.add(E)}})),d.push(this.documentOverlayCache.saveOverlays(n,p,w))}return et.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(n,s){return this.remoteDocumentCache.getEntries(n,s).next((r=>this.recalculateAndSaveOverlays(n,r)))}getDocumentsMatchingQuery(n,s,r,u){return(function(d){return Mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(s)?this.getDocumentsMatchingDocumentQuery(n,s.path):wS(s)?this.getDocumentsMatchingCollectionGroupQuery(n,s,r,u):this.getDocumentsMatchingCollectionQuery(n,s,r,u)}getNextDocuments(n,s,r,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,s,r,u).next((f=>{const d=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,s,r.largestBatchId,u-f.size):et.resolve(za());let g=so,v=f;return d.next((p=>et.forEach(p,((A,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),f.get(A)?et.resolve():this.remoteDocumentCache.getEntry(n,A).next((E=>{v=v.insert(A,E)}))))).next((()=>this.populateOverlays(n,p,f))).next((()=>this.computeViews(n,v,p,hn()))).next((A=>({batchId:g,changes:o_(A)})))))}))}getDocumentsMatchingDocumentQuery(n,s){return this.getDocument(n,new Mt(s)).next((r=>{let u=Uu();return r.isFoundDocument()&&(u=u.insert(r.key,r)),u}))}getDocumentsMatchingCollectionGroupQuery(n,s,r,u){const f=s.collectionGroup;let d=Uu();return this.indexManager.getCollectionParents(n,f).next((g=>et.forEach(g,(v=>{const p=(function(w,E){return new oc(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(s,v.child(f));return this.getDocumentsMatchingCollectionQuery(n,p,r,u).next((A=>{A.forEach(((w,E)=>{d=d.insert(w,E)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(n,s,r,u){let f;return this.documentOverlayCache.getOverlaysForCollection(n,s.path,r.largestBatchId).next((d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(n,s,r,f,u)))).next((d=>{f.forEach(((v,p)=>{const A=p.getKey();d.get(A)===null&&(d=d.insert(A,yi.newInvalidDocument(A)))}));let g=Uu();return d.forEach(((v,p)=>{const A=f.get(v);A!==void 0&&Wl(A.mutation,p,Ti.empty(),de.now()),gd(s,p)&&(g=g.insert(v,p))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(n){this.serializer=n,this.Lr=new Map,this.kr=new Map}getBundleMetadata(n,s){return et.resolve(this.Lr.get(s))}saveBundleMetadata(n,s){return this.Lr.set(s.id,(function(u){return{id:u.id,version:u.version,createTime:kr(u.createTime)}})(s)),et.resolve()}getNamedQuery(n,s){return et.resolve(this.kr.get(s))}saveNamedQuery(n,s){return this.kr.set(s.name,(function(u){return{name:u.name,query:lb(u.bundledQuery),readTime:kr(u.readTime)}})(s)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(){this.overlays=new xn(Mt.comparator),this.qr=new Map}getOverlay(n,s){return et.resolve(this.overlays.get(s))}getOverlays(n,s){const r=za();return et.forEach(s,(u=>this.getOverlay(n,u).next((f=>{f!==null&&r.set(u,f)})))).next((()=>r))}saveOverlays(n,s,r){return r.forEach(((u,f)=>{this.St(n,s,f)})),et.resolve()}removeOverlaysForBatchId(n,s,r){const u=this.qr.get(r);return u!==void 0&&(u.forEach((f=>this.overlays=this.overlays.remove(f))),this.qr.delete(r)),et.resolve()}getOverlaysForCollection(n,s,r){const u=za(),f=s.length+1,d=new Mt(s.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,p=v.getKey();if(!s.isPrefixOf(p.path))break;p.path.length===f&&v.largestBatchId>r&&u.set(v.getKey(),v)}return et.resolve(u)}getOverlaysForCollectionGroup(n,s,r,u){let f=new xn(((p,A)=>p-A));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===s&&p.largestBatchId>r){let A=f.get(p.largestBatchId);A===null&&(A=za(),f=f.insert(p.largestBatchId,A)),A.set(p.getKey(),p)}}const g=za(),v=f.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((p,A)=>g.set(p,A))),!(g.size()>=u)););return et.resolve(g)}St(n,s,r){const u=this.overlays.get(r.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(r.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new GS(s,r));let f=this.qr.get(s);f===void 0&&(f=hn(),this.qr.set(s,f)),this.qr.set(s,f.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(){this.sessionToken=Bi.EMPTY_BYTE_STRING}getSessionToken(n){return et.resolve(this.sessionToken)}setSessionToken(n,s){return this.sessionToken=s,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this.Qr=new rn(Fe.$r),this.Ur=new rn(Fe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(n,s){const r=new Fe(n,s);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(n,s){n.forEach((r=>this.addReference(r,s)))}removeReference(n,s){this.Gr(new Fe(n,s))}zr(n,s){n.forEach((r=>this.removeReference(r,s)))}jr(n){const s=new Mt(new pe([])),r=new Fe(s,n),u=new Fe(s,n+1),f=[];return this.Ur.forEachInRange([r,u],(d=>{this.Gr(d),f.push(d.key)})),f}Jr(){this.Qr.forEach((n=>this.Gr(n)))}Gr(n){this.Qr=this.Qr.delete(n),this.Ur=this.Ur.delete(n)}Hr(n){const s=new Mt(new pe([])),r=new Fe(s,n),u=new Fe(s,n+1);let f=hn();return this.Ur.forEachInRange([r,u],(d=>{f=f.add(d.key)})),f}containsKey(n){const s=new Fe(n,0),r=this.Qr.firstAfterOrEqual(s);return r!==null&&n.isEqual(r.key)}}class Fe{constructor(n,s){this.key=n,this.Yr=s}static $r(n,s){return Mt.comparator(n.key,s.key)||Qt(n.Yr,s.Yr)}static Kr(n,s){return Qt(n.Yr,s.Yr)||Mt.comparator(n.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(n,s){this.indexManager=n,this.referenceDelegate=s,this.mutationQueue=[],this.tr=1,this.Zr=new rn(Fe.$r)}checkEmpty(n){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(n,s,r,u){const f=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new XS(f,s,r,u);this.mutationQueue.push(d);for(const g of u)this.Zr=this.Zr.add(new Fe(g.key,f)),this.indexManager.addToCollectionParentIndex(n,g.key.path.popLast());return et.resolve(d)}lookupMutationBatch(n,s){return et.resolve(this.Xr(s))}getNextMutationBatchAfterBatchId(n,s){const r=s+1,u=this.ei(r),f=u<0?0:u;return et.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?od:this.tr-1)}getAllMutationBatches(n){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,s){const r=new Fe(s,0),u=new Fe(s,Number.POSITIVE_INFINITY),f=[];return this.Zr.forEachInRange([r,u],(d=>{const g=this.Xr(d.Yr);f.push(g)})),et.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(n,s){let r=new rn(Qt);return s.forEach((u=>{const f=new Fe(u,0),d=new Fe(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([f,d],(g=>{r=r.add(g.Yr)}))})),et.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(n,s){const r=s.path,u=r.length+1;let f=r;Mt.isDocumentKey(f)||(f=f.child(""));const d=new Fe(new Mt(f),0);let g=new rn(Qt);return this.Zr.forEachWhile((v=>{const p=v.key.path;return!!r.isPrefixOf(p)&&(p.length===u&&(g=g.add(v.Yr)),!0)}),d),et.resolve(this.ti(g))}ti(n){const s=[];return n.forEach((r=>{const u=this.Xr(r);u!==null&&s.push(u)})),s}removeMutationBatch(n,s){Se(this.ni(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return et.forEach(s.mutations,(u=>{const f=new Fe(u.key,s.batchId);return r=r.delete(f),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)})).next((()=>{this.Zr=r}))}ir(n){}containsKey(n,s){const r=new Fe(s,0),u=this.Zr.firstAfterOrEqual(r);return et.resolve(s.isEqual(u&&u.key))}performConsistencyCheck(n){return this.mutationQueue.length,et.resolve()}ni(n,s){return this.ei(n)}ei(n){return this.mutationQueue.length===0?0:n-this.mutationQueue[0].batchId}Xr(n){const s=this.ei(n);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(n){this.ri=n,this.docs=(function(){return new xn(Mt.comparator)})(),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,s){const r=s.key,u=this.docs.get(r),f=u?u.size:0,d=this.ri(s);return this.docs=this.docs.insert(r,{document:s.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(n,r.path.popLast())}removeEntry(n){const s=this.docs.get(n);s&&(this.docs=this.docs.remove(n),this.size-=s.size)}getEntry(n,s){const r=this.docs.get(s);return et.resolve(r?r.document.mutableCopy():yi.newInvalidDocument(s))}getEntries(n,s){let r=Ju();return s.forEach((u=>{const f=this.docs.get(u);r=r.insert(u,f?f.document.mutableCopy():yi.newInvalidDocument(u))})),et.resolve(r)}getDocumentsMatchingQuery(n,s,r,u){let f=Ju();const d=s.path,g=new Mt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:p,value:{document:A}}=v.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||eS(tS(A),r)<=0||(u.has(A.key)||gd(s,A))&&(f=f.insert(A.key,A.mutableCopy()))}return et.resolve(f)}getAllFromCollectionGroup(n,s,r,u){Dt(9500)}ii(n,s){return et.forEach(this.docs,(r=>s(r)))}newChangeBuffer(n){return new bb(this)}getSize(n){return et.resolve(this.size)}}class bb extends gb{constructor(n){super(),this.Nr=n}applyChanges(n){const s=[];return this.changes.forEach(((r,u)=>{u.isValidDocument()?s.push(this.Nr.addEntry(n,u)):this.Nr.removeEntry(r)})),et.waitFor(s)}getFromCache(n,s){return this.Nr.getEntry(n,s)}getAllFromCache(n,s){return this.Nr.getEntries(n,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(n){this.persistence=n,this.si=new Ka((s=>dd(s)),md),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.oi=0,this._i=new _d,this.targetCount=0,this.ai=Yr.ur()}forEachTarget(n,s){return this.si.forEach(((r,u)=>s(u))),et.resolve()}getLastRemoteSnapshotVersion(n){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return et.resolve(this.oi)}allocateTargetId(n){return this.highestTargetId=this.ai.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(n,s,r){return r&&(this.lastRemoteSnapshotVersion=r),s>this.oi&&(this.oi=s),et.resolve()}Pr(n){this.si.set(n.target,n);const s=n.targetId;s>this.highestTargetId&&(this.ai=new Yr(s),this.highestTargetId=s),n.sequenceNumber>this.oi&&(this.oi=n.sequenceNumber)}addTargetData(n,s){return this.Pr(s),this.targetCount+=1,et.resolve()}updateTargetData(n,s){return this.Pr(s),et.resolve()}removeTargetData(n,s){return this.si.delete(s.target),this._i.jr(s.targetId),this.targetCount-=1,et.resolve()}removeTargets(n,s,r){let u=0;const f=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=s&&r.get(g.targetId)===null&&(this.si.delete(d),f.push(this.removeMatchingKeysForTargetId(n,g.targetId)),u++)})),et.waitFor(f).next((()=>u))}getTargetCount(n){return et.resolve(this.targetCount)}getTargetData(n,s){const r=this.si.get(s)||null;return et.resolve(r)}addMatchingKeys(n,s,r){return this._i.Wr(s,r),et.resolve()}removeMatchingKeys(n,s,r){this._i.zr(s,r);const u=this.persistence.referenceDelegate,f=[];return u&&s.forEach((d=>{f.push(u.markPotentiallyOrphaned(n,d))})),et.waitFor(f)}removeMatchingKeysForTargetId(n,s){return this._i.jr(s),et.resolve()}getMatchingKeysForTargetId(n,s){const r=this._i.Hr(s);return et.resolve(r)}containsKey(n,s){return et.resolve(this._i.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(n,s){this.ui={},this.overlays={},this.ci=new ld(0),this.li=!1,this.li=!0,this.hi=new Tb,this.referenceDelegate=n(this),this.Pi=new Ab(this),this.indexManager=new ob,this.remoteDocumentCache=(function(u){return new Sb(u)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new rb(s),this.Ii=new _b(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let s=this.overlays[n.toKey()];return s||(s=new vb,this.overlays[n.toKey()]=s),s}getMutationQueue(n,s){let r=this.ui[n.toKey()];return r||(r=new Eb(s,this.referenceDelegate),this.ui[n.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(n,s,r){yt("MemoryPersistence","Starting transaction:",n);const u=new Rb(this.ci.next());return this.referenceDelegate.Ei(),r(u).next((f=>this.referenceDelegate.di(u).next((()=>f)))).toPromise().then((f=>(u.raiseOnCommittedEvent(),f)))}Ai(n,s){return et.or(Object.values(this.ui).map((r=>()=>r.containsKey(n,s))))}}class Rb extends iS{constructor(n){super(),this.currentSequenceNumber=n}}class vd{constructor(n){this.persistence=n,this.Ri=new _d,this.Vi=null}static mi(n){return new vd(n)}get fi(){if(this.Vi)return this.Vi;throw Dt(60996)}addReference(n,s,r){return this.Ri.addReference(r,s),this.fi.delete(r.toString()),et.resolve()}removeReference(n,s,r){return this.Ri.removeReference(r,s),this.fi.add(r.toString()),et.resolve()}markPotentiallyOrphaned(n,s){return this.fi.add(s.toString()),et.resolve()}removeTarget(n,s){this.Ri.jr(s.targetId).forEach((u=>this.fi.add(u.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(n,s.targetId).next((u=>{u.forEach((f=>this.fi.add(f.toString())))})).next((()=>r.removeTargetData(n,s)))}Ei(){this.Vi=new Set}di(n){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.fi,(r=>{const u=Mt.fromPath(r);return this.gi(n,u).next((f=>{f||s.removeEntry(u,he.min())}))})).next((()=>(this.Vi=null,s.apply(n))))}updateLimboDocument(n,s){return this.gi(n,s).next((r=>{r?this.fi.delete(s.toString()):this.fi.add(s.toString())}))}Ti(n){return 0}gi(n,s){return et.or([()=>et.resolve(this.Ri.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(n,s),()=>this.persistence.Ai(n,s)])}}class tc{constructor(n,s){this.persistence=n,this.pi=new Ka((r=>rS(r.path)),((r,u)=>r.isEqual(u))),this.garbageCollector=mb(this,s)}static mi(n,s){return new tc(n,s)}Ei(){}di(n){return et.resolve()}forEachTarget(n,s){return this.persistence.getTargetCache().forEachTarget(n,s)}gr(n){const s=this.wr(n);return this.persistence.getTargetCache().getTargetCount(n).next((r=>s.next((u=>r+u))))}wr(n){let s=0;return this.pr(n,(r=>{s++})).next((()=>s))}pr(n,s){return et.forEach(this.pi,((r,u)=>this.br(n,r,u).next((f=>f?et.resolve():s(u)))))}removeTargets(n,s,r){return this.persistence.getTargetCache().removeTargets(n,s,r)}removeOrphanedDocuments(n,s){let r=0;const u=this.persistence.getRemoteDocumentCache(),f=u.newChangeBuffer();return u.ii(n,(d=>this.br(n,d,s).next((g=>{g||(r++,f.removeEntry(d,he.min()))})))).next((()=>f.apply(n))).next((()=>r))}markPotentiallyOrphaned(n,s){return this.pi.set(s,n.currentSequenceNumber),et.resolve()}removeTarget(n,s){const r=s.withSequenceNumber(n.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(n,r)}addReference(n,s,r){return this.pi.set(r,n.currentSequenceNumber),et.resolve()}removeReference(n,s,r){return this.pi.set(r,n.currentSequenceNumber),et.resolve()}updateLimboDocument(n,s){return this.pi.set(s,n.currentSequenceNumber),et.resolve()}Ti(n){let s=n.key.toString().length;return n.isFoundDocument()&&(s+=ku(n.data.value)),s}br(n,s,r){return et.or([()=>this.persistence.Ai(n,s),()=>this.persistence.getTargetCache().containsKey(n,s),()=>{const u=this.pi.get(s);return et.resolve(u!==void 0&&u>r)}])}getCacheSize(n){return this.persistence.getRemoteDocumentCache().getSize(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(n,s,r,u){this.targetId=n,this.fromCache=s,this.Es=r,this.ds=u}static As(n,s){let r=hn(),u=hn();for(const f of s.docChanges)switch(f.type){case 0:r=r.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new Td(n,s.fromCache,r,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ST()?8:sS(vT())>0?6:4})()}initialize(n,s){this.ps=n,this.indexManager=s,this.Rs=!0}getDocumentsMatchingQuery(n,s,r,u){const f={result:null};return this.ys(n,s).next((d=>{f.result=d})).next((()=>{if(!f.result)return this.ws(n,s,u,r).next((d=>{f.result=d}))})).next((()=>{if(f.result)return;const d=new wb;return this.Ss(n,s,d).next((g=>{if(f.result=g,this.Vs)return this.bs(n,s,d,g.size)}))})).next((()=>f.result))}bs(n,s,r,u){return r.documentReadCount<this.fs?(jr()<=qt.DEBUG&&yt("QueryEngine","SDK will not create cache indexes for query:",Fl(s),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),et.resolve()):(jr()<=qt.DEBUG&&yt("QueryEngine","Query:",Fl(s),"scans",r.documentReadCount,"local documents and returns",u,"documents as results."),r.documentReadCount>this.gs*u?(jr()<=qt.DEBUG&&yt("QueryEngine","The SDK decides to create cache indexes for query:",Fl(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,Ba(s))):et.resolve())}ys(n,s){if(Dy(s))return et.resolve(null);let r=Ba(s);return this.indexManager.getIndexType(n,r).next((u=>u===0?null:(s.limit!==null&&u===1&&(s=qh(s,null,"F"),r=Ba(s)),this.indexManager.getDocumentsMatchingTarget(n,r).next((f=>{const d=hn(...f);return this.ps.getDocuments(n,d).next((g=>this.indexManager.getMinOffset(n,r).next((v=>{const p=this.Ds(s,g);return this.Cs(s,p,d,v.readTime)?this.ys(n,qh(s,null,"F")):this.vs(n,p,s,v)}))))})))))}ws(n,s,r,u){return Dy(s)||u.isEqual(he.min())?et.resolve(null):this.ps.getDocuments(n,r).next((f=>{const d=this.Ds(s,f);return this.Cs(s,d,r,u)?et.resolve(null):(jr()<=qt.DEBUG&&yt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Fl(s)),this.vs(n,d,s,WE(u,so)).next((g=>g)))}))}Ds(n,s){let r=new rn(MS(n));return s.forEach(((u,f)=>{gd(n,f)&&(r=r.add(f))})),r}Cs(n,s,r,u){if(n.limit===null)return!1;if(r.size!==s.size)return!0;const f=n.limitType==="F"?s.last():s.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Ss(n,s,r){return jr()<=qt.DEBUG&&yt("QueryEngine","Using full collection scan to execute query:",Fl(s)),this.ps.getDocumentsMatchingQuery(n,s,na.min(),r)}vs(n,s,r,u){return this.ps.getDocumentsMatchingQuery(n,r,u).next((f=>(s.forEach((d=>{f=f.insert(d.key,d)})),f)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="LocalStore";class Ib{constructor(n,s,r,u){this.persistence=n,this.Fs=s,this.serializer=u,this.Ms=new xn(Qt),this.xs=new Ka((f=>dd(f)),md),this.Os=new Map,this.Ns=n.getRemoteDocumentCache(),this.Pi=n.getTargetCache(),this.Ii=n.getBundleCache(),this.Bs(r)}Bs(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new yb(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(s=>n.collect(s,this.Ms)))}}function Cb(a,n,s,r){return new Ib(a,n,s,r)}async function S_(a,n){const s=le(a);return await s.persistence.runTransaction("Handle user change","readonly",(r=>{let u;return s.mutationQueue.getAllMutationBatches(r).next((f=>(u=f,s.Bs(n),s.mutationQueue.getAllMutationBatches(r)))).next((f=>{const d=[],g=[];let v=hn();for(const p of u){d.push(p.batchId);for(const A of p.mutations)v=v.add(A.key)}for(const p of f){g.push(p.batchId);for(const A of p.mutations)v=v.add(A.key)}return s.localDocuments.getDocuments(r,v).next((p=>({Ls:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function Nb(a,n){const s=le(a);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const u=n.batch.keys(),f=s.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,p,A){const w=p.batch,E=w.keys();let R=et.resolve();return E.forEach((j=>{R=R.next((()=>A.getEntry(v,j))).next((P=>{const z=p.docVersions.get(j);Se(z!==null,48541),P.version.compareTo(z)<0&&(w.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),A.addEntry(P)))}))})),R.next((()=>g.mutationQueue.removeMutationBatch(v,w)))})(s,r,n,f).next((()=>f.apply(r))).next((()=>s.mutationQueue.performConsistencyCheck(r))).next((()=>s.documentOverlayCache.removeOverlaysForBatchId(r,u,n.batch.batchId))).next((()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let v=hn();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(v=v.add(g.batch.mutations[p].key));return v})(n)))).next((()=>s.localDocuments.getDocuments(r,u)))}))}function Db(a){const n=le(a);return n.persistence.runTransaction("Get last remote snapshot version","readonly",(s=>n.Pi.getLastRemoteSnapshotVersion(s)))}function Ob(a,n){const s=le(a);return s.persistence.runTransaction("Get next mutation batch","readonly",(r=>(n===void 0&&(n=od),s.mutationQueue.getNextMutationBatchAfterBatchId(r,n))))}class By{constructor(){this.activeTargetIds=VS()}zs(n){this.activeTargetIds=this.activeTargetIds.add(n)}js(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Gs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class Vb{constructor(){this.Mo=new By,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,s,r){}addLocalQueryTarget(n,s=!0){return s&&this.Mo.zs(n),this.xo[n]||"not-current"}updateQueryState(n,s,r){this.xo[n]=s}removeLocalQueryTarget(n){this.Mo.js(n)}isLocalQueryTarget(n){return this.Mo.activeTargetIds.has(n)}clearQueryState(n){delete this.xo[n]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(n){return this.Mo.activeTargetIds.has(n)}start(){return this.Mo=new By,Promise.resolve()}handleUserChange(n,s,r){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{Oo(n){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="ConnectivityMonitor";class Hy{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(n){this.qo.push(n)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){yt(qy,"Network connectivity changed: AVAILABLE");for(const n of this.qo)n(0)}ko(){yt(qy,"Network connectivity changed: UNAVAILABLE");for(const n of this.qo)n(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju=null;function Yh(){return ju===null?ju=(function(){return 268435456+Math.round(2147483648*Math.random())})():ju++,"0x"+ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah="RestConnection",Ub={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jb{get $o(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=s+"://"+n.host,this.Ko=`projects/${r}/databases/${u}`,this.Wo=this.databaseId.database===Qu?`project_id=${r}`:`project_id=${r}&database_id=${u}`}Go(n,s,r,u,f){const d=Yh(),g=this.zo(n,s.toUriEncodedString());yt(Ah,`Sending RPC '${n}' ${d}:`,g,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,u,f);const{host:p}=new URL(g),A=Jh(p);return this.Jo(n,g,v,r,A).then((w=>(yt(Ah,`Received RPC '${n}' ${d}: `,w),w)),(w=>{throw lc(Ah,`RPC '${n}' ${d} failed with error: `,w,"url: ",g,"request:",r),w}))}Ho(n,s,r,u,f,d){return this.Go(n,s,r,u,f)}jo(n,s,r){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fr})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((u,f)=>n[f]=u)),r&&r.headers.forEach(((u,f)=>n[f]=u))}zo(n,s){const r=Ub[n];return`${this.Uo}/v1/${s}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(n){this.Yo=n.Yo,this.Zo=n.Zo}Xo(n){this.e_=n}t_(n){this.n_=n}r_(n){this.i_=n}onMessage(n){this.s_=n}close(){this.Zo()}send(n){this.Yo(n)}o_(){this.e_()}__(){this.n_()}a_(n){this.i_(n)}u_(n){this.s_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class Pb extends jb{constructor(n){super(n),this.c_=[],this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Jo(n,s,r,u,f){const d=Yh();return new Promise(((g,v)=>{const p=new V0;p.setWithCredentials(!0),p.listenOnce(L0.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Pu.NO_ERROR:const w=p.getResponseJson();yt(cn,`XHR for RPC '${n}' ${d} received:`,JSON.stringify(w)),g(w);break;case Pu.TIMEOUT:yt(cn,`RPC '${n}' ${d} timed out`),v(new bt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case Pu.HTTP_ERROR:const E=p.getStatus();if(yt(cn,`RPC '${n}' ${d} failed with status:`,E,"response text:",p.getResponseText()),E>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const j=R?.error;if(j&&j.status&&j.message){const P=(function(K){const it=K.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(it)>=0?it:rt.UNKNOWN})(j.status);v(new bt(P,j.message))}else v(new bt(rt.UNKNOWN,"Server responded with status "+p.getStatus()))}else v(new bt(rt.UNAVAILABLE,"Connection failed."));break;default:Dt(9055,{l_:n,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{yt(cn,`RPC '${n}' ${d} completed.`)}}));const A=JSON.stringify(u);yt(cn,`RPC '${n}' ${d} sending request:`,u),p.send(s,"POST",A,r,15)}))}T_(n,s,r){const u=Yh(),f=[this.Uo,"/","google.firestore.v1.Firestore","/",n,"/channel"],d=z0(),g=j0(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(v.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,s,r),v.encodeInitMessageHeaders=!0;const A=f.join("");yt(cn,`Creating RPC '${n}' stream ${u}: ${A}`,v);const w=d.createWebChannel(A,v);this.I_(w);let E=!1,R=!1;const j=new zb({Yo:z=>{R?yt(cn,`Not sending because RPC '${n}' stream ${u} is closed:`,z):(E||(yt(cn,`Opening RPC '${n}' stream ${u} transport.`),w.open(),E=!0),yt(cn,`RPC '${n}' stream ${u} sending:`,z),w.send(z))},Zo:()=>w.close()}),P=(z,K,it)=>{z.listen(K,($=>{try{it($)}catch(lt){setTimeout((()=>{throw lt}),0)}}))};return P(w,Ql.EventType.OPEN,(()=>{R||(yt(cn,`RPC '${n}' stream ${u} transport opened.`),j.o_())})),P(w,Ql.EventType.CLOSE,(()=>{R||(R=!0,yt(cn,`RPC '${n}' stream ${u} transport closed`),j.a_(),this.E_(w))})),P(w,Ql.EventType.ERROR,(z=>{R||(R=!0,lc(cn,`RPC '${n}' stream ${u} transport errored. Name:`,z.name,"Message:",z.message),j.a_(new bt(rt.UNAVAILABLE,"The operation could not be completed")))})),P(w,Ql.EventType.MESSAGE,(z=>{if(!R){const K=z.data[0];Se(!!K,16349);const it=K,$=it?.error||it[0]?.error;if($){yt(cn,`RPC '${n}' stream ${u} received error:`,$);const lt=$.status;let Q=(function(b){const x=Oe[b];if(x!==void 0)return FS(x)})(lt),at=$.message;Q===void 0&&(Q=rt.INTERNAL,at="Unknown error status: "+lt+" with message "+$.message),R=!0,j.a_(new bt(Q,at)),w.close()}else yt(cn,`RPC '${n}' stream ${u} received:`,K),j.u_(K)}})),P(g,U0.STAT_EVENT,(z=>{z.stat===Uh.PROXY?yt(cn,`RPC '${n}' stream ${u} detected buffering proxy`):z.stat===Uh.NOPROXY&&yt(cn,`RPC '${n}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((n=>n.close())),this.c_=[]}I_(n){this.c_.push(n)}E_(n){this.c_=this.c_.filter((s=>s===n))}}function Rh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(a){return new QS(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(n,s,r=1e3,u=1.5,f=6e4){this.Mi=n,this.timerId=s,this.d_=r,this.A_=u,this.R_=f,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(n){this.cancel();const s=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),u=Math.max(0,s-r);u>0&&yt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${s} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),n()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="PersistentStream";class kb{constructor(n,s,r,u,f,d,g,v){this.Mi=n,this.S_=r,this.b_=u,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new b_(n,s)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(n){this.Q_(),this.stream.send(n)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(n,s){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,n!==4?this.M_.reset():s&&s.code===rt.RESOURCE_EXHAUSTED?(Xa(s.toString()),Xa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):s&&s.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=n,await this.listener.r_(s)}K_(){}auth(){this.state=1;const n=this.W_(this.D_),s=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,u])=>{this.D_===s&&this.G_(r,u)}),(r=>{n((()=>{const u=new bt(rt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(u)}))}))}G_(n,s){const r=this.W_(this.D_);this.stream=this.j_(n,s),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{r((()=>this.z_(u)))})),this.stream.onMessage((u=>{r((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(n){return yt(Xy,`close with error: ${n}`),this.stream=null,this.close(4,n)}W_(n){return s=>{this.Mi.enqueueAndForget((()=>this.D_===n?s():(yt(Xy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Bb extends kb{constructor(n,s,r,u,f,d){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,r,u,d),this.serializer=f}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(n,s){return this.connection.T_("Write",n,s)}J_(n){return Se(!!n.streamToken,31322),this.lastStreamToken=n.streamToken,Se(!n.writeResults||n.writeResults.length===0,55816),this.listener.ta()}onNext(n){Se(!!n.streamToken,12678),this.lastStreamToken=n.streamToken,this.M_.reset();const s=nb(n.writeResults,n.commitTime),r=kr(n.commitTime);return this.listener.na(r,s)}ra(){const n={};n.database=WS(this.serializer),this.q_(n)}ea(n){const s={streamToken:this.lastStreamToken,writes:n.map((r=>eb(this.serializer,r)))};this.q_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{}class Hb extends qb{constructor(n,s,r,u){super(),this.authCredentials=n,this.appCheckCredentials=s,this.connection=r,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new bt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(n,s,r,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,d])=>this.connection.Go(n,Xh(s,r),u,f,d))).catch((f=>{throw f.name==="FirebaseError"?(f.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new bt(rt.UNKNOWN,f.toString())}))}Ho(n,s,r,u,f){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(n,Xh(s,r),u,d,g,f))).catch((d=>{throw d.name==="FirebaseError"?(d.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new bt(rt.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Xb{constructor(n,s){this.asyncQueue=n,this.onlineStateHandler=s,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(n){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.ca("Offline")))}set(n){this.Pa(),this.oa=0,n==="Online"&&(this.aa=!1),this.ca(n)}ca(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}la(n){const s=`Could not reach Cloud Firestore backend. ${n}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xa(s),this.aa=!1):yt("OnlineStateTracker",s)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="RemoteStore";class Gb{constructor(n,s,r,u,f){this.localStore=n,this.datastore=s,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=f,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{po(this)&&(yt(mo,"Restarting streams for network reachability change."),await(async function(v){const p=le(v);p.Ea.add(4),await go(p),p.Ra.set("Unknown"),p.Ea.delete(4),await hc(p)})(this))}))})),this.Ra=new Xb(r,u)}}async function hc(a){if(po(a))for(const n of a.da)await n(!0)}async function go(a){for(const n of a.da)await n(!1)}function po(a){return le(a).Ea.size===0}async function A_(a,n,s){if(!fo(n))throw n;a.Ea.add(1),await go(a),a.Ra.set("Offline"),s||(s=()=>Db(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{yt(mo,"Retrying IndexedDB access"),await s(),a.Ea.delete(1),await hc(a)}))}function R_(a,n){return n().catch((s=>A_(a,s,n)))}async function dc(a){const n=le(a),s=sa(n);let r=n.Ta.length>0?n.Ta[n.Ta.length-1].batchId:od;for(;Yb(n);)try{const u=await Ob(n.localStore,r);if(u===null){n.Ta.length===0&&s.L_();break}r=u.batchId,Fb(n,u)}catch(u){await A_(n,u)}w_(n)&&x_(n)}function Yb(a){return po(a)&&a.Ta.length<10}function Fb(a,n){a.Ta.push(n);const s=sa(a);s.O_()&&s.X_&&s.ea(n.mutations)}function w_(a){return po(a)&&!sa(a).x_()&&a.Ta.length>0}function x_(a){sa(a).start()}async function Qb(a){sa(a).ra()}async function Kb(a){const n=sa(a);for(const s of a.Ta)n.ea(s.mutations)}async function $b(a,n,s){const r=a.Ta.shift(),u=yd.from(r,n,s);await R_(a,(()=>a.remoteSyncer.applySuccessfulWrite(u))),await dc(a)}async function Zb(a,n){n&&sa(a).X_&&await(async function(r,u){if((function(d){return YS(d)&&d!==rt.ABORTED})(u.code)){const f=r.Ta.shift();sa(r).B_(),await R_(r,(()=>r.remoteSyncer.rejectFailedWrite(f.batchId,u))),await dc(r)}})(a,n),w_(a)&&x_(a)}async function Gy(a,n){const s=le(a);s.asyncQueue.verifyOperationInProgress(),yt(mo,"RemoteStore received new credentials");const r=po(s);s.Ea.add(3),await go(s),r&&s.Ra.set("Unknown"),await s.remoteSyncer.handleCredentialChange(n),s.Ea.delete(3),await hc(s)}async function Jb(a,n){const s=le(a);n?(s.Ea.delete(2),await hc(s)):n||(s.Ea.add(2),await go(s),s.Ra.set("Unknown"))}function sa(a){return a.fa||(a.fa=(function(s,r,u){const f=le(s);return f.sa(),new Bb(r,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:Qb.bind(null,a),r_:Zb.bind(null,a),ta:Kb.bind(null,a),na:$b.bind(null,a)}),a.da.push((async n=>{n?(a.fa.B_(),await dc(a)):(await a.fa.stop(),a.Ta.length>0&&(yt(mo,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(n,s,r,u,f){this.asyncQueue=n,this.timerId=s,this.targetTimeMs=r,this.op=u,this.removalCallback=f,this.deferred=new ka,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(n,s,r,u,f){const d=Date.now()+r,g=new Ed(n,s,d,u,f);return g.start(r),g}start(n){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new bt(rt.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((n=>this.deferred.resolve(n)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function M_(a,n){if(Xa("AsyncQueue",`${n}: ${a}`),fo(a))return new bt(rt.UNAVAILABLE,`${n}: ${a}`);throw a}class Wb{constructor(){this.queries=Yy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,r){const u=le(s),f=u.queries;u.queries=Yy(),f.forEach(((d,g)=>{for(const v of g.Sa)v.onError(r)}))})(this,new bt(rt.ABORTED,"Firestore shutting down"))}}function Yy(){return new Ka((a=>r_(a)),a_)}function tA(a){a.Ca.forEach((n=>{n.next()}))}var Fy,Qy;(Qy=Fy||(Fy={})).Ma="default",Qy.Cache="cache";const eA="SyncEngine";class nA{constructor(n,s,r,u,f,d){this.localStore=n,this.remoteStore=s,this.eventManager=r,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ka((g=>r_(g)),a_),this.Iu=new Map,this.Eu=new Set,this.du=new xn(Mt.comparator),this.Au=new Map,this.Ru=new _d,this.Vu={},this.mu=new Map,this.fu=Yr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iA(a,n,s){const r=lA(a);try{const u=await(function(d,g){const v=le(d),p=de.now(),A=g.reduce(((R,j)=>R.add(j.key)),hn());let w,E;return v.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let j=Ju(),P=hn();return v.Ns.getEntries(R,A).next((z=>{j=z,j.forEach(((K,it)=>{it.isValidDocument()||(P=P.add(K))}))})).next((()=>v.localDocuments.getOverlayedDocuments(R,j))).next((z=>{w=z;const K=[];for(const it of g){const $=qS(it,w.get(it.key).overlayedDocument);$!=null&&K.push(new $a(it.key,$,J0($.value.mapValue),ms.exists(!0)))}return v.mutationQueue.addMutationBatch(R,p,K,g)})).next((z=>{E=z;const K=z.applyToLocalDocumentSet(w,P);return v.documentOverlayCache.saveOverlays(R,z.batchId,K)}))})).then((()=>({batchId:E.batchId,changes:o_(w)})))})(r.localStore,n);r.sharedClientState.addPendingMutation(u.batchId),(function(d,g,v){let p=d.Vu[d.currentUser.toKey()];p||(p=new xn(Qt)),p=p.insert(g,v),d.Vu[d.currentUser.toKey()]=p})(r,u.batchId,s),await mc(r,u.changes),await dc(r.remoteStore)}catch(u){const f=M_(u,"Failed to persist write");s.reject(f)}}function Ky(a,n,s){const r=le(a);if(r.isPrimaryClient&&s===0||!r.isPrimaryClient&&s===1){const u=[];r.Tu.forEach(((f,d)=>{const g=d.view.va(n);g.snapshot&&u.push(g.snapshot)})),(function(d,g){const v=le(d);v.onlineState=g;let p=!1;v.queries.forEach(((A,w)=>{for(const E of w.Sa)E.va(g)&&(p=!0)})),p&&tA(v)})(r.eventManager,n),u.length&&r.Pu.H_(u),r.onlineState=n,r.isPrimaryClient&&r.sharedClientState.setOnlineState(n)}}async function sA(a,n){const s=le(a),r=n.batch.batchId;try{const u=await Nb(s.localStore,n);C_(s,r,null),I_(s,r),s.sharedClientState.updateMutationState(r,"acknowledged"),await mc(s,u)}catch(u){await rd(u)}}async function aA(a,n,s){const r=le(a);try{const u=await(function(d,g){const v=le(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let A;return v.mutationQueue.lookupMutationBatch(p,g).next((w=>(Se(w!==null,37113),A=w.keys(),v.mutationQueue.removeMutationBatch(p,w)))).next((()=>v.mutationQueue.performConsistencyCheck(p))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(p,A,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,A))).next((()=>v.localDocuments.getDocuments(p,A)))}))})(r.localStore,n);C_(r,n,s),I_(r,n),r.sharedClientState.updateMutationState(n,"rejected",s),await mc(r,u)}catch(u){await rd(u)}}function I_(a,n){(a.mu.get(n)||[]).forEach((s=>{s.resolve()})),a.mu.delete(n)}function C_(a,n,s){const r=le(a);let u=r.Vu[r.currentUser.toKey()];if(u){const f=u.get(n);f&&(s?f.reject(s):f.resolve(),u=u.remove(n)),r.Vu[r.currentUser.toKey()]=u}}async function mc(a,n,s){const r=le(a),u=[],f=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,v)=>{d.push(r.pu(v,n,s).then((p=>{if((p||s)&&r.isPrimaryClient){const A=p?!p.fromCache:s?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(p){u.push(p);const A=Td.As(v.targetId,p);f.push(A)}})))})),await Promise.all(d),r.Pu.H_(u),await(async function(v,p){const A=le(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>et.forEach(p,(E=>et.forEach(E.Es,(R=>A.persistence.referenceDelegate.addReference(w,E.targetId,R))).next((()=>et.forEach(E.ds,(R=>A.persistence.referenceDelegate.removeReference(w,E.targetId,R)))))))))}catch(w){if(!fo(w))throw w;yt(Mb,"Failed to update sequence numbers: "+w)}for(const w of p){const E=w.targetId;if(!w.fromCache){const R=A.Ms.get(E),j=R.snapshotVersion,P=R.withLastLimboFreeSnapshotVersion(j);A.Ms=A.Ms.insert(E,P)}}})(r.localStore,f))}async function rA(a,n){const s=le(a);if(!s.currentUser.isEqual(n)){yt(eA,"User change. New user:",n.toKey());const r=await S_(s.localStore,n);s.currentUser=n,(function(f,d){f.mu.forEach((g=>{g.forEach((v=>{v.reject(new bt(rt.CANCELLED,d))}))})),f.mu.clear()})(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(n,r.removedBatchIds,r.addedBatchIds),await mc(s,r.Ls)}}function lA(a){const n=le(a);return n.remoteStore.remoteSyncer.applySuccessfulWrite=sA.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=aA.bind(null,n),n}class ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=fc(n.databaseInfo.databaseId),this.sharedClientState=this.Du(n),this.persistence=this.Cu(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Fu(n,this.localStore),this.indexBackfillerScheduler=this.Mu(n,this.localStore)}Fu(n,s){return null}Mu(n,s){return null}vu(n){return Cb(this.persistence,new xb,n.initialUser,this.serializer)}Cu(n){return new E_(vd.mi,this.serializer)}Du(n){return new Vb}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ec.provider={build:()=>new ec};class oA extends ec{constructor(n){super(),this.cacheSizeBytes=n}Fu(n,s){Se(this.persistence.referenceDelegate instanceof tc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new hb(r,n.asyncQueue,s)}Cu(n){const s=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new E_((r=>tc.mi(r,s)),this.serializer)}}class Fh{async initialize(n,s){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ky(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rA.bind(null,this.syncEngine),await Jb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new Wb})()}createDatastore(n){const s=fc(n.databaseInfo.databaseId),r=(function(f){return new Pb(f)})(n.databaseInfo);return(function(f,d,g,v){return new Hb(f,d,g,v)})(n.authCredentials,n.appCheckCredentials,r,s)}createRemoteStore(n){return(function(r,u,f,d,g){return new Gb(r,u,f,d,g)})(this.localStore,this.datastore,n.asyncQueue,(s=>Ky(this.syncEngine,s,0)),(function(){return Hy.v()?new Hy:new Lb})())}createSyncEngine(n,s){return(function(u,f,d,g,v,p,A){const w=new nA(u,f,d,g,v,p);return A&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,s)}async terminate(){await(async function(s){const r=le(s);yt(mo,"RemoteStore shutting down."),r.Ea.add(5),await go(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Fh.provider={build:()=>new Fh};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="FirestoreClient";class uA{constructor(n,s,r,u,f){this.authCredentials=n,this.appCheckCredentials=s,this.asyncQueue=r,this.databaseInfo=u,this.user=fn.UNAUTHENTICATED,this.clientId=sd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(r,(async d=>{yt(aa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(yt(aa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){this.asyncQueue.enterRestrictedMode();const n=new ka;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),n.resolve()}catch(s){const r=M_(s,"Failed to shutdown persistence");n.reject(r)}})),n.promise}}async function wh(a,n){a.asyncQueue.verifyOperationInProgress(),yt(aa,"Initializing OfflineComponentProvider");const s=a.configuration;await n.initialize(s);let r=s.initialUser;a.setCredentialChangeListener((async u=>{r.isEqual(u)||(await S_(n.localStore,u),r=u)})),n.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=n}async function $y(a,n){a.asyncQueue.verifyOperationInProgress();const s=await cA(a);yt(aa,"Initializing OnlineComponentProvider"),await n.initialize(s,a.configuration),a.setCredentialChangeListener((r=>Gy(n.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,u)=>Gy(n.remoteStore,u))),a._onlineComponents=n}async function cA(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){yt(aa,"Using user provided OfflineComponentProvider");try{await wh(a,a._uninitializedComponentsProvider._offline)}catch(n){const s=n;if(!(function(u){return u.name==="FirebaseError"?u.code===rt.FAILED_PRECONDITION||u.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(s))throw s;lc("Error using user provided cache. Falling back to memory cache: "+s),await wh(a,new ec)}}else yt(aa,"Using default OfflineComponentProvider"),await wh(a,new oA(void 0));return a._offlineComponents}async function fA(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(yt(aa,"Using user provided OnlineComponentProvider"),await $y(a,a._uninitializedComponentsProvider._online)):(yt(aa,"Using default OnlineComponentProvider"),await $y(a,new Fh))),a._onlineComponents}function hA(a){return fA(a).then((n=>n.syncEngine))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(a){const n={};return a.timeoutSeconds!==void 0&&(n.timeoutSeconds=a.timeoutSeconds),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="firestore.googleapis.com",Jy=!0;class Wy{constructor(n){if(n.host===void 0){if(n.ssl!==void 0)throw new bt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=D_,this.ssl=Jy}else this.host=n.host,this.ssl=n.ssl??Jy;if(this.isUsingEmulator=n.emulatorOptions!==void 0,this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,n.cacheSizeBytes===void 0)this.cacheSizeBytes=T_;else{if(n.cacheSizeBytes!==-1&&n.cacheSizeBytes<cb)throw new bt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}JE("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:n.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N_(n.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new bt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new bt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new bt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&(function(r,u){return r.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,n.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class gc{constructor(n,s,r,u){this._authCredentials=n,this._appCheckCredentials=s,this._databaseId=r,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new bt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(n){if(this._settingsFrozen)throw new bt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wy(n),this._emulatorOptions=n.emulatorOptions||{},n.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new qE;switch(r.type){case"firstParty":return new YE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new bt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const r=Zy.get(s);r&&(yt("ComponentProvider","Removing Datastore"),Zy.delete(s),r.terminate())})(this),Promise.resolve()}}function dA(a,n,s,r={}){a=H0(a,gc);const u=Jh(n),f=a._getSettings(),d={...f,emulatorOptions:a._getEmulatorOptions()},g=`${n}:${s}`;u&&(mT(`https://${g}`),_T("Firestore",!0)),f.host!==D_&&f.host!==g&&lc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...f,host:g,ssl:u,emulatorOptions:r};if(!no(v,d)&&(a._setSettings(v),r.mockUserToken)){let p,A;if(typeof r.mockUserToken=="string")p=r.mockUserToken,A=fn.MOCK_USER;else{p=gT(r.mockUserToken,a._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new bt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new fn(w)}a._authCredentials=new HE(new k0(p,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(n,s,r){this.converter=s,this._query=r,this.type="query",this.firestore=n}withConverter(n){return new Sd(this.firestore,n,this._query)}}class dn{constructor(n,s,r){this.converter=s,this._key=r,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new dn(this.firestore,n,this._key)}toJSON(){return{type:dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(n,s,r){if(co(s,dn._jsonSchema))return new dn(n,r||null,new Mt(pe.fromString(s.referencePath)))}}dn._jsonSchemaVersion="firestore/documentReference/1.0",dn._jsonSchema={type:Le("string",dn._jsonSchemaVersion),referencePath:Le("string")};class ta extends Sd{constructor(n,s,r){super(n,s,RS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new dn(this.firestore,null,new Mt(n))}withConverter(n){return new ta(this.firestore,n,this._path)}}function mA(a,n,...s){if(a=qa(a),B0("collection","path",n),a instanceof gc){const r=pe.fromString(n,...s);return Ey(r),new ta(a,null,r)}{if(!(a instanceof dn||a instanceof ta))throw new bt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(pe.fromString(n,...s));return Ey(r),new ta(a.firestore,null,r)}}function gA(a,n,...s){if(a=qa(a),arguments.length===1&&(n=sd.newId()),B0("doc","path",n),a instanceof gc){const r=pe.fromString(n,...s);return Ty(r),new dn(a,null,new Mt(r))}{if(!(a instanceof dn||a instanceof ta))throw new bt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(pe.fromString(n,...s));return Ty(r),new dn(a.firestore,a instanceof ta?a.converter:null,new Mt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="AsyncQueue";class e0{constructor(n=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new b_(this,"async_queue_retry"),this._c=()=>{const r=Rh();r&&yt(t0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=n;const s=Rh();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.uc(),this.cc(n)}enterRestrictedMode(n){if(!this.ec){this.ec=!0,this.sc=n||!1;const s=Rh();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._c)}}enqueue(n){if(this.uc(),this.ec)return new Promise((()=>{}));const s=new ka;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(n().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(n){this.enqueueAndForget((()=>(this.Xu.push(n),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(n){if(!fo(n))throw n;yt(t0,"Operation failed with retryable error: "+n)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(n){const s=this.ac.then((()=>(this.rc=!0,n().catch((r=>{throw this.nc=r,this.rc=!1,Xa("INTERNAL UNHANDLED ERROR: ",n0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=s,s}enqueueAfterDelay(n,s,r){this.uc(),this.oc.indexOf(n)>-1&&(s=0);const u=Ed.createAndSchedule(this,n,s,r,(f=>this.hc(f)));return this.tc.push(u),u}uc(){this.nc&&Dt(47125,{Pc:n0(this.nc)})}verifyOperationInProgress(){}async Tc(){let n;do n=this.ac,await n;while(n!==this.ac)}Ic(n){for(const s of this.tc)if(s.timerId===n)return!0;return!1}Ec(n){return this.Tc().then((()=>{this.tc.sort(((s,r)=>s.targetTimeMs-r.targetTimeMs));for(const s of this.tc)if(s.skipDelay(),n!=="all"&&s.timerId===n)break;return this.Tc()}))}dc(n){this.oc.push(n)}hc(n){const s=this.tc.indexOf(n);this.tc.splice(s,1)}}function n0(a){let n=a.message||"";return a.stack&&(n=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),n}class O_ extends gc{constructor(n,s,r,u){super(n,s,r,u),this.type="firestore",this._queue=new e0,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const n=this._firestoreClient.terminate();this._queue=new e0(n),this._firestoreClient=void 0,await n}}}function pA(a,n){const s=typeof a=="object"?a:N0(),r=typeof a=="string"?a:Qu,u=uo(s,"firestore").getImmediate({identifier:r});if(!u._initialized){const f=hT("firestore");f&&dA(u,...f)}return u}function yA(a){if(a._terminated)throw new bt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||_A(a),a._firestoreClient}function _A(a){const n=a._freezeSettings(),s=(function(u,f,d,g){return new cS(u,f,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,N_(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,n);a._componentsProvider||n.localCache?._offlineComponentProvider&&n.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:n.localCache._offlineComponentProvider,_online:n.localCache._onlineComponentProvider}),a._firestoreClient=new uA(a._authCredentials,a._appCheckCredentials,a._queue,s,a._componentsProvider&&(function(u){const f=u?._online.build();return{_offline:u?._offline.build(f),_online:f}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(n){this._byteString=n}static fromBase64String(n){try{return new vi(Bi.fromBase64String(n))}catch(s){throw new bt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(n){return new vi(Bi.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}toJSON(){return{type:vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(n){if(co(n,vi._jsonSchema))return vi.fromBase64String(n.bytes)}}vi._jsonSchemaVersion="firestore/bytes/1.0",vi._jsonSchema={type:Le("string",vi._jsonSchemaVersion),bytes:Le("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(...n){for(let s=0;s<n.length;++s)if(n[s].length===0)throw new bt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(n){this._methodName=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(n,s){if(!isFinite(n)||n<-90||n>90)throw new bt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(s)||s<-180||s>180)throw new bt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=n,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}_compareTo(n){return Qt(this._lat,n._lat)||Qt(this._long,n._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gs._jsonSchemaVersion}}static fromJSON(n){if(co(n,gs._jsonSchema))return new gs(n.latitude,n.longitude)}}gs._jsonSchemaVersion="firestore/geoPoint/1.0",gs._jsonSchema={type:Le("string",gs._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(n){this._values=(n||[]).map((s=>s))}toArray(){return this._values.map((n=>n))}isEqual(n){return(function(r,u){if(r.length!==u.length)return!1;for(let f=0;f<r.length;++f)if(r[f]!==u[f])return!1;return!0})(this._values,n._values)}toJSON(){return{type:ps._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(n){if(co(n,ps._jsonSchema)){if(Array.isArray(n.vectorValues)&&n.vectorValues.every((s=>typeof s=="number")))return new ps(n.vectorValues);throw new bt(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ps._jsonSchemaVersion="firestore/vectorValue/1.0",ps._jsonSchema={type:Le("string",ps._jsonSchemaVersion),vectorValues:Le("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=/^__.*__$/;class TA{constructor(n,s,r){this.data=n,this.fieldMask=s,this.fieldTransforms=r}toMutation(n,s){return this.fieldMask!==null?new $a(n,this.data,this.fieldMask,s,this.fieldTransforms):new ho(n,this.data,s,this.fieldTransforms)}}function V_(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt(40011,{Ac:a})}}class Rd{constructor(n,s,r,u,f,d){this.settings=n,this.databaseId=s,this.serializer=r,this.ignoreUndefinedProperties=u,f===void 0&&this.Rc(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(n){return new Rd({...this.settings,...n},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(n){const s=this.path?.child(n),r=this.Vc({path:s,fc:!1});return r.gc(n),r}yc(n){const s=this.path?.child(n),r=this.Vc({path:s,fc:!1});return r.Rc(),r}wc(n){return this.Vc({path:void 0,fc:!0})}Sc(n){return nc(n,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(n){return this.fieldMask.find((s=>n.isPrefixOf(s)))!==void 0||this.fieldTransforms.find((s=>n.isPrefixOf(s.field)))!==void 0}Rc(){if(this.path)for(let n=0;n<this.path.length;n++)this.gc(this.path.get(n))}gc(n){if(n.length===0)throw this.Sc("Document fields must not be empty");if(V_(this.Ac)&&vA.test(n))throw this.Sc('Document fields cannot begin and end with "__"')}}class EA{constructor(n,s,r){this.databaseId=n,this.ignoreUndefinedProperties=s,this.serializer=r||fc(n)}Cc(n,s,r,u=!1){return new Rd({Ac:n,methodName:s,Dc:r,path:an.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function SA(a){const n=a._freezeSettings(),s=fc(a._databaseId);return new EA(a._databaseId,!!n.ignoreUndefinedProperties,s)}function bA(a,n,s,r,u,f={}){const d=a.Cc(f.merge||f.mergeFields?2:0,n,s,u);z_("Data must be an object, but it was:",d,r);const g=U_(r,d);let v,p;if(f.merge)v=new Ti(d.fieldMask),p=d.fieldTransforms;else if(f.mergeFields){const A=[];for(const w of f.mergeFields){const E=AA(n,w,s);if(!d.contains(E))throw new bt(rt.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);wA(A,E)||A.push(E)}v=new Ti(A),p=d.fieldTransforms.filter((w=>v.covers(w.field)))}else v=null,p=d.fieldTransforms;return new TA(new _i(g),v,p)}class wd extends Ad{_toFieldTransform(n){return new zS(n.path,new ro)}isEqual(n){return n instanceof wd}}function L_(a,n){if(j_(a=qa(a)))return z_("Unsupported field value:",n,a),U_(a,n);if(a instanceof Ad)return(function(r,u){if(!V_(u.Ac))throw u.Sc(`${r._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${r._methodName}() is not currently supported inside arrays`);const f=r._toFieldTransform(u);f&&u.fieldTransforms.push(f)})(a,n),null;if(a===void 0&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),a instanceof Array){if(n.settings.fc&&n.Ac!==4)throw n.Sc("Nested arrays are not supported");return(function(r,u){const f=[];let d=0;for(const g of r){let v=L_(g,u.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),f.push(v),d++}return{arrayValue:{values:f}}})(a,n)}return(function(r,u){if((r=qa(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return LS(u.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const f=de.fromDate(r);return{timestampValue:Hh(u.serializer,f)}}if(r instanceof de){const f=new de(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hh(u.serializer,f)}}if(r instanceof gs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vi)return{bytesValue:KS(u.serializer,r._byteString)};if(r instanceof dn){const f=u.databaseId,d=r.firestore._databaseId;if(!d.isEqual(f))throw u.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:__(r.firestore._databaseId||u.databaseId,r._key.path)}}if(r instanceof ps)return(function(d,g){return{mapValue:{fields:{[$0]:{stringValue:Z0},[zh]:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Sc("VectorValues must only contain numeric values.");return pd(g.serializer,p)}))}}}}}})(r,u);throw u.Sc(`Unsupported field value: ${ad(r)}`)})(a,n)}function U_(a,n){const s={};return G0(a)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Qr(a,((r,u)=>{const f=L_(u,n.mc(r));f!=null&&(s[r]=f)})),{mapValue:{fields:s}}}function j_(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof de||a instanceof gs||a instanceof vi||a instanceof dn||a instanceof Ad||a instanceof ps)}function z_(a,n,s){if(!j_(s)||!q0(s)){const r=ad(s);throw r==="an object"?n.Sc(a+" a custom object"):n.Sc(a+" "+r)}}function AA(a,n,s){if((n=qa(n))instanceof bd)return n._internalPath;if(typeof n=="string")return P_(a,n);throw nc("Field path arguments must be of type string or ",a,!1,void 0,s)}const RA=new RegExp("[~\\*/\\[\\]]");function P_(a,n,s){if(n.search(RA)>=0)throw nc(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,s);try{return new bd(...n.split("."))._internalPath}catch{throw nc(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,s)}}function nc(a,n,s,r,u){const f=r&&!r.isEmpty(),d=u!==void 0;let g=`Function ${n}() called with invalid data`;s&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(f||d)&&(v+=" (found",f&&(v+=` in field ${r}`),d&&(v+=` in document ${u}`),v+=")"),new bt(rt.INVALID_ARGUMENT,g+a+v)}function wA(a,n){return a.some((s=>s.isEqual(n)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(n,s,r,u,f){this._firestore=n,this._userDataWriter=s,this._key=r,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const n=new xA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const s=this._document.data.field(B_("DocumentSnapshot.get",n));if(s!==null)return this._userDataWriter.convertValue(s)}}}class xA extends k_{data(){return super.data()}}function B_(a,n){return typeof n=="string"?P_(a,n):n instanceof bd?n._internalPath:n._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(a,n,s){let r;return r=a?a.toFirestore(n):n,r}class zu{constructor(n,s){this.hasPendingWrites=n,this.fromCache=s}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Br extends k_{constructor(n,s,r,u,f,d){super(n,s,r,u,d),this._firestore=n,this._firestoreImpl=n,this.metadata=f}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const s=new Hu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,s={}){if(this._document){const r=this._document.data.field(B_("DocumentSnapshot.get",n));if(r!==null)return this._userDataWriter.convertValue(r,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new bt(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n=this._document,s={};return s.type=Br._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!n||!n.isValidDocument()||!n.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(n.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}}Br._jsonSchemaVersion="firestore/documentSnapshot/1.0",Br._jsonSchema={type:Le("string",Br._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};class Hu extends Br{data(n={}){return super.data(n)}}class to{constructor(n,s,r,u){this._firestore=n,this._userDataWriter=s,this._snapshot=u,this.metadata=new zu(u.hasPendingWrites,u.fromCache),this.query=r}get docs(){const n=[];return this.forEach((s=>n.push(s))),n}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(n,s){this._snapshot.docs.forEach((r=>{n.call(s,new Hu(this._firestore,this._userDataWriter,r.key,r,new zu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(n={}){const s=!!n.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new bt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(u,f){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map((g=>{const v=new Hu(u._firestore,u._userDataWriter,g.doc.key,g.doc,new zu(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((g=>f||g.type!==3)).map((g=>{const v=new Hu(u._firestore,u._userDataWriter,g.doc.key,g.doc,new zu(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let p=-1,A=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:IA(g.type),doc:v,oldIndex:p,newIndex:A}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new bt(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n={};n.type=to._jsonSchemaVersion,n.bundleSource="QuerySnapshot",n.bundleName=sd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const s=[],r=[],u=[];return this.docs.forEach((f=>{f._document!==null&&(s.push(f._document),r.push(this._userDataWriter.convertObjectMap(f._document.data.value.mapValue.fields,"previous")),u.push(f.ref.path))})),n.bundle=(this._firestore,this.query._query,n.bundleName,"NOT SUPPORTED"),n}}function IA(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt(61501,{type:a})}}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:Le("string",to._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};function CA(a,n){const s=H0(a.firestore,O_),r=gA(a),u=MA(a.converter,n);return NA(s,[bA(SA(a.firestore),"addDoc",r._key,u,a.converter!==null,{}).toMutation(r._key,ms.exists(!1))]).then((()=>r))}function NA(a,n){return(function(r,u){const f=new ka;return r.asyncQueue.enqueueAndForget((async()=>iA(await hA(r),u,f))),f.promise})(yA(a),n)}function DA(){return new wd("serverTimestamp")}(function(n,s=!0){(function(u){Fr=u})(IE),ea(new ys("firestore",((r,{instanceIdentifier:u,options:f})=>{const d=r.getProvider("app").getImmediate(),g=new O_(new XE(r.getProvider("auth-internal")),new FE(d,r.getProvider("app-check-internal")),(function(p,A){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new bt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(p.options.projectId,A)})(d,u),d);return f={useFetchStreams:s,...f},g._setSettings(f),g}),"PUBLIC").setMultipleInstances(!0)),ki(py,yy,n),ki(py,yy,"esm2020")})();const q_="@firebase/installations",xd="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=1e4,X_=`w:${xd}`,G_="FIS_v2",OA="https://firebaseinstallations.googleapis.com/v1",VA=3600*1e3,LA="installations",UA="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Fa=new rc(LA,UA,jA);function Y_(a){return a instanceof ra&&a.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_({projectId:a}){return`${OA}/projects/${a}/installations`}function Q_(a){return{token:a.token,requestStatus:2,expiresIn:PA(a.expiresIn),creationTime:Date.now()}}async function K_(a,n){const r=(await n.json()).error;return Fa.create("request-failed",{requestName:a,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function $_({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function zA(a,{refreshToken:n}){const s=$_(a);return s.append("Authorization",kA(n)),s}async function Z_(a){const n=await a();return n.status>=500&&n.status<600?a():n}function PA(a){return Number(a.replace("s","000"))}function kA(a){return`${G_} ${a}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BA({appConfig:a,heartbeatServiceProvider:n},{fid:s}){const r=F_(a),u=$_(a),f=n.getImmediate({optional:!0});if(f){const p=await f.getHeartbeatsHeader();p&&u.append("x-firebase-client",p)}const d={fid:s,authVersion:G_,appId:a.appId,sdkVersion:X_},g={method:"POST",headers:u,body:JSON.stringify(d)},v=await Z_(()=>fetch(r,g));if(v.ok){const p=await v.json();return{fid:p.fid||s,registrationStatus:2,refreshToken:p.refreshToken,authToken:Q_(p.authToken)}}else throw await K_("Create Installation",v)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(a){return new Promise(n=>{setTimeout(n,a)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=/^[cdef][\w-]{21}$/,Qh="";function XA(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const s=GA(a);return HA.test(s)?s:Qh}catch{return Qh}}function GA(a){return qA(a).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(a){return`${a.appName}!${a.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=new Map;function tv(a,n){const s=pc(a);ev(s,n),YA(s,n)}function ev(a,n){const s=W_.get(a);if(s)for(const r of s)r(n)}function YA(a,n){const s=FA();s&&s.postMessage({key:a,fid:n}),QA()}let Pa=null;function FA(){return!Pa&&"BroadcastChannel"in self&&(Pa=new BroadcastChannel("[Firebase] FID Change"),Pa.onmessage=a=>{ev(a.data.key,a.data.fid)}),Pa}function QA(){W_.size===0&&Pa&&(Pa.close(),Pa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="firebase-installations-database",$A=1,Qa="firebase-installations-store";let xh=null;function Md(){return xh||(xh=C0(KA,$A,{upgrade:(a,n)=>{switch(n){case 0:a.createObjectStore(Qa)}}})),xh}async function ic(a,n){const s=pc(a),u=(await Md()).transaction(Qa,"readwrite"),f=u.objectStore(Qa),d=await f.get(s);return await f.put(n,s),await u.done,(!d||d.fid!==n.fid)&&tv(a,n.fid),n}async function nv(a){const n=pc(a),r=(await Md()).transaction(Qa,"readwrite");await r.objectStore(Qa).delete(n),await r.done}async function yc(a,n){const s=pc(a),u=(await Md()).transaction(Qa,"readwrite"),f=u.objectStore(Qa),d=await f.get(s),g=n(d);return g===void 0?await f.delete(s):await f.put(g,s),await u.done,g&&(!d||d.fid!==g.fid)&&tv(a,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Id(a){let n;const s=await yc(a.appConfig,r=>{const u=ZA(r),f=JA(a,u);return n=f.registrationPromise,f.installationEntry});return s.fid===Qh?{installationEntry:await n}:{installationEntry:s,registrationPromise:n}}function ZA(a){const n=a||{fid:XA(),registrationStatus:0};return iv(n)}function JA(a,n){if(n.registrationStatus===0){if(!navigator.onLine){const u=Promise.reject(Fa.create("app-offline"));return{installationEntry:n,registrationPromise:u}}const s={fid:n.fid,registrationStatus:1,registrationTime:Date.now()},r=WA(a,s);return{installationEntry:s,registrationPromise:r}}else return n.registrationStatus===1?{installationEntry:n,registrationPromise:t2(a)}:{installationEntry:n}}async function WA(a,n){try{const s=await BA(a,n);return ic(a.appConfig,s)}catch(s){throw Y_(s)&&s.customData.serverCode===409?await nv(a.appConfig):await ic(a.appConfig,{fid:n.fid,registrationStatus:0}),s}}async function t2(a){let n=await i0(a.appConfig);for(;n.registrationStatus===1;)await J_(100),n=await i0(a.appConfig);if(n.registrationStatus===0){const{installationEntry:s,registrationPromise:r}=await Id(a);return r||s}return n}function i0(a){return yc(a,n=>{if(!n)throw Fa.create("installation-not-found");return iv(n)})}function iv(a){return e2(a)?{fid:a.fid,registrationStatus:0}:a}function e2(a){return a.registrationStatus===1&&a.registrationTime+H_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2({appConfig:a,heartbeatServiceProvider:n},s){const r=i2(a,s),u=zA(a,s),f=n.getImmediate({optional:!0});if(f){const p=await f.getHeartbeatsHeader();p&&u.append("x-firebase-client",p)}const d={installation:{sdkVersion:X_,appId:a.appId}},g={method:"POST",headers:u,body:JSON.stringify(d)},v=await Z_(()=>fetch(r,g));if(v.ok){const p=await v.json();return Q_(p)}else throw await K_("Generate Auth Token",v)}function i2(a,{fid:n}){return`${F_(a)}/${n}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cd(a,n=!1){let s;const r=await yc(a.appConfig,f=>{if(!sv(f))throw Fa.create("not-registered");const d=f.authToken;if(!n&&r2(d))return f;if(d.requestStatus===1)return s=s2(a,n),f;{if(!navigator.onLine)throw Fa.create("app-offline");const g=o2(f);return s=a2(a,g),g}});return s?await s:r.authToken}async function s2(a,n){let s=await s0(a.appConfig);for(;s.authToken.requestStatus===1;)await J_(100),s=await s0(a.appConfig);const r=s.authToken;return r.requestStatus===0?Cd(a,n):r}function s0(a){return yc(a,n=>{if(!sv(n))throw Fa.create("not-registered");const s=n.authToken;return u2(s)?{...n,authToken:{requestStatus:0}}:n})}async function a2(a,n){try{const s=await n2(a,n),r={...n,authToken:s};return await ic(a.appConfig,r),s}catch(s){if(Y_(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await nv(a.appConfig);else{const r={...n,authToken:{requestStatus:0}};await ic(a.appConfig,r)}throw s}}function sv(a){return a!==void 0&&a.registrationStatus===2}function r2(a){return a.requestStatus===2&&!l2(a)}function l2(a){const n=Date.now();return n<a.creationTime||a.creationTime+a.expiresIn<n+VA}function o2(a){const n={requestStatus:1,requestTime:Date.now()};return{...a,authToken:n}}function u2(a){return a.requestStatus===1&&a.requestTime+H_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(a){const n=a,{installationEntry:s,registrationPromise:r}=await Id(n);return r?r.catch(console.error):Cd(n).catch(console.error),s.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(a,n=!1){const s=a;return await h2(s),(await Cd(s,n)).token}async function h2(a){const{registrationPromise:n}=await Id(a);n&&await n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(a){if(!a||!a.options)throw Mh("App Configuration");if(!a.name)throw Mh("App Name");const n=["projectId","apiKey","appId"];for(const s of n)if(!a.options[s])throw Mh(s);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function Mh(a){return Fa.create("missing-app-config-values",{valueName:a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="installations",m2="installations-internal",g2=a=>{const n=a.getProvider("app").getImmediate(),s=d2(n),r=uo(n,"heartbeat");return{app:n,appConfig:s,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},p2=a=>{const n=a.getProvider("app").getImmediate(),s=uo(n,av).getImmediate();return{getId:()=>c2(s),getToken:u=>f2(s,u)}};function y2(){ea(new ys(av,g2,"PUBLIC")),ea(new ys(m2,p2,"PRIVATE"))}y2();ki(q_,xd);ki(q_,xd,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc="analytics",_2="firebase_id",v2="origin",T2=60*1e3,E2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Nd="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn=new Wh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Yn=new rc("analytics","Analytics",S2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(a){if(!a.startsWith(Nd)){const n=Yn.create("invalid-gtag-resource",{gtagURL:a});return wn.warn(n.message),""}return a}function rv(a){return Promise.all(a.map(n=>n.catch(s=>s)))}function A2(a,n){let s;return window.trustedTypes&&(s=window.trustedTypes.createPolicy(a,n)),s}function R2(a,n){const s=A2("firebase-js-sdk-policy",{createScriptURL:b2}),r=document.createElement("script"),u=`${Nd}?l=${a}&id=${n}`;r.src=s?s?.createScriptURL(u):u,r.async=!0,document.head.appendChild(r)}function w2(a){let n=[];return Array.isArray(window[a])?n=window[a]:window[a]=n,n}async function x2(a,n,s,r,u,f){const d=r[u];try{if(d)await n[d];else{const v=(await rv(s)).find(p=>p.measurementId===u);v&&await n[v.appId]}}catch(g){wn.error(g)}a("config",u,f)}async function M2(a,n,s,r,u){try{let f=[];if(u&&u.send_to){let d=u.send_to;Array.isArray(d)||(d=[d]);const g=await rv(s);for(const v of d){const p=g.find(w=>w.measurementId===v),A=p&&n[p.appId];if(A)f.push(A);else{f=[];break}}}f.length===0&&(f=Object.values(n)),await Promise.all(f),a("event",r,u||{})}catch(f){wn.error(f)}}function I2(a,n,s,r){async function u(f,...d){try{if(f==="event"){const[g,v]=d;await M2(a,n,s,g,v)}else if(f==="config"){const[g,v]=d;await x2(a,n,s,r,g,v)}else if(f==="consent"){const[g,v]=d;a("consent",g,v)}else if(f==="get"){const[g,v,p]=d;a("get",g,v,p)}else if(f==="set"){const[g]=d;a("set",g)}else a(f,...d)}catch(g){wn.error(g)}}return u}function C2(a,n,s,r,u){let f=function(...d){window[r].push(arguments)};return window[u]&&typeof window[u]=="function"&&(f=window[u]),window[u]=I2(f,a,n,s),{gtagCore:f,wrappedGtag:window[u]}}function N2(a){const n=window.document.getElementsByTagName("script");for(const s of Object.values(n))if(s.src&&s.src.includes(Nd)&&s.src.includes(a))return s;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=30,O2=1e3;class V2{constructor(n={},s=O2){this.throttleMetadata=n,this.intervalMillis=s}getThrottleMetadata(n){return this.throttleMetadata[n]}setThrottleMetadata(n,s){this.throttleMetadata[n]=s}deleteThrottleMetadata(n){delete this.throttleMetadata[n]}}const lv=new V2;function L2(a){return new Headers({Accept:"application/json","x-goog-api-key":a})}async function U2(a){const{appId:n,apiKey:s}=a,r={method:"GET",headers:L2(s)},u=E2.replace("{app-id}",n),f=await fetch(u,r);if(f.status!==200&&f.status!==304){let d="";try{const g=await f.json();g.error?.message&&(d=g.error.message)}catch{}throw Yn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:d})}return f.json()}async function j2(a,n=lv,s){const{appId:r,apiKey:u,measurementId:f}=a.options;if(!r)throw Yn.create("no-app-id");if(!u){if(f)return{measurementId:f,appId:r};throw Yn.create("no-api-key")}const d=n.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new k2;return setTimeout(async()=>{g.abort()},T2),ov({appId:r,apiKey:u,measurementId:f},d,g,n)}async function ov(a,{throttleEndTimeMillis:n,backoffCount:s},r,u=lv){const{appId:f,measurementId:d}=a;try{await z2(r,n)}catch(g){if(d)return wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:f,measurementId:d};throw g}try{const g=await U2(a);return u.deleteThrottleMetadata(f),g}catch(g){const v=g;if(!P2(v)){if(u.deleteThrottleMetadata(f),d)return wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:f,measurementId:d};throw g}const p=Number(v?.customData?.httpStatus)===503?ry(s,u.intervalMillis,D2):ry(s,u.intervalMillis),A={throttleEndTimeMillis:Date.now()+p,backoffCount:s+1};return u.setThrottleMetadata(f,A),wn.debug(`Calling attemptFetch again in ${p} millis`),ov(a,A,r,u)}}function z2(a,n){return new Promise((s,r)=>{const u=Math.max(n-Date.now(),0),f=setTimeout(s,u);a.addEventListener(()=>{clearTimeout(f),r(Yn.create("fetch-throttle",{throttleEndTimeMillis:n}))})})}function P2(a){if(!(a instanceof ra)||!a.customData)return!1;const n=Number(a.customData.httpStatus);return n===429||n===500||n===503||n===504}class k2{constructor(){this.listeners=[]}addEventListener(n){this.listeners.push(n)}abort(){this.listeners.forEach(n=>n())}}async function B2(a,n,s,r,u){if(u&&u.global){a("event",s,r);return}else{const f=await n,d={...r,send_to:f};a("event",s,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(){if(w0())try{await x0()}catch(a){return wn.warn(Yn.create("indexeddb-unavailable",{errorInfo:a?.toString()}).message),!1}else return wn.warn(Yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function H2(a,n,s,r,u,f,d){const g=j2(a);g.then(E=>{s[E.measurementId]=E.appId,a.options.measurementId&&E.measurementId!==a.options.measurementId&&wn.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>wn.error(E)),n.push(g);const v=q2().then(E=>{if(E)return r.getId()}),[p,A]=await Promise.all([g,v]);N2(f)||R2(f,p.measurementId),u("js",new Date);const w=d?.config??{};return w[v2]="firebase",w.update=!0,A!=null&&(w[_2]=A),u("config",p.measurementId,w),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(n){this.app=n}_delete(){return delete eo[this.app.options.appId],Promise.resolve()}}let eo={},a0=[];const r0={};let Ih="dataLayer",G2="gtag",l0,uv,o0=!1;function Y2(){const a=[];if(ET()&&a.push("This is a browser extension environment."),bT()||a.push("Cookies are not available."),a.length>0){const n=a.map((r,u)=>`(${u+1}) ${r}`).join(" "),s=Yn.create("invalid-analytics-context",{errorInfo:n});wn.warn(s.message)}}function F2(a,n,s){Y2();const r=a.options.appId;if(!r)throw Yn.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Yn.create("no-api-key");if(eo[r]!=null)throw Yn.create("already-exists",{id:r});if(!o0){w2(Ih);const{wrappedGtag:f,gtagCore:d}=C2(eo,a0,r0,Ih,G2);uv=f,l0=d,o0=!0}return eo[r]=H2(a,a0,r0,n,l0,Ih,s),new X2(a)}function Q2(a=N0()){a=qa(a);const n=uo(a,sc);return n.isInitialized()?n.getImmediate():K2(a)}function K2(a,n={}){const s=uo(a,sc);if(s.isInitialized()){const u=s.getImmediate();if(no(n,s.getOptions()))return u;throw Yn.create("already-initialized")}return s.initialize({options:n})}function $2(a,n,s,r){a=qa(a),B2(uv,eo[a.app.options.appId],n,s,r).catch(u=>wn.error(u))}const u0="@firebase/analytics",c0="0.10.18";function Z2(){ea(new ys(sc,(n,{options:s})=>{const r=n.getProvider("app").getImmediate(),u=n.getProvider("installations-internal").getImmediate();return F2(r,u,s)},"PUBLIC")),ea(new ys("analytics-internal",a,"PRIVATE")),ki(u0,c0),ki(u0,c0,"esm2020");function a(n){try{const s=n.getProvider(sc).getImmediate();return{logEvent:(r,u,f)=>$2(s,r,u,f)}}catch(s){throw Yn.create("interop-component-reg-failed",{reason:s})}}}Z2();const ac={apiKey:"AIzaSyDwst-4J5unX773oOfXHfjdOymh02yH_fU",authDomain:"steering-experiment.firebaseapp.com",projectId:"steering-experiment",storageBucket:"steering-experiment.firebasestorage.app",messagingSenderId:"773443415350",appId:"1:773443415350:web:f95e4d189b16ebb76d9797",measurementId:"G-RFZQQVCF7C"},J2=ed(ac);Q2(J2);const W2=ed(ac),tR=pA(W2);async function eR(a){try{const n={...a,uploadedAt:DA(),version:"2.0"},s=await CA(mA(tR,"user_study_results"),n);return console.log("Data uploaded successfully with ID:",s.id),s.id}catch(n){throw console.error("Error uploading data to Firebase:",n),n}}async function nR(a,n=3){let s;for(let r=1;r<=n;r++)try{return await eR(a)}catch(u){if(s=u,console.warn(`Upload attempt ${r} failed:`,u.message),r<n){const f=Math.pow(2,r)*1e3;await new Promise(d=>setTimeout(d,f))}}throw new Error(`Failed to upload data after ${n} attempts. Last error: ${s.message}`)}function iR(){return ac.apiKey!=="your-api-key-here"&&ac.projectId!=="your-project-id"}const f0=(a,n,s)=>{const r={participantId:a,prolificData:n,trialData:s,summary:{totalTrials:s.length,averageCompletionTime:s.reduce((g,v)=>g+v.completionTime,0)/s.length}},u=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),f=URL.createObjectURL(u),d=document.createElement("a");d.href=f,d.download=`steering_experiment_${a}_${Date.now()}.json`,d.click(),URL.revokeObjectURL(f)},sR=async(a,n,s)=>{if(!iR())throw new Error("Firebase not configured. Please check your configuration.");const r={participantId:a,prolificData:n,trialData:s,summary:{totalTrials:s.length,averageCompletionTime:s.reduce((f,d)=>f+d.completionTime,0)/s.length},experimentVersion:"3.0",completedAt:new Date().toISOString()};return await nR(r)},h0=(a,n)=>a===ht.MAIN_TRIALS?n+1:a===ht.SEQUENTIAL_TRIALS?Pr.length+n+1:0,d0=()=>Pr.length+F1.length,m0=(a,n)=>a===ht.TIME_TRIALS?n+1:a===ht.SEQUENTIAL_TIME_TRIALS?E0.length+n+1:0,g0=()=>E0.length+Q1.length,aR=({phase:a,currentTrial:n,currentConditions:s,practicedConditions:r,setPhase:u,setCurrentTrial:f,setCurrentConditions:d,setCurrentPracticeCondition:g,setIsPractice:v,setupTrial:p})=>{const A=n+1;if(f(A),A>=s.length){a===ht.MAIN_TRIALS?u(ht.LASSO_INSTRUCTIONS):a===ht.LASSO_TRIALS?u(ht.CASCADING_MENU_INSTRUCTIONS):a===ht.CASCADING_MENU_TRIALS&&u(ht.COMPLETE);return}p(s[A])},rR=(a,n,s,r,u,f)=>{if(a.strokeStyle="#666666",a.lineWidth=2,s==="sequential"){const d=n.length/2,g=[];for(let p=0;p<2;p++){const A=Math.floor(p*d),w=Math.floor((p+1)*d),E=u[p]/2;for(let R=A;R<w&&R<n.length;R++){const j=n[R],P=j.x*f,z=(j.y-E)*f;g.push({x:P,y:z})}if(p<1&&w<n.length){const R=n[w],j=R.x*f,P=u[p]/2,z=u[p+1]/2;g.push({x:j,y:(R.y-P)*f}),g.push({x:j,y:(R.y-z)*f})}}for(let p=1;p>=0;p--){const A=Math.floor(p*d),w=Math.floor((p+1)*d),E=u[p]/2;for(let R=w-1;R>=A&&R>=0;R--){const j=n[R],P=j.x*f,z=(j.y+E)*f;g.push({x:P,y:z})}if(p>0&&A>0){const R=n[A],j=R.x*f,P=u[p-1]/2,z=u[p]/2;g.push({x:j,y:(R.y+P)*f}),g.push({x:j,y:(R.y+z)*f})}}for(let p=0;p<2;p++){const A=Math.floor(p*d),w=Math.floor((p+1)*d),E=u[p]/2;a.beginPath();for(let R=A;R<w&&R<n.length;R++){const j=n[R],P=j.x*f,z=(j.y-E)*f;R===A?a.moveTo(P,z):a.lineTo(P,z)}a.stroke(),a.beginPath();for(let R=A;R<w&&R<n.length;R++){const j=n[R],P=j.x*f,z=(j.y+E)*f;R===A?a.moveTo(P,z):a.lineTo(P,z)}a.stroke()}const v=Math.floor(d);if(v<n.length){const p=n[v],A=p.x*f,w=u[0]/2,E=u[1]/2;a.beginPath(),a.moveTo(A,(p.y-w)*f),a.lineTo(A,(p.y-E)*f),a.stroke(),a.beginPath(),a.moveTo(A,(p.y+w)*f),a.lineTo(A,(p.y+E)*f),a.stroke()}if(a.fillStyle="#CCCCCC",g.length>0){a.beginPath(),a.moveTo(g[0].x,g[0].y);for(let p=1;p<g.length;p++)a.lineTo(g[p].x,g[p].y);a.closePath(),a.fill()}}else if(s==="corner"){const d=r/2,g=[];let v={type:null,start:null,end:null};for(let R=0;R<n.length;R++){const j=n[R];let P=null;if(R<n.length-1){const z=n[R+1],K=Math.abs(z.x-j.x),it=Math.abs(z.y-j.y);P=K>it?"horizontal":"vertical"}else R>0&&(P=v.type);P!==v.type&&v.start!==null?(v.end=n[R-1],g.push(v),v={type:P,start:n[R-1],end:null}):v.start===null&&(v.start=j,v.type=P)}v.start!==null&&(v.end=n[n.length-1],g.push(v));const p=[],A=[];for(let R=0;R<g.length;R++){const j=g[R],P=j.start,z=j.end;if(j.type==="horizontal"){const K=P.x*f,it=(P.y-d)*f,$=z.x*f,lt=(z.y-d)*f;if(R===0&&p.push({x:K,y:it}),p.push({x:$,y:lt}),R<g.length-1&&g[R+1].type==="vertical"){const Q=z,at=g[R+1],b=at.end.y<at.start.y?-d:d,x=(Q.x+b)*f,D=(Q.y-d)*f;p.push({x,y:D})}}else{const it=z.y<P.y?-d:d,$=(z.x+it)*f,lt=(z.y-d)*f;if(p.push({x:$,y:lt}),R<g.length-1&&g[R+1].type==="horizontal"){const Q=z,at=Q.x*f,C=(Q.y-d)*f;p.push({x:at,y:C})}}}for(let R=g.length-1;R>=0;R--){const j=g[R],P=j.start,z=j.end;if(j.type==="horizontal"){const K=P.x*f,it=(P.y+d)*f,$=z.x*f,lt=(z.y+d)*f;if(R===g.length-1&&A.push({x:$,y:lt}),A.push({x:K,y:it}),R>0&&g[R-1].type==="vertical"){const Q=P,at=g[R-1],b=at.end.y<at.start.y?d:-d,x=(Q.x+b)*f,D=(Q.y+d)*f;A.push({x,y:D})}}else{const it=z.y<P.y?d:-d,$=(P.x+it)*f,lt=(P.y+d)*f;if(A.push({x:$,y:lt}),R>0&&g[R-1].type==="horizontal"){const Q=P,at=Q.x*f,C=(Q.y+d)*f;A.push({x:at,y:C})}}}const w=[],E=[];for(let R=0;R<g.length;R++){const j=g[R],P=j.start,z=j.end;if(j.type==="horizontal"){const K=P.x*f,it=(P.y-d)*f,$=z.x*f,lt=(z.y-d)*f;R===0&&w.push({x:K,y:it}),w.push({x:$,y:lt});const Q=P.x*f,at=(P.y+d)*f,C=z.x*f,b=(z.y+d)*f;if(R===0&&E.push({x:C,y:b}),E.push({x:Q,y:at}),R<g.length-1&&g[R+1].type==="vertical"){const x=z,D=g[R+1],L=D.end.y<D.start.y?-d:d,M=(x.x+L)*f,gt=(x.y-d)*f;w.push({x:M,y:gt});const dt=(x.x+L)*f,Y=(x.y+d)*f;E.push({x:dt,y:Y})}}else{const K=z.y<P.y,it=K?-d:d,$=(z.x+it)*f,lt=(z.y-d)*f;w.push({x:$,y:lt});const Q=K?d:-d,at=(P.x+Q)*f,C=(P.y+d)*f;if(E.push({x:at,y:C}),R<g.length-1&&g[R+1].type==="horizontal"){const b=z,x=b.x*f,D=(b.y-d)*f;w.push({x,y:D});const O=b.x*f,L=(b.y+d)*f;E.push({x:O,y:L})}}}if(a.beginPath(),w.length>0){a.moveTo(w[0].x,w[0].y);for(let R=1;R<w.length;R++)a.lineTo(w[R].x,w[R].y)}if(a.stroke(),a.beginPath(),E.length>0){a.moveTo(E[0].x,E[0].y);for(let R=1;R<E.length;R++)a.lineTo(E[R].x,E[R].y)}if(a.stroke(),a.fillStyle="#CCCCCC",a.beginPath(),p.length>0){a.moveTo(p[0].x,p[0].y);for(let R=1;R<p.length;R++)a.lineTo(p[R].x,p[R].y);for(let R=0;R<A.length;R++)a.lineTo(A[R].x,A[R].y);a.closePath(),a.fill()}}else{const d=r/2,g=[],v=[];for(let p=0;p<n.length;p++){const A=n[p];let w,E;if(p===0){const z=n[p+1];w=z.x-A.x,E=z.y-A.y}else if(p===n.length-1){const z=n[p-1];w=A.x-z.x,E=A.y-z.y}else{const z=n[p-1],K=n[p+1];w=K.x-z.x,E=K.y-z.y}const R=Math.sqrt(w*w+E*E);R>0&&(w/=R,E/=R);const j=-E,P=w;g.push({x:A.x+j*d,y:A.y+P*d}),v.push({x:A.x-j*d,y:A.y-P*d})}a.beginPath(),g.forEach((p,A)=>{const w=p.x*f,E=p.y*f;A===0?a.moveTo(w,E):a.lineTo(w,E)}),a.stroke(),a.beginPath(),v.forEach((p,A)=>{const w=p.x*f,E=p.y*f;A===0?a.moveTo(w,E):a.lineTo(w,E)}),a.stroke(),a.fillStyle="#CCCCCC",a.beginPath(),g.forEach((p,A)=>{const w=p.x*f,E=p.y*f;A===0?a.moveTo(w,E):a.lineTo(w,E)});for(let p=v.length-1;p>=0;p--){const A=v[p],w=A.x*f,E=A.y*f;a.lineTo(w,E)}a.closePath(),a.fill()}},lR=(a,n,s)=>{n.forEach(r=>{a.fillStyle="#FF6B6B",a.strokeStyle="#DC2626",a.lineWidth=2;const u=r.x*s,f=r.y*s,d=4;a.beginPath(),a.moveTo(u-d,f-d),a.lineTo(u+d,f+d),a.moveTo(u-d,f+d),a.lineTo(u+d,f-d),a.stroke(),a.beginPath(),a.arc(u,f,d+2,0,2*Math.PI),a.stroke()})},oR=(a,n,s)=>{a.fillStyle="#0000FF",a.beginPath(),a.arc(n.x*s,n.y*s,3,0,2*Math.PI),a.fill()},Ch=(a,n,s,r=null)=>{const u=n.x*s,f=n.y*s,d=(r!==null?r:S0)*s;a.fillStyle="#00FF00",a.beginPath(),a.arc(u,f,d,0,2*Math.PI),a.fill(),a.strokeStyle="#009900",a.lineWidth=Math.max(1,d/3),a.stroke(),a.fillStyle="#000000",a.font="12px Arial",a.textAlign="center"},p0=(a,n,s,r=null)=>{const u=n.x*s,f=n.y*s,d=(r!==null?r:$h)*s;a.fillStyle="#FF0000",a.beginPath(),a.arc(u,f,d,0,2*Math.PI),a.fill(),a.strokeStyle="#990000",a.lineWidth=Math.max(1,d/5),a.stroke()},uR=(a,n,s,r,u=null)=>{if(!n)return;const{mainMenuSize:f,subMenuSize:d,targetMainMenuIndex:g,targetSubMenuIndex:v,mainMenuWindowSize:p=[.08,.15],subMenuWindowSize:A=[.08,.12],mainMenuOrigin:w=[.1,.1]}=n,[E,R]=w,[j,P]=p,[z,K]=A,it=P/f,$=K/d,lt=E,Q=R,at=lt+j,C=Q+P,b=Q+g*it,x=b+it,D=lt,O=at,L=s.x>=D&&s.x<=O&&s.y>=b&&s.y<=x;u&&L&&(u.current=!0);const M=u?u.current:L;a.save(),a.fillStyle="rgba(0, 0, 0, 0.15)",a.fillRect((lt+3)*r,(Q+3)*r,j*r,P*r),a.fillStyle="#FFFFFF",a.fillRect(lt*r,Q*r,j*r,P*r),a.strokeStyle="#C0C0C0",a.lineWidth=1,a.strokeRect(lt*r,Q*r,j*r,P*r);for(let gt=0;gt<f;gt++){const dt=Q+gt*it,Y=dt+it,st=lt,ot=at,Tt=dt+it/2,N=gt===g,Z=s.x>=st&&s.x<=ot&&s.y>=dt&&s.y<=Y;(N||Z)&&(N?a.fillStyle="#FF6B6B":a.fillStyle="#E5E5E5",a.fillRect(st*r,dt*r,(ot-st)*r,(Y-dt)*r));const ut=j*.1,nt=st+ut;if(a.fillStyle=N||Z?"#FFFFFF":"#000000",a.font=`bold ${8*r/1e3}px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif`,a.textAlign="left",a.textBaseline="middle",a.fillText(`Item ${gt+1}`,nt*r,Tt*r),N){a.fillStyle=N||Z?"#FFFFFF":"#666666",a.beginPath();const mt=ot-ut,St=5;a.moveTo(mt*r,(Tt-St)*r),a.lineTo((mt+St)*r,Tt*r),a.lineTo(mt*r,(Tt+St)*r),a.closePath(),a.fill()}}if(M){const gt=at,dt=b,Y=gt+z;a.fillStyle="rgba(0, 0, 0, 0.15)",a.fillRect((gt+3)*r,(dt+3)*r,z*r,K*r),a.fillStyle="#FFFFFF",a.fillRect(gt*r,dt*r,z*r,K*r),a.strokeStyle="#C0C0C0",a.lineWidth=1,a.strokeRect(gt*r,dt*r,z*r,K*r),a.strokeStyle="#C0C0C0",a.lineWidth=1,a.beginPath(),a.moveTo(at*r,Q*r),a.lineTo(at*r,C*r),a.stroke();for(let st=0;st<d;st++){const ot=dt+st*$,Tt=ot+$,N=gt,Z=Y,ut=ot+$/2,nt=st===v,mt=s.x>=N&&s.x<=Z&&s.y>=ot&&s.y<=Tt;(nt||mt)&&(nt?a.fillStyle="#FF6B6B":a.fillStyle="#E5E5E5",a.fillRect(N*r,ot*r,(Z-N)*r,(Tt-ot)*r));const St=z*.1,_t=N+St;a.fillStyle=nt||mt?"#FFFFFF":"#000000",a.font=`bold ${8*r/1e3}px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif`,a.textAlign="left",a.textBaseline="middle",a.fillText(`Sub ${st+1}`,_t*r,ut*r)}}a.restore()},cR=(a,n,s)=>{if(!n)return;const{grid_layout:r,icon_radius:u,icon_spacing:f,grid_origin:d}=n,[g,v]=d;for(let p=0;p<r.length;p++){const A=r[p].split(/\s+/).filter(w=>w.length>0);for(let w=0;w<A.length;w++){const E=A[w],R=g+w*f,j=v+p*f,P=R*s,z=j*s,K=u*2*s;E==="X"?(a.fillStyle="#FFD700",a.fillRect(P-K/2,z-K/2,K,K),a.strokeStyle="#CCAA00",a.lineWidth=1,a.strokeRect(P-K/2,z-K/2,K,K)):(E==="."||E===" ")&&(a.fillStyle="#E0E0E0",a.fillRect(P-K/2,z-K/2,K,K),a.strokeStyle="#CCCCCC",a.lineWidth=1,a.strokeRect(P-K/2,z-K/2,K,K))}}},fR=(a,n,s,r,u,f,d,g,v,p,A,w,E,R,j=null,P=null,z=null)=>{a.clearRect(0,0,w,E),n.length>0&&s!=="lasso"&&s!=="cascading_menu"&&rR(a,n,s,r,u,R),s==="lasso"&&j&&cR(a,j,R),s==="cascading_menu"&&P&&uR(a,P,g,R,z),f.length>0&&(s==="lasso"||d)&&lR(a,f,R),s==="lasso"&&j?(v==="waiting_for_start"&&Ch(a,p,R,.003),p0(a,A,R,.003)):s==="cascading_menu"?v==="waiting_for_start"&&Ch(a,p,R,.003):(v==="waiting_for_start"&&Ch(a,p,R),p0(a,A,R)),oR(a,g,R)},hR=({phase:a,setPhase:n,currentTrial:s,setCurrentTrial:r,currentConditions:u,setCurrentConditions:f,currentPracticeCondition:d,setCurrentPracticeCondition:g,practicedConditions:v,setPracticedConditions:p,participantId:A,setParticipantId:w,setIsPractice:E,setupTrial:R})=>{vt.useEffect(()=>{const j=P=>{switch(a){case ht.WELCOME:P.key==="Enter"&&n(ht.ENVIRONMENT_SETUP);break;case ht.ENVIRONMENT_SETUP:P.key===" "&&n(ht.INSTRUCTIONS);break;case ht.INSTRUCTIONS:P.key===" "&&(n(ht.PRACTICE),E(!0),R(Pr[0]));break;case ht.PRACTICE:P.key==="r"?R(Pr[0]):P.key==="n"&&(n(ht.MAIN_TRIALS),r(0),f([...Pr]),E(!1),A||w(`P${new Date().toTimeString().slice(0,8).replace(/:/g,"")}`),R(Pr[0]));break;case ht.MAIN_TRIALS:P.key==="r"&&R(u[s],!1);break;case ht.LASSO_INSTRUCTIONS:P.key===" "&&(n(ht.LASSO_TRIALS),r(0),f([...Jp]),E(!1),R(Jp[0]));break;case ht.LASSO_TRIALS:P.key==="r"&&R(u[s],!1);break;case ht.CASCADING_MENU_INSTRUCTIONS:P.key===" "&&(n(ht.CASCADING_MENU_TRIALS),r(0),f([...Wp]),E(!1),R(Wp[0]));break;case ht.CASCADING_MENU_TRIALS:P.key==="r"&&R(u[s],!1);break}};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[a,s,u,d,A,R,n,r,f,g,p,w,E])},dR=(a,n,s,r,u,f)=>{if(!s.length)return{isExcursion:!1};let d=1/0,g=null,v=-1,p=1/0;s.forEach((w,E)=>{let R,j;if(E===0){const at=s[E+1];R=at.x-w.x,j=at.y-w.y}else if(E===s.length-1){const at=s[E-1];R=w.x-at.x,j=w.y-at.y}else{const at=s[E-1],C=s[E+1];R=C.x-at.x,j=C.y-at.y}const P=Math.sqrt(R*R+j*j);P>0&&(R/=P,j/=P);const z=-j,K=R,it=a-w.x,$=n-w.y,lt=Math.abs(it*z+$*K),Q=Math.sqrt(it*it+$*$);Q<d&&(d=Q,g=w,v=E,p=lt)});let A;if(r==="sequential"){const w=s.length/2,E=Math.floor(v/w);A=f[Math.min(E,f.length-1)]/2}else A=u/2;if(p>A){let w,E;if(v===0){const Q=s[v+1];w=Q.x-g.x,E=Q.y-g.y}else if(v===s.length-1){const Q=s[v-1];w=g.x-Q.x,E=g.y-Q.y}else{const Q=s[v-1],at=s[v+1];w=at.x-Q.x,E=at.y-Q.y}const R=Math.sqrt(w*w+E*E);R>0&&(w/=R,E/=R);const j=-E,P=w,z=a-g.x,K=n-g.y,$=z*j+K*P>=0?1:-1;return{isExcursion:!0,boundaryPoint:{x:g.x+j*A*$,y:g.y+P*A*$},distanceOutside:p-A}}return{isExcursion:!1}},mR=(a,n,s)=>{if(!s||!s.grid_layout)return{isExcursion:!1};const{grid_layout:r,icon_radius:u,icon_spacing:f,grid_origin:d}=s,[g,v]=d,p=u*(2/3);for(let A=0;A<r.length;A++){const w=r[A].split(/\s+/).filter(E=>E.length>0);for(let E=0;E<w.length;E++){const R=w[E],j=g+E*f,P=v+A*f,z=a-j,K=n-P,it=Math.sqrt(z*z+K*K);if((R==="."||R===" ")&&it<=p){const $=Math.atan2(K,z),lt=j+Math.cos($)*p,Q=P+Math.sin($)*p;return{isExcursion:!0,boundaryPoint:{x:lt,y:Q},distanceOutside:p-it}}if(R==="X"&&it<=p){const $=Math.atan2(K,z),lt=j+Math.cos($)*p,Q=P+Math.sin($)*p;return{isExcursion:!0,boundaryPoint:{x:lt,y:Q},distanceOutside:p-it}}}}return{isExcursion:!1}},gR=(a,n,s)=>{let r=!1;for(let u=0,f=s.length-1;u<s.length;f=u++){const d=s[u].x,g=s[u].y,v=s[f].x,p=s[f].y;g>n!=p>n&&a<(v-d)*(n-g)/(p-g)+d&&(r=!r)}return r},Zs=(a,n)=>{const s=Math.abs(a.y-n.y)<1e-6,r=Math.abs(a.x-n.x)<1e-6;return s||r},pR=a=>{if(a.length===0)return[];if(a.length===1)return a;const n=Math.min(...a.map(E=>E.x)),s=Math.max(...a.map(E=>E.x)),r=Math.min(...a.map(E=>E.y)),u=Math.max(...a.map(E=>E.y)),f=[],d=new Set,g=a.filter(E=>Math.abs(E.y-r)<1e-6).sort((E,R)=>E.x-R.x);for(const E of g){const R=`${E.x},${E.y}`;d.has(R)||(d.add(R),f.push(E))}const v=a.filter(E=>Math.abs(E.x-s)<1e-6&&Math.abs(E.y-r)>1e-6).sort((E,R)=>E.y-R.y);for(const E of v){const R=`${E.x},${E.y}`;d.has(R)||(d.add(R),f.push(E))}const p=a.filter(E=>Math.abs(E.y-u)<1e-6&&Math.abs(E.x-s)>1e-6).sort((E,R)=>R.x-E.x);for(const E of p){const R=`${E.x},${E.y}`;d.has(R)||(d.add(R),f.push(E))}const A=a.filter(E=>Math.abs(E.x-n)<1e-6&&Math.abs(E.y-r)>1e-6&&Math.abs(E.y-u)>1e-6).sort((E,R)=>R.y-E.y);for(const E of A){const R=`${E.x},${E.y}`;d.has(R)||(d.add(R),f.push(E))}const w=a.filter(E=>{const R=`${E.x},${E.y}`;return!d.has(R)});w.sort((E,R)=>Math.abs(E.x-R.x)>1e-6?E.x-R.x:E.y-R.y);for(const E of w){let R=-1,j=1/0;for(let P=0;P<=f.length;P++){const z=P>0?f[P-1]:null,K=P<f.length?f[P]:null;let it=!0;if(z&&!Zs(z,E)&&(it=!1),K&&!Zs(E,K)&&(it=!1),it){let $=0;z&&(Math.abs(z.x-E.x)<1e-6&&($-=10),Math.abs(z.y-E.y)<1e-6&&($-=10)),K&&(Math.abs(K.x-E.x)<1e-6&&($-=10),Math.abs(K.y-E.y)<1e-6&&($-=10)),$<j&&(j=$,R=P)}}if(R===-1)for(let P=0;P<=f.length;P++){const z=P>0?f[P-1]:null,K=P<f.length?f[P]:null,it=z&&Zs(z,E),$=K&&Zs(E,K);if(it||$){R=P;break}}R===-1&&(R=f.length),f.splice(R,0,E)}for(let E=1;E<f.length;E++){const R=f[E-1],j=f[E];if(!Zs(R,j)){let P=!1;for(let z=E+1;z<f.length;z++)if(Zs(R,f[z])){[f[E],f[z]]=[f[z],f[E]],P=!0;break}if(!P)for(let z=E+1;z<f.length;z++){const K=f[z];if(Zs(R,K)&&(z===f.length-1||Zs(K,f[z+1]))){f.splice(z,1),f.splice(E,0,K),P=!0;break}}}}return f},yR=(a,n,s,r,u)=>{if(!s||!s.grid_layout||!r||!u)return{isExcursion:!1};const{grid_layout:f,icon_radius:d,icon_spacing:g,grid_origin:v}=s,[p,A]=v,w=[];for(let $=0;$<f.length;$++){const lt=f[$].split(/\s+/).filter(Q=>Q.length>0);for(let Q=0;Q<lt.length;Q++)if(lt[Q]==="X"){const at=p+Q*g,C=A+$*g;w.push({x:at,y:C,row:$,col:Q})}}if(w.length===0)return{isExcursion:!1};const E=pR(w);if(E.length>=3){const $=E.map(lt=>({x:lt.x,y:lt.y}));if(gR(a,n,$)){let lt=1/0,Q={x:a,y:n};for(let at=0;at<$.length;at++){const C=$[at],b=$[(at+1)%$.length],x=b.x-C.x,D=b.y-C.y,O=x*x+D*D;if(O>0){const L=Math.max(0,Math.min(1,((a-C.x)*x+(n-C.y)*D)/O)),M=C.x+L*x,gt=C.y+L*D,dt=Math.sqrt((a-M)**2+(n-gt)**2);dt<lt&&(lt=dt,Q={x:M,y:gt})}}return{isExcursion:!0,boundaryPoint:Q,distanceOutside:lt}}}const R=.001,j=Math.min(r.x-d,u.x-d),P=Math.max(r.x,u.x+d),z=(r.y+u.y)/2,K=z-R/2,it=z+R/2;if(a>=j&&a<=P&&n>=K&&n<=it){let $=a,lt=n,Q=1/0;const at=Math.abs(n-K),C=Math.abs(n-it),b=Math.abs(a-j),x=Math.abs(a-P);at<Q&&(Q=at,lt=K),C<Q&&(Q=C,lt=it),b<Q&&(Q=b,$=j,lt=n),x<Q&&(Q=x,$=P,lt=n);const D=Math.sqrt((a-$)**2+(n-lt)**2);return{isExcursion:!0,boundaryPoint:{x:$,y:lt},distanceOutside:D}}return{isExcursion:!1}},_R=(a,n,s,r)=>{if(!s)return{isExcursion:!1};const{mainMenuSize:u,targetMainMenuIndex:f,mainMenuWindowSize:d=[.08,.15],subMenuWindowSize:g=[.08,.12],mainMenuOrigin:v=[.1,.1]}=s,[p,A]=v,[w,E]=d,[R,j]=g,P=E/u,z=p,K=A,it=z+w,$=K+E;if(a>=z&&a<=it&&n>=K&&n<=$)return{isExcursion:!1};if(r){const b=K+f*P,x=it,D=b,O=x+R,L=D+j;if(a>=x&&a<=O&&n>=D&&n<=L)return{isExcursion:!1}}let Q,at;if(r){const b=K+f*P,x=it,D=b,O=x+R,L=D+j;let M=Math.min(Math.abs(a-z),Math.abs(a-it)),gt=Math.min(Math.abs(n-K),Math.abs(n-$)),dt=Math.min(M,gt),Y=Math.min(Math.abs(a-x),Math.abs(a-O)),st=Math.min(Math.abs(n-D),Math.abs(n-L)),ot=Math.min(Y,st);dt<ot?(a<z?Q=z:a>it?Q=it:Q=a,n<K?at=K:n>$?at=$:at=n):(a<x?Q=x:a>O?Q=O:Q=a,n<D?at=D:n>L?at=L:at=n)}else a<z?Q=z:a>it?Q=it:Q=a,n<K?at=K:n>$?at=$:at=n;const C=Math.sqrt((a-Q)**2+(n-at)**2);return{isExcursion:!0,boundaryPoint:{x:Q,y:at},distanceOutside:C}},vR=({phase:a,trialState:n,setTrialState:s,setCursorPos:r,cursorPosRef:u,setCursorVel:f,startButtonPos:d,targetPos:g,tunnelPath:v,tunnelType:p,tunnelWidth:A,segmentWidths:w,shouldMarkBoundaries:E,shouldEnforceBoundaries:R,setExcursionEvents:j,setExcursionMarkers:P,hasExcursionMarker:z,setHasExcursionMarker:K,onTrialComplete:it,onStartTrial:$,scale:lt,lassoConfig:Q=null,menuConfig:at=null,menuHasHoveredRef:C=null})=>{const b=vt.useRef(0),x=vt.useRef(null),D=vt.useCallback(L=>{if(![ht.PRACTICE,ht.MAIN_TRIALS,ht.SEQUENTIAL_TRIALS,ht.LASSO_TRIALS,ht.CASCADING_MENU_TRIALS,ht.TIME_TRIAL_PRACTICE,ht.TIME_TRIALS,ht.SEQUENTIAL_TIME_TRIALS].includes(a)||n!==Ve.WAITING_FOR_START)return;const M=L.currentTarget.getBoundingClientRect(),gt=(L.clientX-M.left)/lt,dt=(L.clientY-M.top)/lt;Math.sqrt((gt-d.x)**2+(dt-d.y)**2)<=(p==="lasso"||p==="cascading_menu"?.003:S0)&&$()},[a,n,d,p,$,lt]),O=vt.useCallback(L=>{if(![ht.PRACTICE,ht.MAIN_TRIALS,ht.SEQUENTIAL_TRIALS,ht.LASSO_TRIALS,ht.CASCADING_MENU_TRIALS,ht.TIME_TRIAL_PRACTICE,ht.TIME_TRIALS,ht.SEQUENTIAL_TIME_TRIALS].includes(a)||n!==Ve.IN_PROGRESS)return;const M=L.currentTarget.getBoundingClientRect(),gt=(L.clientX-M.left)/lt,dt=(L.clientY-M.top)/lt,Y=Date.now();let st={x:0,y:0};if(x.current&&b.current){const ot=(Y-b.current)/1e3;if(ot>0){const Tt=gt-x.current.x,N=dt-x.current.y;st={x:Tt/ot,y:N/ot}}}if(u.current={x:gt,y:dt},r({x:gt,y:dt}),f(st),p==="cascading_menu"&&at){const{targetMainMenuIndex:ot,mainMenuWindowSize:Tt=[.08,.15],mainMenuOrigin:N=[.1,.1]}=at,[Z,ut]=N,[nt,mt]=Tt,St=mt/at.mainMenuSize,_t=Z,ee=ut,Ut=_t+nt,oe=ee+ot*St,jt=oe+St,ue=_t,we=Ut,ln=gt>=ue&&gt<=we&&dt>=oe&&dt<=jt;C&&ln&&(C.current=!0);const Ke=C?C.current:ln,xe=_R(gt,dt,at,Ke);if(xe.isExcursion&&R()){z||(P([xe.boundaryPoint]),K(!0));const Fn={position:{x:gt,y:dt},distanceOutside:xe.distanceOutside,timestamp:Y,boundaryPoint:xe.boundaryPoint};j(ye=>[...ye,Fn]),s(Ve.FAILED);return}else if(xe.isExcursion&&E()){z||(P([xe.boundaryPoint]),K(!0));const Fn={position:{x:gt,y:dt},distanceOutside:xe.distanceOutside,timestamp:Y,boundaryPoint:xe.boundaryPoint};j(ye=>[...ye,Fn])}}else if(p==="lasso"&&Q){const ot=mR(gt,dt,Q);if(ot.isExcursion){z||(P([ot.boundaryPoint]),K(!0));const N={position:{x:gt,y:dt},distanceOutside:ot.distanceOutside,timestamp:Y,boundaryPoint:ot.boundaryPoint};j(Z=>[...Z,N]),s(Ve.FAILED);return}const Tt=yR(gt,dt,Q,d,g);if(Tt.isExcursion){z||(P([Tt.boundaryPoint]),K(!0));const N={position:{x:gt,y:dt},distanceOutside:Tt.distanceOutside,timestamp:Y,boundaryPoint:Tt.boundaryPoint};j(Z=>[...Z,N]),s(Ve.FAILED);return}}else if(E()){const ot=dR(gt,dt,v,p,A,w);if(ot.isExcursion&&!z){P([ot.boundaryPoint]),K(!0);const Tt={position:{x:gt,y:dt},distanceOutside:ot.distanceOutside,timestamp:Y,boundaryPoint:ot.boundaryPoint};if(j(N=>[...N,Tt]),R()){s(Ve.FAILED);return}}}if(p==="cascading_menu"&&at){const{targetMainMenuIndex:ot,targetSubMenuIndex:Tt,mainMenuWindowSize:N=[.08,.15],subMenuWindowSize:Z=[.08,.12],mainMenuOrigin:ut=[.1,.1]}=at,[nt,mt]=ut,[St,_t]=N,[ee,Ut]=Z,oe=_t/at.mainMenuSize,jt=Ut/at.subMenuSize,ue=nt,we=mt,ln=ue+St,Ke=we+ot*oe,xe=Ke+oe,Fn=ue,ye=ln,Qn=gt>=Fn&&gt<=ye&&dt>=Ke&&dt<=xe;if(C&&Qn&&(C.current=!0),C?C.current:Qn){const mn=ln,vs=Ke+Tt*jt,$n=vs+jt,Mn=mn,_n=mn+ee;gt>=Mn&&gt<=_n&&dt>=vs&&dt<=$n&&it(!0)}}else Math.sqrt((gt-g.x)**2+(dt-g.y)**2)<(p==="lasso"?.003:$h)&&it(!0);x.current={x:gt,y:dt},b.current=Y},[a,n,r,u,f,d,g,v,p,A,w,E,R,j,P,z,K,s,it,lt,Q,at,p]);return{handleMouseClick:D,handleMouseMove:O,lastTimeRef:b}},TR=()=>V.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:V.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center",children:[V.jsx("h1",{className:"text-4xl font-bold mb-6 tracking-tight leading-tight",children:"Human Steering Experiment"}),V.jsx("p",{className:"mb-6 text-gray-700 text-lg leading-relaxed",children:"Press ENTER to continue"})]})});/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SR=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,s,r)=>r?r.toUpperCase():s.toLowerCase()),y0=a=>{const n=SR(a);return n.charAt(0).toUpperCase()+n.slice(1)},cv=(...a)=>a.filter((n,s,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===s).join(" ").trim(),bR=a=>{for(const n in a)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=vt.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:u="",children:f,iconNode:d,...g},v)=>vt.createElement("svg",{ref:v,...AR,width:n,height:n,stroke:a,strokeWidth:r?Number(s)*24/Number(n):s,className:cv("lucide",u),...!f&&!bR(g)&&{"aria-hidden":"true"},...g},[...d.map(([p,A])=>vt.createElement(p,A)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=(a,n)=>{const s=vt.forwardRef(({className:r,...u},f)=>vt.createElement(RR,{ref:f,iconNode:n,className:cv(`lucide-${ER(y0(a))}`,`lucide-${a}`,r),...u}));return s.displayName=y0(a),s};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xR=Za("circle-check-big",wR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],IR=Za("eye",MR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],NR=Za("monitor",CR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["rect",{x:"5",y:"2",width:"14",height:"20",rx:"7",key:"11ol66"}],["path",{d:"M12 6v4",key:"16clxf"}]],OR=Za("mouse",DR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],LR=Za("settings",VR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jR=Za("triangle-alert",UR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],PR=Za("users",zR),kR=()=>V.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:V.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full mx-auto",children:[V.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-6 text-center rounded-t-2xl",children:[V.jsxs("div",{className:"flex items-center justify-center mb-2",children:[V.jsx(LR,{className:"w-8 h-8 mr-3"}),V.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Environment Setup Instructions"})]}),V.jsx("p",{className:"text-blue-100 text-lg",children:"Thank you for joining our study!"})]}),V.jsxs("div",{className:"p-8",children:[V.jsxs("div",{className:"bg-yellow-100 border-2 border-yellow-400 rounded-lg p-6 mb-6 text-center",children:[V.jsxs("div",{className:"flex items-center justify-center mb-3",children:[V.jsx(jR,{className:"w-6 h-6 text-yellow-700 mr-2"}),V.jsx("span",{className:"font-bold text-gray-900 text-lg",children:V.jsx("b",{children:"Important Please Read Carefully"})})]}),V.jsx("p",{className:"text-xl font-bold text-gray-900 leading-relaxed bg-yellow-200 px-4 py-3 rounded-md inline-block",children:V.jsxs("b",{children:["Please configure your setup correctly for usable data.",V.jsx("br",{}),"(This part will take approximately 2 minutes.)"]})})]}),V.jsxs("div",{className:"space-y-5",children:[V.jsxs("div",{className:"text-center",children:[V.jsxs("div",{className:"flex items-center justify-center mb-3",children:[V.jsx(NR,{className:"w-6 h-6 text-blue-600 mr-2"}),V.jsx("h2",{className:"text-xl font-semibold text-gray-800 tracking-tight",children:"Step 1: Check Device Requirements"})]}),V.jsxs("div",{className:"bg-gray-50 rounded-lg p-5",children:[V.jsxs("p",{className:"text-base text-gray-700 mb-3 leading-relaxed",children:[V.jsx("span",{className:"text-green-600",children:""})," This experiment requires you to use a ",V.jsx("strong",{children:"desktop"})," with a ",V.jsx("strong",{children:"physical mouse"})," on a flat surface"]}),V.jsxs("p",{className:"text-base text-gray-700 leading-relaxed",children:[V.jsx("span",{className:"text-red-600",children:""})," DO NOT use trackpad, touchscreen, or drawing tablet"]})]})]}),V.jsxs("div",{className:"text-center",children:[V.jsxs("div",{className:"flex items-center justify-center mb-3",children:[V.jsx(OR,{className:"w-6 h-6 text-blue-600 mr-2"}),V.jsx("h2",{className:"text-xl font-semibold text-gray-800 tracking-tight",children:"Step 2: Configure Mouse Settings"})]}),V.jsxs("p",{className:"text-base text-gray-700 mb-4 leading-relaxed",children:["Set your mouse to ",V.jsx("strong",{children:"default sensitivity"}),":"]}),V.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[V.jsxs("div",{className:"bg-gray-50 rounded-lg p-5",children:[V.jsx("h3",{className:"font-semibold text-gray-800 mb-3 text-base",children:"Windows"}),V.jsxs("div",{className:"text-sm text-gray-700 space-y-2 leading-relaxed",children:[V.jsx("p",{children:" Open Control Panel  Hardware and Sound  Devices and Printers  Mouse"}),V.jsx("p",{children:' Go to the "Pointer Options" tab'}),V.jsx("p",{children:' Uncheck "Enhance pointer precision"'}),V.jsx("p",{children:" Set the pointer speed slider to the middle position"})]})]}),V.jsxs("div",{className:"bg-gray-50 rounded-lg p-5",children:[V.jsx("h3",{className:"font-semibold text-gray-800 mb-3 text-base",children:"Mac (macOS)"}),V.jsxs("div",{className:"text-sm text-gray-700 space-y-2 leading-relaxed",children:[V.jsx("p",{children:" System Preferences  Mouse"}),V.jsx("p",{children:" Set Tracking Speed to middle (4th from left)"}),V.jsx("p",{children:" Click on advanced  disable Pointer acceleration"})]})]})]})]}),V.jsxs("div",{className:"text-center",children:[V.jsxs("div",{className:"flex items-center justify-center mb-3",children:[V.jsx(IR,{className:"w-6 h-6 text-blue-600 mr-2"}),V.jsx("h2",{className:"text-xl font-semibold text-gray-800 tracking-tight",children:"Step 3: Set Up Screen"})]}),V.jsx("div",{className:"bg-gray-50 rounded-lg p-5 space-y-2",children:V.jsxs("p",{className:"text-base text-gray-700 leading-relaxed",children:[V.jsx("strong",{})," Make browser full screen: ",V.jsx("kbd",{className:"bg-gray-200 px-2 py-1 rounded text-sm font-mono",children:"F11"})," (Windows) or ",V.jsx("kbd",{className:"bg-gray-200 px-2 py-1 rounded text-sm font-mono",children:"F"})," (Mac)"]})})]}),V.jsxs("div",{className:"text-center",children:[V.jsxs("div",{className:"flex items-center justify-center mb-3",children:[V.jsx(PR,{className:"w-6 h-6 text-blue-600 mr-2"}),V.jsx("h2",{className:"text-xl font-semibold text-gray-800 tracking-tight",children:"Step 4: Position Yourself"})]}),V.jsxs("div",{className:"bg-gray-50 rounded-lg p-5",children:[V.jsx("p",{className:"text-base text-gray-700 mb-2 leading-relaxed",children:"Sit about one arm's length away from the monitor and try to keep the same position during the experiment."}),V.jsx("p",{className:"text-base text-gray-700 leading-relaxed",children:"At the start of each trial, adjust your posture so you are comfortable."})]})]}),V.jsxs("div",{className:"text-center",children:[V.jsxs("div",{className:"flex items-center justify-center mb-3",children:[V.jsx(xR,{className:"w-6 h-6 text-blue-600 mr-2"}),V.jsx("h2",{className:"text-xl font-semibold text-gray-800 tracking-tight",children:"Step 5: During the Experiment"})]}),V.jsx("div",{className:"bg-gray-50 rounded-lg p-5",children:V.jsxs("div",{className:"text-base text-gray-700 space-y-2 leading-relaxed",children:[V.jsxs("p",{children:[V.jsx("span",{className:"text-green-600",children:""})," Follow instructions carefully and try your best"]}),V.jsxs("p",{children:[V.jsx("span",{className:"text-red-600",children:""})," Do not change mouse settings once you start"]})]})})]})]}),V.jsx("div",{className:"mt-12 text-center",children:V.jsxs("div",{className:"bg-white border-4 border-blue-600 px-12 py-8 rounded-2xl inline-block shadow-2xl hover:shadow-3xl transition-all duration-300 transform hover:scale-105",children:[V.jsx("div",{className:"flex items-center justify-center space-x-4",children:V.jsx("span",{className:"text-3xl font-black text-gray-800",children:"Ready to continue?"})}),V.jsxs("div",{className:"mt-4 text-lg font-semibold text-gray-600",children:["Press ",V.jsx("kbd",{className:"bg-gray-200 text-gray-800 px-3 py-1 rounded text-lg font-bold",children:"SPACEBAR"})," to proceed"]})]})})]})]})}),BR=()=>V.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-6",children:V.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-3xl",children:[V.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-6 tracking-tight text-center",children:"Study 1 (approximately 3 minutes)"}),V.jsx("h2",{className:"text-3xl font-bold text-red-600 mb-6 tracking-tight",children:"Task Instructions (Please read carefully):"}),V.jsxs("ul",{className:"space-y-3 mb-6 text-base leading-relaxed",children:[V.jsx("li",{children:"Click the green START button to begin each trial"}),V.jsx("li",{children:"Navigate through the tunnel to reach the red target"}),V.jsxs("li",{children:[V.jsx("b",{children:"Keep moving"})," once you clicked start button - do NOT STOP after clicking the start button"]}),V.jsxs("li",{children:["To keep recorded trace clean, press ",V.jsx("b",{children:"R"})," to restart if stopped or interrupted"]}),V.jsx("li",{children:"Try your best to move smoothly and accurately"})]}),V.jsx("p",{className:"mb-4 text-base leading-relaxed",children:"You will start with a practice trial to get familiar with the controls and task."}),V.jsxs("p",{className:"font-semibold text-lg text-gray-800",children:["Press ",V.jsx("kbd",{className:"bg-gray-200 text-gray-800 px-3 py-1 rounded text-base font-mono font-bold",children:"SPACEBAR"})," to start practice"]})]})}),qR=()=>V.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-6",children:V.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-3xl",children:[V.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-6 tracking-tight text-center",children:" Study 2 (approximately 4 minutes) - Lasso Selection Tasks"}),V.jsx("h2",{className:"text-3xl font-bold text-red-600 mb-6 tracking-tight",children:"Task Instructions"}),V.jsxs("ul",{className:"space-y-3 mb-6 text-base leading-relaxed",children:[V.jsxs("li",{children:["Click the ",V.jsx("b",{children:"green START button"})," to begin each trial"]}),V.jsx("li",{children:'Draw the loop clockwise around the all yellow targets to "select" these targets and then stop at the red dot'}),V.jsx("li",{children:"As before, try your best to move smoothly and accurately"}),V.jsx("li",{children:"Going too close to the targets or the distractors will cause the trial to fail"})]}),V.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border-l-4 border-yellow-400",children:V.jsx("p",{className:"text-base leading-relaxed"})}),V.jsxs("p",{className:"font-semibold text-lg text-gray-800",children:["Press ",V.jsx("kbd",{className:"bg-gray-200 text-gray-800 px-3 py-1 rounded text-base font-mono font-bold",children:"SPACEBAR"})," to begin"]})]})}),HR=()=>V.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-6",children:V.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-3xl",children:[V.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-6 tracking-tight text-center",children:"Study 3 (approximately 4 minutes) - Cascading Menu Tasks"}),V.jsx("h2",{className:"text-3xl font-bold text-purple-600 mb-6 tracking-tight",children:"Task Instructions"}),V.jsxs("ul",{className:"space-y-3 mb-6 text-base leading-relaxed",children:[V.jsxs("li",{children:["Click the ",V.jsx("b",{children:"green START button"})," to begin each trial"]}),V.jsxs("li",{children:["Move your cursor ",V.jsx("b",{children:"vertically down the main menu"})," to the ",V.jsx("b",{children:"red target item"})]}),V.jsxs("li",{children:["When you hover over the red target item, a ",V.jsx("b",{children:"submenu will appear"})," to the right"]}),V.jsxs("li",{children:["Move your cursor to the ",V.jsx("b",{children:"red target item in the submenu"})," to complete the trial"]}),V.jsx("li",{children:"As before, try your best to move smoothly and accurately"})]}),V.jsx("div",{className:"mb-6 p-4 bg-purple-50 border-l-4 border-purple-400",children:V.jsx("p",{className:"text-base leading-relaxed"})}),V.jsxs("p",{className:"font-semibold text-lg text-gray-800",children:["Press ",V.jsx("kbd",{className:"bg-gray-200 text-gray-800 px-3 py-1 rounded text-base font-mono font-bold",children:"SPACEBAR"})," to begin"]})]})}),XR=()=>V.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-6",children:V.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-3xl",children:[V.jsx("h2",{className:"text-3xl font-bold text-red-600 mb-6 tracking-tight",children:"Time-Constrained Trials (Please read carefully):"}),V.jsx("p",{className:"mb-4 text-base leading-relaxed text-gray-800",children:"In this part of the experiment, you must complete each task within a set time limit."}),V.jsxs("ul",{className:"space-y-3 mb-6 text-base leading-relaxed",children:[V.jsx("li",{children:"Each trial has a different time limit."}),V.jsx("li",{children:"Before each new type of timed trial, you'll complete one practice round with a visible timer."}),V.jsx("li",{children:"During practice, learn the timing; in the actual trial, the timer won't be shown but the limit will still apply."}),V.jsx("li",{children:"You may cross the boundary in these trials, but aim to follow the tunnel as closely as possible."}),V.jsx("li",{children:"Balance speed and accuracy  the goal is to finish right as the time runs out."})]}),V.jsxs("p",{className:"font-semibold text-lg text-gray-800",children:["Press ",V.jsx("kbd",{className:"bg-gray-200 text-gray-800 px-3 py-1 rounded text-base font-mono font-bold",children:"SPACEBAR"})," to begin time-constrained trials."]})]})}),GR=({uploadStatus:a,uploadError:n,onCompleteExperiment:s,onRetryUpload:r,onDownloadData:u})=>V.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:V.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center max-w-md",children:[V.jsx("h2",{className:"text-3xl font-bold text-green-600 mb-6 tracking-tight",children:"Study Complete!"}),V.jsx("p",{className:"mb-6 text-base leading-relaxed text-gray-800",children:"All trials completed successfully!"}),a==="idle"&&V.jsx("div",{className:"mb-6",children:V.jsx("button",{onClick:s,className:"bg-green-500 hover:bg-green-700 text-white font-bold py-3 px-6 rounded mb-4 w-full",children:"Upload Data"})}),a==="uploading"&&V.jsxs("div",{className:"mb-6",children:[V.jsxs("div",{className:"flex items-center justify-center mb-4",children:[V.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),V.jsx("span",{className:"ml-3 text-blue-600 text-base",children:"Uploading data..."})]}),V.jsx("p",{className:"text-base text-gray-700 leading-relaxed",children:"Please wait while we save your data"})]}),a==="success"&&V.jsx("div",{className:"mb-6",children:V.jsxs("div",{className:"text-green-600 mb-4",children:[V.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:V.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),V.jsx("p",{className:"font-semibold text-lg",children:"Data uploaded successfully!"})]})}),a==="error"&&V.jsxs("div",{className:"mb-6",children:[V.jsxs("div",{className:"text-red-600 mb-4",children:[V.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:V.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),V.jsx("p",{className:"font-semibold text-lg",children:"Upload failed"})]}),V.jsx("p",{className:"text-base text-red-600 mb-4 leading-relaxed",children:n}),V.jsxs("div",{className:"space-y-2",children:[V.jsx("button",{onClick:r,className:"bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded w-full",children:"Retry Upload"}),V.jsx("button",{onClick:u,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-full",children:"Download Data Only"})]})]}),V.jsx("p",{className:"text-base text-gray-700 leading-relaxed",children:"Thank you for participating!"})]})}),YR=({canvasRef:a,phase:n,trialState:s,timeLimit:r,timeRemaining:u,failedDueToTimeout:f,shouldEnforceBoundaries:d,onMouseClick:g,onMouseMove:v,renderStatus:p,renderControls:A,canvasWidth:w,canvasHeight:E,currentRepetition:R,totalRepetitions:j,isPractice:P})=>V.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-4",children:[V.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[!P&&n!==ht.TIME_TRIAL_PRACTICE&&R&&j&&V.jsxs("div",{className:"mb-4 w-full max-w-md mx-auto",children:[V.jsxs("div",{className:"text-sm text-gray-600 mb-2 text-center",children:["Repetition ",R," of ",j]}),V.jsx("div",{style:{width:"100%",height:"24px",backgroundColor:"#e5e7eb",borderRadius:"6px",overflow:"hidden",position:"relative"},children:V.jsx("div",{style:{height:"100%",position:"absolute",top:"0",left:"0",transition:"width 0.3s ease",backgroundColor:"#86efac",width:`${(R-1)/j*100}%`}})})]}),V.jsx("div",{className:"mb-4 w-full max-w-md mx-auto",children:n===ht.TIME_TRIAL_PRACTICE&&r&&V.jsx("div",{style:{width:"100%"},children:V.jsx("div",{style:{width:"100%",height:"32px",backgroundColor:"#d1d5db",borderRadius:"8px",overflow:"hidden",marginBottom:"8px",position:"relative"},children:V.jsx("div",{style:{height:"100%",position:"absolute",top:"0",left:"0",transition:"all 0.1s",backgroundColor:s!==Ve.IN_PROGRESS?"#10b981":u/r>.2?"#f59e0b":"#ef4444",width:`${s!==Ve.IN_PROGRESS?100:Math.max(0,u/r*100)}%`}})})})}),V.jsx("canvas",{ref:a,width:w||460,height:E||260,style:{width:`${w||460}px`,height:`${E||260}px`},onClick:g,onMouseMove:v,className:"border border-gray-300 cursor-crosshair"}),V.jsxs("div",{className:"mt-4 text-center",children:[p(),A()]})]}),s===Ve.FAILED&&(n===ht.TIME_TRIALS||n===ht.SEQUENTIAL_TIME_TRIALS||n===ht.TIME_TRIAL_PRACTICE)&&V.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:V.jsxs("div",{className:"bg-gray-100 rounded-lg p-8 text-center",children:[V.jsx("h3",{className:"text-2xl font-bold mb-4 text-red-600 tracking-tight",children:f?"TIME'S UP!":"TRIAL FAILED"}),V.jsx("p",{className:"mb-4 text-base leading-relaxed text-gray-800",children:f?"You ran out of time. Try to move faster.":d()?"You went outside the tunnel boundary, please retry the trial.":"Complete the task to advance."}),V.jsxs("p",{className:"text-base text-gray-700",children:["Press ",V.jsx("kbd",{className:"bg-gray-200 text-gray-800 px-2 py-1 rounded text-sm font-mono font-bold",children:"R"})," to restart trial"]})]})})]}),_0=(a,n=96)=>a/2.54*n,FR=()=>window.devicePixelRatio*96,v0=()=>{const s=FR(),r=_0(46,s),u=_0(26,s),f=40,d=window.innerWidth-f,g=window.innerHeight-f-200;let v=r,p=u;if(r>d||u>g){const E=d/r,R=g/u,j=Math.min(E,R);v=r*j,p=u*j}v=Math.max(v,300),p=Math.max(p,200);const w=v/.46;return{width:Math.round(v),height:Math.round(p),scale:w}},QR=()=>{const a=vt.useRef(null),n=vt.useRef(null),[s,r]=vt.useState(()=>typeof window<"u"?v0():{width:460,height:260,scale:1e3}),[u,f]=vt.useState(ht.WELCOME),[d,g]=vt.useState(Ve.WAITING_FOR_START),[v,p]=vt.useState(""),[A,w]=vt.useState({}),[E,R]=vt.useState(0),[j,P]=vt.useState([]),[z,K]=vt.useState(!1),[it,$]=vt.useState(null),[lt,Q]=vt.useState(new Set),[at,C]=vt.useState(1),[b,x]=vt.useState([]),[D,O]=vt.useState([]),[L,M]=vt.useState([]),[gt,dt]=vt.useState([]),[Y,st]=vt.useState("idle"),[ot,Tt]=vt.useState(null),[N,Z]=vt.useState(null),[ut,nt]=vt.useState([]),[mt,St]=vt.useState([]),[_t,ee]=vt.useState(!1),[Ut,oe]=vt.useState({x:0,y:0}),jt=vt.useRef({x:0,y:0}),ue=vt.useRef({x:0,y:0}),we=vt.useRef(0),[ln,Ke]=vt.useState({x:0,y:0}),[xe,Fn]=vt.useState([]),[ye,Qn]=vt.useState(.015),[yn,mn]=vt.useState("curved"),[Kn,vs]=vt.useState([.015,.025,.015]),[$n,Mn]=vt.useState(null),[_n,ie]=vt.useState(null),Ht=vt.useRef(!1),[Ue,Me]=vt.useState({x:0,y:0}),[Ei,la]=vt.useState({x:0,y:0}),[ci,Si]=vt.useState(0),[vn,In]=vt.useState(null),[Ts,fi]=vt.useState(0),[oa,Es]=vt.useState(!1),Ss=vt.useCallback(()=>(u===ht.PRACTICE||u===ht.MAIN_TRIALS||u===ht.SEQUENTIAL_TRIALS||u===ht.CASCADING_MENU_TRIALS)&&yn!=="lasso",[u,yn]),Cn=vt.useCallback(()=>(u===ht.PRACTICE||u===ht.MAIN_TRIALS||u===ht.SEQUENTIAL_TRIALS||u===ht.CASCADING_MENU_TRIALS)&&yn!=="lasso",[u,yn]);vt.useEffect(()=>{const ct=()=>{r(v0())};return ct(),window.addEventListener("resize",ct),()=>window.removeEventListener("resize",ct)},[]),vt.useEffect(()=>{const ct=$1();w(ct),ct.prolificPid?p(`P${ct.prolificPid}`):p(`P${new Date().toTimeString().slice(0,8).replace(/:/g,"")}`)},[]);const Nn=vt.useCallback((ct,Ct=!0)=>{let It;if(ct.tunnelType==="sequential")It=J1(ct),mn("sequential"),vs([ct.segment1Width,ct.segment2Width]),Qn(ct.segment1Width),Mn(null);else if(ct.tunnelType==="corner"){const[Gt,ae]=W1(ct.tunnelWidth,0,.46,.13,ct.numCorners||3,ct.cornerOffset||.05,.002);It=Gt,mn("corner"),Qn(ae),Mn(null)}else if(ct.tunnelType==="lasso"){const[Gt,ae,Ie,Ce]=tT(ct,.002);It=Gt,mn("lasso"),Qn(ae),Mn({grid_layout:ct.grid_layout,icon_radius:ct.icon_radius||.01,icon_spacing:ct.icon_spacing||.05,grid_origin:ct.grid_origin||[.1,.1]}),ie(null),la(Ie),Me(Ce),oe(Ie),jt.current=Ie}else if(ct.tunnelType==="cascading_menu"){const[Gt,ae,Ie,Ce]=eT(ct,.002);It=Gt,mn("cascading_menu"),Qn(ae),ie({mainMenuSize:ct.mainMenuSize,subMenuSize:ct.subMenuSize,targetMainMenuIndex:ct.targetMainMenuIndex,targetSubMenuIndex:ct.targetSubMenuIndex,mainMenuWindowSize:ct.mainMenuWindowSize||[.08,.15],subMenuWindowSize:ct.subMenuWindowSize||[.08,.12],mainMenuOrigin:ct.mainMenuOrigin||[.1,.1]}),Mn(null),Ht.current=!1,la(Ie),Me(Ce),oe(Ie),jt.current=Ie}else{const[Gt,ae]=Z1(ct.tunnelWidth,ct.curvature);It=Gt,mn("curved"),Qn(ae),Mn(null),ie(null)}if(Fn(It),In(ct.timeLimit),ct.tunnelType!=="lasso"){const Gt=It[0],ae=It[It.length-1];la(Gt),Me(ae),oe(Gt),jt.current=Gt}Ke({x:0,y:0}),g(Ve.WAITING_FOR_START),O([]),M([]),dt([]),nt([]),St([]),ee(!1),Si(0),fi(ct.timeLimit||0),Es(!1),Ct&&C(1)},[]),ua=()=>{g(Ve.IN_PROGRESS);const ct=Date.now();Si(ct),Es(!1),vn&&fi(vn);const Ct={x:Ei.x,y:Ei.y};oe(Ct),jt.current=Ct,Ke({x:0,y:0}),O([Ct]),M([0]),dt([ct]),nt([]),ue.current=Ct,we.current=ct},Zn=ct=>{const Ct=Date.now(),It=(Ct-ci)/1e3;if(z||u===ht.TIME_TRIAL_PRACTICE){if(ct){const ce=u===ht.PRACTICE?"Practice":"Individual practice";console.log(`${ce} completed! Time: ${It.toFixed(2)}s`)}g(ct?Ve.WAITING_FOR_START:Ve.FAILED);return}if(!ct){g(Ve.FAILED);return}const Gt=j[E],{id:ae,...Ie}=Gt;let Ce=[...D],On=[...gt],Vn=[...L];if(ct){const ce=jt.current,Ln=D.length>0?D[D.length-1]:null,Un=!Ln||Math.abs(ce.x-Ln.x)>1e-4||Math.abs(ce.y-Ln.y)>1e-4,Tn=Xi=>{if(Un){Ce.push({x:ce.x,y:ce.y}),On.push(Ct);let Ri=0;if(Ln&&gt.length>0){const jn=gt[gt.length-1],wi=(Ct-jn)/1e3;if(wi>0){const Jn=ce.x-Ln.x,En=ce.y-Ln.y;Ri=Math.sqrt((Jn/wi)**2+(En/wi)**2)}}Vn.push(Ri)}};if(Gt.tunnelType==="cascading_menu"&&_n){const{targetMainMenuIndex:Xi,targetSubMenuIndex:Ri,mainMenuWindowSize:jn=[.08,.15],subMenuWindowSize:wi=[.08,.12],mainMenuOrigin:Jn=[.1,.1]}=_n,[En,je]=Jn,[Gi,Wa]=jn,[hi,bs]=wi,As=Wa/_n.mainMenuSize,Rs=bs/_n.subMenuSize,ws=En+Gi,Ze=je+Xi*As,xs=ws,Yi=Ze+Ri*Rs,fa=Yi+Rs,Fi=xs,Kr=xs+hi,ve=ce.x>=Fi&&ce.x<=Kr&&ce.y>=Yi&&ce.y<=fa;Tn()}else{const Xi=Gt.tunnelType==="lasso"?.003:$h,jn=Math.sqrt((ce.x-Ue.x)**2+(ce.y-Ue.y)**2)<Xi;Tn()}}const $e={participantId:v,completionTime:It,condition:Ie,trial_id:Gt.id,round:at,timestamps:On,trajectory:Ce,speeds:Vn};x(ce=>[...ce,$e]);const me=Gt.tunnelType==="lasso"?ey:Gt.tunnelType==="cascading_menu"?ny:ty;at<me?(C(ce=>ce+1),Nn(Gt,!1)):(C(1),aR({phase:u,currentTrial:E,currentConditions:j,practicedConditions:lt,setPhase:f,setCurrentTrial:R,setCurrentConditions:P,setCurrentPracticeCondition:$,setIsPractice:K,setupTrial:Nn}))};vt.useEffect(()=>{if(d!==Ve.IN_PROGRESS||!vn)return;const ct=setInterval(()=>{const It=(Date.now()-ci)/1e3,Gt=Math.max(0,vn-It);fi(Gt)},50);return()=>clearInterval(ct)},[d,vn,ci]),hR({phase:u,setPhase:f,currentTrial:E,setCurrentTrial:R,currentConditions:j,setCurrentConditions:P,currentPracticeCondition:it,setCurrentPracticeCondition:$,practicedConditions:lt,setPracticedConditions:Q,participantId:v,setParticipantId:p,setIsPractice:K,setupTrial:Nn});const{handleMouseClick:ca,handleMouseMove:bi}=vR({phase:u,trialState:d,setTrialState:g,setCursorPos:oe,cursorPosRef:jt,setCursorVel:Ke,startButtonPos:Ei,targetPos:Ue,tunnelPath:xe,tunnelType:yn,tunnelWidth:ye,segmentWidths:Kn,shouldMarkBoundaries:Cn,shouldEnforceBoundaries:Ss,setExcursionEvents:nt,setExcursionMarkers:St,hasExcursionMarker:_t,setHasExcursionMarker:ee,onTrialComplete:Zn,onStartTrial:ua,scale:s?.scale||1e3,lassoConfig:$n,menuConfig:_n,menuHasHoveredRef:Ht});vt.useEffect(()=>{if(d!==Ve.IN_PROGRESS)return;const ct=setInterval(()=>{const Ct=jt.current,It=Date.now();let Gt=0;if(we.current>0){const ae=Ct.x-ue.current.x,Ie=Ct.y-ue.current.y,Ce=(It-we.current)/1e3;Ce>0&&(Gt=Math.sqrt((ae/Ce)**2+(Ie/Ce)**2))}O(ae=>[...ae,{x:Ct.x,y:Ct.y}]),M(ae=>[...ae,Gt]),dt(ae=>[...ae,It]),ue.current={x:Ct.x,y:Ct.y},we.current=It},50);return()=>clearInterval(ct)},[d]),vt.useEffect(()=>{const ct=()=>{const Ct=a.current;if(!Ct||!s||!s.width||!s.height||!s.scale)return;const It=Ct.getContext("2d");if(!It)return;const Gt=jt.current;fR(It,xe,yn,ye,Kn,mt,Cn(),Gt,d,Ei,Ue,s.width,s.height,s.scale,$n,_n,Ht),n.current=requestAnimationFrame(ct)};return n.current=requestAnimationFrame(ct),()=>{n.current&&cancelAnimationFrame(n.current)}},[Ut,d,xe,Ei,Ue,ye,mt,Cn,_t,yn,Kn,s,$n,_n]);const Hi=async()=>{st("uploading"),Tt(null);try{const ct=await sR(v,A,b);Z(ct),st("success")}catch(ct){console.error("Upload failed:",ct),Tt(ct.message),st("error")}},Ai=async()=>{await Hi(),f0(v,A,b)},Ja=()=>{Hi()},se=()=>{f0(v,A,b)},be=()=>{let ct="",Ct="text-gray-600";u===ht.PRACTICE?(ct="[Practice Round]",Ct="text-green-600"):u===ht.MAIN_TRIALS&&E<j.length?(ct=`Trial ${h0(u,E)}/${d0()}`,Ct="text-blue-600"):u===ht.LASSO_TRIALS&&E<j.length?(ct=`Lasso Trial ${E+1}/${j.length}`,Ct="text-orange-600"):u===ht.CASCADING_MENU_TRIALS&&E<j.length?(ct=`Cascading Menu Trial ${E+1}/${j.length}`,Ct="text-purple-600"):u===ht.SEQUENTIAL_TRIALS&&E<j.length?(ct=`Trial ${h0(u,E)}/${d0()}`,Ct="text-indigo-600"):u===ht.TIME_TRIAL_PRACTICE&&it?(ct="PRACTICE ROUND",Ct="text-purple-600"):u===ht.TIME_TRIALS&&E<j.length?(ct=`Timed Trial ${m0(u,E)}/${g0()}`,Ct="text-red-600"):u===ht.SEQUENTIAL_TIME_TRIALS&&E<j.length&&(ct=`Timed Trial ${m0(u,E)}/${g0()}`,Ct="text-pink-600");let It="";return d===Ve.WAITING_FOR_START?It="Click the green button to begin":d===Ve.IN_PROGRESS?u===ht.LASSO_TRIALS?It="Draw a loop around all yellow targets":u===ht.CASCADING_MENU_TRIALS?It="Navigate through menu: move to yellow item, then select red submenu item":It="Navigate to the red target":d===Ve.FAILED&&(It="Trial failed, please try again"),V.jsxs("div",{className:"space-y-2",children:[ct&&V.jsx("p",{className:`text-base font-semibold ${Ct} tracking-tight`,children:ct}),It&&V.jsx("p",{className:"text-xl font-bold text-gray-800 tracking-tight",children:It})]})},_e=()=>{const ct=[];return ct.push(V.jsxs(V.Fragment,{children:["Press ",V.jsx("span",{className:"font-bold text-blue-600",children:"'R'"})," to restart trial at any time"]})),(u===ht.PRACTICE||u===ht.TIME_TRIAL_PRACTICE)&&ct.push(V.jsxs(V.Fragment,{children:["Press ",V.jsx("span",{className:"font-bold text-blue-600",children:"'N'"})," to continue to actual trial"]})),V.jsx("div",{className:"mt-3 text-base text-gray-700 leading-relaxed",children:ct.map((Ct,It)=>V.jsx("p",{children:Ct},It))})};return(()=>{switch(u){case ht.WELCOME:return V.jsx(TR,{});case ht.ENVIRONMENT_SETUP:return V.jsx(kR,{});case ht.INSTRUCTIONS:return V.jsx(BR,{});case ht.LASSO_INSTRUCTIONS:return V.jsx(qR,{});case ht.CASCADING_MENU_INSTRUCTIONS:return V.jsx(HR,{});case ht.TIME_CONSTRAINT_INTRO:return V.jsx(XR,{});case ht.COMPLETE:return V.jsx(GR,{uploadStatus:Y,uploadError:ot,onCompleteExperiment:Ai,onRetryUpload:Ja,onDownloadData:se});default:const ct=j[E],Ct=ct&&ct.tunnelType==="lasso"?ey:ct&&ct.tunnelType==="cascading_menu"?ny:ty;return V.jsx(YR,{canvasRef:a,phase:u,trialState:d,timeLimit:vn,timeRemaining:Ts,failedDueToTimeout:oa,shouldEnforceBoundaries:Ss,onMouseClick:ca,onMouseMove:bi,renderStatus:be,renderControls:_e,canvasWidth:s.width,canvasHeight:s.height,currentRepetition:at,totalRepetitions:Ct,isPractice:z})}})()};Y1.createRoot(document.getElementById("root")).render(V.jsx(z1.StrictMode,{children:V.jsx(QR,{})}));
