(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function a(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(u){if(u.ep)return;u.ep=!0;const h=a(u);fetch(u.href,h)}})();function f0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var hh={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function DE(){if(Pp)return jl;Pp=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(l,u,h){var m=null;if(h!==void 0&&(m=""+h),u.key!==void 0&&(m=""+u.key),"key"in u){h={};for(var y in u)y!=="key"&&(h[y]=u[y])}else h=u;return u=h.ref,{$$typeof:r,type:l,key:m,ref:u!==void 0?u:null,props:h}}return jl.Fragment=n,jl.jsx=a,jl.jsxs=a,jl}var Bp;function IE(){return Bp||(Bp=1,hh.exports=DE()),hh.exports}var x=IE(),dh={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function NE(){if(kp)return Tt;kp=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.iterator;function I(C){return C===null||typeof C!="object"?null:(C=M&&C[M]||C["@@iterator"],typeof C=="function"?C:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,nt={};function it(C,G,tt){this.props=C,this.context=G,this.refs=nt,this.updater=tt||K}it.prototype.isReactComponent={},it.prototype.setState=function(C,G){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,G,"setState")},it.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function St(){}St.prototype=it.prototype;function vt(C,G,tt){this.props=C,this.context=G,this.refs=nt,this.updater=tt||K}var dt=vt.prototype=new St;dt.constructor=vt,$(dt,it.prototype),dt.isPureReactComponent=!0;var zt=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},xt=Object.prototype.hasOwnProperty;function V(C,G,tt,J,ot,Et){return tt=Et.ref,{$$typeof:r,type:C,key:G,ref:tt!==void 0?tt:null,props:Et}}function A(C,G){return V(C.type,G,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function N(C){var G={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(tt){return G[tt]})}var O=/\/+/g;function L(C,G){return typeof C=="object"&&C!==null&&C.key!=null?N(""+C.key):G.toString(36)}function b(){}function ne(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(b,b):(C.status="pending",C.then(function(G){C.status==="pending"&&(C.status="fulfilled",C.value=G)},function(G){C.status==="pending"&&(C.status="rejected",C.reason=G)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function Ct(C,G,tt,J,ot){var Et=typeof C;(Et==="undefined"||Et==="boolean")&&(C=null);var pt=!1;if(C===null)pt=!0;else switch(Et){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(C.$$typeof){case r:case n:pt=!0;break;case S:return pt=C._init,Ct(pt(C._payload),G,tt,J,ot)}}if(pt)return ot=ot(C),pt=J===""?"."+L(C,0):J,zt(ot)?(tt="",pt!=null&&(tt=pt.replace(O,"$&/")+"/"),Ct(ot,G,tt,"",function(Ln){return Ln})):ot!=null&&(w(ot)&&(ot=A(ot,tt+(ot.key==null||C&&C.key===ot.key?"":(""+ot.key).replace(O,"$&/")+"/")+pt)),G.push(ot)),1;pt=0;var ce=J===""?".":J+":";if(zt(C))for(var Bt=0;Bt<C.length;Bt++)J=C[Bt],Et=ce+L(J,Bt),pt+=Ct(J,G,tt,Et,ot);else if(Bt=I(C),typeof Bt=="function")for(C=Bt.call(C),Bt=0;!(J=C.next()).done;)J=J.value,Et=ce+L(J,Bt++),pt+=Ct(J,G,tt,Et,ot);else if(Et==="object"){if(typeof C.then=="function")return Ct(ne(C),G,tt,J,ot);throw G=String(C),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return pt}function H(C,G,tt){if(C==null)return C;var J=[],ot=0;return Ct(C,J,"","",function(Et){return G.call(tt,Et,ot++)}),J}function W(C){if(C._status===-1){var G=C._result;G=G(),G.then(function(tt){(C._status===0||C._status===-1)&&(C._status=1,C._result=tt)},function(tt){(C._status===0||C._status===-1)&&(C._status=2,C._result=tt)}),C._status===-1&&(C._status=0,C._result=G)}if(C._status===1)return C._result.default;throw C._result}var rt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Nt(){}return Tt.Children={map:H,forEach:function(C,G,tt){H(C,function(){G.apply(this,arguments)},tt)},count:function(C){var G=0;return H(C,function(){G++}),G},toArray:function(C){return H(C,function(G){return G})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Tt.Component=it,Tt.Fragment=a,Tt.Profiler=u,Tt.PureComponent=vt,Tt.StrictMode=l,Tt.Suspense=v,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return _t.H.useMemoCache(C)}},Tt.cache=function(C){return function(){return C.apply(null,arguments)}},Tt.cloneElement=function(C,G,tt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var J=$({},C.props),ot=C.key,Et=void 0;if(G!=null)for(pt in G.ref!==void 0&&(Et=void 0),G.key!==void 0&&(ot=""+G.key),G)!xt.call(G,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&G.ref===void 0||(J[pt]=G[pt]);var pt=arguments.length-2;if(pt===1)J.children=tt;else if(1<pt){for(var ce=Array(pt),Bt=0;Bt<pt;Bt++)ce[Bt]=arguments[Bt+2];J.children=ce}return V(C.type,ot,void 0,void 0,Et,J)},Tt.createContext=function(C){return C={$$typeof:m,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},Tt.createElement=function(C,G,tt){var J,ot={},Et=null;if(G!=null)for(J in G.key!==void 0&&(Et=""+G.key),G)xt.call(G,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ot[J]=G[J]);var pt=arguments.length-2;if(pt===1)ot.children=tt;else if(1<pt){for(var ce=Array(pt),Bt=0;Bt<pt;Bt++)ce[Bt]=arguments[Bt+2];ot.children=ce}if(C&&C.defaultProps)for(J in pt=C.defaultProps,pt)ot[J]===void 0&&(ot[J]=pt[J]);return V(C,Et,void 0,void 0,null,ot)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(C){return{$$typeof:y,render:C}},Tt.isValidElement=w,Tt.lazy=function(C){return{$$typeof:S,_payload:{_status:-1,_result:C},_init:W}},Tt.memo=function(C,G){return{$$typeof:_,type:C,compare:G===void 0?null:G}},Tt.startTransition=function(C){var G=_t.T,tt={};_t.T=tt;try{var J=C(),ot=_t.S;ot!==null&&ot(tt,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Nt,rt)}catch(Et){rt(Et)}finally{_t.T=G}},Tt.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},Tt.use=function(C){return _t.H.use(C)},Tt.useActionState=function(C,G,tt){return _t.H.useActionState(C,G,tt)},Tt.useCallback=function(C,G){return _t.H.useCallback(C,G)},Tt.useContext=function(C){return _t.H.useContext(C)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(C,G){return _t.H.useDeferredValue(C,G)},Tt.useEffect=function(C,G,tt){var J=_t.H;if(typeof tt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(C,G)},Tt.useId=function(){return _t.H.useId()},Tt.useImperativeHandle=function(C,G,tt){return _t.H.useImperativeHandle(C,G,tt)},Tt.useInsertionEffect=function(C,G){return _t.H.useInsertionEffect(C,G)},Tt.useLayoutEffect=function(C,G){return _t.H.useLayoutEffect(C,G)},Tt.useMemo=function(C,G){return _t.H.useMemo(C,G)},Tt.useOptimistic=function(C,G){return _t.H.useOptimistic(C,G)},Tt.useReducer=function(C,G,tt){return _t.H.useReducer(C,G,tt)},Tt.useRef=function(C){return _t.H.useRef(C)},Tt.useState=function(C){return _t.H.useState(C)},Tt.useSyncExternalStore=function(C,G,tt){return _t.H.useSyncExternalStore(C,G,tt)},Tt.useTransition=function(){return _t.H.useTransition()},Tt.version="19.1.1",Tt}var qp;function Yh(){return qp||(qp=1,dh.exports=NE()),dh.exports}var ct=Yh();const xE=f0(ct);var mh={exports:{}},zl={},gh={exports:{}},ph={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function ME(){return Hp||(Hp=1,(function(r){function n(H,W){var rt=H.length;H.push(W);t:for(;0<rt;){var Nt=rt-1>>>1,C=H[Nt];if(0<u(C,W))H[Nt]=W,H[rt]=C,rt=Nt;else break t}}function a(H){return H.length===0?null:H[0]}function l(H){if(H.length===0)return null;var W=H[0],rt=H.pop();if(rt!==W){H[0]=rt;t:for(var Nt=0,C=H.length,G=C>>>1;Nt<G;){var tt=2*(Nt+1)-1,J=H[tt],ot=tt+1,Et=H[ot];if(0>u(J,rt))ot<C&&0>u(Et,J)?(H[Nt]=Et,H[ot]=rt,Nt=ot):(H[Nt]=J,H[tt]=rt,Nt=tt);else if(ot<C&&0>u(Et,rt))H[Nt]=Et,H[ot]=rt,Nt=ot;else break t}}return W}function u(H,W){var rt=H.sortIndex-W.sortIndex;return rt!==0?rt:H.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var m=Date,y=m.now();r.unstable_now=function(){return m.now()-y}}var v=[],_=[],S=1,M=null,I=3,K=!1,$=!1,nt=!1,it=!1,St=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function zt(H){for(var W=a(_);W!==null;){if(W.callback===null)l(_);else if(W.startTime<=H)l(_),W.sortIndex=W.expirationTime,n(v,W);else break;W=a(_)}}function _t(H){if(nt=!1,zt(H),!$)if(a(v)!==null)$=!0,xt||(xt=!0,L());else{var W=a(_);W!==null&&Ct(_t,W.startTime-H)}}var xt=!1,V=-1,A=5,w=-1;function N(){return it?!0:!(r.unstable_now()-w<A)}function O(){if(it=!1,xt){var H=r.unstable_now();w=H;var W=!0;try{t:{$=!1,nt&&(nt=!1,vt(V),V=-1),K=!0;var rt=I;try{e:{for(zt(H),M=a(v);M!==null&&!(M.expirationTime>H&&N());){var Nt=M.callback;if(typeof Nt=="function"){M.callback=null,I=M.priorityLevel;var C=Nt(M.expirationTime<=H);if(H=r.unstable_now(),typeof C=="function"){M.callback=C,zt(H),W=!0;break e}M===a(v)&&l(v),zt(H)}else l(v);M=a(v)}if(M!==null)W=!0;else{var G=a(_);G!==null&&Ct(_t,G.startTime-H),W=!1}}break t}finally{M=null,I=rt,K=!1}W=void 0}}finally{W?L():xt=!1}}}var L;if(typeof dt=="function")L=function(){dt(O)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,ne=b.port2;b.port1.onmessage=O,L=function(){ne.postMessage(null)}}else L=function(){St(O,0)};function Ct(H,W){V=St(function(){H(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_next=function(H){switch(I){case 1:case 2:case 3:var W=3;break;default:W=I}var rt=I;I=W;try{return H()}finally{I=rt}},r.unstable_requestPaint=function(){it=!0},r.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var rt=I;I=H;try{return W()}finally{I=rt}},r.unstable_scheduleCallback=function(H,W,rt){var Nt=r.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?Nt+rt:Nt):rt=Nt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=rt+C,H={id:S++,callback:W,priorityLevel:H,startTime:rt,expirationTime:C,sortIndex:-1},rt>Nt?(H.sortIndex=rt,n(_,H),a(v)===null&&H===a(_)&&(nt?(vt(V),V=-1):nt=!0,Ct(_t,rt-Nt))):(H.sortIndex=C,n(v,H),$||K||($=!0,xt||(xt=!0,L()))),H},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(H){var W=I;return function(){var rt=I;I=W;try{return H.apply(this,arguments)}finally{I=rt}}}})(ph)),ph}var Gp;function OE(){return Gp||(Gp=1,gh.exports=ME()),gh.exports}var yh={exports:{}},Xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function VE(){if(Qp)return Xe;Qp=1;var r=Yh();function n(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var l={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,S){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:M==null?null:""+M,children:v,containerInfo:_,implementation:S}}var m=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Xe.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(n(299));return h(v,_,null,S)},Xe.flushSync=function(v){var _=m.T,S=l.p;try{if(m.T=null,l.p=2,v)return v()}finally{m.T=_,l.p=S,l.d.f()}},Xe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,l.d.C(v,_))},Xe.prefetchDNS=function(v){typeof v=="string"&&l.d.D(v)},Xe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,M=y(S,_.crossOrigin),I=typeof _.integrity=="string"?_.integrity:void 0,K=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?l.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:M,integrity:I,fetchPriority:K}):S==="script"&&l.d.X(v,{crossOrigin:M,integrity:I,fetchPriority:K,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=y(_.as,_.crossOrigin);l.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&l.d.M(v)},Xe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,M=y(S,_.crossOrigin);l.d.L(v,S,{crossOrigin:M,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xe.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=y(_.as,_.crossOrigin);l.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else l.d.m(v)},Xe.requestFormReset=function(v){l.d.r(v)},Xe.unstable_batchedUpdates=function(v,_){return v(_)},Xe.useFormState=function(v,_,S){return m.H.useFormState(v,_,S)},Xe.useFormStatus=function(){return m.H.useHostTransitionStatus()},Xe.version="19.1.1",Xe}var Fp;function UE(){if(Fp)return yh.exports;Fp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),yh.exports=VE(),yh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function LE(){if(Yp)return zl;Yp=1;var r=OE(),n=Yh(),a=UE();function l(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function m(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y(t){if(h(t)!==t)throw Error(l(188))}function v(t){var e=t.alternate;if(!e){if(e=h(t),e===null)throw Error(l(188));return e!==t?null:t}for(var i=t,s=e;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(s=c.return,s!==null){i=s;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return y(c),t;if(f===s)return y(c),e;f=f.sibling}throw Error(l(188))}if(i.return!==s.return)i=c,s=f;else{for(var p=!1,E=c.child;E;){if(E===i){p=!0,i=c,s=f;break}if(E===s){p=!0,s=c,i=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===i){p=!0,i=f,s=c;break}if(E===s){p=!0,s=f,i=c;break}E=E.sibling}if(!p)throw Error(l(189))}}if(i.alternate!==s)throw Error(l(190))}if(i.tag!==3)throw Error(l(188));return i.stateNode.current===i?t:e}function _(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=_(t),e!==null)return e;t=t.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),it=Symbol.for("react.profiler"),St=Symbol.for("react.provider"),vt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),zt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var b=Symbol.for("react.client.reference");function ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===b?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case it:return"Profiler";case nt:return"StrictMode";case _t:return"Suspense";case xt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case dt:return(t.displayName||"Context")+".Provider";case vt:return(t._context.displayName||"Context")+".Consumer";case zt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return e=t.displayName||null,e!==null?e:ne(t.type)||"Memo";case A:e=t._payload,t=t._init;try{return ne(t(e))}catch{}}return null}var Ct=Array.isArray,H=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},Nt=[],C=-1;function G(t){return{current:t}}function tt(t){0>C||(t.current=Nt[C],Nt[C]=null,C--)}function J(t,e){C++,Nt[C]=t.current,t.current=e}var ot=G(null),Et=G(null),pt=G(null),ce=G(null);function Bt(t,e){switch(J(pt,e),J(Et,t),J(ot,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?dp(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=dp(e),t=mp(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}tt(ot),J(ot,t)}function Ln(){tt(ot),tt(Et),tt(pt)}function Sn(t){t.memoizedState!==null&&J(ce,t);var e=ot.current,i=mp(e,t.type);e!==i&&(J(Et,t),J(ot,i))}function fn(t){Et.current===t&&(tt(ot),tt(Et)),ce.current===t&&(tt(ce),Ml._currentValue=rt)}var Ei=Object.prototype.hasOwnProperty,jn=r.unstable_scheduleCallback,Jn=r.unstable_cancelCallback,Ti=r.unstable_shouldYield,Pa=r.unstable_requestPaint,Fe=r.unstable_now,Vs=r.unstable_getCurrentPriorityLevel,Ai=r.unstable_ImmediatePriority,Wi=r.unstable_UserBlockingPriority,hn=r.unstable_NormalPriority,Us=r.unstable_LowPriority,Wn=r.unstable_IdlePriority,ta=r.log,zn=r.unstable_setDisableYieldValue,ie=null,kt=null;function Ue(t){if(typeof ta=="function"&&zn(t),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(ie,t)}catch{}}var Ce=Math.clz32?Math.clz32:Pn,Ba=Math.log,Or=Math.LN2;function Pn(t){return t>>>=0,t===0?32:31-(Ba(t)/Or|0)|0}var ti=256,Si=4194304;function dn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ea(t,e,i){var s=t.pendingLanes;if(s===0)return 0;var c=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=s&134217727;return E!==0?(s=E&~f,s!==0?c=dn(s):(p&=E,p!==0?c=dn(p):i||(i=E&~t,i!==0&&(c=dn(i))))):(E=s&~f,E!==0?c=dn(E):p!==0?c=dn(p):i||(i=s&~t,i!==0&&(c=dn(i)))),c===0?0:e!==0&&e!==c&&(e&f)===0&&(f=c&-c,i=e&-e,f>=i||f===32&&(i&4194048)!==0)?e:c}function bi(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function na(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ka(){var t=ti;return ti<<=1,(ti&4194048)===0&&(ti=256),t}function qa(){var t=Si;return Si<<=1,(Si&62914560)===0&&(Si=4194304),t}function Bn(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function kn(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ha(t,e,i,s,c,f){var p=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,P=t.hiddenUpdates;for(i=p&~i;0<i;){var Q=31-Ce(i),Y=1<<Q;E[Q]=0,R[Q]=-1;var B=P[Q];if(B!==null)for(P[Q]=null,Q=0;Q<B.length;Q++){var k=B[Q];k!==null&&(k.lane&=-536870913)}i&=~Y}s!==0&&qn(t,s,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~e))}function qn(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-Ce(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|i&4194090}function ht(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var s=31-Ce(i),c=1<<s;c&e|t[s]&e&&(t[s]|=e),i&=~c}}function Mt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Jt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Le(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:Op(t.type))}function Ls(t,e){var i=W.p;try{return W.p=t,e()}finally{W.p=i}}var Wt=Math.random().toString(36).slice(2),me="__reactFiber$"+Wt,ae="__reactProps$"+Wt,bn="__reactContainer$"+Wt,js="__reactEvents$"+Wt,mc="__reactListeners$"+Wt,ia="__reactHandles$"+Wt,oo="__reactResources$"+Wt,Ga="__reactMarker$"+Wt;function aa(t){delete t[me],delete t[ae],delete t[js],delete t[mc],delete t[ia]}function Ri(t){var e=t[me];if(e)return e;for(var i=t.parentNode;i;){if(e=i[bn]||i[me]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=_p(t);t!==null;){if(i=t[me])return i;t=_p(t)}return e}t=i,i=t.parentNode}return null}function ei(t){if(t=t[me]||t[bn]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function ni(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(l(33))}function tn(t){var e=t[oo];return e||(e=t[oo]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ge(t){t[Ga]=!0}var zs=new Set,Vr={};function Hn(t,e){wi(t,e),wi(t+"Capture",e)}function wi(t,e){for(Vr[t]=e,t=0;t<e.length;t++)zs.add(e[t])}var uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),co={},Qa={};function fo(t){return Ei.call(Qa,t)?!0:Ei.call(co,t)?!1:uo.test(t)?Qa[t]=!0:(co[t]=!0,!1)}function ra(t,e,i){if(fo(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function ii(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function je(t,e,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+s)}}var Fa,ho;function Ci(t){if(Fa===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);Fa=e&&e[1]||"",ho=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fa+t+ho}var Ur=!1;function Lr(t,e){if(!t||Ur)return"";Ur=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(k){var B=k}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(k){B=k}t.call(Y.prototype)}}else{try{throw Error()}catch(k){B=k}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=s.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),P=E.split(`
`);for(c=s=0;s<R.length&&!R[s].includes("DetermineComponentFrameRoot");)s++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(s===R.length||c===P.length)for(s=R.length-1,c=P.length-1;1<=s&&0<=c&&R[s]!==P[c];)c--;for(;1<=s&&0<=c;s--,c--)if(R[s]!==P[c]){if(s!==1||c!==1)do if(s--,c--,0>c||R[s]!==P[c]){var Q=`
`+R[s].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=s&&0<=c);break}}}finally{Ur=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?Ci(i):""}function Ps(t){switch(t.tag){case 26:case 27:case 5:return Ci(t.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return Lr(t.type,!1);case 11:return Lr(t.type.render,!1);case 1:return Lr(t.type,!0);case 31:return Ci("Activity");default:return""}}function jr(t){try{var e="";do e+=Ps(t),t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bs(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gc(t){var e=Bs(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,f=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return c.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zr(t){t._valueTracker||(t._valueTracker=gc(t))}function ks(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),s="";return t&&(s=Bs(t)?t.checked?"true":"false":t.value),t=s,t!==i?(e.setValue(t),!0):!1}function Ya(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var pc=/[\n"\\]/g;function _e(t){return t.replace(pc,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function mn(t,e,i,s,c,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),e!=null?p==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+en(e)):t.value!==""+en(e)&&(t.value=""+en(e)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),e!=null?sa(t,p,en(e)):i!=null?sa(t,p,en(i)):s!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+en(E):t.removeAttribute("name")}function Xa(t,e,i,s,c,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),e!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||e!=null))return;i=i!=null?""+en(i):"",e=e!=null?""+en(e):i,E||e===t.value||(t.value=e),t.defaultValue=e}s=s??c,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=E?t.checked:!!s,t.defaultChecked=!!s,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p)}function sa(t,e,i){e==="number"&&Ya(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Di(t,e,i,s){if(t=t.options,e){e={};for(var c=0;c<i.length;c++)e["$"+i[c]]=!0;for(i=0;i<t.length;i++)c=e.hasOwnProperty("$"+t[i].value),t[i].selected!==c&&(t[i].selected=c),c&&s&&(t[i].defaultSelected=!0)}else{for(i=""+en(i),e=null,c=0;c<t.length;c++){if(t[c].value===i){t[c].selected=!0,s&&(t[c].defaultSelected=!0);return}e!==null||t[c].disabled||(e=t[c])}e!==null&&(e.selected=!0)}}function Yt(t,e,i){if(e!=null&&(e=""+en(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+en(i):""}function Ka(t,e,i,s){if(e==null){if(s!=null){if(i!=null)throw Error(l(92));if(Ct(s)){if(1<s.length)throw Error(l(93));s=s[0]}i=s}i==null&&(i=""),e=i}i=en(e),t.defaultValue=i,s=t.textContent,s===i&&s!==""&&s!==null&&(t.value=s)}function Rn(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var $a=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mo(t,e,i){var s=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,i):typeof i!="number"||i===0||$a.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function qs(t,e,i){if(e!=null&&typeof e!="object")throw Error(l(62));if(t=t.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var c in e)s=e[c],e.hasOwnProperty(c)&&i[c]!==s&&mo(t,c,s)}else for(var f in e)e.hasOwnProperty(f)&&mo(t,f,e[f])}function Hs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_c=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pr(t){return _c.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ii=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ni=null,xi=null;function Gs(t){var e=ei(t);if(e&&(t=e.stateNode)){var i=t[ae]||null;t:switch(t=e.stateNode,e.type){case"input":if(mn(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+_e(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var s=i[e];if(s!==t&&s.form===t.form){var c=s[ae]||null;if(!c)throw Error(l(90));mn(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(e=0;e<i.length;e++)s=i[e],s.form===t.form&&ks(s)}break t;case"textarea":Yt(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&Di(t,!!i.multiple,e,!1)}}}var ai=!1;function go(t,e,i){if(ai)return t(e,i);ai=!0;try{var s=t(e);return s}finally{if(ai=!1,(Ni!==null||xi!==null)&&(ou(),Ni&&(e=Ni,t=xi,xi=Ni=null,Gs(e),t)))for(e=0;e<t.length;e++)Gs(t[e])}}function Za(t,e){var i=t.stateNode;if(i===null)return null;var s=i[ae]||null;if(s===null)return null;i=s[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(l(231,e,typeof i));return i}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cn=!1;if(Gn)try{var Ja={};Object.defineProperty(Ja,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",Ja,Ja),window.removeEventListener("test",Ja,Ja)}catch{Cn=!1}var ri=null,la=null,Mi=null;function Qs(){if(Mi)return Mi;var t,e=la,i=e.length,s,c="value"in ri?ri.value:ri.textContent,f=c.length;for(t=0;t<i&&e[t]===c[t];t++);var p=i-t;for(s=1;s<=p&&e[i-s]===c[f-s];s++);return Mi=c.slice(t,1<s?1-s:void 0)}function si(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function li(){return!0}function Fs(){return!1}function De(t){function e(i,s,c,f,p){this._reactName=i,this._targetInst=c,this.type=s,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(i=t[E],this[E]=i?i(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?li:Fs,this.isPropagationStopped=Fs,this}return S(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),e}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Br=De(Ht),Wa=S({},Ht,{view:0,detail:0}),po=De(Wa),kr,qr,oi,tr=S({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ir,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oi&&(oi&&t.type==="mousemove"?(kr=t.screenX-oi.screenX,qr=t.screenY-oi.screenY):qr=kr=0,oi=t),kr)},movementY:function(t){return"movementY"in t?t.movementY:qr}}),Dn=De(tr),yo=S({},tr,{dataTransfer:0}),vc=De(yo),er=S({},Wa,{relatedTarget:0}),Hr=De(er),Ys=S({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Gr=De(Ys),_o=S({},Ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qr=De(_o),Ec=S({},Ht,{data:0}),Xs=De(Ec),nr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ks(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Eo[t])?!!e[t]:!1}function ir(){return Ks}var To=S({},Wa,{key:function(t){if(t.key){var e=nr[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=si(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ir,charCode:function(t){return t.type==="keypress"?si(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?si(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fr=De(To),Ao=S({},tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$s=De(Ao),Oi=S({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ir}),So=De(Oi),bo=S({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ro=De(bo),wo=S({},tr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Yr=De(wo),nn=S({},Ht,{newState:0,oldState:0}),Co=De(nn),Do=[9,13,27,32],ui=Gn&&"CompositionEvent"in window,o=null;Gn&&"documentMode"in document&&(o=document.documentMode);var d=Gn&&"TextEvent"in window&&!o,g=Gn&&(!ui||o&&8<o&&11>=o),T=" ",j=!1;function q(t,e){switch(t){case"keyup":return Do.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function Se(t,e){switch(t){case"compositionend":return et(e);case"keypress":return e.which!==32?null:(j=!0,T);case"textInput":return t=e.data,t===T&&j?null:t;default:return null}}function Vt(t,e){if(Ot)return t==="compositionend"||!ui&&q(t,e)?(t=Qs(),Mi=la=ri=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return g&&e.locale!=="ko"?null:e.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function be(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ie[t.type]:e==="textarea"}function Vi(t,e,i,s){Ni?xi?xi.push(s):xi=[s]:Ni=s,e=mu(e,"onChange"),0<e.length&&(i=new Br("onChange","change",null,i,s),t.push({event:i,listeners:e}))}var ze=null,ci=null;function Zs(t){op(t,0)}function Io(t){var e=ni(t);if(ks(e))return t}function Id(t,e){if(t==="change")return e}var Nd=!1;if(Gn){var Tc;if(Gn){var Ac="oninput"in document;if(!Ac){var xd=document.createElement("div");xd.setAttribute("oninput","return;"),Ac=typeof xd.oninput=="function"}Tc=Ac}else Tc=!1;Nd=Tc&&(!document.documentMode||9<document.documentMode)}function Md(){ze&&(ze.detachEvent("onpropertychange",Od),ci=ze=null)}function Od(t){if(t.propertyName==="value"&&Io(ci)){var e=[];Vi(e,ci,t,wn(t)),go(Zs,e)}}function av(t,e,i){t==="focusin"?(Md(),ze=e,ci=i,ze.attachEvent("onpropertychange",Od)):t==="focusout"&&Md()}function rv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Io(ci)}function sv(t,e){if(t==="click")return Io(e)}function lv(t,e){if(t==="input"||t==="change")return Io(e)}function ov(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gn=typeof Object.is=="function"?Object.is:ov;function Js(t,e){if(gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),s=Object.keys(e);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var c=i[s];if(!Ei.call(e,c)||!gn(t[c],e[c]))return!1}return!0}function Vd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ud(t,e){var i=Vd(t);t=0;for(var s;i;){if(i.nodeType===3){if(s=t+i.textContent.length,t<=e&&s>=e)return{node:i,offset:e-t};t=s}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Vd(i)}}function Ld(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ld(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Ya(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=Ya(t.document)}return e}function Sc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var uv=Gn&&"documentMode"in document&&11>=document.documentMode,Xr=null,bc=null,Ws=null,Rc=!1;function zd(t,e,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Rc||Xr==null||Xr!==Ya(s)||(s=Xr,"selectionStart"in s&&Sc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ws&&Js(Ws,s)||(Ws=s,s=mu(bc,"onSelect"),0<s.length&&(e=new Br("onSelect","select",null,e,i),t.push({event:e,listeners:s}),e.target=Xr)))}function ar(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Kr={animationend:ar("Animation","AnimationEnd"),animationiteration:ar("Animation","AnimationIteration"),animationstart:ar("Animation","AnimationStart"),transitionrun:ar("Transition","TransitionRun"),transitionstart:ar("Transition","TransitionStart"),transitioncancel:ar("Transition","TransitionCancel"),transitionend:ar("Transition","TransitionEnd")},wc={},Pd={};Gn&&(Pd=document.createElement("div").style,"AnimationEvent"in window||(delete Kr.animationend.animation,delete Kr.animationiteration.animation,delete Kr.animationstart.animation),"TransitionEvent"in window||delete Kr.transitionend.transition);function rr(t){if(wc[t])return wc[t];if(!Kr[t])return t;var e=Kr[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in Pd)return wc[t]=e[i];return t}var Bd=rr("animationend"),kd=rr("animationiteration"),qd=rr("animationstart"),cv=rr("transitionrun"),fv=rr("transitionstart"),hv=rr("transitioncancel"),Hd=rr("transitionend"),Gd=new Map,Cc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cc.push("scrollEnd");function Qn(t,e){Gd.set(t,e),Hn(e,[t])}var Qd=new WeakMap;function In(t,e){if(typeof t=="object"&&t!==null){var i=Qd.get(t);return i!==void 0?i:(e={value:t,source:e,stack:jr(e)},Qd.set(t,e),e)}return{value:t,source:e,stack:jr(e)}}var Nn=[],$r=0,Dc=0;function No(){for(var t=$r,e=Dc=$r=0;e<t;){var i=Nn[e];Nn[e++]=null;var s=Nn[e];Nn[e++]=null;var c=Nn[e];Nn[e++]=null;var f=Nn[e];if(Nn[e++]=null,s!==null&&c!==null){var p=s.pending;p===null?c.next=c:(c.next=p.next,p.next=c),s.pending=c}f!==0&&Fd(i,c,f)}}function xo(t,e,i,s){Nn[$r++]=t,Nn[$r++]=e,Nn[$r++]=i,Nn[$r++]=s,Dc|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function Ic(t,e,i,s){return xo(t,e,i,s),Mo(t)}function Zr(t,e){return xo(t,null,null,e),Mo(t)}function Fd(t,e,i){t.lanes|=i;var s=t.alternate;s!==null&&(s.lanes|=i);for(var c=!1,f=t.return;f!==null;)f.childLanes|=i,s=f.alternate,s!==null&&(s.childLanes|=i),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&e!==null&&(c=31-Ce(i),t=f.hiddenUpdates,s=t[c],s===null?t[c]=[e]:s.push(e),e.lane=i|536870912),f):null}function Mo(t){if(50<bl)throw bl=0,Lf=null,Error(l(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Jr={};function dv(t,e,i,s){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,e,i,s){return new dv(t,e,i,s)}function Nc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ui(t,e){var i=t.alternate;return i===null?(i=pn(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function Yd(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Oo(t,e,i,s,c,f){var p=0;if(s=t,typeof t=="function")Nc(t)&&(p=1);else if(typeof t=="string")p=gE(t,i,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=pn(31,i,e,c),t.elementType=w,t.lanes=f,t;case $:return sr(i.children,c,f,e);case nt:p=8,c|=24;break;case it:return t=pn(12,i,e,c|2),t.elementType=it,t.lanes=f,t;case _t:return t=pn(13,i,e,c),t.elementType=_t,t.lanes=f,t;case xt:return t=pn(19,i,e,c),t.elementType=xt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case St:case dt:p=10;break t;case vt:p=9;break t;case zt:p=11;break t;case V:p=14;break t;case A:p=16,s=null;break t}p=29,i=Error(l(130,t===null?"null":typeof t,"")),s=null}return e=pn(p,i,e,c),e.elementType=t,e.type=s,e.lanes=f,e}function sr(t,e,i,s){return t=pn(7,t,s,e),t.lanes=i,t}function xc(t,e,i){return t=pn(6,t,null,e),t.lanes=i,t}function Mc(t,e,i){return e=pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Wr=[],ts=0,Vo=null,Uo=0,xn=[],Mn=0,lr=null,Li=1,ji="";function or(t,e){Wr[ts++]=Uo,Wr[ts++]=Vo,Vo=t,Uo=e}function Xd(t,e,i){xn[Mn++]=Li,xn[Mn++]=ji,xn[Mn++]=lr,lr=t;var s=Li;t=ji;var c=32-Ce(s)-1;s&=~(1<<c),i+=1;var f=32-Ce(e)+c;if(30<f){var p=c-c%5;f=(s&(1<<p)-1).toString(32),s>>=p,c-=p,Li=1<<32-Ce(e)+c|i<<c|s,ji=f+t}else Li=1<<f|i<<c|s,ji=t}function Oc(t){t.return!==null&&(or(t,1),Xd(t,1,0))}function Vc(t){for(;t===Vo;)Vo=Wr[--ts],Wr[ts]=null,Uo=Wr[--ts],Wr[ts]=null;for(;t===lr;)lr=xn[--Mn],xn[Mn]=null,ji=xn[--Mn],xn[Mn]=null,Li=xn[--Mn],xn[Mn]=null}var an=null,fe=null,qt=!1,ur=null,fi=!1,Uc=Error(l(519));function cr(t){var e=Error(l(418,""));throw nl(In(e,t)),Uc}function Kd(t){var e=t.stateNode,i=t.type,s=t.memoizedProps;switch(e[me]=t,e[ae]=s,i){case"dialog":It("cancel",e),It("close",e);break;case"iframe":case"object":case"embed":It("load",e);break;case"video":case"audio":for(i=0;i<wl.length;i++)It(wl[i],e);break;case"source":It("error",e);break;case"img":case"image":case"link":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"input":It("invalid",e),Xa(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),zr(e);break;case"select":It("invalid",e);break;case"textarea":It("invalid",e),Ka(e,s.value,s.defaultValue,s.children),zr(e)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||s.suppressHydrationWarning===!0||hp(e.textContent,i)?(s.popover!=null&&(It("beforetoggle",e),It("toggle",e)),s.onScroll!=null&&It("scroll",e),s.onScrollEnd!=null&&It("scrollend",e),s.onClick!=null&&(e.onclick=gu),e=!0):e=!1,e||cr(t)}function $d(t){for(an=t.return;an;)switch(an.tag){case 5:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:an=an.return}}function tl(t){if(t!==an)return!1;if(!qt)return $d(t),qt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Jf(t.type,t.memoizedProps)),i=!i),i&&fe&&cr(t),$d(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(e===0){fe=Yn(t.nextSibling);break t}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++;t=t.nextSibling}fe=null}}else e===27?(e=fe,Sa(t.type)?(t=nh,nh=null,fe=t):fe=e):fe=an?Yn(t.stateNode.nextSibling):null;return!0}function el(){fe=an=null,qt=!1}function Zd(){var t=ur;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),ur=null),t}function nl(t){ur===null?ur=[t]:ur.push(t)}var Lc=G(null),fr=null,zi=null;function oa(t,e,i){J(Lc,e._currentValue),e._currentValue=i}function Pi(t){t._currentValue=Lc.current,tt(Lc)}function jc(t,e,i){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===i)break;t=t.return}}function zc(t,e,i,s){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<e.length;R++)if(E.context===e[R]){f.lanes|=i,E=f.alternate,E!==null&&(E.lanes|=i),jc(f.return,i,t),s||(p=null);break t}f=E.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(l(341));p.lanes|=i,f=p.alternate,f!==null&&(f.lanes|=i),jc(p,i,t),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function il(t,e,i,s){t=null;for(var c=e,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(l(387));if(p=p.memoizedProps,p!==null){var E=c.type;gn(c.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(c===ce.current){if(p=c.alternate,p===null)throw Error(l(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}c=c.return}t!==null&&zc(e,t,i,s),e.flags|=262144}function Lo(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function hr(t){fr=t,zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ye(t){return Jd(fr,t)}function jo(t,e){return fr===null&&hr(t),Jd(t,e)}function Jd(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},zi===null){if(t===null)throw Error(l(308));zi=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else zi=zi.next=e;return i}var mv=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},gv=r.unstable_scheduleCallback,pv=r.unstable_NormalPriority,Re={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pc(){return{controller:new mv,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&gv(pv,function(){t.controller.abort()})}var rl=null,Bc=0,es=0,ns=null;function yv(t,e){if(rl===null){var i=rl=[];Bc=0,es=Hf(),ns={status:"pending",value:void 0,then:function(s){i.push(s)}}}return Bc++,e.then(Wd,Wd),e}function Wd(){if(--Bc===0&&rl!==null){ns!==null&&(ns.status="fulfilled");var t=rl;rl=null,es=0,ns=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function _v(t,e){var i=[],s={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var c=0;c<i.length;c++)(0,i[c])(e)},function(c){for(s.status="rejected",s.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),s}var tm=H.S;H.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&yv(t,e),tm!==null&&tm(t,e)};var dr=G(null);function kc(){var t=dr.current;return t!==null?t:te.pooledCache}function zo(t,e){e===null?J(dr,dr.current):J(dr,e.pool)}function em(){var t=kc();return t===null?null:{parent:Re._currentValue,pool:t}}var sl=Error(l(460)),nm=Error(l(474)),Po=Error(l(542)),qc={then:function(){}};function im(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Bo(){}function am(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(Bo,Bo),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,sm(t),t;default:if(typeof e.status=="string")e.then(Bo,Bo);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var c=e;c.status="fulfilled",c.value=s}},function(s){if(e.status==="pending"){var c=e;c.status="rejected",c.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,sm(t),t}throw ll=e,sl}}var ll=null;function rm(){if(ll===null)throw Error(l(459));var t=ll;return ll=null,t}function sm(t){if(t===sl||t===Po)throw Error(l(483))}var ua=!1;function Hc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ca(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function fa(t,e,i){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,(Qt&2)!==0){var c=s.pending;return c===null?e.next=e:(e.next=c.next,c.next=e),s.pending=e,e=Mo(t),Fd(t,null,i),e}return xo(t,s,e,i),Mo(t)}function ol(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,i|=s,e.lanes=i,ht(t,i)}}function Qc(t,e){var i=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var p={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,i=i.next}while(i!==null);f===null?c=f=e:f=f.next=e}else c=f=e;i={baseState:s.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:s.shared,callbacks:s.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var Fc=!1;function ul(){if(Fc){var t=ns;if(t!==null)throw t}}function cl(t,e,i,s){Fc=!1;var c=t.updateQueue;ua=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,P=R.next;R.next=null,p===null?f=P:p.next=P,p=R;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==p&&(E===null?Q.firstBaseUpdate=P:E.next=P,Q.lastBaseUpdate=R))}if(f!==null){var Y=c.baseState;p=0,Q=P=R=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(Ut&B)===B:(s&B)===B){B!==0&&B===es&&(Fc=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var yt=t,mt=E;B=e;var $t=i;switch(mt.tag){case 1:if(yt=mt.payload,typeof yt=="function"){Y=yt.call($t,Y,B);break t}Y=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=mt.payload,B=typeof yt=="function"?yt.call($t,Y,B):yt,B==null)break t;Y=S({},Y,B);break t;case 2:ua=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(P=Q=k,R=Y):Q=Q.next=k,p|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);Q===null&&(R=Y),c.baseState=R,c.firstBaseUpdate=P,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),va|=p,t.lanes=p,t.memoizedState=Y}}function lm(t,e){if(typeof t!="function")throw Error(l(191,t));t.call(e)}function om(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)lm(i[t],e)}var is=G(null),ko=G(0);function um(t,e){t=Fi,J(ko,t),J(is,e),Fi=t|e.baseLanes}function Yc(){J(ko,Fi),J(is,is.current)}function Xc(){Fi=ko.current,tt(is),tt(ko)}var ha=0,bt=null,Xt=null,ve=null,qo=!1,as=!1,mr=!1,Ho=0,fl=0,rs=null,vv=0;function pe(){throw Error(l(321))}function Kc(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!gn(t[i],e[i]))return!1;return!0}function $c(t,e,i,s,c,f){return ha=f,bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,H.H=t===null||t.memoizedState===null?Fm:Ym,mr=!1,f=i(s,c),mr=!1,as&&(f=fm(e,i,s,c)),cm(t),f}function cm(t){H.H=Ko;var e=Xt!==null&&Xt.next!==null;if(ha=0,ve=Xt=bt=null,qo=!1,fl=0,rs=null,e)throw Error(l(300));t===null||Ne||(t=t.dependencies,t!==null&&Lo(t)&&(Ne=!0))}function fm(t,e,i,s){bt=t;var c=0;do{if(as&&(rs=null),fl=0,as=!1,25<=c)throw Error(l(301));if(c+=1,ve=Xt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=wv,f=e(i,s)}while(as);return f}function Ev(){var t=H.H,e=t.useState()[0];return e=typeof e.then=="function"?hl(e):e,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(bt.flags|=1024),e}function Zc(){var t=Ho!==0;return Ho=0,t}function Jc(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function Wc(t){if(qo){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}qo=!1}ha=0,ve=Xt=bt=null,as=!1,fl=Ho=0,rs=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?bt.memoizedState=ve=t:ve=ve.next=t,ve}function Ee(){if(Xt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var e=ve===null?bt.memoizedState:ve.next;if(e!==null)ve=e,Xt=t;else{if(t===null)throw bt.alternate===null?Error(l(467)):Error(l(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},ve===null?bt.memoizedState=ve=t:ve=ve.next=t}return ve}function tf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var e=fl;return fl+=1,rs===null&&(rs=[]),t=am(rs,t,e),e=bt,(ve===null?e.memoizedState:ve.next)===null&&(e=e.alternate,H.H=e===null||e.memoizedState===null?Fm:Ym),t}function Go(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===dt)return Ye(t)}throw Error(l(438,String(t)))}function ef(t){var e=null,i=bt.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var s=bt.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(c){return c.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=tf(),bt.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),s=0;s<t;s++)i[s]=N;return e.index++,i}function Bi(t,e){return typeof e=="function"?e(t):e}function Qo(t){var e=Ee();return nf(e,Xt,t)}function nf(t,e,i){var s=t.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=i;var c=t.baseQueue,f=s.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}e.baseQueue=c=f,s.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{e=c.next;var E=p=null,R=null,P=e,Q=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Ut&Y)===Y:(ha&Y)===Y){var B=P.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===es&&(Q=!0);else if((ha&B)===B){P=P.next,B===es&&(Q=!0);continue}else Y={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=Y,p=f):R=R.next=Y,bt.lanes|=B,va|=B;Y=P.action,mr&&i(f,Y),f=P.hasEagerState?P.eagerState:i(f,Y)}else B={lane:Y,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=B,p=f):R=R.next=B,bt.lanes|=Y,va|=Y;P=P.next}while(P!==null&&P!==e);if(R===null?p=f:R.next=E,!gn(f,t.memoizedState)&&(Ne=!0,Q&&(i=ns,i!==null)))throw i;t.memoizedState=f,t.baseState=p,t.baseQueue=R,s.lastRenderedState=f}return c===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function af(t){var e=Ee(),i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=t;var s=i.dispatch,c=i.pending,f=e.memoizedState;if(c!==null){i.pending=null;var p=c=c.next;do f=t(f,p.action),p=p.next;while(p!==c);gn(f,e.memoizedState)||(Ne=!0),e.memoizedState=f,e.baseQueue===null&&(e.baseState=f),i.lastRenderedState=f}return[f,s]}function hm(t,e,i){var s=bt,c=Ee(),f=qt;if(f){if(i===void 0)throw Error(l(407));i=i()}else i=e();var p=!gn((Xt||c).memoizedState,i);p&&(c.memoizedState=i,Ne=!0),c=c.queue;var E=gm.bind(null,s,c,t);if(dl(2048,8,E,[t]),c.getSnapshot!==e||p||ve!==null&&ve.memoizedState.tag&1){if(s.flags|=2048,ss(9,Fo(),mm.bind(null,s,c,i,e),null),te===null)throw Error(l(349));f||(ha&124)!==0||dm(s,e,i)}return i}function dm(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=bt.updateQueue,e===null?(e=tf(),bt.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function mm(t,e,i,s){e.value=i,e.getSnapshot=s,pm(e)&&ym(t)}function gm(t,e,i){return i(function(){pm(e)&&ym(t)})}function pm(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!gn(t,i)}catch{return!0}}function ym(t){var e=Zr(t,2);e!==null&&Tn(e,t,2)}function rf(t){var e=rn();if(typeof t=="function"){var i=t;if(t=i(),mr){Ue(!0);try{i()}finally{Ue(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:t},e}function _m(t,e,i,s){return t.baseState=i,nf(t,Xt,typeof s=="function"?s:Bi)}function Tv(t,e,i,s,c){if(Xo(t))throw Error(l(485));if(t=e.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?i(!0):f.isTransition=!1,s(f),i=e.pending,i===null?(f.next=e.pending=f,vm(e,f)):(f.next=i.next,e.pending=i.next=f)}}function vm(t,e){var i=e.action,s=e.payload,c=t.state;if(e.isTransition){var f=H.T,p={};H.T=p;try{var E=i(c,s),R=H.S;R!==null&&R(p,E),Em(t,e,E)}catch(P){sf(t,e,P)}finally{H.T=f}}else try{f=i(c,s),Em(t,e,f)}catch(P){sf(t,e,P)}}function Em(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){Tm(t,e,s)},function(s){return sf(t,e,s)}):Tm(t,e,i)}function Tm(t,e,i){e.status="fulfilled",e.value=i,Am(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,vm(t,i)))}function sf(t,e,i){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=i,Am(e),e=e.next;while(e!==s)}t.action=null}function Am(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Sm(t,e){return e}function bm(t,e){if(qt){var i=te.formState;if(i!==null){t:{var s=bt;if(qt){if(fe){e:{for(var c=fe,f=fi;c.nodeType!==8;){if(!f){c=null;break e}if(c=Yn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){fe=Yn(c.nextSibling),s=c.data==="F!";break t}}cr(s)}s=!1}s&&(e=i[0])}}return i=rn(),i.memoizedState=i.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sm,lastRenderedState:e},i.queue=s,i=Hm.bind(null,bt,s),s.dispatch=i,s=rf(!1),f=ff.bind(null,bt,!1,s.queue),s=rn(),c={state:e,dispatch:null,action:t,pending:null},s.queue=c,i=Tv.bind(null,bt,c,f,i),c.dispatch=i,s.memoizedState=t,[e,i,!1]}function Rm(t){var e=Ee();return wm(e,Xt,t)}function wm(t,e,i){if(e=nf(t,e,Sm)[0],t=Qo(Bi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=hl(e)}catch(p){throw p===sl?Po:p}else s=e;e=Ee();var c=e.queue,f=c.dispatch;return i!==e.memoizedState&&(bt.flags|=2048,ss(9,Fo(),Av.bind(null,c,i),null)),[s,f,t]}function Av(t,e){t.action=e}function Cm(t){var e=Ee(),i=Xt;if(i!==null)return wm(e,i,t);Ee(),e=e.memoizedState,i=Ee();var s=i.queue.dispatch;return i.memoizedState=t,[e,s,!1]}function ss(t,e,i,s){return t={tag:t,create:i,deps:s,inst:e,next:null},e=bt.updateQueue,e===null&&(e=tf(),bt.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(s=i.next,i.next=t,t.next=s,e.lastEffect=t),t}function Fo(){return{destroy:void 0,resource:void 0}}function Dm(){return Ee().memoizedState}function Yo(t,e,i,s){var c=rn();s=s===void 0?null:s,bt.flags|=t,c.memoizedState=ss(1|e,Fo(),i,s)}function dl(t,e,i,s){var c=Ee();s=s===void 0?null:s;var f=c.memoizedState.inst;Xt!==null&&s!==null&&Kc(s,Xt.memoizedState.deps)?c.memoizedState=ss(e,f,i,s):(bt.flags|=t,c.memoizedState=ss(1|e,f,i,s))}function Im(t,e){Yo(8390656,8,t,e)}function Nm(t,e){dl(2048,8,t,e)}function xm(t,e){return dl(4,2,t,e)}function Mm(t,e){return dl(4,4,t,e)}function Om(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Vm(t,e,i){i=i!=null?i.concat([t]):null,dl(4,4,Om.bind(null,e,t),i)}function lf(){}function Um(t,e){var i=Ee();e=e===void 0?null:e;var s=i.memoizedState;return e!==null&&Kc(e,s[1])?s[0]:(i.memoizedState=[t,e],t)}function Lm(t,e){var i=Ee();e=e===void 0?null:e;var s=i.memoizedState;if(e!==null&&Kc(e,s[1]))return s[0];if(s=t(),mr){Ue(!0);try{t()}finally{Ue(!1)}}return i.memoizedState=[s,e],s}function of(t,e,i){return i===void 0||(ha&1073741824)!==0?t.memoizedState=e:(t.memoizedState=i,t=Pg(),bt.lanes|=t,va|=t,i)}function jm(t,e,i,s){return gn(i,e)?i:is.current!==null?(t=of(t,i,s),gn(t,e)||(Ne=!0),t):(ha&42)===0?(Ne=!0,t.memoizedState=i):(t=Pg(),bt.lanes|=t,va|=t,e)}function zm(t,e,i,s,c){var f=W.p;W.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,ff(t,!1,e,i);try{var R=c(),P=H.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=_v(R,s);ml(t,e,Q,En(t))}else ml(t,e,s,En(t))}catch(Y){ml(t,e,{then:function(){},status:"rejected",reason:Y},En())}finally{W.p=f,H.T=p}}function Sv(){}function uf(t,e,i,s){if(t.tag!==5)throw Error(l(476));var c=Pm(t).queue;zm(t,c,e,rt,i===null?Sv:function(){return Bm(t),i(s)})}function Pm(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:rt},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Bm(t){var e=Pm(t).next.queue;ml(t,e,{},En())}function cf(){return Ye(Ml)}function km(){return Ee().memoizedState}function qm(){return Ee().memoizedState}function bv(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=En();t=ca(i);var s=fa(e,t,i);s!==null&&(Tn(s,e,i),ol(s,e,i)),e={cache:Pc()},t.payload=e;return}e=e.return}}function Rv(t,e,i){var s=En();i={lane:s,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Xo(t)?Gm(e,i):(i=Ic(t,e,i,s),i!==null&&(Tn(i,t,s),Qm(i,e,s)))}function Hm(t,e,i){var s=En();ml(t,e,i,s)}function ml(t,e,i,s){var c={lane:s,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Xo(t))Gm(e,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=e.lastRenderedReducer,f!==null))try{var p=e.lastRenderedState,E=f(p,i);if(c.hasEagerState=!0,c.eagerState=E,gn(E,p))return xo(t,e,c,0),te===null&&No(),!1}catch{}finally{}if(i=Ic(t,e,c,s),i!==null)return Tn(i,t,s),Qm(i,e,s),!0}return!1}function ff(t,e,i,s){if(s={lane:2,revertLane:Hf(),action:s,hasEagerState:!1,eagerState:null,next:null},Xo(t)){if(e)throw Error(l(479))}else e=Ic(t,i,s,2),e!==null&&Tn(e,t,2)}function Xo(t){var e=t.alternate;return t===bt||e!==null&&e===bt}function Gm(t,e){as=qo=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Qm(t,e,i){if((i&4194048)!==0){var s=e.lanes;s&=t.pendingLanes,i|=s,e.lanes=i,ht(t,i)}}var Ko={readContext:Ye,use:Go,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe},Fm={readContext:Ye,use:Go,useCallback:function(t,e){return rn().memoizedState=[t,e===void 0?null:e],t},useContext:Ye,useEffect:Im,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,Yo(4194308,4,Om.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Yo(4194308,4,t,e)},useInsertionEffect:function(t,e){Yo(4,2,t,e)},useMemo:function(t,e){var i=rn();e=e===void 0?null:e;var s=t();if(mr){Ue(!0);try{t()}finally{Ue(!1)}}return i.memoizedState=[s,e],s},useReducer:function(t,e,i){var s=rn();if(i!==void 0){var c=i(e);if(mr){Ue(!0);try{i(e)}finally{Ue(!1)}}}else c=e;return s.memoizedState=s.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},s.queue=t,t=t.dispatch=Rv.bind(null,bt,t),[s.memoizedState,t]},useRef:function(t){var e=rn();return t={current:t},e.memoizedState=t},useState:function(t){t=rf(t);var e=t.queue,i=Hm.bind(null,bt,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:lf,useDeferredValue:function(t,e){var i=rn();return of(i,t,e)},useTransition:function(){var t=rf(!1);return t=zm.bind(null,bt,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var s=bt,c=rn();if(qt){if(i===void 0)throw Error(l(407));i=i()}else{if(i=e(),te===null)throw Error(l(349));(Ut&124)!==0||dm(s,e,i)}c.memoizedState=i;var f={value:i,getSnapshot:e};return c.queue=f,Im(gm.bind(null,s,f,t),[t]),s.flags|=2048,ss(9,Fo(),mm.bind(null,s,f,i,e),null),i},useId:function(){var t=rn(),e=te.identifierPrefix;if(qt){var i=ji,s=Li;i=(s&~(1<<32-Ce(s)-1)).toString(32)+i,e=""+e+"R"+i,i=Ho++,0<i&&(e+="H"+i.toString(32)),e+=""}else i=vv++,e=""+e+"r"+i.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:cf,useFormState:bm,useActionState:bm,useOptimistic:function(t){var e=rn();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=ff.bind(null,bt,!0,i),i.dispatch=e,[t,e]},useMemoCache:ef,useCacheRefresh:function(){return rn().memoizedState=bv.bind(null,bt)}},Ym={readContext:Ye,use:Go,useCallback:Um,useContext:Ye,useEffect:Nm,useImperativeHandle:Vm,useInsertionEffect:xm,useLayoutEffect:Mm,useMemo:Lm,useReducer:Qo,useRef:Dm,useState:function(){return Qo(Bi)},useDebugValue:lf,useDeferredValue:function(t,e){var i=Ee();return jm(i,Xt.memoizedState,t,e)},useTransition:function(){var t=Qo(Bi)[0],e=Ee().memoizedState;return[typeof t=="boolean"?t:hl(t),e]},useSyncExternalStore:hm,useId:km,useHostTransitionStatus:cf,useFormState:Rm,useActionState:Rm,useOptimistic:function(t,e){var i=Ee();return _m(i,Xt,t,e)},useMemoCache:ef,useCacheRefresh:qm},wv={readContext:Ye,use:Go,useCallback:Um,useContext:Ye,useEffect:Nm,useImperativeHandle:Vm,useInsertionEffect:xm,useLayoutEffect:Mm,useMemo:Lm,useReducer:af,useRef:Dm,useState:function(){return af(Bi)},useDebugValue:lf,useDeferredValue:function(t,e){var i=Ee();return Xt===null?of(i,t,e):jm(i,Xt.memoizedState,t,e)},useTransition:function(){var t=af(Bi)[0],e=Ee().memoizedState;return[typeof t=="boolean"?t:hl(t),e]},useSyncExternalStore:hm,useId:km,useHostTransitionStatus:cf,useFormState:Cm,useActionState:Cm,useOptimistic:function(t,e){var i=Ee();return Xt!==null?_m(i,Xt,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:ef,useCacheRefresh:qm},ls=null,gl=0;function $o(t){var e=gl;return gl+=1,ls===null&&(ls=[]),am(ls,t,e)}function pl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Zo(t,e){throw e.$$typeof===M?Error(l(525)):(t=Object.prototype.toString.call(e),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Xm(t){var e=t._init;return e(t._payload)}function Km(t){function e(U,D){if(t){var z=U.deletions;z===null?(U.deletions=[D],U.flags|=16):z.push(D)}}function i(U,D){if(!t)return null;for(;D!==null;)e(U,D),D=D.sibling;return null}function s(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function c(U,D){return U=Ui(U,D),U.index=0,U.sibling=null,U}function f(U,D,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<D?(U.flags|=67108866,D):z):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function p(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,z,F){return D===null||D.tag!==6?(D=xc(z,U.mode,F),D.return=U,D):(D=c(D,z),D.return=U,D)}function R(U,D,z,F){var at=z.type;return at===$?Q(U,D,z.props.children,F,z.key):D!==null&&(D.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===A&&Xm(at)===D.type)?(D=c(D,z.props),pl(D,z),D.return=U,D):(D=Oo(z.type,z.key,z.props,null,U.mode,F),pl(D,z),D.return=U,D)}function P(U,D,z,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=Mc(z,U.mode,F),D.return=U,D):(D=c(D,z.children||[]),D.return=U,D)}function Q(U,D,z,F,at){return D===null||D.tag!==7?(D=sr(z,U.mode,F,at),D.return=U,D):(D=c(D,z),D.return=U,D)}function Y(U,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=xc(""+D,U.mode,z),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case I:return z=Oo(D.type,D.key,D.props,null,U.mode,z),pl(z,D),z.return=U,z;case K:return D=Mc(D,U.mode,z),D.return=U,D;case A:var F=D._init;return D=F(D._payload),Y(U,D,z)}if(Ct(D)||L(D))return D=sr(D,U.mode,z,null),D.return=U,D;if(typeof D.then=="function")return Y(U,$o(D),z);if(D.$$typeof===dt)return Y(U,jo(U,D),z);Zo(U,D)}return null}function B(U,D,z,F){var at=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return at!==null?null:E(U,D,""+z,F);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case I:return z.key===at?R(U,D,z,F):null;case K:return z.key===at?P(U,D,z,F):null;case A:return at=z._init,z=at(z._payload),B(U,D,z,F)}if(Ct(z)||L(z))return at!==null?null:Q(U,D,z,F,null);if(typeof z.then=="function")return B(U,D,$o(z),F);if(z.$$typeof===dt)return B(U,D,jo(U,z),F);Zo(U,z)}return null}function k(U,D,z,F,at){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(z)||null,E(D,U,""+F,at);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case I:return U=U.get(F.key===null?z:F.key)||null,R(D,U,F,at);case K:return U=U.get(F.key===null?z:F.key)||null,P(D,U,F,at);case A:var wt=F._init;return F=wt(F._payload),k(U,D,z,F,at)}if(Ct(F)||L(F))return U=U.get(z)||null,Q(D,U,F,at,null);if(typeof F.then=="function")return k(U,D,z,$o(F),at);if(F.$$typeof===dt)return k(U,D,z,jo(D,F),at);Zo(D,F)}return null}function yt(U,D,z,F){for(var at=null,wt=null,lt=D,gt=D=0,Me=null;lt!==null&&gt<z.length;gt++){lt.index>gt?(Me=lt,lt=null):Me=lt.sibling;var Pt=B(U,lt,z[gt],F);if(Pt===null){lt===null&&(lt=Me);break}t&&lt&&Pt.alternate===null&&e(U,lt),D=f(Pt,D,gt),wt===null?at=Pt:wt.sibling=Pt,wt=Pt,lt=Me}if(gt===z.length)return i(U,lt),qt&&or(U,gt),at;if(lt===null){for(;gt<z.length;gt++)lt=Y(U,z[gt],F),lt!==null&&(D=f(lt,D,gt),wt===null?at=lt:wt.sibling=lt,wt=lt);return qt&&or(U,gt),at}for(lt=s(lt);gt<z.length;gt++)Me=k(lt,U,gt,z[gt],F),Me!==null&&(t&&Me.alternate!==null&&lt.delete(Me.key===null?gt:Me.key),D=f(Me,D,gt),wt===null?at=Me:wt.sibling=Me,wt=Me);return t&&lt.forEach(function(Da){return e(U,Da)}),qt&&or(U,gt),at}function mt(U,D,z,F){if(z==null)throw Error(l(151));for(var at=null,wt=null,lt=D,gt=D=0,Me=null,Pt=z.next();lt!==null&&!Pt.done;gt++,Pt=z.next()){lt.index>gt?(Me=lt,lt=null):Me=lt.sibling;var Da=B(U,lt,Pt.value,F);if(Da===null){lt===null&&(lt=Me);break}t&&lt&&Da.alternate===null&&e(U,lt),D=f(Da,D,gt),wt===null?at=Da:wt.sibling=Da,wt=Da,lt=Me}if(Pt.done)return i(U,lt),qt&&or(U,gt),at;if(lt===null){for(;!Pt.done;gt++,Pt=z.next())Pt=Y(U,Pt.value,F),Pt!==null&&(D=f(Pt,D,gt),wt===null?at=Pt:wt.sibling=Pt,wt=Pt);return qt&&or(U,gt),at}for(lt=s(lt);!Pt.done;gt++,Pt=z.next())Pt=k(lt,U,gt,Pt.value,F),Pt!==null&&(t&&Pt.alternate!==null&&lt.delete(Pt.key===null?gt:Pt.key),D=f(Pt,D,gt),wt===null?at=Pt:wt.sibling=Pt,wt=Pt);return t&&lt.forEach(function(CE){return e(U,CE)}),qt&&or(U,gt),at}function $t(U,D,z,F){if(typeof z=="object"&&z!==null&&z.type===$&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case I:t:{for(var at=z.key;D!==null;){if(D.key===at){if(at=z.type,at===$){if(D.tag===7){i(U,D.sibling),F=c(D,z.props.children),F.return=U,U=F;break t}}else if(D.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===A&&Xm(at)===D.type){i(U,D.sibling),F=c(D,z.props),pl(F,z),F.return=U,U=F;break t}i(U,D);break}else e(U,D);D=D.sibling}z.type===$?(F=sr(z.props.children,U.mode,F,z.key),F.return=U,U=F):(F=Oo(z.type,z.key,z.props,null,U.mode,F),pl(F,z),F.return=U,U=F)}return p(U);case K:t:{for(at=z.key;D!==null;){if(D.key===at)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){i(U,D.sibling),F=c(D,z.children||[]),F.return=U,U=F;break t}else{i(U,D);break}else e(U,D);D=D.sibling}F=Mc(z,U.mode,F),F.return=U,U=F}return p(U);case A:return at=z._init,z=at(z._payload),$t(U,D,z,F)}if(Ct(z))return yt(U,D,z,F);if(L(z)){if(at=L(z),typeof at!="function")throw Error(l(150));return z=at.call(z),mt(U,D,z,F)}if(typeof z.then=="function")return $t(U,D,$o(z),F);if(z.$$typeof===dt)return $t(U,D,jo(U,z),F);Zo(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(i(U,D.sibling),F=c(D,z),F.return=U,U=F):(i(U,D),F=xc(z,U.mode,F),F.return=U,U=F),p(U)):i(U,D)}return function(U,D,z,F){try{gl=0;var at=$t(U,D,z,F);return ls=null,at}catch(lt){if(lt===sl||lt===Po)throw lt;var wt=pn(29,lt,null,U.mode);return wt.lanes=F,wt.return=U,wt}finally{}}}var os=Km(!0),$m=Km(!1),On=G(null),hi=null;function da(t){var e=t.alternate;J(we,we.current&1),J(On,t),hi===null&&(e===null||is.current!==null||e.memoizedState!==null)&&(hi=t)}function Zm(t){if(t.tag===22){if(J(we,we.current),J(On,t),hi===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(hi=t)}}else ma()}function ma(){J(we,we.current),J(On,On.current)}function ki(t){tt(On),hi===t&&(hi=null),tt(we)}var we=G(0);function Jo(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||eh(i)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function hf(t,e,i,s){e=t.memoizedState,i=i(s,e),i=i==null?e:S({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var df={enqueueSetState:function(t,e,i){t=t._reactInternals;var s=En(),c=ca(s);c.payload=e,i!=null&&(c.callback=i),e=fa(t,c,s),e!==null&&(Tn(e,t,s),ol(e,t,s))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var s=En(),c=ca(s);c.tag=1,c.payload=e,i!=null&&(c.callback=i),e=fa(t,c,s),e!==null&&(Tn(e,t,s),ol(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=En(),s=ca(i);s.tag=2,e!=null&&(s.callback=e),e=fa(t,s,i),e!==null&&(Tn(e,t,i),ol(e,t,i))}};function Jm(t,e,i,s,c,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,f,p):e.prototype&&e.prototype.isPureReactComponent?!Js(i,s)||!Js(c,f):!0}function Wm(t,e,i,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,s),e.state!==t&&df.enqueueReplaceState(e,e.state,null)}function gr(t,e){var i=e;if("ref"in e){i={};for(var s in e)s!=="ref"&&(i[s]=e[s])}if(t=t.defaultProps){i===e&&(i=S({},i));for(var c in t)i[c]===void 0&&(i[c]=t[c])}return i}var Wo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function tg(t){Wo(t)}function eg(t){console.error(t)}function ng(t){Wo(t)}function tu(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function ig(t,e,i){try{var s=t.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function mf(t,e,i){return i=ca(i),i.tag=3,i.payload={element:null},i.callback=function(){tu(t,e)},i}function ag(t){return t=ca(t),t.tag=3,t}function rg(t,e,i,s){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var f=s.value;t.payload=function(){return c(f)},t.callback=function(){ig(e,i,s)}}var p=i.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){ig(e,i,s),typeof c!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})})}function Cv(t,e,i,s,c){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=i.alternate,e!==null&&il(e,i,c,!0),i=On.current,i!==null){switch(i.tag){case 13:return hi===null?zf():i.alternate===null&&he===0&&(he=3),i.flags&=-257,i.flags|=65536,i.lanes=c,s===qc?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([s]):e.add(s),Bf(t,s,c)),!1;case 22:return i.flags|=65536,s===qc?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([s]):i.add(s)),Bf(t,s,c)),!1}throw Error(l(435,i.tag))}return Bf(t,s,c),zf(),!1}if(qt)return e=On.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=c,s!==Uc&&(t=Error(l(422),{cause:s}),nl(In(t,i)))):(s!==Uc&&(e=Error(l(423),{cause:s}),nl(In(e,i))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,s=In(s,i),c=mf(t.stateNode,s,c),Qc(t,c),he!==4&&(he=2)),!1;var f=Error(l(520),{cause:s});if(f=In(f,i),Sl===null?Sl=[f]:Sl.push(f),he!==4&&(he=2),e===null)return!0;s=In(s,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=c&-c,i.lanes|=t,t=mf(i.stateNode,s,t),Qc(i,t),!1;case 1:if(e=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ea===null||!Ea.has(f))))return i.flags|=65536,c&=-c,i.lanes|=c,c=ag(c),rg(c,t,i,s),Qc(i,c),!1}i=i.return}while(i!==null);return!1}var sg=Error(l(461)),Ne=!1;function Pe(t,e,i,s){e.child=t===null?$m(e,null,i,s):os(e,t.child,i,s)}function lg(t,e,i,s,c){i=i.render;var f=e.ref;if("ref"in s){var p={};for(var E in s)E!=="ref"&&(p[E]=s[E])}else p=s;return hr(e),s=$c(t,e,i,p,f,c),E=Zc(),t!==null&&!Ne?(Jc(t,e,c),qi(t,e,c)):(qt&&E&&Oc(e),e.flags|=1,Pe(t,e,s,c),e.child)}function og(t,e,i,s,c){if(t===null){var f=i.type;return typeof f=="function"&&!Nc(f)&&f.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=f,ug(t,e,f,s,c)):(t=Oo(i.type,null,s,e,e.mode,c),t.ref=e.ref,t.return=e,e.child=t)}if(f=t.child,!Af(t,c)){var p=f.memoizedProps;if(i=i.compare,i=i!==null?i:Js,i(p,s)&&t.ref===e.ref)return qi(t,e,c)}return e.flags|=1,t=Ui(f,s),t.ref=e.ref,t.return=e,e.child=t}function ug(t,e,i,s,c){if(t!==null){var f=t.memoizedProps;if(Js(f,s)&&t.ref===e.ref)if(Ne=!1,e.pendingProps=s=f,Af(t,c))(t.flags&131072)!==0&&(Ne=!0);else return e.lanes=t.lanes,qi(t,e,c)}return gf(t,e,i,s,c)}function cg(t,e,i){var s=e.pendingProps,c=s.children,f=t!==null?t.memoizedState:null;if(s.mode==="hidden"){if((e.flags&128)!==0){if(s=f!==null?f.baseLanes|i:i,t!==null){for(c=e.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;e.childLanes=f&~s}else e.childLanes=0,e.child=null;return fg(t,e,s,i)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&zo(e,f!==null?f.cachePool:null),f!==null?um(e,f):Yc(),Zm(e);else return e.lanes=e.childLanes=536870912,fg(t,e,f!==null?f.baseLanes|i:i,i)}else f!==null?(zo(e,f.cachePool),um(e,f),ma(),e.memoizedState=null):(t!==null&&zo(e,null),Yc(),ma());return Pe(t,e,c,i),e.child}function fg(t,e,i,s){var c=kc();return c=c===null?null:{parent:Re._currentValue,pool:c},e.memoizedState={baseLanes:i,cachePool:c},t!==null&&zo(e,null),Yc(),Zm(e),t!==null&&il(t,e,s,!0),null}function eu(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(l(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function gf(t,e,i,s,c){return hr(e),i=$c(t,e,i,s,void 0,c),s=Zc(),t!==null&&!Ne?(Jc(t,e,c),qi(t,e,c)):(qt&&s&&Oc(e),e.flags|=1,Pe(t,e,i,c),e.child)}function hg(t,e,i,s,c,f){return hr(e),e.updateQueue=null,i=fm(e,s,i,c),cm(t),s=Zc(),t!==null&&!Ne?(Jc(t,e,f),qi(t,e,f)):(qt&&s&&Oc(e),e.flags|=1,Pe(t,e,i,f),e.child)}function dg(t,e,i,s,c){if(hr(e),e.stateNode===null){var f=Jr,p=i.contextType;typeof p=="object"&&p!==null&&(f=Ye(p)),f=new i(s,f),e.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=df,e.stateNode=f,f._reactInternals=e,f=e.stateNode,f.props=s,f.state=e.memoizedState,f.refs={},Hc(e),p=i.contextType,f.context=typeof p=="object"&&p!==null?Ye(p):Jr,f.state=e.memoizedState,p=i.getDerivedStateFromProps,typeof p=="function"&&(hf(e,i,p,s),f.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&df.enqueueReplaceState(f,f.state,null),cl(e,s,f,c),ul(),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){f=e.stateNode;var E=e.memoizedProps,R=gr(i,E);f.props=R;var P=f.context,Q=i.contextType;p=Jr,typeof Q=="object"&&Q!==null&&(p=Ye(Q));var Y=i.getDerivedStateFromProps;Q=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=e.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&Wm(e,f,s,p),ua=!1;var B=e.memoizedState;f.state=B,cl(e,s,f,c),ul(),P=e.memoizedState,E||B!==P||ua?(typeof Y=="function"&&(hf(e,i,Y,s),P=e.memoizedState),(R=ua||Jm(e,i,R,s,B,P,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(e.flags|=4194308)):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=P),f.props=s,f.state=P,f.context=p,s=R):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{f=e.stateNode,Gc(t,e),p=e.memoizedProps,Q=gr(i,p),f.props=Q,Y=e.pendingProps,B=f.context,P=i.contextType,R=Jr,typeof P=="object"&&P!==null&&(R=Ye(P)),E=i.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||B!==R)&&Wm(e,f,s,R),ua=!1,B=e.memoizedState,f.state=B,cl(e,s,f,c),ul();var k=e.memoizedState;p!==Y||B!==k||ua||t!==null&&t.dependencies!==null&&Lo(t.dependencies)?(typeof E=="function"&&(hf(e,i,E,s),k=e.memoizedState),(Q=ua||Jm(e,i,Q,s,B,k,R)||t!==null&&t.dependencies!==null&&Lo(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(s,k,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(s,k,R)),typeof f.componentDidUpdate=="function"&&(e.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=k),f.props=s,f.state=k,f.context=R,s=Q):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(e.flags|=1024),s=!1)}return f=s,eu(t,e),s=(e.flags&128)!==0,f||s?(f=e.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:f.render(),e.flags|=1,t!==null&&s?(e.child=os(e,t.child,null,c),e.child=os(e,null,i,c)):Pe(t,e,i,c),e.memoizedState=f.state,t=e.child):t=qi(t,e,c),t}function mg(t,e,i,s){return el(),e.flags|=256,Pe(t,e,i,s),e.child}var pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yf(t){return{baseLanes:t,cachePool:em()}}function _f(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=Vn),t}function gg(t,e,i){var s=e.pendingProps,c=!1,f=(e.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(we.current&2)!==0),p&&(c=!0,e.flags&=-129),p=(e.flags&32)!==0,e.flags&=-33,t===null){if(qt){if(c?da(e):ma(),qt){var E=fe,R;if(R=E){t:{for(R=E,E=fi;R.nodeType!==8;){if(!E){E=null;break t}if(R=Yn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(e.memoizedState={dehydrated:E,treeContext:lr!==null?{id:Li,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},R=pn(18,null,null,0),R.stateNode=E,R.return=e,e.child=R,an=e,fe=null,R=!0):R=!1}R||cr(e)}if(E=e.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return eh(E)?e.lanes=32:e.lanes=536870912,null;ki(e)}return E=s.children,s=s.fallback,c?(ma(),c=e.mode,E=nu({mode:"hidden",children:E},c),s=sr(s,c,i,null),E.return=e,s.return=e,E.sibling=s,e.child=E,c=e.child,c.memoizedState=yf(i),c.childLanes=_f(t,p,i),e.memoizedState=pf,s):(da(e),vf(e,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)e.flags&256?(da(e),e.flags&=-257,e=Ef(t,e,i)):e.memoizedState!==null?(ma(),e.child=t.child,e.flags|=128,e=null):(ma(),c=s.fallback,E=e.mode,s=nu({mode:"visible",children:s.children},E),c=sr(c,E,i,null),c.flags|=2,s.return=e,c.return=e,s.sibling=c,e.child=s,os(e,t.child,null,i),s=e.child,s.memoizedState=yf(i),s.childLanes=_f(t,p,i),e.memoizedState=pf,e=c);else if(da(e),eh(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,s=Error(l(419)),s.stack="",s.digest=p,nl({value:s,source:null,stack:null}),e=Ef(t,e,i)}else if(Ne||il(t,e,i,!1),p=(i&t.childLanes)!==0,Ne||p){if(p=te,p!==null&&(s=i&-i,s=(s&42)!==0?1:Mt(s),s=(s&(p.suspendedLanes|i))!==0?0:s,s!==0&&s!==R.retryLane))throw R.retryLane=s,Zr(t,s),Tn(p,t,s),sg;E.data==="$?"||zf(),e=Ef(t,e,i)}else E.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=R.treeContext,fe=Yn(E.nextSibling),an=e,qt=!0,ur=null,fi=!1,t!==null&&(xn[Mn++]=Li,xn[Mn++]=ji,xn[Mn++]=lr,Li=t.id,ji=t.overflow,lr=e),e=vf(e,s.children),e.flags|=4096);return e}return c?(ma(),c=s.fallback,E=e.mode,R=t.child,P=R.sibling,s=Ui(R,{mode:"hidden",children:s.children}),s.subtreeFlags=R.subtreeFlags&65011712,P!==null?c=Ui(P,c):(c=sr(c,E,i,null),c.flags|=2),c.return=e,s.return=e,s.sibling=c,e.child=s,s=c,c=e.child,E=t.child.memoizedState,E===null?E=yf(i):(R=E.cachePool,R!==null?(P=Re._currentValue,R=R.parent!==P?{parent:P,pool:P}:R):R=em(),E={baseLanes:E.baseLanes|i,cachePool:R}),c.memoizedState=E,c.childLanes=_f(t,p,i),e.memoizedState=pf,s):(da(e),i=t.child,t=i.sibling,i=Ui(i,{mode:"visible",children:s.children}),i.return=e,i.sibling=null,t!==null&&(p=e.deletions,p===null?(e.deletions=[t],e.flags|=16):p.push(t)),e.child=i,e.memoizedState=null,i)}function vf(t,e){return e=nu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function nu(t,e){return t=pn(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ef(t,e,i){return os(e,t.child,null,i),t=vf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pg(t,e,i){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),jc(t.return,e,i)}function Tf(t,e,i,s,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:c}:(f.isBackwards=e,f.rendering=null,f.renderingStartTime=0,f.last=s,f.tail=i,f.tailMode=c)}function yg(t,e,i){var s=e.pendingProps,c=s.revealOrder,f=s.tail;if(Pe(t,e,s.children,i),s=we.current,(s&2)!==0)s=s&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pg(t,i,e);else if(t.tag===19)pg(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}switch(J(we,s),c){case"forwards":for(i=e.child,c=null;i!==null;)t=i.alternate,t!==null&&Jo(t)===null&&(c=i),i=i.sibling;i=c,i===null?(c=e.child,e.child=null):(c=i.sibling,i.sibling=null),Tf(e,!1,c,i,f);break;case"backwards":for(i=null,c=e.child,e.child=null;c!==null;){if(t=c.alternate,t!==null&&Jo(t)===null){e.child=c;break}t=c.sibling,c.sibling=i,i=c,c=t}Tf(e,!0,i,null,f);break;case"together":Tf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qi(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),va|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(il(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(l(153));if(e.child!==null){for(t=e.child,i=Ui(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=Ui(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function Af(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Lo(t)))}function Dv(t,e,i){switch(e.tag){case 3:Bt(e,e.stateNode.containerInfo),oa(e,Re,t.memoizedState.cache),el();break;case 27:case 5:Sn(e);break;case 4:Bt(e,e.stateNode.containerInfo);break;case 10:oa(e,e.type,e.memoizedProps.value);break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(da(e),e.flags|=128,null):(i&e.child.childLanes)!==0?gg(t,e,i):(da(e),t=qi(t,e,i),t!==null?t.sibling:null);da(e);break;case 19:var c=(t.flags&128)!==0;if(s=(i&e.childLanes)!==0,s||(il(t,e,i,!1),s=(i&e.childLanes)!==0),c){if(s)return yg(t,e,i);e.flags|=128}if(c=e.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(we,we.current),s)break;return null;case 22:case 23:return e.lanes=0,cg(t,e,i);case 24:oa(e,Re,t.memoizedState.cache)}return qi(t,e,i)}function _g(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ne=!0;else{if(!Af(t,i)&&(e.flags&128)===0)return Ne=!1,Dv(t,e,i);Ne=(t.flags&131072)!==0}else Ne=!1,qt&&(e.flags&1048576)!==0&&Xd(e,Uo,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var s=e.elementType,c=s._init;if(s=c(s._payload),e.type=s,typeof s=="function")Nc(s)?(t=gr(s,t),e.tag=1,e=dg(null,e,s,t,i)):(e.tag=0,e=gf(null,e,s,t,i));else{if(s!=null){if(c=s.$$typeof,c===zt){e.tag=11,e=lg(null,e,s,t,i);break t}else if(c===V){e.tag=14,e=og(null,e,s,t,i);break t}}throw e=ne(s)||s,Error(l(306,e,""))}}return e;case 0:return gf(t,e,e.type,e.pendingProps,i);case 1:return s=e.type,c=gr(s,e.pendingProps),dg(t,e,s,c,i);case 3:t:{if(Bt(e,e.stateNode.containerInfo),t===null)throw Error(l(387));s=e.pendingProps;var f=e.memoizedState;c=f.element,Gc(t,e),cl(e,s,null,i);var p=e.memoizedState;if(s=p.cache,oa(e,Re,s),s!==f.cache&&zc(e,[Re],i,!0),ul(),s=p.element,f.isDehydrated)if(f={element:s,isDehydrated:!1,cache:p.cache},e.updateQueue.baseState=f,e.memoizedState=f,e.flags&256){e=mg(t,e,s,i);break t}else if(s!==c){c=In(Error(l(424)),e),nl(c),e=mg(t,e,s,i);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(fe=Yn(t.firstChild),an=e,qt=!0,ur=null,fi=!0,i=$m(e,null,s,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(el(),s===c){e=qi(t,e,i);break t}Pe(t,e,s,i)}e=e.child}return e;case 26:return eu(t,e),t===null?(i=Ap(e.type,null,e.pendingProps,null))?e.memoizedState=i:qt||(i=e.type,t=e.pendingProps,s=pu(pt.current).createElement(i),s[me]=e,s[ae]=t,ke(s,i,t),ge(s),e.stateNode=s):e.memoizedState=Ap(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Sn(e),t===null&&qt&&(s=e.stateNode=vp(e.type,e.pendingProps,pt.current),an=e,fi=!0,c=fe,Sa(e.type)?(nh=c,fe=Yn(s.firstChild)):fe=c),Pe(t,e,e.pendingProps.children,i),eu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&qt&&((c=s=fe)&&(s=nE(s,e.type,e.pendingProps,fi),s!==null?(e.stateNode=s,an=e,fe=Yn(s.firstChild),fi=!1,c=!0):c=!1),c||cr(e)),Sn(e),c=e.type,f=e.pendingProps,p=t!==null?t.memoizedProps:null,s=f.children,Jf(c,f)?s=null:p!==null&&Jf(c,p)&&(e.flags|=32),e.memoizedState!==null&&(c=$c(t,e,Ev,null,null,i),Ml._currentValue=c),eu(t,e),Pe(t,e,s,i),e.child;case 6:return t===null&&qt&&((t=i=fe)&&(i=iE(i,e.pendingProps,fi),i!==null?(e.stateNode=i,an=e,fe=null,t=!0):t=!1),t||cr(e)),null;case 13:return gg(t,e,i);case 4:return Bt(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=os(e,null,s,i):Pe(t,e,s,i),e.child;case 11:return lg(t,e,e.type,e.pendingProps,i);case 7:return Pe(t,e,e.pendingProps,i),e.child;case 8:return Pe(t,e,e.pendingProps.children,i),e.child;case 12:return Pe(t,e,e.pendingProps.children,i),e.child;case 10:return s=e.pendingProps,oa(e,e.type,s.value),Pe(t,e,s.children,i),e.child;case 9:return c=e.type._context,s=e.pendingProps.children,hr(e),c=Ye(c),s=s(c),e.flags|=1,Pe(t,e,s,i),e.child;case 14:return og(t,e,e.type,e.pendingProps,i);case 15:return ug(t,e,e.type,e.pendingProps,i);case 19:return yg(t,e,i);case 31:return s=e.pendingProps,i=e.mode,s={mode:s.mode,children:s.children},t===null?(i=nu(s,i),i.ref=e.ref,e.child=i,i.return=e,e=i):(i=Ui(t.child,s),i.ref=e.ref,e.child=i,i.return=e,e=i),e;case 22:return cg(t,e,i);case 24:return hr(e),s=Ye(Re),t===null?(c=kc(),c===null&&(c=te,f=Pc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=i),c=f),e.memoizedState={parent:s,cache:c},Hc(e),oa(e,Re,c)):((t.lanes&i)!==0&&(Gc(t,e),cl(e,null,null,i),ul()),c=t.memoizedState,f=e.memoizedState,c.parent!==s?(c={parent:s,cache:s},e.memoizedState=c,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=c),oa(e,Re,s)):(s=f.cache,oa(e,Re,s),s!==c.cache&&zc(e,[Re],i,!0))),Pe(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(l(156,e.tag))}function Hi(t){t.flags|=4}function vg(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Cp(e)){if(e=On.current,e!==null&&((Ut&4194048)===Ut?hi!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||e!==hi))throw ll=qc,nm;t.flags|=8192}}function iu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?qa():536870912,t.lanes|=e,hs|=e)}function yl(t,e){if(!qt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function oe(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,s=0;if(e)for(var c=t.child;c!==null;)i|=c.lanes|c.childLanes,s|=c.subtreeFlags&65011712,s|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)i|=c.lanes|c.childLanes,s|=c.subtreeFlags,s|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=s,t.childLanes=i,e}function Iv(t,e,i){var s=e.pendingProps;switch(Vc(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(e),null;case 1:return oe(e),null;case 3:return i=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),Pi(Re),Ln(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(tl(e)?Hi(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Zd())),oe(e),null;case 26:return i=e.memoizedState,t===null?(Hi(e),i!==null?(oe(e),vg(e,i)):(oe(e),e.flags&=-16777217)):i?i!==t.memoizedState?(Hi(e),oe(e),vg(e,i)):(oe(e),e.flags&=-16777217):(t.memoizedProps!==s&&Hi(e),oe(e),e.flags&=-16777217),null;case 27:fn(e),i=pt.current;var c=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Hi(e);else{if(!s){if(e.stateNode===null)throw Error(l(166));return oe(e),null}t=ot.current,tl(e)?Kd(e):(t=vp(c,s,i),e.stateNode=t,Hi(e))}return oe(e),null;case 5:if(fn(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Hi(e);else{if(!s){if(e.stateNode===null)throw Error(l(166));return oe(e),null}if(t=ot.current,tl(e))Kd(e);else{switch(c=pu(pt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof s.is=="string"?c.createElement("select",{is:s.is}):c.createElement("select"),s.multiple?t.multiple=!0:s.size&&(t.size=s.size);break;default:t=typeof s.is=="string"?c.createElement(i,{is:s.is}):c.createElement(i)}}t[me]=e,t[ae]=s;t:for(c=e.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break t;for(;c.sibling===null;){if(c.return===null||c.return===e)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}e.stateNode=t;t:switch(ke(t,i,s),i){case"button":case"input":case"select":case"textarea":t=!!s.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Hi(e)}}return oe(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&Hi(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(l(166));if(t=pt.current,tl(e)){if(t=e.stateNode,i=e.memoizedProps,s=null,c=an,c!==null)switch(c.tag){case 27:case 5:s=c.memoizedProps}t[me]=e,t=!!(t.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||hp(t.nodeValue,i)),t||cr(e)}else t=pu(t).createTextNode(s),t[me]=e,e.stateNode=t}return oe(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=tl(e),s!==null&&s.dehydrated!==null){if(t===null){if(!c)throw Error(l(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[me]=e}else el(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;oe(e),c=!1}else c=Zd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return e.flags&256?(ki(e),e):(ki(e),null)}if(ki(e),(e.flags&128)!==0)return e.lanes=i,e;if(i=s!==null,t=t!==null&&t.memoizedState!==null,i){s=e.child,c=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(c=s.alternate.memoizedState.cachePool.pool);var f=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==c&&(s.flags|=2048)}return i!==t&&i&&(e.child.flags|=8192),iu(e,e.updateQueue),oe(e),null;case 4:return Ln(),t===null&&Yf(e.stateNode.containerInfo),oe(e),null;case 10:return Pi(e.type),oe(e),null;case 19:if(tt(we),c=e.memoizedState,c===null)return oe(e),null;if(s=(e.flags&128)!==0,f=c.rendering,f===null)if(s)yl(c,!1);else{if(he!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(f=Jo(t),f!==null){for(e.flags|=128,yl(c,!1),t=f.updateQueue,e.updateQueue=t,iu(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)Yd(i,t),i=i.sibling;return J(we,we.current&1|2),e.child}t=t.sibling}c.tail!==null&&Fe()>su&&(e.flags|=128,s=!0,yl(c,!1),e.lanes=4194304)}else{if(!s)if(t=Jo(f),t!==null){if(e.flags|=128,s=!0,t=t.updateQueue,e.updateQueue=t,iu(e,t),yl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!qt)return oe(e),null}else 2*Fe()-c.renderingStartTime>su&&i!==536870912&&(e.flags|=128,s=!0,yl(c,!1),e.lanes=4194304);c.isBackwards?(f.sibling=e.child,e.child=f):(t=c.last,t!==null?t.sibling=f:e.child=f,c.last=f)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Fe(),e.sibling=null,t=we.current,J(we,s?t&1|2:t&1),e):(oe(e),null);case 22:case 23:return ki(e),Xc(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?(i&536870912)!==0&&(e.flags&128)===0&&(oe(e),e.subtreeFlags&6&&(e.flags|=8192)):oe(e),i=e.updateQueue,i!==null&&iu(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==i&&(e.flags|=2048),t!==null&&tt(dr),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Pi(Re),oe(e),null;case 25:return null;case 30:return null}throw Error(l(156,e.tag))}function Nv(t,e){switch(Vc(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pi(Re),Ln(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return fn(e),null;case 13:if(ki(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(l(340));el()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return tt(we),null;case 4:return Ln(),null;case 10:return Pi(e.type),null;case 22:case 23:return ki(e),Xc(),t!==null&&tt(dr),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Pi(Re),null;case 25:return null;default:return null}}function Eg(t,e){switch(Vc(e),e.tag){case 3:Pi(Re),Ln();break;case 26:case 27:case 5:fn(e);break;case 4:Ln();break;case 13:ki(e);break;case 19:tt(we);break;case 10:Pi(e.type);break;case 22:case 23:ki(e),Xc(),t!==null&&tt(dr);break;case 24:Pi(Re)}}function _l(t,e){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var c=s.next;i=c;do{if((i.tag&t)===t){s=void 0;var f=i.create,p=i.inst;s=f(),p.destroy=s}i=i.next}while(i!==c)}}catch(E){Zt(e,e.return,E)}}function ga(t,e,i){try{var s=e.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var f=c.next;s=f;do{if((s.tag&t)===t){var p=s.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,c=e;var R=i,P=E;try{P()}catch(Q){Zt(c,R,Q)}}}s=s.next}while(s!==f)}}catch(Q){Zt(e,e.return,Q)}}function Tg(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{om(e,i)}catch(s){Zt(t,t.return,s)}}}function Ag(t,e,i){i.props=gr(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(s){Zt(t,e,s)}}function vl(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof i=="function"?t.refCleanup=i(s):i.current=s}}catch(c){Zt(t,e,c)}}function di(t,e){var i=t.ref,s=t.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(c){Zt(t,e,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){Zt(t,e,c)}else i.current=null}function Sg(t){var e=t.type,i=t.memoizedProps,s=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break t;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(c){Zt(t,t.return,c)}}function Sf(t,e,i){try{var s=t.stateNode;Zv(s,t.type,i,e),s[ae]=e}catch(c){Zt(t,t.return,c)}}function bg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Sa(t.type)||t.tag===4}function bf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||bg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Sa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rf(t,e,i){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=gu));else if(s!==4&&(s===27&&Sa(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(Rf(t,e,i),t=t.sibling;t!==null;)Rf(t,e,i),t=t.sibling}function au(t,e,i){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(s!==4&&(s===27&&Sa(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(au(t,e,i),t=t.sibling;t!==null;)au(t,e,i),t=t.sibling}function Rg(t){var e=t.stateNode,i=t.memoizedProps;try{for(var s=t.type,c=e.attributes;c.length;)e.removeAttributeNode(c[0]);ke(e,s,i),e[me]=t,e[ae]=i}catch(f){Zt(t,t.return,f)}}var Gi=!1,ye=!1,wf=!1,wg=typeof WeakSet=="function"?WeakSet:Set,xe=null;function xv(t,e){if(t=t.containerInfo,$f=Au,t=jd(t),Sc(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var c=s.anchorOffset,f=s.focusNode;s=s.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break t}var p=0,E=-1,R=-1,P=0,Q=0,Y=t,B=null;e:for(;;){for(var k;Y!==i||c!==0&&Y.nodeType!==3||(E=p+c),Y!==f||s!==0&&Y.nodeType!==3||(R=p+s),Y.nodeType===3&&(p+=Y.nodeValue.length),(k=Y.firstChild)!==null;)B=Y,Y=k;for(;;){if(Y===t)break e;if(B===i&&++P===c&&(E=p),B===f&&++Q===s&&(R=p),(k=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=k}i=E===-1||R===-1?null:{start:E,end:R}}else i=null}i=i||{start:0,end:0}}else i=null;for(Zf={focusedElem:t,selectionRange:i},Au=!1,xe=e;xe!==null;)if(e=xe,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,xe=t;else for(;xe!==null;){switch(e=xe,f=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,i=e,c=f.memoizedProps,f=f.memoizedState,s=i.stateNode;try{var yt=gr(i.type,c,i.elementType===i.type);t=s.getSnapshotBeforeUpdate(yt,f),s.__reactInternalSnapshotBeforeUpdate=t}catch(mt){Zt(i,i.return,mt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)th(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":th(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=e.sibling,t!==null){t.return=e.return,xe=t;break}xe=e.return}}function Cg(t,e,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:pa(t,i),s&4&&_l(5,i);break;case 1:if(pa(t,i),s&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(p){Zt(i,i.return,p)}else{var c=gr(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(c,e,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Zt(i,i.return,p)}}s&64&&Tg(i),s&512&&vl(i,i.return);break;case 3:if(pa(t,i),s&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{om(t,e)}catch(p){Zt(i,i.return,p)}}break;case 27:e===null&&s&4&&Rg(i);case 26:case 5:pa(t,i),e===null&&s&4&&Sg(i),s&512&&vl(i,i.return);break;case 12:pa(t,i);break;case 13:pa(t,i),s&4&&Ng(t,i),s&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=Bv.bind(null,i),aE(t,i))));break;case 22:if(s=i.memoizedState!==null||Gi,!s){e=e!==null&&e.memoizedState!==null||ye,c=Gi;var f=ye;Gi=s,(ye=e)&&!f?ya(t,i,(i.subtreeFlags&8772)!==0):pa(t,i),Gi=c,ye=f}break;case 30:break;default:pa(t,i)}}function Dg(t){var e=t.alternate;e!==null&&(t.alternate=null,Dg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&aa(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var re=null,sn=!1;function Qi(t,e,i){for(i=i.child;i!==null;)Ig(t,e,i),i=i.sibling}function Ig(t,e,i){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(ie,i)}catch{}switch(i.tag){case 26:ye||di(i,e),Qi(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ye||di(i,e);var s=re,c=sn;Sa(i.type)&&(re=i.stateNode,sn=!1),Qi(t,e,i),Dl(i.stateNode),re=s,sn=c;break;case 5:ye||di(i,e);case 6:if(s=re,c=sn,re=null,Qi(t,e,i),re=s,sn=c,re!==null)if(sn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(i.stateNode)}catch(f){Zt(i,e,f)}else try{re.removeChild(i.stateNode)}catch(f){Zt(i,e,f)}break;case 18:re!==null&&(sn?(t=re,yp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Ll(t)):yp(re,i.stateNode));break;case 4:s=re,c=sn,re=i.stateNode.containerInfo,sn=!0,Qi(t,e,i),re=s,sn=c;break;case 0:case 11:case 14:case 15:ye||ga(2,i,e),ye||ga(4,i,e),Qi(t,e,i);break;case 1:ye||(di(i,e),s=i.stateNode,typeof s.componentWillUnmount=="function"&&Ag(i,e,s)),Qi(t,e,i);break;case 21:Qi(t,e,i);break;case 22:ye=(s=ye)||i.memoizedState!==null,Qi(t,e,i),ye=s;break;default:Qi(t,e,i)}}function Ng(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ll(t)}catch(i){Zt(e,e.return,i)}}function Mv(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new wg),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new wg),e;default:throw Error(l(435,t.tag))}}function Cf(t,e){var i=Mv(t);e.forEach(function(s){var c=kv.bind(null,t,s);i.has(s)||(i.add(s),s.then(c,c))})}function yn(t,e){var i=e.deletions;if(i!==null)for(var s=0;s<i.length;s++){var c=i[s],f=t,p=e,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Sa(E.type)){re=E.stateNode,sn=!1;break t}break;case 5:re=E.stateNode,sn=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,sn=!0;break t}E=E.return}if(re===null)throw Error(l(160));Ig(f,p,c),re=null,sn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)xg(e,t),e=e.sibling}var Fn=null;function xg(t,e){var i=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(e,t),_n(t),s&4&&(ga(3,t,t.return),_l(3,t),ga(5,t,t.return));break;case 1:yn(e,t),_n(t),s&512&&(ye||i===null||di(i,i.return)),s&64&&Gi&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var c=Fn;if(yn(e,t),_n(t),s&512&&(ye||i===null||di(i,i.return)),s&4){var f=i!==null?i.memoizedState:null;if(s=t.memoizedState,i===null)if(s===null)if(t.stateNode===null){t:{s=t.type,i=t.memoizedProps,c=c.ownerDocument||c;e:switch(s){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Ga]||f[me]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(s),c.head.insertBefore(f,c.querySelector("head > title"))),ke(f,s,i),f[me]=t,ge(f),s=f;break t;case"link":var p=Rp("link","href",c).get(s+(i.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){p.splice(E,1);break e}}f=c.createElement(s),ke(f,s,i),c.head.appendChild(f);break;case"meta":if(p=Rp("meta","content",c).get(s+(i.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){p.splice(E,1);break e}}f=c.createElement(s),ke(f,s,i),c.head.appendChild(f);break;default:throw Error(l(468,s))}f[me]=t,ge(f),s=f}t.stateNode=s}else wp(c,t.type,t.stateNode);else t.stateNode=bp(c,s,t.memoizedProps);else f!==s?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,s===null?wp(c,t.type,t.stateNode):bp(c,s,t.memoizedProps)):s===null&&t.stateNode!==null&&Sf(t,t.memoizedProps,i.memoizedProps)}break;case 27:yn(e,t),_n(t),s&512&&(ye||i===null||di(i,i.return)),i!==null&&s&4&&Sf(t,t.memoizedProps,i.memoizedProps);break;case 5:if(yn(e,t),_n(t),s&512&&(ye||i===null||di(i,i.return)),t.flags&32){c=t.stateNode;try{Rn(c,"")}catch(k){Zt(t,t.return,k)}}s&4&&t.stateNode!=null&&(c=t.memoizedProps,Sf(t,c,i!==null?i.memoizedProps:c)),s&1024&&(wf=!0);break;case 6:if(yn(e,t),_n(t),s&4){if(t.stateNode===null)throw Error(l(162));s=t.memoizedProps,i=t.stateNode;try{i.nodeValue=s}catch(k){Zt(t,t.return,k)}}break;case 3:if(vu=null,c=Fn,Fn=yu(e.containerInfo),yn(e,t),Fn=c,_n(t),s&4&&i!==null&&i.memoizedState.isDehydrated)try{Ll(e.containerInfo)}catch(k){Zt(t,t.return,k)}wf&&(wf=!1,Mg(t));break;case 4:s=Fn,Fn=yu(t.stateNode.containerInfo),yn(e,t),_n(t),Fn=s;break;case 12:yn(e,t),_n(t);break;case 13:yn(e,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Of=Fe()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Cf(t,s)));break;case 22:c=t.memoizedState!==null;var R=i!==null&&i.memoizedState!==null,P=Gi,Q=ye;if(Gi=P||c,ye=Q||R,yn(e,t),ye=Q,Gi=P,_n(t),s&8192)t:for(e=t.stateNode,e._visibility=c?e._visibility&-2:e._visibility|1,c&&(i===null||R||Gi||ye||pr(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){R=i=e;try{if(f=R.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(k){Zt(R,R.return,k)}}}else if(e.tag===6){if(i===null){R=e;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(k){Zt(R,R.return,k)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,Cf(t,i))));break;case 19:yn(e,t),_n(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Cf(t,s)));break;case 30:break;case 21:break;default:yn(e,t),_n(t)}}function _n(t){var e=t.flags;if(e&2){try{for(var i,s=t.return;s!==null;){if(bg(s)){i=s;break}s=s.return}if(i==null)throw Error(l(160));switch(i.tag){case 27:var c=i.stateNode,f=bf(t);au(t,f,c);break;case 5:var p=i.stateNode;i.flags&32&&(Rn(p,""),i.flags&=-33);var E=bf(t);au(t,E,p);break;case 3:case 4:var R=i.stateNode.containerInfo,P=bf(t);Rf(t,P,R);break;default:throw Error(l(161))}}catch(Q){Zt(t,t.return,Q)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Mg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Mg(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function pa(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Cg(t,e.alternate,e),e=e.sibling}function pr(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ga(4,e,e.return),pr(e);break;case 1:di(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&Ag(e,e.return,i),pr(e);break;case 27:Dl(e.stateNode);case 26:case 5:di(e,e.return),pr(e);break;case 22:e.memoizedState===null&&pr(e);break;case 30:pr(e);break;default:pr(e)}t=t.sibling}}function ya(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,c=t,f=e,p=f.flags;switch(f.tag){case 0:case 11:case 15:ya(c,f,i),_l(4,f);break;case 1:if(ya(c,f,i),s=f,c=s.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Zt(s,s.return,P)}if(s=f,c=s.updateQueue,c!==null){var E=s.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)lm(R[c],E)}catch(P){Zt(s,s.return,P)}}i&&p&64&&Tg(f),vl(f,f.return);break;case 27:Rg(f);case 26:case 5:ya(c,f,i),i&&s===null&&p&4&&Sg(f),vl(f,f.return);break;case 12:ya(c,f,i);break;case 13:ya(c,f,i),i&&p&4&&Ng(c,f);break;case 22:f.memoizedState===null&&ya(c,f,i),vl(f,f.return);break;case 30:break;default:ya(c,f,i)}e=e.sibling}}function Df(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&al(i))}function If(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&al(t))}function mi(t,e,i,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Og(t,e,i,s),e=e.sibling}function Og(t,e,i,s){var c=e.flags;switch(e.tag){case 0:case 11:case 15:mi(t,e,i,s),c&2048&&_l(9,e);break;case 1:mi(t,e,i,s);break;case 3:mi(t,e,i,s),c&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&al(t)));break;case 12:if(c&2048){mi(t,e,i,s),t=e.stateNode;try{var f=e.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Zt(e,e.return,R)}}else mi(t,e,i,s);break;case 13:mi(t,e,i,s);break;case 23:break;case 22:f=e.stateNode,p=e.alternate,e.memoizedState!==null?f._visibility&2?mi(t,e,i,s):El(t,e):f._visibility&2?mi(t,e,i,s):(f._visibility|=2,us(t,e,i,s,(e.subtreeFlags&10256)!==0)),c&2048&&Df(p,e);break;case 24:mi(t,e,i,s),c&2048&&If(e.alternate,e);break;default:mi(t,e,i,s)}}function us(t,e,i,s,c){for(c=c&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var f=t,p=e,E=i,R=s,P=p.flags;switch(p.tag){case 0:case 11:case 15:us(f,p,E,R,c),_l(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?us(f,p,E,R,c):El(f,p):(Q._visibility|=2,us(f,p,E,R,c)),c&&P&2048&&Df(p.alternate,p);break;case 24:us(f,p,E,R,c),c&&P&2048&&If(p.alternate,p);break;default:us(f,p,E,R,c)}e=e.sibling}}function El(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,s=e,c=s.flags;switch(s.tag){case 22:El(i,s),c&2048&&Df(s.alternate,s);break;case 24:El(i,s),c&2048&&If(s.alternate,s);break;default:El(i,s)}e=e.sibling}}var Tl=8192;function cs(t){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)Vg(t),t=t.sibling}function Vg(t){switch(t.tag){case 26:cs(t),t.flags&Tl&&t.memoizedState!==null&&yE(Fn,t.memoizedState,t.memoizedProps);break;case 5:cs(t);break;case 3:case 4:var e=Fn;Fn=yu(t.stateNode.containerInfo),cs(t),Fn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Tl,Tl=16777216,cs(t),Tl=e):cs(t));break;default:cs(t)}}function Ug(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Al(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var s=e[i];xe=s,jg(s,t)}Ug(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Lg(t),t=t.sibling}function Lg(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&ga(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,ru(t)):Al(t);break;default:Al(t)}}function ru(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var s=e[i];xe=s,jg(s,t)}Ug(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ga(8,e,e.return),ru(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,ru(e));break;default:ru(e)}t=t.sibling}}function jg(t,e){for(;xe!==null;){var i=xe;switch(i.tag){case 0:case 11:case 15:ga(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:al(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,xe=s;else t:for(i=t;xe!==null;){s=xe;var c=s.sibling,f=s.return;if(Dg(s),s===i){xe=null;break t}if(c!==null){c.return=f,xe=c;break t}xe=f}}}var Ov={getCacheForType:function(t){var e=Ye(Re),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i}},Vv=typeof WeakMap=="function"?WeakMap:Map,Qt=0,te=null,Dt=null,Ut=0,Ft=0,vn=null,_a=!1,fs=!1,Nf=!1,Fi=0,he=0,va=0,yr=0,xf=0,Vn=0,hs=0,Sl=null,ln=null,Mf=!1,Of=0,su=1/0,lu=null,Ea=null,Be=0,Ta=null,ds=null,ms=0,Vf=0,Uf=null,zg=null,bl=0,Lf=null;function En(){if((Qt&2)!==0&&Ut!==0)return Ut&-Ut;if(H.T!==null){var t=es;return t!==0?t:Hf()}return Le()}function Pg(){Vn===0&&(Vn=(Ut&536870912)===0||qt?ka():536870912);var t=On.current;return t!==null&&(t.flags|=32),Vn}function Tn(t,e,i){(t===te&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(gs(t,0),Aa(t,Ut,Vn,!1)),kn(t,i),((Qt&2)===0||t!==te)&&(t===te&&((Qt&2)===0&&(yr|=i),he===4&&Aa(t,Ut,Vn,!1)),gi(t))}function Bg(t,e,i){if((Qt&6)!==0)throw Error(l(327));var s=!i&&(e&124)===0&&(e&t.expiredLanes)===0||bi(t,e),c=s?jv(t,e):Pf(t,e,!0),f=s;do{if(c===0){fs&&!s&&Aa(t,e,0,!1);break}else{if(i=t.current.alternate,f&&!Uv(i)){c=Pf(t,e,!1),f=!1;continue}if(c===2){if(f=e,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){e=p;t:{var E=t;c=Sl;var R=E.current.memoizedState.isDehydrated;if(R&&(gs(E,p).flags|=256),p=Pf(E,p,!1),p!==2){if(Nf&&!R){E.errorRecoveryDisabledLanes|=f,yr|=f,c=4;break t}f=ln,ln=c,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){gs(t,0),Aa(t,e,0,!0);break}t:{switch(s=t,f=c,f){case 0:case 1:throw Error(l(345));case 4:if((e&4194048)!==e)break;case 6:Aa(s,e,Vn,!_a);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(l(329))}if((e&62914560)===e&&(c=Of+300-Fe(),10<c)){if(Aa(s,e,Vn,!_a),ea(s,0,!0)!==0)break t;s.timeoutHandle=gp(kg.bind(null,s,i,ln,lu,Mf,e,Vn,yr,hs,_a,f,2,-0,0),c);break t}kg(s,i,ln,lu,Mf,e,Vn,yr,hs,_a,f,0,-0,0)}}break}while(!0);gi(t)}function kg(t,e,i,s,c,f,p,E,R,P,Q,Y,B,k){if(t.timeoutHandle=-1,Y=e.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(xl={stylesheets:null,count:0,unsuspend:pE},Vg(e),Y=_E(),Y!==null)){t.cancelPendingCommit=Y(Xg.bind(null,t,e,f,i,s,c,p,E,R,Q,1,B,k)),Aa(t,f,p,!P);return}Xg(t,e,f,i,s,c,p,E,R)}function Uv(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var c=i[s],f=c.getSnapshot;c=c.value;try{if(!gn(f(),c))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Aa(t,e,i,s){e&=~xf,e&=~yr,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var c=e;0<c;){var f=31-Ce(c),p=1<<f;s[f]=-1,c&=~p}i!==0&&qn(t,i,e)}function ou(){return(Qt&6)===0?(Rl(0),!1):!0}function jf(){if(Dt!==null){if(Ft===0)var t=Dt.return;else t=Dt,zi=fr=null,Wc(t),ls=null,gl=0,t=Dt;for(;t!==null;)Eg(t.alternate,t),t=t.return;Dt=null}}function gs(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,Wv(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),jf(),te=t,Dt=i=Ui(t.current,null),Ut=e,Ft=0,vn=null,_a=!1,fs=bi(t,e),Nf=!1,hs=Vn=xf=yr=va=he=0,ln=Sl=null,Mf=!1,(e&8)!==0&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var c=31-Ce(s),f=1<<c;e|=t[c],s&=~f}return Fi=e,No(),i}function qg(t,e){bt=null,H.H=Ko,e===sl||e===Po?(e=rm(),Ft=3):e===nm?(e=rm(),Ft=4):Ft=e===sg?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,vn=e,Dt===null&&(he=1,tu(t,In(e,t.current)))}function Hg(){var t=H.H;return H.H=Ko,t===null?Ko:t}function Gg(){var t=H.A;return H.A=Ov,t}function zf(){he=4,_a||(Ut&4194048)!==Ut&&On.current!==null||(fs=!0),(va&134217727)===0&&(yr&134217727)===0||te===null||Aa(te,Ut,Vn,!1)}function Pf(t,e,i){var s=Qt;Qt|=2;var c=Hg(),f=Gg();(te!==t||Ut!==e)&&(lu=null,gs(t,e)),e=!1;var p=he;t:do try{if(Ft!==0&&Dt!==null){var E=Dt,R=vn;switch(Ft){case 8:jf(),p=6;break t;case 3:case 2:case 9:case 6:On.current===null&&(e=!0);var P=Ft;if(Ft=0,vn=null,ps(t,E,R,P),i&&fs){p=0;break t}break;default:P=Ft,Ft=0,vn=null,ps(t,E,R,P)}}Lv(),p=he;break}catch(Q){qg(t,Q)}while(!0);return e&&t.shellSuspendCounter++,zi=fr=null,Qt=s,H.H=c,H.A=f,Dt===null&&(te=null,Ut=0,No()),p}function Lv(){for(;Dt!==null;)Qg(Dt)}function jv(t,e){var i=Qt;Qt|=2;var s=Hg(),c=Gg();te!==t||Ut!==e?(lu=null,su=Fe()+500,gs(t,e)):fs=bi(t,e);t:do try{if(Ft!==0&&Dt!==null){e=Dt;var f=vn;e:switch(Ft){case 1:Ft=0,vn=null,ps(t,e,f,1);break;case 2:case 9:if(im(f)){Ft=0,vn=null,Fg(e);break}e=function(){Ft!==2&&Ft!==9||te!==t||(Ft=7),gi(t)},f.then(e,e);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:im(f)?(Ft=0,vn=null,Fg(e)):(Ft=0,vn=null,ps(t,e,f,7));break;case 5:var p=null;switch(Dt.tag){case 26:p=Dt.memoizedState;case 5:case 27:var E=Dt;if(!p||Cp(p)){Ft=0,vn=null;var R=E.sibling;if(R!==null)Dt=R;else{var P=E.return;P!==null?(Dt=P,uu(P)):Dt=null}break e}}Ft=0,vn=null,ps(t,e,f,5);break;case 6:Ft=0,vn=null,ps(t,e,f,6);break;case 8:jf(),he=6;break t;default:throw Error(l(462))}}zv();break}catch(Q){qg(t,Q)}while(!0);return zi=fr=null,H.H=s,H.A=c,Qt=i,Dt!==null?0:(te=null,Ut=0,No(),he)}function zv(){for(;Dt!==null&&!Ti();)Qg(Dt)}function Qg(t){var e=_g(t.alternate,t,Fi);t.memoizedProps=t.pendingProps,e===null?uu(t):Dt=e}function Fg(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=hg(i,e,e.pendingProps,e.type,void 0,Ut);break;case 11:e=hg(i,e,e.pendingProps,e.type.render,e.ref,Ut);break;case 5:Wc(e);default:Eg(i,e),e=Dt=Yd(e,Fi),e=_g(i,e,Fi)}t.memoizedProps=t.pendingProps,e===null?uu(t):Dt=e}function ps(t,e,i,s){zi=fr=null,Wc(e),ls=null,gl=0;var c=e.return;try{if(Cv(t,c,e,i,Ut)){he=1,tu(t,In(i,t.current)),Dt=null;return}}catch(f){if(c!==null)throw Dt=c,f;he=1,tu(t,In(i,t.current)),Dt=null;return}e.flags&32768?(qt||s===1?t=!0:fs||(Ut&536870912)!==0?t=!1:(_a=t=!0,(s===2||s===9||s===3||s===6)&&(s=On.current,s!==null&&s.tag===13&&(s.flags|=16384))),Yg(e,t)):uu(e)}function uu(t){var e=t;do{if((e.flags&32768)!==0){Yg(e,_a);return}t=e.return;var i=Iv(e.alternate,e,Fi);if(i!==null){Dt=i;return}if(e=e.sibling,e!==null){Dt=e;return}Dt=e=t}while(e!==null);he===0&&(he=5)}function Yg(t,e){do{var i=Nv(t.alternate,t);if(i!==null){i.flags&=32767,Dt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=i}while(t!==null);he=6,Dt=null}function Xg(t,e,i,s,c,f,p,E,R){t.cancelPendingCommit=null;do cu();while(Be!==0);if((Qt&6)!==0)throw Error(l(327));if(e!==null){if(e===t.current)throw Error(l(177));if(f=e.lanes|e.childLanes,f|=Dc,Ha(t,i,f,p,E,R),t===te&&(Dt=te=null,Ut=0),ds=e,Ta=t,ms=i,Vf=f,Uf=c,zg=s,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qv(hn,function(){return Wg(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||s){s=H.T,H.T=null,c=W.p,W.p=2,p=Qt,Qt|=4;try{xv(t,e,i)}finally{Qt=p,W.p=c,H.T=s}}Be=1,Kg(),$g(),Zg()}}function Kg(){if(Be===1){Be=0;var t=Ta,e=ds,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=H.T,H.T=null;var s=W.p;W.p=2;var c=Qt;Qt|=4;try{xg(e,t);var f=Zf,p=jd(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Ld(E.ownerDocument.documentElement,E)){if(R!==null&&Sc(E)){var P=R.start,Q=R.end;if(Q===void 0&&(Q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(Q,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var k=B.getSelection(),yt=E.textContent.length,mt=Math.min(R.start,yt),$t=R.end===void 0?mt:Math.min(R.end,yt);!k.extend&&mt>$t&&(p=$t,$t=mt,mt=p);var U=Ud(E,mt),D=Ud(E,$t);if(U&&D&&(k.rangeCount!==1||k.anchorNode!==U.node||k.anchorOffset!==U.offset||k.focusNode!==D.node||k.focusOffset!==D.offset)){var z=Y.createRange();z.setStart(U.node,U.offset),k.removeAllRanges(),mt>$t?(k.addRange(z),k.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),k.addRange(z))}}}}for(Y=[],k=E;k=k.parentNode;)k.nodeType===1&&Y.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var F=Y[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Au=!!$f,Zf=$f=null}finally{Qt=c,W.p=s,H.T=i}}t.current=e,Be=2}}function $g(){if(Be===2){Be=0;var t=Ta,e=ds,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=H.T,H.T=null;var s=W.p;W.p=2;var c=Qt;Qt|=4;try{Cg(t,e.alternate,e)}finally{Qt=c,W.p=s,H.T=i}}Be=3}}function Zg(){if(Be===4||Be===3){Be=0,Pa();var t=Ta,e=ds,i=ms,s=zg;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Be=5:(Be=0,ds=Ta=null,Jg(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Ea=null),Jt(i),e=e.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(ie,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=H.T,c=W.p,W.p=2,H.T=null;try{for(var f=t.onRecoverableError,p=0;p<s.length;p++){var E=s[p];f(E.value,{componentStack:E.stack})}}finally{H.T=e,W.p=c}}(ms&3)!==0&&cu(),gi(t),c=t.pendingLanes,(i&4194090)!==0&&(c&42)!==0?t===Lf?bl++:(bl=0,Lf=t):bl=0,Rl(0)}}function Jg(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,al(e)))}function cu(t){return Kg(),$g(),Zg(),Wg()}function Wg(){if(Be!==5)return!1;var t=Ta,e=Vf;Vf=0;var i=Jt(ms),s=H.T,c=W.p;try{W.p=32>i?32:i,H.T=null,i=Uf,Uf=null;var f=Ta,p=ms;if(Be=0,ds=Ta=null,ms=0,(Qt&6)!==0)throw Error(l(331));var E=Qt;if(Qt|=4,Lg(f.current),Og(f,f.current,p,i),Qt=E,Rl(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(ie,f)}catch{}return!0}finally{W.p=c,H.T=s,Jg(t,e)}}function tp(t,e,i){e=In(i,e),e=mf(t.stateNode,e,2),t=fa(t,e,2),t!==null&&(kn(t,2),gi(t))}function Zt(t,e,i){if(t.tag===3)tp(t,t,i);else for(;e!==null;){if(e.tag===3){tp(e,t,i);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ea===null||!Ea.has(s))){t=In(i,t),i=ag(2),s=fa(e,i,2),s!==null&&(rg(i,s,e,t),kn(s,2),gi(s));break}}e=e.return}}function Bf(t,e,i){var s=t.pingCache;if(s===null){s=t.pingCache=new Vv;var c=new Set;s.set(e,c)}else c=s.get(e),c===void 0&&(c=new Set,s.set(e,c));c.has(i)||(Nf=!0,c.add(i),t=Pv.bind(null,t,e,i),e.then(t,t))}function Pv(t,e,i){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,te===t&&(Ut&i)===i&&(he===4||he===3&&(Ut&62914560)===Ut&&300>Fe()-Of?(Qt&2)===0&&gs(t,0):xf|=i,hs===Ut&&(hs=0)),gi(t)}function ep(t,e){e===0&&(e=qa()),t=Zr(t,e),t!==null&&(kn(t,e),gi(t))}function Bv(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),ep(t,i)}function kv(t,e){var i=0;switch(t.tag){case 13:var s=t.stateNode,c=t.memoizedState;c!==null&&(i=c.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(e),ep(t,i)}function qv(t,e){return jn(t,e)}var fu=null,ys=null,kf=!1,hu=!1,qf=!1,_r=0;function gi(t){t!==ys&&t.next===null&&(ys===null?fu=ys=t:ys=ys.next=t),hu=!0,kf||(kf=!0,Gv())}function Rl(t,e){if(!qf&&hu){qf=!0;do for(var i=!1,s=fu;s!==null;){if(t!==0){var c=s.pendingLanes;if(c===0)var f=0;else{var p=s.suspendedLanes,E=s.pingedLanes;f=(1<<31-Ce(42|t)+1)-1,f&=c&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,rp(s,f))}else f=Ut,f=ea(s,s===te?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(f&3)===0||bi(s,f)||(i=!0,rp(s,f));s=s.next}while(i);qf=!1}}function Hv(){np()}function np(){hu=kf=!1;var t=0;_r!==0&&(Jv()&&(t=_r),_r=0);for(var e=Fe(),i=null,s=fu;s!==null;){var c=s.next,f=ip(s,e);f===0?(s.next=null,i===null?fu=c:i.next=c,c===null&&(ys=i)):(i=s,(t!==0||(f&3)!==0)&&(hu=!0)),s=c}Rl(t)}function ip(t,e){for(var i=t.suspendedLanes,s=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Ce(f),E=1<<p,R=c[p];R===-1?((E&i)===0||(E&s)!==0)&&(c[p]=na(E,e)):R<=e&&(t.expiredLanes|=E),f&=~E}if(e=te,i=Ut,i=ea(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,i===0||t===e&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&Jn(s),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||bi(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(s!==null&&Jn(s),Jt(i)){case 2:case 8:i=Wi;break;case 32:i=hn;break;case 268435456:i=Wn;break;default:i=hn}return s=ap.bind(null,t),i=jn(i,s),t.callbackPriority=e,t.callbackNode=i,e}return s!==null&&s!==null&&Jn(s),t.callbackPriority=2,t.callbackNode=null,2}function ap(t,e){if(Be!==0&&Be!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(cu()&&t.callbackNode!==i)return null;var s=Ut;return s=ea(t,t===te?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(Bg(t,s,e),ip(t,Fe()),t.callbackNode!=null&&t.callbackNode===i?ap.bind(null,t):null)}function rp(t,e){if(cu())return null;Bg(t,e,!0)}function Gv(){tE(function(){(Qt&6)!==0?jn(Ai,Hv):np()})}function Hf(){return _r===0&&(_r=ka()),_r}function sp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Pr(""+t)}function lp(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function Qv(t,e,i,s,c){if(e==="submit"&&i&&i.stateNode===c){var f=sp((c[ae]||null).action),p=s.submitter;p&&(e=(e=p[ae]||null)?sp(e.formAction):p.getAttribute("formAction"),e!==null&&(f=e,p=null));var E=new Br("action","action",null,s,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(_r!==0){var R=p?lp(c,p):new FormData(c);uf(i,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?lp(c,p):new FormData(c),uf(i,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var Gf=0;Gf<Cc.length;Gf++){var Qf=Cc[Gf],Fv=Qf.toLowerCase(),Yv=Qf[0].toUpperCase()+Qf.slice(1);Qn(Fv,"on"+Yv)}Qn(Bd,"onAnimationEnd"),Qn(kd,"onAnimationIteration"),Qn(qd,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(cv,"onTransitionRun"),Qn(fv,"onTransitionStart"),Qn(hv,"onTransitionCancel"),Qn(Hd,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function op(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var s=t[i],c=s.event;s=s.listeners;t:{var f=void 0;if(e)for(var p=s.length-1;0<=p;p--){var E=s[p],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(Q){Wo(Q)}c.currentTarget=null,f=R}else for(p=0;p<s.length;p++){if(E=s[p],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(Q){Wo(Q)}c.currentTarget=null,f=R}}}}function It(t,e){var i=e[js];i===void 0&&(i=e[js]=new Set);var s=t+"__bubble";i.has(s)||(up(e,t,2,!1),i.add(s))}function Ff(t,e,i){var s=0;e&&(s|=4),up(i,t,s,e)}var du="_reactListening"+Math.random().toString(36).slice(2);function Yf(t){if(!t[du]){t[du]=!0,zs.forEach(function(i){i!=="selectionchange"&&(Xv.has(i)||Ff(i,!1,t),Ff(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[du]||(e[du]=!0,Ff("selectionchange",!1,e))}}function up(t,e,i,s){switch(Op(e)){case 2:var c=TE;break;case 8:c=AE;break;default:c=lh}i=c.bind(null,e,i,t),c=void 0,!Cn||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(c=!0),s?c!==void 0?t.addEventListener(e,i,{capture:!0,passive:c}):t.addEventListener(e,i,!0):c!==void 0?t.addEventListener(e,i,{passive:c}):t.addEventListener(e,i,!1)}function Xf(t,e,i,s,c){var f=s;if((e&1)===0&&(e&2)===0&&s!==null)t:for(;;){if(s===null)return;var p=s.tag;if(p===3||p===4){var E=s.stateNode.containerInfo;if(E===c)break;if(p===4)for(p=s.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;E!==null;){if(p=Ri(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){s=f=p;continue t}E=E.parentNode}}s=s.return}go(function(){var P=f,Q=wn(i),Y=[];t:{var B=Gd.get(t);if(B!==void 0){var k=Br,yt=t;switch(t){case"keypress":if(si(i)===0)break t;case"keydown":case"keyup":k=Fr;break;case"focusin":yt="focus",k=Hr;break;case"focusout":yt="blur",k=Hr;break;case"beforeblur":case"afterblur":k=Hr;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=So;break;case Bd:case kd:case qd:k=Gr;break;case Hd:k=Ro;break;case"scroll":case"scrollend":k=po;break;case"wheel":k=Yr;break;case"copy":case"cut":case"paste":k=Qr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=$s;break;case"toggle":case"beforetoggle":k=Co}var mt=(e&4)!==0,$t=!mt&&(t==="scroll"||t==="scrollend"),U=mt?B!==null?B+"Capture":null:B;mt=[];for(var D=P,z;D!==null;){var F=D;if(z=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||z===null||U===null||(F=Za(D,U),F!=null&&mt.push(Cl(D,F,z))),$t)break;D=D.return}0<mt.length&&(B=new k(B,yt,null,i,Q),Y.push({event:B,listeners:mt}))}}if((e&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&i!==Ii&&(yt=i.relatedTarget||i.fromElement)&&(Ri(yt)||yt[bn]))break t;if((k||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,k?(yt=i.relatedTarget||i.toElement,k=P,yt=yt?Ri(yt):null,yt!==null&&($t=h(yt),mt=yt.tag,yt!==$t||mt!==5&&mt!==27&&mt!==6)&&(yt=null)):(k=null,yt=P),k!==yt)){if(mt=Dn,F="onMouseLeave",U="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(mt=$s,F="onPointerLeave",U="onPointerEnter",D="pointer"),$t=k==null?B:ni(k),z=yt==null?B:ni(yt),B=new mt(F,D+"leave",k,i,Q),B.target=$t,B.relatedTarget=z,F=null,Ri(Q)===P&&(mt=new mt(U,D+"enter",yt,i,Q),mt.target=z,mt.relatedTarget=$t,F=mt),$t=F,k&&yt)e:{for(mt=k,U=yt,D=0,z=mt;z;z=_s(z))D++;for(z=0,F=U;F;F=_s(F))z++;for(;0<D-z;)mt=_s(mt),D--;for(;0<z-D;)U=_s(U),z--;for(;D--;){if(mt===U||U!==null&&mt===U.alternate)break e;mt=_s(mt),U=_s(U)}mt=null}else mt=null;k!==null&&cp(Y,B,k,mt,!1),yt!==null&&$t!==null&&cp(Y,$t,yt,mt,!0)}}t:{if(B=P?ni(P):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var at=Id;else if(be(B))if(Nd)at=lv;else{at=rv;var wt=av}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Hs(P.elementType)&&(at=Id):at=sv;if(at&&(at=at(t,P))){Vi(Y,at,i,Q);break t}wt&&wt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&sa(B,"number",B.value)}switch(wt=P?ni(P):window,t){case"focusin":(be(wt)||wt.contentEditable==="true")&&(Xr=wt,bc=P,Ws=null);break;case"focusout":Ws=bc=Xr=null;break;case"mousedown":Rc=!0;break;case"contextmenu":case"mouseup":case"dragend":Rc=!1,zd(Y,i,Q);break;case"selectionchange":if(uv)break;case"keydown":case"keyup":zd(Y,i,Q)}var lt;if(ui)t:{switch(t){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else Ot?q(t,i)&&(gt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(gt="onCompositionStart");gt&&(g&&i.locale!=="ko"&&(Ot||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Ot&&(lt=Qs()):(ri=Q,la="value"in ri?ri.value:ri.textContent,Ot=!0)),wt=mu(P,gt),0<wt.length&&(gt=new Xs(gt,t,null,i,Q),Y.push({event:gt,listeners:wt}),lt?gt.data=lt:(lt=et(i),lt!==null&&(gt.data=lt)))),(lt=d?Se(t,i):Vt(t,i))&&(gt=mu(P,"onBeforeInput"),0<gt.length&&(wt=new Xs("onBeforeInput","beforeinput",null,i,Q),Y.push({event:wt,listeners:gt}),wt.data=lt)),Qv(Y,t,P,i,Q)}op(Y,e)})}function Cl(t,e,i){return{instance:t,listener:e,currentTarget:i}}function mu(t,e){for(var i=e+"Capture",s=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Za(t,i),c!=null&&s.unshift(Cl(t,c,f)),c=Za(t,e),c!=null&&s.push(Cl(t,c,f))),t.tag===3)return s;t=t.return}return[]}function _s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function cp(t,e,i,s,c){for(var f=e._reactName,p=[];i!==null&&i!==s;){var E=i,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===s)break;E!==5&&E!==26&&E!==27||P===null||(R=P,c?(P=Za(i,f),P!=null&&p.unshift(Cl(i,P,R))):c||(P=Za(i,f),P!=null&&p.push(Cl(i,P,R)))),i=i.return}p.length!==0&&t.push({event:e,listeners:p})}var Kv=/\r\n?/g,$v=/\u0000|\uFFFD/g;function fp(t){return(typeof t=="string"?t:""+t).replace(Kv,`
`).replace($v,"")}function hp(t,e){return e=fp(e),fp(t)===e}function gu(){}function Kt(t,e,i,s,c,f){switch(i){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||Rn(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&Rn(t,""+s);break;case"className":ii(t,"class",s);break;case"tabIndex":ii(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(t,i,s);break;case"style":qs(t,s,f);break;case"data":if(e!=="object"){ii(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(i);break}s=Pr(""+s),t.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(e!=="input"&&Kt(t,e,"name",c.name,c,null),Kt(t,e,"formEncType",c.formEncType,c,null),Kt(t,e,"formMethod",c.formMethod,c,null),Kt(t,e,"formTarget",c.formTarget,c,null)):(Kt(t,e,"encType",c.encType,c,null),Kt(t,e,"method",c.method,c,null),Kt(t,e,"target",c.target,c,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(i);break}s=Pr(""+s),t.setAttribute(i,s);break;case"onClick":s!=null&&(t.onclick=gu);break;case"onScroll":s!=null&&It("scroll",t);break;case"onScrollEnd":s!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(i=s.__html,i!=null){if(c.children!=null)throw Error(l(60));t.innerHTML=i}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}i=Pr(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(i,""+s):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":s===!0?t.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(i,s):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(i,s):t.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(i):t.setAttribute(i,s);break;case"popover":It("beforetoggle",t),It("toggle",t),ra(t,"popover",s);break;case"xlinkActuate":je(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":je(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":je(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":je(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":je(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":je(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":je(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":je(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":je(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ra(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=yc.get(i)||i,ra(t,i,s))}}function Kf(t,e,i,s,c,f){switch(i){case"style":qs(t,s,f);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(i=s.__html,i!=null){if(c.children!=null)throw Error(l(60));t.innerHTML=i}}break;case"children":typeof s=="string"?Rn(t,s):(typeof s=="number"||typeof s=="bigint")&&Rn(t,""+s);break;case"onScroll":s!=null&&It("scroll",t);break;case"onScrollEnd":s!=null&&It("scrollend",t);break;case"onClick":s!=null&&(t.onclick=gu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vr.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),e=i.slice(2,c?i.length-7:void 0),f=t[ae]||null,f=f!=null?f[i]:null,typeof f=="function"&&t.removeEventListener(e,f,c),typeof s=="function")){typeof f!="function"&&f!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,s,c);break t}i in t?t[i]=s:s===!0?t.setAttribute(i,""):ra(t,i,s)}}}function ke(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var s=!1,c=!1,f;for(f in i)if(i.hasOwnProperty(f)){var p=i[f];if(p!=null)switch(f){case"src":s=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,e));default:Kt(t,e,f,p,i,null)}}c&&Kt(t,e,"srcSet",i.srcSet,i,null),s&&Kt(t,e,"src",i.src,i,null);return;case"input":It("invalid",t);var E=f=p=c=null,R=null,P=null;for(s in i)if(i.hasOwnProperty(s)){var Q=i[s];if(Q!=null)switch(s){case"name":c=Q;break;case"type":p=Q;break;case"checked":R=Q;break;case"defaultChecked":P=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(l(137,e));break;default:Kt(t,e,s,Q,i,null)}}Xa(t,f,E,R,P,p,c,!1),zr(t);return;case"select":It("invalid",t),s=p=f=null;for(c in i)if(i.hasOwnProperty(c)&&(E=i[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":s=E;default:Kt(t,e,c,E,i,null)}e=f,i=p,t.multiple=!!s,e!=null?Di(t,!!s,e,!1):i!=null&&Di(t,!!s,i,!0);return;case"textarea":It("invalid",t),f=c=s=null;for(p in i)if(i.hasOwnProperty(p)&&(E=i[p],E!=null))switch(p){case"value":s=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(l(91));break;default:Kt(t,e,p,E,i,null)}Ka(t,s,c,f),zr(t);return;case"option":for(R in i)if(i.hasOwnProperty(R)&&(s=i[R],s!=null))switch(R){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Kt(t,e,R,s,i,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(s=0;s<wl.length;s++)It(wl[s],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in i)if(i.hasOwnProperty(P)&&(s=i[P],s!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,e));default:Kt(t,e,P,s,i,null)}return;default:if(Hs(e)){for(Q in i)i.hasOwnProperty(Q)&&(s=i[Q],s!==void 0&&Kf(t,e,Q,s,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(s=i[E],s!=null&&Kt(t,e,E,s,i,null))}function Zv(t,e,i,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,E=null,R=null,P=null,Q=null;for(k in i){var Y=i[k];if(i.hasOwnProperty(k)&&Y!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":R=Y;default:s.hasOwnProperty(k)||Kt(t,e,k,null,s,Y)}}for(var B in s){var k=s[B];if(Y=i[B],s.hasOwnProperty(B)&&(k!=null||Y!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":P=k;break;case"defaultChecked":Q=k;break;case"value":p=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(l(137,e));break;default:k!==Y&&Kt(t,e,B,k,s,Y)}}mn(t,p,E,R,P,Q,f,c);return;case"select":k=p=E=B=null;for(f in i)if(R=i[f],i.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":k=R;default:s.hasOwnProperty(f)||Kt(t,e,f,null,s,R)}for(c in s)if(f=s[c],R=i[c],s.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&Kt(t,e,c,f,s,R)}e=E,i=p,s=k,B!=null?Di(t,!!i,B,!1):!!s!=!!i&&(e!=null?Di(t,!!i,e,!0):Di(t,!!i,i?[]:"",!1));return;case"textarea":k=B=null;for(E in i)if(c=i[E],i.hasOwnProperty(E)&&c!=null&&!s.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,e,E,null,s,c)}for(p in s)if(c=s[p],f=i[p],s.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==f&&Kt(t,e,p,c,s,f)}Yt(t,B,k);return;case"option":for(var yt in i)if(B=i[yt],i.hasOwnProperty(yt)&&B!=null&&!s.hasOwnProperty(yt))switch(yt){case"selected":t.selected=!1;break;default:Kt(t,e,yt,null,s,B)}for(R in s)if(B=s[R],k=i[R],s.hasOwnProperty(R)&&B!==k&&(B!=null||k!=null))switch(R){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Kt(t,e,R,B,s,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in i)B=i[mt],i.hasOwnProperty(mt)&&B!=null&&!s.hasOwnProperty(mt)&&Kt(t,e,mt,null,s,B);for(P in s)if(B=s[P],k=i[P],s.hasOwnProperty(P)&&B!==k&&(B!=null||k!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(l(137,e));break;default:Kt(t,e,P,B,s,k)}return;default:if(Hs(e)){for(var $t in i)B=i[$t],i.hasOwnProperty($t)&&B!==void 0&&!s.hasOwnProperty($t)&&Kf(t,e,$t,void 0,s,B);for(Q in s)B=s[Q],k=i[Q],!s.hasOwnProperty(Q)||B===k||B===void 0&&k===void 0||Kf(t,e,Q,B,s,k);return}}for(var U in i)B=i[U],i.hasOwnProperty(U)&&B!=null&&!s.hasOwnProperty(U)&&Kt(t,e,U,null,s,B);for(Y in s)B=s[Y],k=i[Y],!s.hasOwnProperty(Y)||B===k||B==null&&k==null||Kt(t,e,Y,B,s,k)}var $f=null,Zf=null;function pu(t){return t.nodeType===9?t:t.ownerDocument}function dp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mp(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Jf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wf=null;function Jv(){var t=window.event;return t&&t.type==="popstate"?t===Wf?!1:(Wf=t,!0):(Wf=null,!1)}var gp=typeof setTimeout=="function"?setTimeout:void 0,Wv=typeof clearTimeout=="function"?clearTimeout:void 0,pp=typeof Promise=="function"?Promise:void 0,tE=typeof queueMicrotask=="function"?queueMicrotask:typeof pp<"u"?function(t){return pp.resolve(null).then(t).catch(eE)}:gp;function eE(t){setTimeout(function(){throw t})}function Sa(t){return t==="head"}function yp(t,e){var i=e,s=0,c=0;do{var f=i.nextSibling;if(t.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"){if(0<s&&8>s){i=s;var p=t.ownerDocument;if(i&1&&Dl(p.documentElement),i&2&&Dl(p.body),i&4)for(i=p.head,Dl(i),p=i.firstChild;p;){var E=p.nextSibling,R=p.nodeName;p[Ga]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&p.rel.toLowerCase()==="stylesheet"||i.removeChild(p),p=E}}if(c===0){t.removeChild(f),Ll(e);return}c--}else i==="$"||i==="$?"||i==="$!"?c++:s=i.charCodeAt(0)-48;else s=0;i=f}while(i);Ll(e)}function th(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":th(i),aa(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function nE(t,e,i,s){for(;t.nodeType===1;){var c=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[Ga])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function iE(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Yn(t.nextSibling),t===null))return null;return t}function eh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function aE(t,e){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")e();else{var s=function(){e(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function Yn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var nh=null;function _p(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}function vp(t,e,i){switch(e=pu(i),t){case"html":if(t=e.documentElement,!t)throw Error(l(452));return t;case"head":if(t=e.head,!t)throw Error(l(453));return t;case"body":if(t=e.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function Dl(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);aa(t)}var Un=new Map,Ep=new Set;function yu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Yi=W.d;W.d={f:rE,r:sE,D:lE,C:oE,L:uE,m:cE,X:hE,S:fE,M:dE};function rE(){var t=Yi.f(),e=ou();return t||e}function sE(t){var e=ei(t);e!==null&&e.tag===5&&e.type==="form"?Bm(e):Yi.r(t)}var vs=typeof document>"u"?null:document;function Tp(t,e,i){var s=vs;if(s&&typeof e=="string"&&e){var c=_e(e);c='link[rel="'+t+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),Ep.has(c)||(Ep.add(c),t={rel:t,crossOrigin:i,href:e},s.querySelector(c)===null&&(e=s.createElement("link"),ke(e,"link",t),ge(e),s.head.appendChild(e)))}}function lE(t){Yi.D(t),Tp("dns-prefetch",t,null)}function oE(t,e){Yi.C(t,e),Tp("preconnect",t,e)}function uE(t,e,i){Yi.L(t,e,i);var s=vs;if(s&&t&&e){var c='link[rel="preload"][as="'+_e(e)+'"]';e==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+_e(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+_e(i.imageSizes)+'"]')):c+='[href="'+_e(t)+'"]';var f=c;switch(e){case"style":f=Es(t);break;case"script":f=Ts(t)}Un.has(f)||(t=S({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),Un.set(f,t),s.querySelector(c)!==null||e==="style"&&s.querySelector(Il(f))||e==="script"&&s.querySelector(Nl(f))||(e=s.createElement("link"),ke(e,"link",t),ge(e),s.head.appendChild(e)))}}function cE(t,e){Yi.m(t,e);var i=vs;if(i&&t){var s=e&&typeof e.as=="string"?e.as:"script",c='link[rel="modulepreload"][as="'+_e(s)+'"][href="'+_e(t)+'"]',f=c;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ts(t)}if(!Un.has(f)&&(t=S({rel:"modulepreload",href:t},e),Un.set(f,t),i.querySelector(c)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Nl(f)))return}s=i.createElement("link"),ke(s,"link",t),ge(s),i.head.appendChild(s)}}}function fE(t,e,i){Yi.S(t,e,i);var s=vs;if(s&&t){var c=tn(s).hoistableStyles,f=Es(t);e=e||"default";var p=c.get(f);if(!p){var E={loading:0,preload:null};if(p=s.querySelector(Il(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":e},i),(i=Un.get(f))&&ih(t,i);var R=p=s.createElement("link");ge(R),ke(R,"link",t),R._p=new Promise(function(P,Q){R.onload=P,R.onerror=Q}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,_u(p,e,s)}p={type:"stylesheet",instance:p,count:1,state:E},c.set(f,p)}}}function hE(t,e){Yi.X(t,e);var i=vs;if(i&&t){var s=tn(i).hoistableScripts,c=Ts(t),f=s.get(c);f||(f=i.querySelector(Nl(c)),f||(t=S({src:t,async:!0},e),(e=Un.get(c))&&ah(t,e),f=i.createElement("script"),ge(f),ke(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(c,f))}}function dE(t,e){Yi.M(t,e);var i=vs;if(i&&t){var s=tn(i).hoistableScripts,c=Ts(t),f=s.get(c);f||(f=i.querySelector(Nl(c)),f||(t=S({src:t,async:!0,type:"module"},e),(e=Un.get(c))&&ah(t,e),f=i.createElement("script"),ge(f),ke(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},s.set(c,f))}}function Ap(t,e,i,s){var c=(c=pt.current)?yu(c):null;if(!c)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=Es(i.href),i=tn(c).hoistableStyles,s=i.get(e),s||(s={type:"style",instance:null,count:0,state:null},i.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=Es(i.href);var f=tn(c).hoistableStyles,p=f.get(t);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=c.querySelector(Il(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Un.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Un.set(t,i),f||mE(c,t,i,p.state))),e&&s===null)throw Error(l(528,""));return p}if(e&&s!==null)throw Error(l(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Ts(i),i=tn(c).hoistableScripts,s=i.get(e),s||(s={type:"script",instance:null,count:0,state:null},i.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function Es(t){return'href="'+_e(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function Sp(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function mE(t,e,i,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),ke(e,"link",i),ge(e),t.head.appendChild(e))}function Ts(t){return'[src="'+_e(t)+'"]'}function Nl(t){return"script[async]"+t}function bp(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+_e(i.href)+'"]');if(s)return e.instance=s,ge(s),s;var c=S({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),ge(s),ke(s,"style",c),_u(s,i.precedence,t),e.instance=s;case"stylesheet":c=Es(i.href);var f=t.querySelector(Il(c));if(f)return e.state.loading|=4,e.instance=f,ge(f),f;s=Sp(i),(c=Un.get(c))&&ih(s,c),f=(t.ownerDocument||t).createElement("link"),ge(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),ke(f,"link",s),e.state.loading|=4,_u(f,i.precedence,t),e.instance=f;case"script":return f=Ts(i.src),(c=t.querySelector(Nl(f)))?(e.instance=c,ge(c),c):(s=i,(c=Un.get(f))&&(s=S({},i),ah(s,c)),t=t.ownerDocument||t,c=t.createElement("script"),ge(c),ke(c,"link",s),t.head.appendChild(c),e.instance=c);case"void":return null;default:throw Error(l(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(s=e.instance,e.state.loading|=4,_u(s,i.precedence,t));return e.instance}function _u(t,e,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=s.length?s[s.length-1]:null,f=c,p=0;p<s.length;p++){var E=s[p];if(E.dataset.precedence===e)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function ih(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function ah(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var vu=null;function Rp(t,e,i){if(vu===null){var s=new Map,c=vu=new Map;c.set(i,s)}else c=vu,s=c.get(i),s||(s=new Map,c.set(i,s));if(s.has(t))return s;for(s.set(t,null),i=i.getElementsByTagName(t),c=0;c<i.length;c++){var f=i[c];if(!(f[Ga]||f[me]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(e)||"";p=t+p;var E=s.get(p);E?E.push(f):s.set(p,[f])}}return s}function wp(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function gE(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Cp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var xl=null;function pE(){}function yE(t,e,i){if(xl===null)throw Error(l(475));var s=xl;if(e.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var c=Es(i.href),f=t.querySelector(Il(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(s.count++,s=Eu.bind(s),t.then(s,s)),e.state.loading|=4,e.instance=f,ge(f);return}f=t.ownerDocument||t,i=Sp(i),(c=Un.get(c))&&ih(i,c),f=f.createElement("link"),ge(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),ke(f,"link",i),e.instance=f}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(s.count++,e=Eu.bind(s),t.addEventListener("load",e),t.addEventListener("error",e))}}function _E(){if(xl===null)throw Error(l(475));var t=xl;return t.stylesheets&&t.count===0&&rh(t,t.stylesheets),0<t.count?function(e){var i=setTimeout(function(){if(t.stylesheets&&rh(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(i)}}:null}function Eu(){if(this.count--,this.count===0){if(this.stylesheets)rh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Tu=null;function rh(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Tu=new Map,e.forEach(vE,t),Tu=null,Eu.call(t))}function vE(t,e){if(!(e.state.loading&4)){var i=Tu.get(t);if(i)var s=i.get(null);else{i=new Map,Tu.set(t,i);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(i.set(p.dataset.precedence,p),s=p)}s&&i.set(null,s)}c=e.instance,p=c.getAttribute("data-precedence"),f=i.get(p)||s,f===s&&i.set(null,c),i.set(p,c),this.count++,s=Eu.bind(this),c.addEventListener("load",s),c.addEventListener("error",s),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),e.state.loading|=4}}var Ml={$$typeof:dt,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function EE(t,e,i,s,c,f,p,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bn(0),this.hiddenUpdates=Bn(null),this.identifierPrefix=s,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Dp(t,e,i,s,c,f,p,E,R,P,Q,Y){return t=new EE(t,e,i,p,E,R,P,Y),e=1,f===!0&&(e|=24),f=pn(3,null,null,e),t.current=f,f.stateNode=t,e=Pc(),e.refCount++,t.pooledCache=e,e.refCount++,f.memoizedState={element:s,isDehydrated:i,cache:e},Hc(f),t}function Ip(t){return t?(t=Jr,t):Jr}function Np(t,e,i,s,c,f){c=Ip(c),s.context===null?s.context=c:s.pendingContext=c,s=ca(e),s.payload={element:i},f=f===void 0?null:f,f!==null&&(s.callback=f),i=fa(t,s,e),i!==null&&(Tn(i,t,e),ol(i,t,e))}function xp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function sh(t,e){xp(t,e),(t=t.alternate)&&xp(t,e)}function Mp(t){if(t.tag===13){var e=Zr(t,67108864);e!==null&&Tn(e,t,67108864),sh(t,67108864)}}var Au=!0;function TE(t,e,i,s){var c=H.T;H.T=null;var f=W.p;try{W.p=2,lh(t,e,i,s)}finally{W.p=f,H.T=c}}function AE(t,e,i,s){var c=H.T;H.T=null;var f=W.p;try{W.p=8,lh(t,e,i,s)}finally{W.p=f,H.T=c}}function lh(t,e,i,s){if(Au){var c=oh(s);if(c===null)Xf(t,e,s,Su,i),Vp(t,s);else if(bE(c,t,e,i,s))s.stopPropagation();else if(Vp(t,s),e&4&&-1<SE.indexOf(t)){for(;c!==null;){var f=ei(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=dn(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-Ce(p);E.entanglements[1]|=R,p&=~R}gi(f),(Qt&6)===0&&(su=Fe()+500,Rl(0))}}break;case 13:E=Zr(f,2),E!==null&&Tn(E,f,2),ou(),sh(f,2)}if(f=oh(s),f===null&&Xf(t,e,s,Su,i),f===c)break;c=f}c!==null&&s.stopPropagation()}else Xf(t,e,s,null,i)}}function oh(t){return t=wn(t),uh(t)}var Su=null;function uh(t){if(Su=null,t=Ri(t),t!==null){var e=h(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=m(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Su=t,null}function Op(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vs()){case Ai:return 2;case Wi:return 8;case hn:case Us:return 32;case Wn:return 268435456;default:return 32}default:return 32}}var ch=!1,ba=null,Ra=null,wa=null,Ol=new Map,Vl=new Map,Ca=[],SE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vp(t,e){switch(t){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":Ra=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":Ol.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(e.pointerId)}}function Ul(t,e,i,s,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:e,domEventName:i,eventSystemFlags:s,nativeEvent:f,targetContainers:[c]},e!==null&&(e=ei(e),e!==null&&Mp(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,c!==null&&e.indexOf(c)===-1&&e.push(c),t)}function bE(t,e,i,s,c){switch(e){case"focusin":return ba=Ul(ba,t,e,i,s,c),!0;case"dragenter":return Ra=Ul(Ra,t,e,i,s,c),!0;case"mouseover":return wa=Ul(wa,t,e,i,s,c),!0;case"pointerover":var f=c.pointerId;return Ol.set(f,Ul(Ol.get(f)||null,t,e,i,s,c)),!0;case"gotpointercapture":return f=c.pointerId,Vl.set(f,Ul(Vl.get(f)||null,t,e,i,s,c)),!0}return!1}function Up(t){var e=Ri(t.target);if(e!==null){var i=h(e);if(i!==null){if(e=i.tag,e===13){if(e=m(i),e!==null){t.blockedOn=e,Ls(t.priority,function(){if(i.tag===13){var s=En();s=Mt(s);var c=Zr(i,s);c!==null&&Tn(c,i,s),sh(i,s)}});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=oh(t.nativeEvent);if(i===null){i=t.nativeEvent;var s=new i.constructor(i.type,i);Ii=s,i.target.dispatchEvent(s),Ii=null}else return e=ei(i),e!==null&&Mp(e),t.blockedOn=i,!1;e.shift()}return!0}function Lp(t,e,i){bu(t)&&i.delete(e)}function RE(){ch=!1,ba!==null&&bu(ba)&&(ba=null),Ra!==null&&bu(Ra)&&(Ra=null),wa!==null&&bu(wa)&&(wa=null),Ol.forEach(Lp),Vl.forEach(Lp)}function Ru(t,e){t.blockedOn===e&&(t.blockedOn=null,ch||(ch=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,RE)))}var wu=null;function jp(t){wu!==t&&(wu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wu===t&&(wu=null);for(var e=0;e<t.length;e+=3){var i=t[e],s=t[e+1],c=t[e+2];if(typeof s!="function"){if(uh(s||i)===null)continue;break}var f=ei(i);f!==null&&(t.splice(e,3),e-=3,uf(f,{pending:!0,data:c,method:i.method,action:s},s,c))}}))}function Ll(t){function e(R){return Ru(R,t)}ba!==null&&Ru(ba,t),Ra!==null&&Ru(Ra,t),wa!==null&&Ru(wa,t),Ol.forEach(e),Vl.forEach(e);for(var i=0;i<Ca.length;i++){var s=Ca[i];s.blockedOn===t&&(s.blockedOn=null)}for(;0<Ca.length&&(i=Ca[0],i.blockedOn===null);)Up(i),i.blockedOn===null&&Ca.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var c=i[s],f=i[s+1],p=c[ae]||null;if(typeof f=="function")p||jp(i);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[ae]||null)E=p.formAction;else if(uh(c)!==null)continue}else E=p.action;typeof E=="function"?i[s+1]=E:(i.splice(s,3),s-=3),jp(i)}}}function fh(t){this._internalRoot=t}Cu.prototype.render=fh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(l(409));var i=e.current,s=En();Np(i,s,t,e,null,null)},Cu.prototype.unmount=fh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Np(t.current,2,null,t,null,null),ou(),e[bn]=null}};function Cu(t){this._internalRoot=t}Cu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Le();t={blockedOn:null,target:t,priority:e};for(var i=0;i<Ca.length&&e!==0&&e<Ca[i].priority;i++);Ca.splice(i,0,t),i===0&&Up(t)}};var zp=n.version;if(zp!=="19.1.1")throw Error(l(527,zp,"19.1.1"));W.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=v(e),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var wE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Du.isDisabled&&Du.supportsFiber)try{ie=Du.inject(wE),kt=Du}catch{}}return zl.createRoot=function(t,e){if(!u(t))throw Error(l(299));var i=!1,s="",c=tg,f=eg,p=ng,E=null;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(c=e.onUncaughtError),e.onCaughtError!==void 0&&(f=e.onCaughtError),e.onRecoverableError!==void 0&&(p=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(E=e.unstable_transitionCallbacks)),e=Dp(t,1,!1,null,null,i,s,c,f,p,E,null),t[bn]=e.current,Yf(t),new fh(e)},zl.hydrateRoot=function(t,e,i){if(!u(t))throw Error(l(299));var s=!1,c="",f=tg,p=eg,E=ng,R=null,P=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(R=i.unstable_transitionCallbacks),i.formState!==void 0&&(P=i.formState)),e=Dp(t,1,!0,e,i??null,s,c,f,p,E,R,P),e.context=Ip(null),i=e.current,s=En(),s=Mt(s),c=ca(s),c.callback=null,fa(i,c,s),i=s,e.current.lanes=i,kn(e,i),gi(e),t[bn]=e.current,Yf(t),new Cu(e)},zl.version="19.1.1",zl}var Xp;function jE(){if(Xp)return mh.exports;Xp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),mh.exports=LE(),mh.exports}var zE=jE();const PE=f0(zE),ut={ENVIRONMENT_SETUP:"environment_setup",SCREEN_CALIBRATION:"screen_calibration",WELCOME:"welcome",INSTRUCTIONS:"instructions",PRACTICE:"practice",MAIN_TRIALS:"main_trials",SEQUENTIAL_TRIALS:"sequential_trials",TIME_CONSTRAINT_INTRO:"time_constraint_intro",TIME_TRIAL_PRACTICE:"time_trial_practice",TIME_TRIALS:"time_trials",SEQUENTIAL_TIME_TRIALS:"sequential_time_trials",COMPLETE:"complete"},$e={WAITING_FOR_START:"waiting_for_start",IN_PROGRESS:"in_progress",FAILED:"failed"},bs=[{id:1,tunnelWidth:.05,curvature:.025,timeLimit:null,description:"wide tunnel, gentle curve"},{id:2,tunnelWidth:.05,curvature:.05,timeLimit:null,description:"wide tunnel, sharp curve"},{id:3,tunnelWidth:.02,curvature:.025,timeLimit:null,description:"narrow tunnel, gentle curve"},{id:4,tunnelWidth:.02,curvature:.05,timeLimit:null,description:"narrow tunnel, sharp curve"}],h0=[],BE=[],kE=[],d0=.008,m0=.01,g0=.002,qE=()=>{const r=new URLSearchParams(window.location.search);return{prolificPid:r.get("PROLIFIC_PID")||null,studyId:r.get("STUDY_ID")||null,sessionId:r.get("SESSION_ID")||null}},HE=r=>{const u=r,h=.15,m=[];for(let y=0;y<.46;y+=g0){const v=.13+u*Math.sin(2*Math.PI*y/h);m.push({x:y,y:v})}return m},GE=r=>{const h=[];for(let m=0;m<.46;m+=g0){let y=.13;if(r.segmentType==="curvature")if(m<0+.23)y=.13;else{const v=m-.23,_=r.segment2Curvature,M=v/.23;y=.13+_*(1-Math.pow(2*M-1,2))}h.push({x:m,y})}return h},QE=()=>{};var Kp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=function(r){const n=[];let a=0;for(let l=0;l<r.length;l++){let u=r.charCodeAt(l);u<128?n[a++]=u:u<2048?(n[a++]=u>>6|192,n[a++]=u&63|128):(u&64512)===55296&&l+1<r.length&&(r.charCodeAt(l+1)&64512)===56320?(u=65536+((u&1023)<<10)+(r.charCodeAt(++l)&1023),n[a++]=u>>18|240,n[a++]=u>>12&63|128,n[a++]=u>>6&63|128,n[a++]=u&63|128):(n[a++]=u>>12|224,n[a++]=u>>6&63|128,n[a++]=u&63|128)}return n},FE=function(r){const n=[];let a=0,l=0;for(;a<r.length;){const u=r[a++];if(u<128)n[l++]=String.fromCharCode(u);else if(u>191&&u<224){const h=r[a++];n[l++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=r[a++],m=r[a++],y=r[a++],v=((u&7)<<18|(h&63)<<12|(m&63)<<6|y&63)-65536;n[l++]=String.fromCharCode(55296+(v>>10)),n[l++]=String.fromCharCode(56320+(v&1023))}else{const h=r[a++],m=r[a++];n[l++]=String.fromCharCode((u&15)<<12|(h&63)<<6|m&63)}}return n.join("")},y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,n){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let u=0;u<r.length;u+=3){const h=r[u],m=u+1<r.length,y=m?r[u+1]:0,v=u+2<r.length,_=v?r[u+2]:0,S=h>>2,M=(h&3)<<4|y>>4;let I=(y&15)<<2|_>>6,K=_&63;v||(K=64,m||(I=64)),l.push(a[S],a[M],a[I],a[K])}return l.join("")},encodeString(r,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(r):this.encodeByteArray(p0(r),n)},decodeString(r,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(r):FE(this.decodeStringToByteArray(r,n))},decodeStringToByteArray(r,n){this.init_();const a=n?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let u=0;u<r.length;){const h=a[r.charAt(u++)],y=u<r.length?a[r.charAt(u)]:0;++u;const _=u<r.length?a[r.charAt(u)]:64;++u;const M=u<r.length?a[r.charAt(u)]:64;if(++u,h==null||y==null||_==null||M==null)throw new YE;const I=h<<2|y>>4;if(l.push(I),_!==64){const K=y<<4&240|_>>2;if(l.push(K),M!==64){const $=_<<6&192|M;l.push($)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class YE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XE=function(r){const n=p0(r);return y0.encodeByteArray(n,!0)},Bu=function(r){return XE(r).replace(/\./g,"")},KE=function(r){try{return y0.decodeString(r,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=()=>$E().__FIREBASE_DEFAULTS__,JE=()=>{if(typeof process>"u"||typeof Kp>"u")return;const r=Kp.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},WE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=r&&KE(r[1]);return n&&JSON.parse(n)},Xh=()=>{try{return QE()||ZE()||JE()||WE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},tT=r=>Xh()?.emulatorHosts?.[r],eT=r=>{const n=tT(r);if(!n)return;const a=n.lastIndexOf(":");if(a<=0||a+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const l=parseInt(n.substring(a+1),10);return n[0]==="["?[n.substring(1,a-1),l]:[n.substring(0,a),l]},_0=()=>Xh()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}wrapCallback(n){return(a,l)=>{a?this.reject(a):this.resolve(l),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(a):n(a,l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function iT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(r,n){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},l=n||"demo-project",u=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${l}`,aud:l,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Bu(JSON.stringify(a)),Bu(JSON.stringify(m)),""].join(".")}const kl={};function rT(){const r={prod:[],emulator:[]};for(const n of Object.keys(kl))kl[n]?r.emulator.push(n):r.prod.push(n);return r}function sT(r){let n=document.getElementById(r),a=!1;return n||(n=document.createElement("div"),n.setAttribute("id",r),a=!0),{created:a,element:n}}let $p=!1;function lT(r,n){if(typeof window>"u"||typeof document>"u"||!Kh(window.location.host)||kl[r]===n||kl[r]||$p)return;kl[r]=n;function a(I){return`__firebase__banner__${I}`}const l="__firebase__banner",h=rT().prod.length>0;function m(){const I=document.getElementById(l);I&&I.remove()}function y(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function v(I,K){I.setAttribute("width","24"),I.setAttribute("id",K),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function _(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{$p=!0,m()},I}function S(I,K){I.setAttribute("id",K),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function M(){const I=sT(l),K=a("text"),$=document.getElementById(K)||document.createElement("span"),nt=a("learnmore"),it=document.getElementById(nt)||document.createElement("a"),St=a("preprendIcon"),vt=document.getElementById(St)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const dt=I.element;y(dt),S(it,nt);const zt=_();v(vt,St),dt.append(vt,$,it,zt),document.body.appendChild(dt)}h?($.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",M):M()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uT(){const r=Xh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function fT(){return!uT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v0(){try{return typeof indexedDB=="object"}catch{return!1}}function E0(){return new Promise((r,n)=>{try{let a=!0;const l="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(l);u.onsuccess=()=>{u.result.close(),a||self.indexedDB.deleteDatabase(l),r(!0)},u.onupgradeneeded=()=>{a=!1},u.onerror=()=>{n(u.error?.message||"")}}catch(a){n(a)}})}function hT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="FirebaseError";class ja extends Error{constructor(n,a,l){super(a),this.code=n,this.customData=l,this.name=dT,Object.setPrototypeOf(this,ja.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nc.prototype.create)}}class nc{constructor(n,a,l){this.service=n,this.serviceName=a,this.errors=l}create(n,...a){const l=a[0]||{},u=`${this.service}/${n}`,h=this.errors[n],m=h?mT(h,l):"Error",y=`${this.serviceName}: ${m} (${u}).`;return new ja(u,y,l)}}function mT(r,n){return r.replace(gT,(a,l)=>{const u=n[l];return u!=null?String(u):`<${l}?>`})}const gT=/\{\$([^}]+)}/g;function Xl(r,n){if(r===n)return!0;const a=Object.keys(r),l=Object.keys(n);for(const u of a){if(!l.includes(u))return!1;const h=r[u],m=n[u];if(Zp(h)&&Zp(m)){if(!Xl(h,m))return!1}else if(h!==m)return!1}for(const u of l)if(!a.includes(u))return!1;return!0}function Zp(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=1e3,yT=2,_T=14400*1e3,vT=.5;function Jp(r,n=pT,a=yT){const l=n*Math.pow(a,r),u=Math.round(vT*l*(Math.random()-.5)*2);return Math.min(_T,l+u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(r){return r&&r._delegate?r._delegate:r}class Zi{constructor(n,a,l){this.name=n,this.instanceFactory=a,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(n,a){this.name=n,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const a=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(a)){const l=new nT;if(this.instancesDeferred.set(a,l),this.isInitialized(a)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:a});u&&l.resolve(u)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(n){const a=this.normalizeInstanceIdentifier(n?.identifier),l=n?.optional??!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(AT(n))try{this.getOrInitializeService({instanceIdentifier:vr})}catch{}for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);try{const h=this.getOrInitializeService({instanceIdentifier:u});l.resolve(h)}catch{}}}}clearInstance(n=vr){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...n.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=vr){return this.instances.has(n)}getOptions(n=vr){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:a={}}=n,l=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:l,options:a});for(const[h,m]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);l===y&&m.resolve(u)}return u}onInit(n,a){const l=this.normalizeInstanceIdentifier(a),u=this.onInitCallbacks.get(l)??new Set;u.add(n),this.onInitCallbacks.set(l,u);const h=this.instances.get(l);return h&&n(h,l),()=>{u.delete(n)}}invokeOnInitCallbacks(n,a){const l=this.onInitCallbacks.get(a);if(l)for(const u of l)try{u(n,a)}catch{}}getOrInitializeService({instanceIdentifier:n,options:a={}}){let l=this.instances.get(n);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:TT(n),options:a}),this.instances.set(n,l),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(l,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,l)}catch{}return l||null}normalizeInstanceIdentifier(n=vr){return this.component?this.component.multipleInstances?n:vr:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TT(r){return r===vr?void 0:r}function AT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const a=this.getProvider(n.name);if(a.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);a.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const a=new ET(n,this);return this.providers.set(n,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(jt||(jt={}));const bT={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},RT=jt.INFO,wT={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},CT=(r,n,...a)=>{if(n<r.logLevel)return;const l=new Date().toISOString(),u=wT[n];if(u)console[u](`[${l}]  ${r.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class $h{constructor(n){this.name=n,this._logLevel=RT,this._logHandler=CT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in jt))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?bT[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...n),this._logHandler(this,jt.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...n),this._logHandler(this,jt.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...n),this._logHandler(this,jt.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...n),this._logHandler(this,jt.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...n),this._logHandler(this,jt.ERROR,...n)}}const DT=(r,n)=>n.some(a=>r instanceof a);let Wp,ty;function IT(){return Wp||(Wp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NT(){return ty||(ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T0=new WeakMap,Ih=new WeakMap,A0=new WeakMap,_h=new WeakMap,Zh=new WeakMap;function xT(r){const n=new Promise((a,l)=>{const u=()=>{r.removeEventListener("success",h),r.removeEventListener("error",m)},h=()=>{a(Ia(r.result)),u()},m=()=>{l(r.error),u()};r.addEventListener("success",h),r.addEventListener("error",m)});return n.then(a=>{a instanceof IDBCursor&&T0.set(a,r)}).catch(()=>{}),Zh.set(n,r),n}function MT(r){if(Ih.has(r))return;const n=new Promise((a,l)=>{const u=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",m),r.removeEventListener("abort",m)},h=()=>{a(),u()},m=()=>{l(r.error||new DOMException("AbortError","AbortError")),u()};r.addEventListener("complete",h),r.addEventListener("error",m),r.addEventListener("abort",m)});Ih.set(r,n)}let Nh={get(r,n,a){if(r instanceof IDBTransaction){if(n==="done")return Ih.get(r);if(n==="objectStoreNames")return r.objectStoreNames||A0.get(r);if(n==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return Ia(r[n])},set(r,n,a){return r[n]=a,!0},has(r,n){return r instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in r}};function OT(r){Nh=r(Nh)}function VT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...a){const l=r.call(vh(this),n,...a);return A0.set(l,n.sort?n.sort():[n]),Ia(l)}:NT().includes(r)?function(...n){return r.apply(vh(this),n),Ia(T0.get(this))}:function(...n){return Ia(r.apply(vh(this),n))}}function UT(r){return typeof r=="function"?VT(r):(r instanceof IDBTransaction&&MT(r),DT(r,IT())?new Proxy(r,Nh):r)}function Ia(r){if(r instanceof IDBRequest)return xT(r);if(_h.has(r))return _h.get(r);const n=UT(r);return n!==r&&(_h.set(r,n),Zh.set(n,r)),n}const vh=r=>Zh.get(r);function S0(r,n,{blocked:a,upgrade:l,blocking:u,terminated:h}={}){const m=indexedDB.open(r,n),y=Ia(m);return l&&m.addEventListener("upgradeneeded",v=>{l(Ia(m.result),v.oldVersion,v.newVersion,Ia(m.transaction),v)}),a&&m.addEventListener("blocked",v=>a(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const LT=["get","getKey","getAll","getAllKeys","count"],jT=["put","add","delete","clear"],Eh=new Map;function ey(r,n){if(!(r instanceof IDBDatabase&&!(n in r)&&typeof n=="string"))return;if(Eh.get(n))return Eh.get(n);const a=n.replace(/FromIndex$/,""),l=n!==a,u=jT.includes(a);if(!(a in(l?IDBIndex:IDBObjectStore).prototype)||!(u||LT.includes(a)))return;const h=async function(m,...y){const v=this.transaction(m,u?"readwrite":"readonly");let _=v.store;return l&&(_=_.index(y.shift())),(await Promise.all([_[a](...y),u&&v.done]))[0]};return Eh.set(n,h),h}OT(r=>({...r,get:(n,a,l)=>ey(n,a)||r.get(n,a,l),has:(n,a)=>!!ey(n,a)||r.has(n,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(PT(a)){const l=a.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(a=>a).join(" ")}}function PT(r){return r.getComponent()?.type==="VERSION"}const xh="@firebase/app",ny="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new $h("@firebase/app"),BT="@firebase/app-compat",kT="@firebase/analytics-compat",qT="@firebase/analytics",HT="@firebase/app-check-compat",GT="@firebase/app-check",QT="@firebase/auth",FT="@firebase/auth-compat",YT="@firebase/database",XT="@firebase/data-connect",KT="@firebase/database-compat",$T="@firebase/functions",ZT="@firebase/functions-compat",JT="@firebase/installations",WT="@firebase/installations-compat",t1="@firebase/messaging",e1="@firebase/messaging-compat",n1="@firebase/performance",i1="@firebase/performance-compat",a1="@firebase/remote-config",r1="@firebase/remote-config-compat",s1="@firebase/storage",l1="@firebase/storage-compat",o1="@firebase/firestore",u1="@firebase/ai",c1="@firebase/firestore-compat",f1="firebase",h1="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh="[DEFAULT]",d1={[xh]:"fire-core",[BT]:"fire-core-compat",[qT]:"fire-analytics",[kT]:"fire-analytics-compat",[GT]:"fire-app-check",[HT]:"fire-app-check-compat",[QT]:"fire-auth",[FT]:"fire-auth-compat",[YT]:"fire-rtdb",[XT]:"fire-data-connect",[KT]:"fire-rtdb-compat",[$T]:"fire-fn",[ZT]:"fire-fn-compat",[JT]:"fire-iid",[WT]:"fire-iid-compat",[t1]:"fire-fcm",[e1]:"fire-fcm-compat",[n1]:"fire-perf",[i1]:"fire-perf-compat",[a1]:"fire-rc",[r1]:"fire-rc-compat",[s1]:"fire-gcs",[l1]:"fire-gcs-compat",[o1]:"fire-fst",[c1]:"fire-fst-compat",[u1]:"fire-vertex","fire-js":"fire-js",[f1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=new Map,m1=new Map,Oh=new Map;function iy(r,n){try{r.container.addComponent(n)}catch(a){Ji.debug(`Component ${n.name} failed to register with FirebaseApp ${r.name}`,a)}}function Ma(r){const n=r.name;if(Oh.has(n))return Ji.debug(`There were multiple attempts to register component ${n}.`),!1;Oh.set(n,r);for(const a of ku.values())iy(a,r);for(const a of m1.values())iy(a,r);return!0}function eo(r,n){const a=r.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),r.container.getProvider(n)}function g1(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Na=new nc("app","Firebase",p1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(n,a,l){this._isDeleted=!1,this._options={...n},this._config={...a},this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new Zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=h1;function Jh(r,n={}){let a=r;typeof n!="object"&&(n={name:n});const l={name:Mh,automaticDataCollectionEnabled:!0,...n},u=l.name;if(typeof u!="string"||!u)throw Na.create("bad-app-name",{appName:String(u)});if(a||(a=_0()),!a)throw Na.create("no-options");const h=ku.get(u);if(h){if(Xl(a,h.options)&&Xl(l,h.config))return h;throw Na.create("duplicate-app",{appName:u})}const m=new ST(u);for(const v of Oh.values())m.addComponent(v);const y=new y1(a,l,m);return ku.set(u,y),y}function b0(r=Mh){const n=ku.get(r);if(!n&&r===Mh&&_0())return Jh();if(!n)throw Na.create("no-app",{appName:r});return n}function yi(r,n,a){let l=d1[r]??r;a&&(l+=`-${a}`);const u=l.match(/\s|\//),h=n.match(/\s|\//);if(u||h){const m=[`Unable to register library "${l}" with version "${n}":`];u&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Ji.warn(m.join(" "));return}Ma(new Zi(`${l}-version`,()=>({library:l,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="firebase-heartbeat-database",E1=1,Kl="firebase-heartbeat-store";let Th=null;function R0(){return Th||(Th=S0(v1,E1,{upgrade:(r,n)=>{switch(n){case 0:try{r.createObjectStore(Kl)}catch(a){console.warn(a)}}}}).catch(r=>{throw Na.create("idb-open",{originalErrorMessage:r.message})})),Th}async function T1(r){try{const a=(await R0()).transaction(Kl),l=await a.objectStore(Kl).get(w0(r));return await a.done,l}catch(n){if(n instanceof ja)Ji.warn(n.message);else{const a=Na.create("idb-get",{originalErrorMessage:n?.message});Ji.warn(a.message)}}}async function ay(r,n){try{const l=(await R0()).transaction(Kl,"readwrite");await l.objectStore(Kl).put(n,w0(r)),await l.done}catch(a){if(a instanceof ja)Ji.warn(a.message);else{const l=Na.create("idb-set",{originalErrorMessage:a?.message});Ji.warn(l.message)}}}function w0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=1024,S1=30;class b1{constructor(n){this.container=n,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new w1(a),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=ry();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>S1){const u=C1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ji.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ry(),{heartbeatsToSend:a,unsentEntries:l}=R1(this._heartbeatsCache.heartbeats),u=Bu(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ji.warn(n),""}}}function ry(){return new Date().toISOString().substring(0,10)}function R1(r,n=A1){const a=[];let l=r.slice();for(const u of r){const h=a.find(m=>m.agent===u.agent);if(h){if(h.dates.push(u.date),sy(a)>n){h.dates.pop();break}}else if(a.push({agent:u.agent,dates:[u.date]}),sy(a)>n){a.pop();break}l=l.slice(1)}return{heartbeatsToSend:a,unsentEntries:l}}class w1{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v0()?E0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await T1(this.app);return a?.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const l=await this.read();return ay(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const l=await this.read();return ay(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...n.heartbeats]})}else return}}function sy(r){return Bu(JSON.stringify({version:2,heartbeats:r})).length}function C1(r){if(r.length===0)return-1;let n=0,a=r[0].date;for(let l=1;l<r.length;l++)r[l].date<a&&(a=r[l].date,n=l);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(r){Ma(new Zi("platform-logger",n=>new zT(n),"PRIVATE")),Ma(new Zi("heartbeat",n=>new b1(n),"PRIVATE")),yi(xh,ny,r),yi(xh,ny,"esm2020"),yi("fire-js","")}D1("");var I1="firebase",N1="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yi(I1,N1,"app");var ly=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wh;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function n(V,A){function w(){}w.prototype=A.prototype,V.D=A.prototype,V.prototype=new w,V.prototype.constructor=V,V.C=function(N,O,L){for(var b=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)b[ne-2]=arguments[ne];return A.prototype[O].apply(N,b)}}function a(){this.blockSize=-1}function l(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}n(l,a),l.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(V,A,w){w||(w=0);var N=Array(16);if(typeof A=="string")for(var O=0;16>O;++O)N[O]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(O=0;16>O;++O)N[O]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=V.g[0],w=V.g[1],O=V.g[2];var L=V.g[3],b=A+(L^w&(O^L))+N[0]+3614090360&4294967295;A=w+(b<<7&4294967295|b>>>25),b=L+(O^A&(w^O))+N[1]+3905402710&4294967295,L=A+(b<<12&4294967295|b>>>20),b=O+(w^L&(A^w))+N[2]+606105819&4294967295,O=L+(b<<17&4294967295|b>>>15),b=w+(A^O&(L^A))+N[3]+3250441966&4294967295,w=O+(b<<22&4294967295|b>>>10),b=A+(L^w&(O^L))+N[4]+4118548399&4294967295,A=w+(b<<7&4294967295|b>>>25),b=L+(O^A&(w^O))+N[5]+1200080426&4294967295,L=A+(b<<12&4294967295|b>>>20),b=O+(w^L&(A^w))+N[6]+2821735955&4294967295,O=L+(b<<17&4294967295|b>>>15),b=w+(A^O&(L^A))+N[7]+4249261313&4294967295,w=O+(b<<22&4294967295|b>>>10),b=A+(L^w&(O^L))+N[8]+1770035416&4294967295,A=w+(b<<7&4294967295|b>>>25),b=L+(O^A&(w^O))+N[9]+2336552879&4294967295,L=A+(b<<12&4294967295|b>>>20),b=O+(w^L&(A^w))+N[10]+4294925233&4294967295,O=L+(b<<17&4294967295|b>>>15),b=w+(A^O&(L^A))+N[11]+2304563134&4294967295,w=O+(b<<22&4294967295|b>>>10),b=A+(L^w&(O^L))+N[12]+1804603682&4294967295,A=w+(b<<7&4294967295|b>>>25),b=L+(O^A&(w^O))+N[13]+4254626195&4294967295,L=A+(b<<12&4294967295|b>>>20),b=O+(w^L&(A^w))+N[14]+2792965006&4294967295,O=L+(b<<17&4294967295|b>>>15),b=w+(A^O&(L^A))+N[15]+1236535329&4294967295,w=O+(b<<22&4294967295|b>>>10),b=A+(O^L&(w^O))+N[1]+4129170786&4294967295,A=w+(b<<5&4294967295|b>>>27),b=L+(w^O&(A^w))+N[6]+3225465664&4294967295,L=A+(b<<9&4294967295|b>>>23),b=O+(A^w&(L^A))+N[11]+643717713&4294967295,O=L+(b<<14&4294967295|b>>>18),b=w+(L^A&(O^L))+N[0]+3921069994&4294967295,w=O+(b<<20&4294967295|b>>>12),b=A+(O^L&(w^O))+N[5]+3593408605&4294967295,A=w+(b<<5&4294967295|b>>>27),b=L+(w^O&(A^w))+N[10]+38016083&4294967295,L=A+(b<<9&4294967295|b>>>23),b=O+(A^w&(L^A))+N[15]+3634488961&4294967295,O=L+(b<<14&4294967295|b>>>18),b=w+(L^A&(O^L))+N[4]+3889429448&4294967295,w=O+(b<<20&4294967295|b>>>12),b=A+(O^L&(w^O))+N[9]+568446438&4294967295,A=w+(b<<5&4294967295|b>>>27),b=L+(w^O&(A^w))+N[14]+3275163606&4294967295,L=A+(b<<9&4294967295|b>>>23),b=O+(A^w&(L^A))+N[3]+4107603335&4294967295,O=L+(b<<14&4294967295|b>>>18),b=w+(L^A&(O^L))+N[8]+1163531501&4294967295,w=O+(b<<20&4294967295|b>>>12),b=A+(O^L&(w^O))+N[13]+2850285829&4294967295,A=w+(b<<5&4294967295|b>>>27),b=L+(w^O&(A^w))+N[2]+4243563512&4294967295,L=A+(b<<9&4294967295|b>>>23),b=O+(A^w&(L^A))+N[7]+1735328473&4294967295,O=L+(b<<14&4294967295|b>>>18),b=w+(L^A&(O^L))+N[12]+2368359562&4294967295,w=O+(b<<20&4294967295|b>>>12),b=A+(w^O^L)+N[5]+4294588738&4294967295,A=w+(b<<4&4294967295|b>>>28),b=L+(A^w^O)+N[8]+2272392833&4294967295,L=A+(b<<11&4294967295|b>>>21),b=O+(L^A^w)+N[11]+1839030562&4294967295,O=L+(b<<16&4294967295|b>>>16),b=w+(O^L^A)+N[14]+4259657740&4294967295,w=O+(b<<23&4294967295|b>>>9),b=A+(w^O^L)+N[1]+2763975236&4294967295,A=w+(b<<4&4294967295|b>>>28),b=L+(A^w^O)+N[4]+1272893353&4294967295,L=A+(b<<11&4294967295|b>>>21),b=O+(L^A^w)+N[7]+4139469664&4294967295,O=L+(b<<16&4294967295|b>>>16),b=w+(O^L^A)+N[10]+3200236656&4294967295,w=O+(b<<23&4294967295|b>>>9),b=A+(w^O^L)+N[13]+681279174&4294967295,A=w+(b<<4&4294967295|b>>>28),b=L+(A^w^O)+N[0]+3936430074&4294967295,L=A+(b<<11&4294967295|b>>>21),b=O+(L^A^w)+N[3]+3572445317&4294967295,O=L+(b<<16&4294967295|b>>>16),b=w+(O^L^A)+N[6]+76029189&4294967295,w=O+(b<<23&4294967295|b>>>9),b=A+(w^O^L)+N[9]+3654602809&4294967295,A=w+(b<<4&4294967295|b>>>28),b=L+(A^w^O)+N[12]+3873151461&4294967295,L=A+(b<<11&4294967295|b>>>21),b=O+(L^A^w)+N[15]+530742520&4294967295,O=L+(b<<16&4294967295|b>>>16),b=w+(O^L^A)+N[2]+3299628645&4294967295,w=O+(b<<23&4294967295|b>>>9),b=A+(O^(w|~L))+N[0]+4096336452&4294967295,A=w+(b<<6&4294967295|b>>>26),b=L+(w^(A|~O))+N[7]+1126891415&4294967295,L=A+(b<<10&4294967295|b>>>22),b=O+(A^(L|~w))+N[14]+2878612391&4294967295,O=L+(b<<15&4294967295|b>>>17),b=w+(L^(O|~A))+N[5]+4237533241&4294967295,w=O+(b<<21&4294967295|b>>>11),b=A+(O^(w|~L))+N[12]+1700485571&4294967295,A=w+(b<<6&4294967295|b>>>26),b=L+(w^(A|~O))+N[3]+2399980690&4294967295,L=A+(b<<10&4294967295|b>>>22),b=O+(A^(L|~w))+N[10]+4293915773&4294967295,O=L+(b<<15&4294967295|b>>>17),b=w+(L^(O|~A))+N[1]+2240044497&4294967295,w=O+(b<<21&4294967295|b>>>11),b=A+(O^(w|~L))+N[8]+1873313359&4294967295,A=w+(b<<6&4294967295|b>>>26),b=L+(w^(A|~O))+N[15]+4264355552&4294967295,L=A+(b<<10&4294967295|b>>>22),b=O+(A^(L|~w))+N[6]+2734768916&4294967295,O=L+(b<<15&4294967295|b>>>17),b=w+(L^(O|~A))+N[13]+1309151649&4294967295,w=O+(b<<21&4294967295|b>>>11),b=A+(O^(w|~L))+N[4]+4149444226&4294967295,A=w+(b<<6&4294967295|b>>>26),b=L+(w^(A|~O))+N[11]+3174756917&4294967295,L=A+(b<<10&4294967295|b>>>22),b=O+(A^(L|~w))+N[2]+718787259&4294967295,O=L+(b<<15&4294967295|b>>>17),b=w+(L^(O|~A))+N[9]+3951481745&4294967295,V.g[0]=V.g[0]+A&4294967295,V.g[1]=V.g[1]+(O+(b<<21&4294967295|b>>>11))&4294967295,V.g[2]=V.g[2]+O&4294967295,V.g[3]=V.g[3]+L&4294967295}l.prototype.u=function(V,A){A===void 0&&(A=V.length);for(var w=A-this.blockSize,N=this.B,O=this.h,L=0;L<A;){if(O==0)for(;L<=w;)u(this,V,L),L+=this.blockSize;if(typeof V=="string"){for(;L<A;)if(N[O++]=V.charCodeAt(L++),O==this.blockSize){u(this,N),O=0;break}}else for(;L<A;)if(N[O++]=V[L++],O==this.blockSize){u(this,N),O=0;break}}this.h=O,this.o+=A},l.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var A=1;A<V.length-8;++A)V[A]=0;var w=8*this.o;for(A=V.length-8;A<V.length;++A)V[A]=w&255,w/=256;for(this.u(V),V=Array(16),A=w=0;4>A;++A)for(var N=0;32>N;N+=8)V[w++]=this.g[A]>>>N&255;return V};function h(V,A){var w=y;return Object.prototype.hasOwnProperty.call(w,V)?w[V]:w[V]=A(V)}function m(V,A){this.h=A;for(var w=[],N=!0,O=V.length-1;0<=O;O--){var L=V[O]|0;N&&L==A||(w[O]=L,N=!1)}this.g=w}var y={};function v(V){return-128<=V&&128>V?h(V,function(A){return new m([A|0],0>A?-1:0)}):new m([V|0],0>V?-1:0)}function _(V){if(isNaN(V)||!isFinite(V))return M;if(0>V)return it(_(-V));for(var A=[],w=1,N=0;V>=w;N++)A[N]=V/w|0,w*=4294967296;return new m(A,0)}function S(V,A){if(V.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(V.charAt(0)=="-")return it(S(V.substring(1),A));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(A,8)),N=M,O=0;O<V.length;O+=8){var L=Math.min(8,V.length-O),b=parseInt(V.substring(O,O+L),A);8>L?(L=_(Math.pow(A,L)),N=N.j(L).add(_(b))):(N=N.j(w),N=N.add(_(b)))}return N}var M=v(0),I=v(1),K=v(16777216);r=m.prototype,r.m=function(){if(nt(this))return-it(this).m();for(var V=0,A=1,w=0;w<this.g.length;w++){var N=this.i(w);V+=(0<=N?N:4294967296+N)*A,A*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if($(this))return"0";if(nt(this))return"-"+it(this).toString(V);for(var A=_(Math.pow(V,6)),w=this,N="";;){var O=zt(w,A).g;w=St(w,O.j(A));var L=((0<w.g.length?w.g[0]:w.h)>>>0).toString(V);if(w=O,$(w))return L+N;for(;6>L.length;)L="0"+L;N=L+N}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function $(V){if(V.h!=0)return!1;for(var A=0;A<V.g.length;A++)if(V.g[A]!=0)return!1;return!0}function nt(V){return V.h==-1}r.l=function(V){return V=St(this,V),nt(V)?-1:$(V)?0:1};function it(V){for(var A=V.g.length,w=[],N=0;N<A;N++)w[N]=~V.g[N];return new m(w,~V.h).add(I)}r.abs=function(){return nt(this)?it(this):this},r.add=function(V){for(var A=Math.max(this.g.length,V.g.length),w=[],N=0,O=0;O<=A;O++){var L=N+(this.i(O)&65535)+(V.i(O)&65535),b=(L>>>16)+(this.i(O)>>>16)+(V.i(O)>>>16);N=b>>>16,L&=65535,b&=65535,w[O]=b<<16|L}return new m(w,w[w.length-1]&-2147483648?-1:0)};function St(V,A){return V.add(it(A))}r.j=function(V){if($(this)||$(V))return M;if(nt(this))return nt(V)?it(this).j(it(V)):it(it(this).j(V));if(nt(V))return it(this.j(it(V)));if(0>this.l(K)&&0>V.l(K))return _(this.m()*V.m());for(var A=this.g.length+V.g.length,w=[],N=0;N<2*A;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var O=0;O<V.g.length;O++){var L=this.i(N)>>>16,b=this.i(N)&65535,ne=V.i(O)>>>16,Ct=V.i(O)&65535;w[2*N+2*O]+=b*Ct,vt(w,2*N+2*O),w[2*N+2*O+1]+=L*Ct,vt(w,2*N+2*O+1),w[2*N+2*O+1]+=b*ne,vt(w,2*N+2*O+1),w[2*N+2*O+2]+=L*ne,vt(w,2*N+2*O+2)}for(N=0;N<A;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=A;N<2*A;N++)w[N]=0;return new m(w,0)};function vt(V,A){for(;(V[A]&65535)!=V[A];)V[A+1]+=V[A]>>>16,V[A]&=65535,A++}function dt(V,A){this.g=V,this.h=A}function zt(V,A){if($(A))throw Error("division by zero");if($(V))return new dt(M,M);if(nt(V))return A=zt(it(V),A),new dt(it(A.g),it(A.h));if(nt(A))return A=zt(V,it(A)),new dt(it(A.g),A.h);if(30<V.g.length){if(nt(V)||nt(A))throw Error("slowDivide_ only works with positive integers.");for(var w=I,N=A;0>=N.l(V);)w=_t(w),N=_t(N);var O=xt(w,1),L=xt(N,1);for(N=xt(N,2),w=xt(w,2);!$(N);){var b=L.add(N);0>=b.l(V)&&(O=O.add(w),L=b),N=xt(N,1),w=xt(w,1)}return A=St(V,O.j(A)),new dt(O,A)}for(O=M;0<=V.l(A);){for(w=Math.max(1,Math.floor(V.m()/A.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),L=_(w),b=L.j(A);nt(b)||0<b.l(V);)w-=N,L=_(w),b=L.j(A);$(L)&&(L=I),O=O.add(L),V=St(V,b)}return new dt(O,V)}r.A=function(V){return zt(this,V).h},r.and=function(V){for(var A=Math.max(this.g.length,V.g.length),w=[],N=0;N<A;N++)w[N]=this.i(N)&V.i(N);return new m(w,this.h&V.h)},r.or=function(V){for(var A=Math.max(this.g.length,V.g.length),w=[],N=0;N<A;N++)w[N]=this.i(N)|V.i(N);return new m(w,this.h|V.h)},r.xor=function(V){for(var A=Math.max(this.g.length,V.g.length),w=[],N=0;N<A;N++)w[N]=this.i(N)^V.i(N);return new m(w,this.h^V.h)};function _t(V){for(var A=V.g.length+1,w=[],N=0;N<A;N++)w[N]=V.i(N)<<1|V.i(N-1)>>>31;return new m(w,V.h)}function xt(V,A){var w=A>>5;A%=32;for(var N=V.g.length-w,O=[],L=0;L<N;L++)O[L]=0<A?V.i(L+w)>>>A|V.i(L+w+1)<<32-A:V.i(L+w);return new m(O,V.h)}l.prototype.digest=l.prototype.v,l.prototype.reset=l.prototype.s,l.prototype.update=l.prototype.u,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=_,m.fromString=S,Wh=m}).apply(typeof ly<"u"?ly:typeof self<"u"?self:typeof window<"u"?window:{});var Iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var C0,Bl,D0,Uu,Vh,I0,N0,x0;(function(){var r,n=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,d,g){return o==Array.prototype||o==Object.prototype||(o[d]=g.value),o};function a(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Iu=="object"&&Iu];for(var d=0;d<o.length;++d){var g=o[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var l=a(this);function u(o,d){if(d)t:{var g=l;o=o.split(".");for(var T=0;T<o.length-1;T++){var j=o[T];if(!(j in g))break t;g=g[j]}o=o[o.length-1],T=g[o],d=d(T),d!=T&&d!=null&&n(g,o,{configurable:!0,writable:!0,value:d})}}function h(o,d){o instanceof String&&(o+="");var g=0,T=!1,j={next:function(){if(!T&&g<o.length){var q=g++;return{value:d(q,o[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}u("Array.prototype.values",function(o){return o||function(){return h(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var m=m||{},y=this||self;function v(o){var d=typeof o;return d=d!="object"?d:o?Array.isArray(o)?"array":d:"null",d=="array"||d=="object"&&typeof o.length=="number"}function _(o){var d=typeof o;return d=="object"&&o!=null||d=="function"}function S(o,d,g){return o.call.apply(o.bind,arguments)}function M(o,d,g){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,T),o.apply(d,j)}}return function(){return o.apply(d,arguments)}}function I(o,d,g){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:M,I.apply(null,arguments)}function K(o,d){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function $(o,d){function g(){}g.prototype=d.prototype,o.aa=d.prototype,o.prototype=new g,o.prototype.constructor=o,o.Qb=function(T,j,q){for(var et=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)et[Ot-2]=arguments[Ot];return d.prototype[j].apply(T,et)}}function nt(o){const d=o.length;if(0<d){const g=Array(d);for(let T=0;T<d;T++)g[T]=o[T];return g}return[]}function it(o,d){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(v(T)){const j=o.length||0,q=T.length||0;o.length=j+q;for(let et=0;et<q;et++)o[j+et]=T[et]}else o.push(T)}}class St{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function vt(o){return/^[\s\xa0]*$/.test(o)}function dt(){var o=y.navigator;return o&&(o=o.userAgent)?o:""}function zt(o){return zt[" "](o),o}zt[" "]=function(){};var _t=dt().indexOf("Gecko")!=-1&&!(dt().toLowerCase().indexOf("webkit")!=-1&&dt().indexOf("Edge")==-1)&&!(dt().indexOf("Trident")!=-1||dt().indexOf("MSIE")!=-1)&&dt().indexOf("Edge")==-1;function xt(o,d,g){for(const T in o)d.call(g,o[T],T,o)}function V(o,d){for(const g in o)d.call(void 0,o[g],g,o)}function A(o){const d={};for(const g in o)d[g]=o[g];return d}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(o,d){let g,T;for(let j=1;j<arguments.length;j++){T=arguments[j];for(g in T)o[g]=T[g];for(let q=0;q<w.length;q++)g=w[q],Object.prototype.hasOwnProperty.call(T,g)&&(o[g]=T[g])}}function O(o){var d=1;o=o.split(":");const g=[];for(;0<d&&o.length;)g.push(o.shift()),d--;return o.length&&g.push(o.join(":")),g}function L(o){y.setTimeout(()=>{throw o},0)}function b(){var o=Nt;let d=null;return o.g&&(d=o.g,o.g=o.g.next,o.g||(o.h=null),d.next=null),d}class ne{constructor(){this.h=this.g=null}add(d,g){const T=Ct.get();T.set(d,g),this.h?this.h.next=T:this.g=T,this.h=T}}var Ct=new St(()=>new H,o=>o.reset());class H{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let W,rt=!1,Nt=new ne,C=()=>{const o=y.Promise.resolve(void 0);W=()=>{o.then(G)}};var G=()=>{for(var o;o=b();){try{o.h.call(o.g)}catch(g){L(g)}var d=Ct;d.j(o),100>d.h&&(d.h++,o.next=d.g,d.g=o)}rt=!1};function tt(){this.s=this.s,this.C=this.C}tt.prototype.s=!1,tt.prototype.ma=function(){this.s||(this.s=!0,this.N())},tt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(o,d){this.type=o,this.g=this.target=d,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ot=(function(){if(!y.addEventListener||!Object.defineProperty)return!1;var o=!1,d=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};y.addEventListener("test",g,d),y.removeEventListener("test",g,d)}catch{}return o})();function Et(o,d){if(J.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var g=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=d,d=o.relatedTarget){if(_t){t:{try{zt(d.nodeName);var j=!0;break t}catch{}j=!1}j||(d=null)}}else g=="mouseover"?d=o.fromElement:g=="mouseout"&&(d=o.toElement);this.relatedTarget=d,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:pt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Et.aa.h.call(this)}}$(Et,J);var pt={2:"touch",3:"pen",4:"mouse"};Et.prototype.h=function(){Et.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Bt=0;function Ln(o,d,g,T,j){this.listener=o,this.proxy=null,this.src=d,this.type=g,this.capture=!!T,this.ha=j,this.key=++Bt,this.da=this.fa=!1}function Sn(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function fn(o){this.src=o,this.g={},this.h=0}fn.prototype.add=function(o,d,g,T,j){var q=o.toString();o=this.g[q],o||(o=this.g[q]=[],this.h++);var et=jn(o,d,T,j);return-1<et?(d=o[et],g||(d.fa=!1)):(d=new Ln(d,this.src,q,!!T,j),d.fa=g,o.push(d)),d};function Ei(o,d){var g=d.type;if(g in o.g){var T=o.g[g],j=Array.prototype.indexOf.call(T,d,void 0),q;(q=0<=j)&&Array.prototype.splice.call(T,j,1),q&&(Sn(d),o.g[g].length==0&&(delete o.g[g],o.h--))}}function jn(o,d,g,T){for(var j=0;j<o.length;++j){var q=o[j];if(!q.da&&q.listener==d&&q.capture==!!g&&q.ha==T)return j}return-1}var Jn="closure_lm_"+(1e6*Math.random()|0),Ti={};function Pa(o,d,g,T,j){if(Array.isArray(d)){for(var q=0;q<d.length;q++)Pa(o,d[q],g,T,j);return null}return g=zn(g),o&&o[ce]?o.K(d,g,_(T)?!!T.capture:!1,j):Fe(o,d,g,!1,T,j)}function Fe(o,d,g,T,j,q){if(!d)throw Error("Invalid event type");var et=_(j)?!!j.capture:!!j,Ot=Wn(o);if(Ot||(o[Jn]=Ot=new fn(o)),g=Ot.add(d,g,T,et,q),g.proxy)return g;if(T=Vs(),g.proxy=T,T.src=o,T.listener=g,o.addEventListener)ot||(j=et),j===void 0&&(j=!1),o.addEventListener(d.toString(),T,j);else if(o.attachEvent)o.attachEvent(hn(d.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Vs(){function o(g){return d.call(o.src,o.listener,g)}const d=Us;return o}function Ai(o,d,g,T,j){if(Array.isArray(d))for(var q=0;q<d.length;q++)Ai(o,d[q],g,T,j);else T=_(T)?!!T.capture:!!T,g=zn(g),o&&o[ce]?(o=o.i,d=String(d).toString(),d in o.g&&(q=o.g[d],g=jn(q,g,T,j),-1<g&&(Sn(q[g]),Array.prototype.splice.call(q,g,1),q.length==0&&(delete o.g[d],o.h--)))):o&&(o=Wn(o))&&(d=o.g[d.toString()],o=-1,d&&(o=jn(d,g,T,j)),(g=-1<o?d[o]:null)&&Wi(g))}function Wi(o){if(typeof o!="number"&&o&&!o.da){var d=o.src;if(d&&d[ce])Ei(d.i,o);else{var g=o.type,T=o.proxy;d.removeEventListener?d.removeEventListener(g,T,o.capture):d.detachEvent?d.detachEvent(hn(g),T):d.addListener&&d.removeListener&&d.removeListener(T),(g=Wn(d))?(Ei(g,o),g.h==0&&(g.src=null,d[Jn]=null)):Sn(o)}}}function hn(o){return o in Ti?Ti[o]:Ti[o]="on"+o}function Us(o,d){if(o.da)o=!0;else{d=new Et(d,this);var g=o.listener,T=o.ha||o.src;o.fa&&Wi(o),o=g.call(T,d)}return o}function Wn(o){return o=o[Jn],o instanceof fn?o:null}var ta="__closure_events_fn_"+(1e9*Math.random()>>>0);function zn(o){return typeof o=="function"?o:(o[ta]||(o[ta]=function(d){return o.handleEvent(d)}),o[ta])}function ie(){tt.call(this),this.i=new fn(this),this.M=this,this.F=null}$(ie,tt),ie.prototype[ce]=!0,ie.prototype.removeEventListener=function(o,d,g,T){Ai(this,o,d,g,T)};function kt(o,d){var g,T=o.F;if(T)for(g=[];T;T=T.F)g.push(T);if(o=o.M,T=d.type||d,typeof d=="string")d=new J(d,o);else if(d instanceof J)d.target=d.target||o;else{var j=d;d=new J(T,o),N(d,j)}if(j=!0,g)for(var q=g.length-1;0<=q;q--){var et=d.g=g[q];j=Ue(et,T,!0,d)&&j}if(et=d.g=o,j=Ue(et,T,!0,d)&&j,j=Ue(et,T,!1,d)&&j,g)for(q=0;q<g.length;q++)et=d.g=g[q],j=Ue(et,T,!1,d)&&j}ie.prototype.N=function(){if(ie.aa.N.call(this),this.i){var o=this.i,d;for(d in o.g){for(var g=o.g[d],T=0;T<g.length;T++)Sn(g[T]);delete o.g[d],o.h--}}this.F=null},ie.prototype.K=function(o,d,g,T){return this.i.add(String(o),d,!1,g,T)},ie.prototype.L=function(o,d,g,T){return this.i.add(String(o),d,!0,g,T)};function Ue(o,d,g,T){if(d=o.i.g[String(d)],!d)return!0;d=d.concat();for(var j=!0,q=0;q<d.length;++q){var et=d[q];if(et&&!et.da&&et.capture==g){var Ot=et.listener,Se=et.ha||et.src;et.fa&&Ei(o.i,et),j=Ot.call(Se,T)!==!1&&j}}return j&&!T.defaultPrevented}function Ce(o,d,g){if(typeof o=="function")g&&(o=I(o,g));else if(o&&typeof o.handleEvent=="function")o=I(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:y.setTimeout(o,d||0)}function Ba(o){o.g=Ce(()=>{o.g=null,o.i&&(o.i=!1,Ba(o))},o.l);const d=o.h;o.h=null,o.m.apply(null,d)}class Or extends tt{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Ba(this)}N(){super.N(),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pn(o){tt.call(this),this.h=o,this.g={}}$(Pn,tt);var ti=[];function Si(o){xt(o.g,function(d,g){this.g.hasOwnProperty(g)&&Wi(d)},o),o.g={}}Pn.prototype.N=function(){Pn.aa.N.call(this),Si(this)},Pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dn=y.JSON.stringify,ea=y.JSON.parse,bi=class{stringify(o){return y.JSON.stringify(o,void 0)}parse(o){return y.JSON.parse(o,void 0)}};function na(){}na.prototype.h=null;function ka(o){return o.h||(o.h=o.i())}function qa(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kn(){J.call(this,"d")}$(kn,J);function Ha(){J.call(this,"c")}$(Ha,J);var qn={},ht=null;function Mt(){return ht=ht||new ie}qn.La="serverreachability";function Jt(o){J.call(this,qn.La,o)}$(Jt,J);function Le(o){const d=Mt();kt(d,new Jt(d))}qn.STAT_EVENT="statevent";function Ls(o,d){J.call(this,qn.STAT_EVENT,o),this.stat=d}$(Ls,J);function Wt(o){const d=Mt();kt(d,new Ls(d,o))}qn.Ma="timingevent";function me(o,d){J.call(this,qn.Ma,o),this.size=d}$(me,J);function ae(o,d){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return y.setTimeout(function(){o()},d)}function bn(){this.g=!0}bn.prototype.xa=function(){this.g=!1};function js(o,d,g,T,j,q){o.info(function(){if(o.g)if(q)for(var et="",Ot=q.split("&"),Se=0;Se<Ot.length;Se++){var Vt=Ot[Se].split("=");if(1<Vt.length){var Ie=Vt[0];Vt=Vt[1];var be=Ie.split("_");et=2<=be.length&&be[1]=="type"?et+(Ie+"="+Vt+"&"):et+(Ie+"=redacted&")}}else et=null;else et=q;return"XMLHTTP REQ ("+T+") [attempt "+j+"]: "+d+`
`+g+`
`+et})}function mc(o,d,g,T,j,q,et){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+j+"]: "+d+`
`+g+`
`+q+" "+et})}function ia(o,d,g,T){o.info(function(){return"XMLHTTP TEXT ("+d+"): "+Ga(o,g)+(T?" "+T:"")})}function oo(o,d){o.info(function(){return"TIMEOUT: "+d})}bn.prototype.info=function(){};function Ga(o,d){if(!o.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(o=0;o<g.length;o++)if(Array.isArray(g[o])){var T=g[o];if(!(2>T.length)){var j=T[1];if(Array.isArray(j)&&!(1>j.length)){var q=j[0];if(q!="noop"&&q!="stop"&&q!="close")for(var et=1;et<j.length;et++)j[et]=""}}}}return dn(g)}catch{return d}}var aa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ei;function ni(){}$(ni,na),ni.prototype.g=function(){return new XMLHttpRequest},ni.prototype.i=function(){return{}},ei=new ni;function tn(o,d,g,T){this.j=o,this.i=d,this.l=g,this.R=T||1,this.U=new Pn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ge}function ge(){this.i=null,this.g="",this.h=!1}var zs={},Vr={};function Hn(o,d,g){o.L=1,o.v=Ka(mn(d)),o.m=g,o.P=!0,wi(o,null)}function wi(o,d){o.F=Date.now(),Qa(o),o.A=mn(o.v);var g=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),Gs(g.i,"t",T),o.C=0,g=o.j.J,o.h=new ge,o.g=Ro(o.j,g?d:null,!o.m),0<o.O&&(o.M=new Or(I(o.Y,o,o.g),o.O)),d=o.U,g=o.g,T=o.ca;var j="readystatechange";Array.isArray(j)||(j&&(ti[0]=j.toString()),j=ti);for(var q=0;q<j.length;q++){var et=Pa(g,j[q],T||d.handleEvent,!1,d.h||d);if(!et)break;d.g[et.key]=et}d=o.H?A(o.H):{},o.m?(o.u||(o.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,d)):(o.u="GET",o.g.ea(o.A,o.u,null,d)),Le(),js(o.i,o.u,o.A,o.l,o.R,o.m)}tn.prototype.ca=function(o){o=o.target;const d=this.M;d&&Dn(o)==3?d.j():this.Y(o)},tn.prototype.Y=function(o){try{if(o==this.g)t:{const be=Dn(this.g);var d=this.g.Ba();const Vi=this.g.Z();if(!(3>be)&&(be!=3||this.g&&(this.h.h||this.g.oa()||yo(this.g)))){this.J||be!=4||d==7||(d==8||0>=Vi?Le(3):Le(2)),ra(this);var g=this.g.Z();this.X=g;e:if(uo(this)){var T=yo(this.g);o="";var j=T.length,q=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){je(this),ii(this);var et="";break e}this.h.i=new y.TextDecoder}for(d=0;d<j;d++)this.h.h=!0,o+=this.h.i.decode(T[d],{stream:!(q&&d==j-1)});T.length=0,this.h.g+=o,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=g==200,mc(this.i,this.u,this.A,this.l,this.R,be,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,Se=this.g;if((Ot=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vt(Ot)){var Vt=Ot;break e}}Vt=null}if(g=Vt)ia(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fa(this,g);else{this.o=!1,this.s=3,Wt(12),je(this),ii(this);break t}}if(this.P){g=!0;let ze;for(;!this.J&&this.C<et.length;)if(ze=co(this,et),ze==Vr){be==4&&(this.s=4,Wt(14),g=!1),ia(this.i,this.l,null,"[Incomplete Response]");break}else if(ze==zs){this.s=4,Wt(15),ia(this.i,this.l,et,"[Invalid Chunk]"),g=!1;break}else ia(this.i,this.l,ze,null),Fa(this,ze);if(uo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||et.length!=0||this.h.h||(this.s=1,Wt(16),g=!1),this.o=this.o&&g,!g)ia(this.i,this.l,et,"[Invalid Chunked Response]"),je(this),ii(this);else if(0<et.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),ir(Ie),Ie.M=!0,Wt(11))}}else ia(this.i,this.l,et,null),Fa(this,et);be==4&&je(this),this.o&&!this.J&&(be==4?Ao(this.j,this):(this.o=!1,Qa(this)))}else vc(this.g),g==400&&0<et.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),je(this),ii(this)}}}catch{}finally{}};function uo(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function co(o,d){var g=o.C,T=d.indexOf(`
`,g);return T==-1?Vr:(g=Number(d.substring(g,T)),isNaN(g)?zs:(T+=1,T+g>d.length?Vr:(d=d.slice(T,T+g),o.C=T+g,d)))}tn.prototype.cancel=function(){this.J=!0,je(this)};function Qa(o){o.S=Date.now()+o.I,fo(o,o.I)}function fo(o,d){if(o.B!=null)throw Error("WatchDog timer not null");o.B=ae(I(o.ba,o),d)}function ra(o){o.B&&(y.clearTimeout(o.B),o.B=null)}tn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(oo(this.i,this.A),this.L!=2&&(Le(),Wt(17)),je(this),this.s=2,ii(this)):fo(this,this.S-o)};function ii(o){o.j.G==0||o.J||Ao(o.j,o)}function je(o){ra(o);var d=o.M;d&&typeof d.ma=="function"&&d.ma(),o.M=null,Si(o.U),o.g&&(d=o.g,o.g=null,d.abort(),d.ma())}function Fa(o,d){try{var g=o.j;if(g.G!=0&&(g.g==o||Ps(g.h,o))){if(!o.K&&Ps(g.h,o)&&g.G==3){try{var T=g.Da.g.parse(d)}catch{T=null}if(Array.isArray(T)&&T.length==3){var j=T;if(j[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<o.F)Fr(g),Gr(g);else break t;Ks(g),Wt(18)}}else g.za=j[1],0<g.za-g.T&&37500>j[2]&&g.F&&g.v==0&&!g.C&&(g.C=ae(I(g.Za,g),6e3));if(1>=Lr(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Oi(g,11)}else if((o.K||g.g==o)&&Fr(g),!vt(d))for(j=g.Da.g.parse(d),d=0;d<j.length;d++){let Vt=j[d];if(g.T=Vt[0],Vt=Vt[1],g.G==2)if(Vt[0]=="c"){g.K=Vt[1],g.ia=Vt[2];const Ie=Vt[3];Ie!=null&&(g.la=Ie,g.j.info("VER="+g.la));const be=Vt[4];be!=null&&(g.Aa=be,g.j.info("SVER="+g.Aa));const Vi=Vt[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(T=1.5*Vi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const ze=o.g;if(ze){const ci=ze.g?ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ci){var q=T.h;q.g||ci.indexOf("spdy")==-1&&ci.indexOf("quic")==-1&&ci.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(jr(q,q.h),q.h=null))}if(T.D){const Zs=ze.g?ze.g.getResponseHeader("X-HTTP-Session-Id"):null;Zs&&(T.ya=Zs,Yt(T.I,T.D,Zs))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-o.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var et=o;if(T.qa=bo(T,T.J?T.ia:null,T.W),et.K){en(T.h,et);var Ot=et,Se=T.L;Se&&(Ot.I=Se),Ot.B&&(ra(Ot),Qa(Ot)),T.g=et}else Eo(T);0<g.i.length&&Qr(g)}else Vt[0]!="stop"&&Vt[0]!="close"||Oi(g,7);else g.G==3&&(Vt[0]=="stop"||Vt[0]=="close"?Vt[0]=="stop"?Oi(g,7):Ys(g):Vt[0]!="noop"&&g.l&&g.l.ta(Vt),g.v=0)}}Le(4)}catch{}}var ho=class{constructor(o,d){this.g=o,this.map=d}};function Ci(o){this.l=o||10,y.PerformanceNavigationTiming?(o=y.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(y.chrome&&y.chrome.loadTimes&&y.chrome.loadTimes()&&y.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ur(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Lr(o){return o.h?1:o.g?o.g.size:0}function Ps(o,d){return o.h?o.h==d:o.g?o.g.has(d):!1}function jr(o,d){o.g?o.g.add(d):o.h=d}function en(o,d){o.h&&o.h==d?o.h=null:o.g&&o.g.has(d)&&o.g.delete(d)}Ci.prototype.cancel=function(){if(this.i=Bs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Bs(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let d=o.i;for(const g of o.g.values())d=d.concat(g.D);return d}return nt(o.i)}function gc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(v(o)){for(var d=[],g=o.length,T=0;T<g;T++)d.push(o[T]);return d}d=[],g=0;for(T in o)d[g++]=o[T];return d}function zr(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(v(o)||typeof o=="string"){var d=[];o=o.length;for(var g=0;g<o;g++)d.push(g);return d}d=[],g=0;for(const T in o)d[g++]=T;return d}}}function ks(o,d){if(o.forEach&&typeof o.forEach=="function")o.forEach(d,void 0);else if(v(o)||typeof o=="string")Array.prototype.forEach.call(o,d,void 0);else for(var g=zr(o),T=gc(o),j=T.length,q=0;q<j;q++)d.call(void 0,T[q],g&&g[q],o)}var Ya=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pc(o,d){if(o){o=o.split("&");for(var g=0;g<o.length;g++){var T=o[g].indexOf("="),j=null;if(0<=T){var q=o[g].substring(0,T);j=o[g].substring(T+1)}else q=o[g];d(q,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function _e(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof _e){this.h=o.h,Xa(this,o.j),this.o=o.o,this.g=o.g,sa(this,o.s),this.l=o.l;var d=o.i,g=new Ii;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),Di(this,g),this.m=o.m}else o&&(d=String(o).match(Ya))?(this.h=!1,Xa(this,d[1]||"",!0),this.o=Rn(d[2]||""),this.g=Rn(d[3]||"",!0),sa(this,d[4]),this.l=Rn(d[5]||"",!0),Di(this,d[6]||"",!0),this.m=Rn(d[7]||"")):(this.h=!1,this.i=new Ii(null,this.h))}_e.prototype.toString=function(){var o=[],d=this.j;d&&o.push($a(d,qs,!0),":");var g=this.g;return(g||d=="file")&&(o.push("//"),(d=this.o)&&o.push($a(d,qs,!0),"@"),o.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&o.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push($a(g,g.charAt(0)=="/"?yc:Hs,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",$a(g,Pr)),o.join("")};function mn(o){return new _e(o)}function Xa(o,d,g){o.j=g?Rn(d,!0):d,o.j&&(o.j=o.j.replace(/:$/,""))}function sa(o,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);o.s=d}else o.s=null}function Di(o,d,g){d instanceof Ii?(o.i=d,go(o.i,o.h)):(g||(d=$a(d,_c)),o.i=new Ii(d,o.h))}function Yt(o,d,g){o.i.set(d,g)}function Ka(o){return Yt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Rn(o,d){return o?d?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function $a(o,d,g){return typeof o=="string"?(o=encodeURI(o).replace(d,mo),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function mo(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var qs=/[#\/\?@]/g,Hs=/[#\?:]/g,yc=/[#\?]/g,_c=/[#\?@]/g,Pr=/#/g;function Ii(o,d){this.h=this.g=null,this.i=o||null,this.j=!!d}function wn(o){o.g||(o.g=new Map,o.h=0,o.i&&pc(o.i,function(d,g){o.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}r=Ii.prototype,r.add=function(o,d){wn(this),this.i=null,o=ai(this,o);var g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(d),this.h+=1,this};function Ni(o,d){wn(o),d=ai(o,d),o.g.has(d)&&(o.i=null,o.h-=o.g.get(d).length,o.g.delete(d))}function xi(o,d){return wn(o),d=ai(o,d),o.g.has(d)}r.forEach=function(o,d){wn(this),this.g.forEach(function(g,T){g.forEach(function(j){o.call(d,j,T,this)},this)},this)},r.na=function(){wn(this);const o=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let T=0;T<d.length;T++){const j=o[T];for(let q=0;q<j.length;q++)g.push(d[T])}return g},r.V=function(o){wn(this);let d=[];if(typeof o=="string")xi(this,o)&&(d=d.concat(this.g.get(ai(this,o))));else{o=Array.from(this.g.values());for(let g=0;g<o.length;g++)d=d.concat(o[g])}return d},r.set=function(o,d){return wn(this),this.i=null,o=ai(this,o),xi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[d]),this.h+=1,this},r.get=function(o,d){return o?(o=this.V(o),0<o.length?String(o[0]):d):d};function Gs(o,d,g){Ni(o,d),0<g.length&&(o.i=null,o.g.set(ai(o,d),nt(g)),o.h+=g.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var T=d[g];const q=encodeURIComponent(String(T)),et=this.V(T);for(T=0;T<et.length;T++){var j=q;et[T]!==""&&(j+="="+encodeURIComponent(String(et[T]))),o.push(j)}}return this.i=o.join("&")};function ai(o,d){return d=String(d),o.j&&(d=d.toLowerCase()),d}function go(o,d){d&&!o.j&&(wn(o),o.i=null,o.g.forEach(function(g,T){var j=T.toLowerCase();T!=j&&(Ni(this,T),Gs(this,j,g))},o)),o.j=d}function Za(o,d){const g=new bn;if(y.Image){const T=new Image;T.onload=K(Cn,g,"TestLoadImage: loaded",!0,d,T),T.onerror=K(Cn,g,"TestLoadImage: error",!1,d,T),T.onabort=K(Cn,g,"TestLoadImage: abort",!1,d,T),T.ontimeout=K(Cn,g,"TestLoadImage: timeout",!1,d,T),y.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else d(!1)}function Gn(o,d){const g=new bn,T=new AbortController,j=setTimeout(()=>{T.abort(),Cn(g,"TestPingServer: timeout",!1,d)},1e4);fetch(o,{signal:T.signal}).then(q=>{clearTimeout(j),q.ok?Cn(g,"TestPingServer: ok",!0,d):Cn(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(j),Cn(g,"TestPingServer: error",!1,d)})}function Cn(o,d,g,T,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),T(g)}catch{}}function Ja(){this.g=new bi}function ri(o,d,g){const T=g||"";try{ks(o,function(j,q){let et=j;_(j)&&(et=dn(j)),d.push(T+q+"="+encodeURIComponent(et))})}catch(j){throw d.push(T+"type="+encodeURIComponent("_badmap")),j}}function la(o){this.l=o.Ub||null,this.j=o.eb||!1}$(la,na),la.prototype.g=function(){return new Mi(this.l,this.j)},la.prototype.i=(function(o){return function(){return o}})({});function Mi(o,d){ie.call(this),this.D=o,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(Mi,ie),r=Mi.prototype,r.open=function(o,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=d,this.readyState=1,li(this)},r.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(d.body=o),(this.D||y).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},r.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof y.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qs(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qs(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}r.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var d=o.value?o.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!o.done}))&&(this.response=this.responseText+=d)}o.done?si(this):li(this),this.readyState==3&&Qs(this)}},r.Ra=function(o){this.g&&(this.response=this.responseText=o,si(this))},r.Qa=function(o){this.g&&(this.response=o,si(this))},r.ga=function(){this.g&&si(this)};function si(o){o.readyState=4,o.l=null,o.j=null,o.v=null,li(o)}r.setRequestHeader=function(o,d){this.u.append(o,d)},r.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=d.next();return o.join(`\r
`)};function li(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Fs(o){let d="";return xt(o,function(g,T){d+=T,d+=":",d+=g,d+=`\r
`}),d}function De(o,d,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Fs(g),typeof o=="string"?g!=null&&encodeURIComponent(String(g)):Yt(o,d,g))}function Ht(o){ie.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(Ht,ie);var Br=/^https?$/i,Wa=["POST","PUT"];r=Ht.prototype,r.Ha=function(o){this.J=o},r.ea=function(o,d,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);d=d?d.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ei.g(),this.v=this.o?ka(this.o):ka(ei),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(d,String(o),!0),this.B=!1}catch(q){po(this,q);return}if(o=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var j in T)g.set(j,T[j]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())g.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(q=>q.toLowerCase()=="content-type"),j=y.FormData&&o instanceof y.FormData,!(0<=Array.prototype.indexOf.call(Wa,d,void 0))||T||j||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of g)this.g.setRequestHeader(q,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tr(this),this.u=!0,this.g.send(o),this.u=!1}catch(q){po(this,q)}};function po(o,d){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=d,o.m=5,kr(o),oi(o)}function kr(o){o.A||(o.A=!0,kt(o,"complete"),kt(o,"error"))}r.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,kt(this,"complete"),kt(this,"abort"),oi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oi(this,!0)),Ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?qr(this):this.bb())},r.bb=function(){qr(this)};function qr(o){if(o.h&&typeof m<"u"&&(!o.v[1]||Dn(o)!=4||o.Z()!=2)){if(o.u&&Dn(o)==4)Ce(o.Ea,0,o);else if(kt(o,"readystatechange"),Dn(o)==4){o.h=!1;try{const et=o.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break t;default:d=!1}var g;if(!(g=d)){var T;if(T=et===0){var j=String(o.D).match(Ya)[1]||null;!j&&y.self&&y.self.location&&(j=y.self.location.protocol.slice(0,-1)),T=!Br.test(j?j.toLowerCase():"")}g=T}if(g)kt(o,"complete"),kt(o,"success");else{o.m=6;try{var q=2<Dn(o)?o.g.statusText:""}catch{q=""}o.l=q+" ["+o.Z()+"]",kr(o)}}finally{oi(o)}}}}function oi(o,d){if(o.g){tr(o);const g=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,d||kt(o,"ready");try{g.onreadystatechange=T}catch{}}}function tr(o){o.I&&(y.clearTimeout(o.I),o.I=null)}r.isActive=function(){return!!this.g};function Dn(o){return o.g?o.g.readyState:0}r.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(o){if(this.g){var d=this.g.responseText;return o&&d.indexOf(o)==0&&(d=d.substring(o.length)),ea(d)}};function yo(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function vc(o){const d={};o=(o.g&&2<=Dn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(vt(o[T]))continue;var g=O(o[T]);const j=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const q=d[j]||[];d[j]=q,q.push(g)}V(d,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function er(o,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||d}function Hr(o){this.Aa=0,this.i=[],this.j=new bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=er("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=er("baseRetryDelayMs",5e3,o),this.cb=er("retryDelaySeedMs",1e4,o),this.Wa=er("forwardChannelMaxRetries",2,o),this.wa=er("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Ci(o&&o.concurrentRequestLimit),this.Da=new Ja,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Hr.prototype,r.la=8,r.G=1,r.connect=function(o,d,g,T){Wt(0),this.W=o,this.H=d||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=bo(this,null,this.W),Qr(this)};function Ys(o){if(_o(o),o.G==3){var d=o.U++,g=mn(o.I);if(Yt(g,"SID",o.K),Yt(g,"RID",d),Yt(g,"TYPE","terminate"),nr(o,g),d=new tn(o,o.j,d),d.L=2,d.v=Ka(mn(g)),g=!1,y.navigator&&y.navigator.sendBeacon)try{g=y.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&y.Image&&(new Image().src=d.v,g=!0),g||(d.g=Ro(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Qa(d)}So(o)}function Gr(o){o.g&&(ir(o),o.g.cancel(),o.g=null)}function _o(o){Gr(o),o.u&&(y.clearTimeout(o.u),o.u=null),Fr(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&y.clearTimeout(o.s),o.s=null)}function Qr(o){if(!Ur(o.h)&&!o.s){o.s=!0;var d=o.Ga;W||C(),rt||(W(),rt=!0),Nt.add(d,o),o.B=0}}function Ec(o,d){return Lr(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=d.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=ae(I(o.Ga,o,d),$s(o,o.B)),o.B++,!0)}r.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const j=new tn(this,this.j,o);let q=this.o;if(this.S&&(q?(q=A(q),N(q,this.S)):q=this.S),this.m!==null||this.O||(j.H=q,q=null),this.P)t:{for(var d=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(d+=T,4096<d){d=g;break t}if(d===4096||g===this.i.length-1){d=g+1;break t}}d=1e3}else d=1e3;d=vo(this,j,d),g=mn(this.I),Yt(g,"RID",o),Yt(g,"CVER",22),this.D&&Yt(g,"X-HTTP-Session-Id",this.D),nr(this,g),q&&(this.O?d="headers="+encodeURIComponent(String(Fs(q)))+"&"+d:this.m&&De(g,this.m,q)),jr(this.h,j),this.Ua&&Yt(g,"TYPE","init"),this.P?(Yt(g,"$req",d),Yt(g,"SID","null"),j.T=!0,Hn(j,g,null)):Hn(j,g,d),this.G=2}}else this.G==3&&(o?Xs(this,o):this.i.length==0||Ur(this.h)||Xs(this))};function Xs(o,d){var g;d?g=d.l:g=o.U++;const T=mn(o.I);Yt(T,"SID",o.K),Yt(T,"RID",g),Yt(T,"AID",o.T),nr(o,T),o.m&&o.o&&De(T,o.m,o.o),g=new tn(o,o.j,g,o.B+1),o.m===null&&(g.H=o.o),d&&(o.i=d.D.concat(o.i)),d=vo(o,g,1e3),g.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),jr(o.h,g),Hn(g,T,d)}function nr(o,d){o.H&&xt(o.H,function(g,T){Yt(d,T,g)}),o.l&&ks({},function(g,T){Yt(d,T,g)})}function vo(o,d,g){g=Math.min(o.i.length,g);var T=o.l?I(o.l.Na,o.l,o):null;t:{var j=o.i;let q=-1;for(;;){const et=["count="+g];q==-1?0<g?(q=j[0].g,et.push("ofs="+q)):q=0:et.push("ofs="+q);let Ot=!0;for(let Se=0;Se<g;Se++){let Vt=j[Se].g;const Ie=j[Se].map;if(Vt-=q,0>Vt)q=Math.max(0,j[Se].g-100),Ot=!1;else try{ri(Ie,et,"req"+Vt+"_")}catch{T&&T(Ie)}}if(Ot){T=et.join("&");break t}}}return o=o.i.splice(0,g),d.D=o,T}function Eo(o){if(!o.g&&!o.u){o.Y=1;var d=o.Fa;W||C(),rt||(W(),rt=!0),Nt.add(d,o),o.v=0}}function Ks(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=ae(I(o.Fa,o),$s(o,o.v)),o.v++,!0)}r.Fa=function(){if(this.u=null,To(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=ae(I(this.ab,this),o)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Gr(this),To(this))};function ir(o){o.A!=null&&(y.clearTimeout(o.A),o.A=null)}function To(o){o.g=new tn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var d=mn(o.qa);Yt(d,"RID","rpc"),Yt(d,"SID",o.K),Yt(d,"AID",o.T),Yt(d,"CI",o.F?"0":"1"),!o.F&&o.ja&&Yt(d,"TO",o.ja),Yt(d,"TYPE","xmlhttp"),nr(o,d),o.m&&o.o&&De(d,o.m,o.o),o.L&&(o.g.I=o.L);var g=o.g;o=o.ia,g.L=1,g.v=Ka(mn(d)),g.m=null,g.P=!0,wi(g,o)}r.Za=function(){this.C!=null&&(this.C=null,Gr(this),Ks(this),Wt(19))};function Fr(o){o.C!=null&&(y.clearTimeout(o.C),o.C=null)}function Ao(o,d){var g=null;if(o.g==d){Fr(o),ir(o),o.g=null;var T=2}else if(Ps(o.h,d))g=d.D,en(o.h,d),T=1;else return;if(o.G!=0){if(d.o)if(T==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var j=o.B;T=Mt(),kt(T,new me(T,g)),Qr(o)}else Eo(o);else if(j=d.s,j==3||j==0&&0<d.X||!(T==1&&Ec(o,d)||T==2&&Ks(o)))switch(g&&0<g.length&&(d=o.h,d.i=d.i.concat(g)),j){case 1:Oi(o,5);break;case 4:Oi(o,10);break;case 3:Oi(o,6);break;default:Oi(o,2)}}}function $s(o,d){let g=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(g*=2),g*d}function Oi(o,d){if(o.j.info("Error code "+d),d==2){var g=I(o.fb,o),T=o.Xa;const j=!T;T=new _e(T||"//www.google.com/images/cleardot.gif"),y.location&&y.location.protocol=="http"||Xa(T,"https"),Ka(T),j?Za(T.toString(),g):Gn(T.toString(),g)}else Wt(2);o.G=0,o.l&&o.l.sa(d),So(o),_o(o)}r.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function So(o){if(o.G=0,o.ka=[],o.l){const d=Bs(o.h);(d.length!=0||o.i.length!=0)&&(it(o.ka,d),it(o.ka,o.i),o.h.i.length=0,nt(o.i),o.i.length=0),o.l.ra()}}function bo(o,d,g){var T=g instanceof _e?mn(g):new _e(g);if(T.g!="")d&&(T.g=d+"."+T.g),sa(T,T.s);else{var j=y.location;T=j.protocol,d=d?d+"."+j.hostname:j.hostname,j=+j.port;var q=new _e(null);T&&Xa(q,T),d&&(q.g=d),j&&sa(q,j),g&&(q.l=g),T=q}return g=o.D,d=o.ya,g&&d&&Yt(T,g,d),Yt(T,"VER",o.la),nr(o,T),T}function Ro(o,d,g){if(d&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=o.Ca&&!o.pa?new Ht(new la({eb:g})):new Ht(o.pa),d.Ha(o.J),d}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function wo(){}r=wo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Yr(){}Yr.prototype.g=function(o,d){return new nn(o,d)};function nn(o,d){ie.call(this),this.g=new Hr(d),this.l=o,this.h=d&&d.messageUrlParams||null,o=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(o?o["X-WebChannel-Content-Type"]=d.messageContentType:o={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(o?o["X-WebChannel-Client-Profile"]=d.va:o={"X-WebChannel-Client-Profile":d.va}),this.g.S=o,(o=d&&d.Sb)&&!vt(o)&&(this.g.m=o),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!vt(d)&&(this.g.D=d,o=this.h,o!==null&&d in o&&(o=this.h,d in o&&delete o[d])),this.j=new ui(this)}$(nn,ie),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Ys(this.g)},nn.prototype.o=function(o){var d=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.u&&(g={},g.__data__=dn(o),o=g);d.i.push(new ho(d.Ya++,o)),d.G==3&&Qr(d)},nn.prototype.N=function(){this.g.l=null,delete this.j,Ys(this.g),delete this.g,nn.aa.N.call(this)};function Co(o){kn.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var d=o.__sm__;if(d){t:{for(const g in d){o=g;break t}o=void 0}(this.i=o)&&(o=this.i,d=d!==null&&o in d?d[o]:void 0),this.data=d}else this.data=o}$(Co,kn);function Do(){Ha.call(this),this.status=1}$(Do,Ha);function ui(o){this.g=o}$(ui,wo),ui.prototype.ua=function(){kt(this.g,"a")},ui.prototype.ta=function(o){kt(this.g,new Co(o))},ui.prototype.sa=function(o){kt(this.g,new Do)},ui.prototype.ra=function(){kt(this.g,"b")},Yr.prototype.createWebChannel=Yr.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,x0=function(){return new Yr},N0=function(){return Mt()},I0=qn,Vh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},aa.NO_ERROR=0,aa.TIMEOUT=8,aa.HTTP_ERROR=6,Uu=aa,Ri.COMPLETE="complete",D0=Ri,qa.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",ie.prototype.listen=ie.prototype.K,Bl=qa,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,C0=Ht}).apply(typeof Iu<"u"?Iu:typeof self<"u"?self:typeof window<"u"?window:{});const oy="@firebase/firestore",uy="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(n){this.uid=n}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ms="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new $h("@firebase/firestore");function As(){return Rr.logLevel}function st(r,...n){if(Rr.logLevel<=jt.DEBUG){const a=n.map(td);Rr.debug(`Firestore (${Ms}): ${r}`,...a)}}function wr(r,...n){if(Rr.logLevel<=jt.ERROR){const a=n.map(td);Rr.error(`Firestore (${Ms}): ${r}`,...a)}}function ic(r,...n){if(Rr.logLevel<=jt.WARN){const a=n.map(td);Rr.warn(`Firestore (${Ms}): ${r}`,...a)}}function td(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(a){return JSON.stringify(a)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(r,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,M0(r,l,a)}function M0(r,n,a){let l=`FIRESTORE (${Ms}) INTERNAL ASSERTION FAILED: ${n} (ID: ${r.toString(16)})`;if(a!==void 0)try{l+=" CONTEXT: "+JSON.stringify(a)}catch{l+=" CONTEXT: "+a}throw wr(l),new Error(l)}function de(r,n,a,l){let u="Unexpected state";typeof a=="string"?u=a:l=a,r||M0(n,u,l)}function ee(r,n){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends ja{constructor(n,a){super(n,a),this.code=n,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(){this.promise=new Promise(((n,a)=>{this.resolve=n,this.reject=a}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(n,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class x1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,a){n.enqueueRetryable((()=>a(Ze.UNAUTHENTICATED)))}shutdown(){}}class M1{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,a){this.changeListener=a,n.enqueueRetryable((()=>a(this.token.user)))}shutdown(){this.changeListener=null}}class O1{constructor(n){this.t=n,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,a){de(this.o===void 0,42304);let l=this.i;const u=v=>this.i!==l?(l=this.i,a(v)):Promise.resolve();let h=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ar,n.enqueueRetryable((()=>u(this.currentUser)))};const m=()=>{const v=h;n.enqueueRetryable((async()=>{await v.promise,await u(this.currentUser)}))},y=v=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ar)}}),0),m()}getToken(){const n=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then((l=>this.i!==n?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(de(typeof l.accessToken=="string",31837,{l}),new O0(l.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return de(n===null||typeof n=="string",2055,{h:n}),new Ze(n)}}class V1{constructor(n,a,l){this.P=n,this.T=a,this.I=l,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const n=this.R();return n&&this.A.set("Authorization",n),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class U1{constructor(n,a,l){this.P=n,this.T=a,this.I=l}getToken(){return Promise.resolve(new V1(this.P,this.T,this.I))}start(n,a){n.enqueueRetryable((()=>a(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cy{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L1{constructor(n,a){this.V=a,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,g1(n)&&n.settings.appCheckToken&&(this.p=n.settings.appCheckToken)}start(n,a){de(this.o===void 0,3512);const l=h=>{h.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,st("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?a(h.token):Promise.resolve()};this.o=h=>{n.enqueueRetryable((()=>l(h)))};const u=h=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>u(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new cy(this.p));const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then((a=>a?(de(typeof a.token=="string",44558,{tokenResult:a}),this.m=a.token,new cy(a.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(r){const n=typeof self<"u"&&(self.crypto||self.msCrypto),a=new Uint8Array(r);if(n&&typeof n.getRandomValues=="function")n.getRandomValues(a);else for(let l=0;l<r;l++)a[l]=Math.floor(256*Math.random());return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{static newId(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=62*Math.floor(4.129032258064516);let l="";for(;l.length<20;){const u=j1(40);for(let h=0;h<u.length;++h)l.length<20&&u[h]<a&&(l+=n.charAt(u[h]%62))}return l}}function Gt(r,n){return r<n?-1:r>n?1:0}function Uh(r,n){const a=Math.min(r.length,n.length);for(let l=0;l<a;l++){const u=r.charAt(l),h=n.charAt(l);if(u!==h)return Ah(u)===Ah(h)?Gt(u,h):Ah(u)?1:-1}return Gt(r.length,n.length)}const z1=55296,P1=57343;function Ah(r){const n=r.charCodeAt(0);return n>=z1&&n<=P1}function Cs(r,n,a){return r.length===n.length&&r.every(((l,u)=>a(l,n[u])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="__name__";class pi{constructor(n,a,l){a===void 0?a=0:a>n.length&&Rt(637,{offset:a,range:n.length}),l===void 0?l=n.length-a:l>n.length-a&&Rt(1746,{length:l,range:n.length-a}),this.segments=n,this.offset=a,this.len=l}get length(){return this.len}isEqual(n){return pi.comparator(this,n)===0}child(n){const a=this.segments.slice(this.offset,this.limit());return n instanceof pi?n.forEach((l=>{a.push(l)})):a.push(n),this.construct(a)}limit(){return this.offset+this.length}popFirst(n){return n=n===void 0?1:n,this.construct(this.segments,this.offset+n,this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return this.length===0}isPrefixOf(n){if(n.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}forEach(n){for(let a=this.offset,l=this.limit();a<l;a++)n(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,a){const l=Math.min(n.length,a.length);for(let u=0;u<l;u++){const h=pi.compareSegments(n.get(u),a.get(u));if(h!==0)return h}return Gt(n.length,a.length)}static compareSegments(n,a){const l=pi.isNumericId(n),u=pi.isNumericId(a);return l&&!u?-1:!l&&u?1:l&&u?pi.extractNumericId(n).compare(pi.extractNumericId(a)):Uh(n,a)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return Wh.fromString(n.substring(4,n.length-2))}}class ue extends pi{construct(n,a,l){return new ue(n,a,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const a=[];for(const l of n){if(l.indexOf("//")>=0)throw new ft(Z.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);a.push(...l.split("/").filter((u=>u.length>0)))}return new ue(a)}static emptyPath(){return new ue([])}}const B1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends pi{construct(n,a,l){return new Ge(n,a,l)}static isValidIdentifier(n){return B1.test(n)}canonicalString(){return this.toArray().map((n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(n)||(n="`"+n+"`"),n))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fy}static keyField(){return new Ge([fy])}static fromServerFormat(n){const a=[];let l="",u=0;const h=()=>{if(l.length===0)throw new ft(Z.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(l),l=""};let m=!1;for(;u<n.length;){const y=n[u];if(y==="\\"){if(u+1===n.length)throw new ft(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const v=n[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ft(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);l+=v,u+=2}else y==="`"?(m=!m,u++):y!=="."||m?(l+=y,u++):(h(),u++)}if(h(),m)throw new ft(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Ge(a)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(n){this.path=n}static fromPath(n){return new At(ue.fromString(n))}static fromName(n){return new At(ue.fromString(n).popFirst(5))}static empty(){return new At(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return n!==null&&ue.comparator(this.path,n.path)===0}toString(){return this.path.toString()}static comparator(n,a){return ue.comparator(n.path,a.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new At(new ue(n.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(r,n,a){if(!a)throw new ft(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${n}.`)}function k1(r,n,a,l){if(n===!0&&l===!0)throw new ft(Z.INVALID_ARGUMENT,`${r} and ${a} cannot be used together.`)}function hy(r){if(!At.isDocumentKey(r))throw new ft(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function dy(r){if(At.isDocumentKey(r))throw new ft(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function U0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function nd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const n=(function(l){return l.constructor?l.constructor.name:null})(r);return n?`a custom ${n} object`:"an object"}}return typeof r=="function"?"a function":Rt(12329,{type:typeof r})}function L0(r,n){if("_delegate"in r&&(r=r._delegate),!(r instanceof n)){if(n.name===r.constructor.name)throw new ft(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=nd(r);throw new ft(Z.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${a}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(r,n){const a={typeString:r};return n&&(a.value=n),a}function no(r,n){if(!U0(r))throw new ft(Z.INVALID_ARGUMENT,"JSON must be an object");let a;for(const l in n)if(n[l]){const u=n[l].typeString,h="value"in n[l]?{value:n[l].value}:void 0;if(!(l in r)){a=`JSON missing required field: '${l}'`;break}const m=r[l];if(u&&typeof m!==u){a=`JSON field '${l}' must be a ${u}.`;break}if(h!==void 0&&m!==h.value){a=`Expected '${l}' field to equal '${h.value}'`;break}}if(a)throw new ft(Z.INVALID_ARGUMENT,a);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my=-62135596800,gy=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(n){return le.fromMillis(n.getTime())}static fromMillis(n){const a=Math.floor(n/1e3),l=Math.floor((n-1e3*a)*gy);return new le(a,l)}constructor(n,a){if(this.seconds=n,this.nanoseconds=a,a<0)throw new ft(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new ft(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(n<my)throw new ft(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new ft(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gy}_compareTo(n){return this.seconds===n.seconds?Gt(this.nanoseconds,n.nanoseconds):Gt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(n){if(no(n,le._jsonSchema))return new le(n.seconds,n.nanoseconds)}valueOf(){const n=this.seconds-my;return String(n).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Ae("string",le._jsonSchemaVersion),seconds:Ae("number"),nanoseconds:Ae("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{static fromTimestamp(n){return new se(n)}static min(){return new se(new le(0,0))}static max(){return new se(new le(253402300799,999999999))}constructor(n){this.timestamp=n}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=-1;function q1(r,n){const a=r.toTimestamp().seconds,l=r.toTimestamp().nanoseconds+1,u=se.fromTimestamp(l===1e9?new le(a+1,0):new le(a,l));return new Oa(u,At.empty(),n)}function H1(r){return new Oa(r.readTime,r.key,$l)}class Oa{constructor(n,a,l){this.readTime=n,this.documentKey=a,this.largestBatchId=l}static min(){return new Oa(se.min(),At.empty(),$l)}static max(){return new Oa(se.max(),At.empty(),$l)}}function G1(r,n){let a=r.readTime.compareTo(n.readTime);return a!==0?a:(a=At.comparator(r.documentKey,n.documentKey),a!==0?a:Gt(r.largestBatchId,n.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((n=>n()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==Q1)throw r;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n((a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)}),(a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)}))}catch(n){return this.next(void 0,n)}next(n,a){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(n,this.result):new X(((l,u)=>{this.nextCallback=h=>{this.wrapSuccess(n,h).next(l,u)},this.catchCallback=h=>{this.wrapFailure(a,h).next(l,u)}}))}toPromise(){return new Promise(((n,a)=>{this.next(n,a)}))}wrapUserFunction(n){try{const a=n();return a instanceof X?a:X.resolve(a)}catch(a){return X.reject(a)}}wrapSuccess(n,a){return n?this.wrapUserFunction((()=>n(a))):X.resolve(a)}wrapFailure(n,a){return n?this.wrapUserFunction((()=>n(a))):X.reject(a)}static resolve(n){return new X(((a,l)=>{a(n)}))}static reject(n){return new X(((a,l)=>{l(n)}))}static waitFor(n){return new X(((a,l)=>{let u=0,h=0,m=!1;n.forEach((y=>{++u,y.next((()=>{++h,m&&h===u&&a()}),(v=>l(v)))})),m=!0,h===u&&a()}))}static or(n){let a=X.resolve(!1);for(const l of n)a=a.next((u=>u?X.resolve(u):l()));return a}static forEach(n,a){const l=[];return n.forEach(((u,h)=>{l.push(a.call(this,u,h))})),this.waitFor(l)}static mapArray(n,a){return new X(((l,u)=>{const h=n.length,m=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;a(n[_]).next((S=>{m[_]=S,++y,y===h&&l(m)}),(S=>u(S)))}}))}static doWhile(n,a){return new X(((l,u)=>{const h=()=>{n()===!0?a().next((()=>{h()}),u):l()};h()}))}}function Y1(r){const n=r.match(/Android ([\d.]+)/i),a=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(a)}function io(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(n,a){this.previousValue=n,a&&(a.sequenceNumberHandler=l=>this.ae(l),this.ue=l=>a.writeSequenceNumber(l))}ae(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ue&&this.ue(n),n}}ad.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=-1;function sd(r){return r==null}function qu(r){return r===0&&1/r==-1/0}function X1(r){return typeof r=="number"&&Number.isInteger(r)&&!qu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="";function K1(r){let n="";for(let a=0;a<r.length;a++)n.length>0&&(n=py(n)),n=$1(r.get(a),n);return py(n)}function $1(r,n){let a=n;const l=r.length;for(let u=0;u<l;u++){const h=r.charAt(u);switch(h){case"\0":a+="";break;case j0:a+="";break;default:a+=h}}return a}function py(r){return r+j0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(r){let n=0;for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&n++;return n}function Os(r,n){for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&n(a,r[a])}function z0(r){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(n,a){this.comparator=n,this.root=a||qe.EMPTY}insert(n,a){return new cn(this.comparator,this.root.insert(n,a,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(n){return new cn(this.comparator,this.root.remove(n,this.comparator).copy(null,null,qe.BLACK,null,null))}get(n){let a=this.root;for(;!a.isEmpty();){const l=this.comparator(n,a.key);if(l===0)return a.value;l<0?a=a.left:l>0&&(a=a.right)}return null}indexOf(n){let a=0,l=this.root;for(;!l.isEmpty();){const u=this.comparator(n,l.key);if(u===0)return a+l.left.size;u<0?l=l.left:(a+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal(((a,l)=>(n(a,l),!1)))}toString(){const n=[];return this.inorderTraversal(((a,l)=>(n.push(`${a}:${l}`),!1))),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Nu(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Nu(this.root,n,this.comparator,!1)}getReverseIterator(){return new Nu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Nu(this.root,n,this.comparator,!0)}}class Nu{constructor(n,a,l,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!n.isEmpty();)if(h=a?l(n.key,a):1,a&&u&&(h*=-1),h<0)n=this.isReverse?n.left:n.right;else{if(h===0){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const a={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class qe{constructor(n,a,l,u,h){this.key=n,this.value=a,this.color=l??qe.RED,this.left=u??qe.EMPTY,this.right=h??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,a,l,u,h){return new qe(n??this.key,a??this.value,l??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,a,l){let u=this;const h=l(n,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(n,a,l),null):h===0?u.copy(null,a,null,null,null):u.copy(null,null,null,null,u.right.insert(n,a,l)),u.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,a){let l,u=this;if(a(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,a),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),a(n,u.key)===0){if(u.right.isEmpty())return qe.EMPTY;l=u.right.min(),u=u.copy(l.key,l.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,a))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,a)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const n=this.left.check();if(n!==this.right.check())throw Rt(27949);return n+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(n,a,l,u,h){return this}insert(n,a,l){return new qe(n,a)}remove(n,a){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(n){this.comparator=n,this.data=new cn(this.comparator)}has(n){return this.data.get(n)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal(((a,l)=>(n(a),!1)))}forEachInRange(n,a){const l=this.data.getIteratorFrom(n[0]);for(;l.hasNext();){const u=l.getNext();if(this.comparator(u.key,n[1])>=0)return;a(u.key)}}forEachWhile(n,a){let l;for(l=a!==void 0?this.data.getIteratorFrom(a):this.data.getIterator();l.hasNext();)if(!n(l.getNext().key))return}firstAfterOrEqual(n){const a=this.data.getIteratorFrom(n);return a.hasNext()?a.getNext().key:null}getIterator(){return new _y(this.data.getIterator())}getIteratorFrom(n){return new _y(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let a=this;return a.size<n.size&&(a=n,n=this),n.forEach((l=>{a=a.add(l)})),a}isEqual(n){if(!(n instanceof Qe)||this.size!==n.size)return!1;const a=this.data.getIterator(),l=n.data.getIterator();for(;a.hasNext();){const u=a.getNext().key,h=l.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const n=[];return this.forEach((a=>{n.push(a)})),n}toString(){const n=[];return this.forEach((a=>n.push(a))),"SortedSet("+n.toString()+")"}copy(n){const a=new Qe(this.comparator);return a.data=n,a}}class _y{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(n){this.fields=n,n.sort(Ge.comparator)}static empty(){return new Zn([])}unionWith(n){let a=new Qe(Ge.comparator);for(const l of this.fields)a=a.add(l);for(const l of n)a=a.add(l);return new Zn(a.toArray())}covers(n){for(const a of this.fields)if(a.isPrefixOf(n))return!0;return!1}isEqual(n){return Cs(this.fields,n.fields,((a,l)=>a.isEqual(l)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(n){this.binaryString=n}static fromBase64String(n){const a=(function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Z1("Invalid base64 string: "+h):h}})(n);return new _i(a)}static fromUint8Array(n){const a=(function(u){let h="";for(let m=0;m<u.length;++m)h+=String.fromCharCode(u[m]);return h})(n);return new _i(a)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(a){return btoa(a)})(this.binaryString)}toUint8Array(){return(function(a){const l=new Uint8Array(a.length);for(let u=0;u<a.length;u++)l[u]=a.charCodeAt(u);return l})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Gt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}_i.EMPTY_BYTE_STRING=new _i("");const J1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(r){if(de(!!r,39018),typeof r=="string"){let n=0;const a=J1.exec(r);if(de(!!a,46558,{timestamp:r}),a[1]){let u=a[1];u=(u+"000000000").substr(0,9),n=Number(u)}const l=new Date(r);return{seconds:Math.floor(l.getTime()/1e3),nanos:n}}return{seconds:He(r.seconds),nanos:He(r.nanos)}}function He(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ds(r){return typeof r=="string"?_i.fromBase64String(r):_i.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="server_timestamp",B0="__type__",k0="__previous_value__",q0="__local_write_time__";function ld(r){return(r?.mapValue?.fields||{})[B0]?.stringValue===P0}function od(r){const n=r.mapValue.fields[k0];return ld(n)?od(n):n}function Hu(r){const n=Cr(r.mapValue.fields[q0].timestampValue);return new le(n.seconds,n.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(n,a,l,u,h,m,y,v,_,S){this.databaseId=n,this.appId=a,this.persistenceKey=l,this.host=u,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=S}}const Gu="(default)";class Qu{constructor(n,a){this.projectId=n,this.database=a||Gu}static empty(){return new Qu("","")}get isDefaultDatabase(){return this.database===Gu}isEqual(n){return n instanceof Qu&&n.projectId===this.projectId&&n.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="__type__",tA="__max__",xu={mapValue:{}},G0="__vector__",Lh="value";function Dr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ld(r)?4:nA(r)?9007199254740991:eA(r)?10:11:Rt(28295,{value:r})}function vi(r,n){if(r===n)return!0;const a=Dr(r);if(a!==Dr(n))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===n.booleanValue;case 4:return Hu(r).isEqual(Hu(n));case 3:return(function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const m=Cr(u.timestampValue),y=Cr(h.timestampValue);return m.seconds===y.seconds&&m.nanos===y.nanos})(r,n);case 5:return r.stringValue===n.stringValue;case 6:return(function(u,h){return Ds(u.bytesValue).isEqual(Ds(h.bytesValue))})(r,n);case 7:return r.referenceValue===n.referenceValue;case 8:return(function(u,h){return He(u.geoPointValue.latitude)===He(h.geoPointValue.latitude)&&He(u.geoPointValue.longitude)===He(h.geoPointValue.longitude)})(r,n);case 2:return(function(u,h){if("integerValue"in u&&"integerValue"in h)return He(u.integerValue)===He(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const m=He(u.doubleValue),y=He(h.doubleValue);return m===y?qu(m)===qu(y):isNaN(m)&&isNaN(y)}return!1})(r,n);case 9:return Cs(r.arrayValue.values||[],n.arrayValue.values||[],vi);case 10:case 11:return(function(u,h){const m=u.mapValue.fields||{},y=h.mapValue.fields||{};if(yy(m)!==yy(y))return!1;for(const v in m)if(m.hasOwnProperty(v)&&(y[v]===void 0||!vi(m[v],y[v])))return!1;return!0})(r,n);default:return Rt(52216,{left:r})}}function Zl(r,n){return(r.values||[]).find((a=>vi(a,n)))!==void 0}function Is(r,n){if(r===n)return 0;const a=Dr(r),l=Dr(n);if(a!==l)return Gt(a,l);switch(a){case 0:case 9007199254740991:return 0;case 1:return Gt(r.booleanValue,n.booleanValue);case 2:return(function(h,m){const y=He(h.integerValue||h.doubleValue),v=He(m.integerValue||m.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,n);case 3:return vy(r.timestampValue,n.timestampValue);case 4:return vy(Hu(r),Hu(n));case 5:return Uh(r.stringValue,n.stringValue);case 6:return(function(h,m){const y=Ds(h),v=Ds(m);return y.compareTo(v)})(r.bytesValue,n.bytesValue);case 7:return(function(h,m){const y=h.split("/"),v=m.split("/");for(let _=0;_<y.length&&_<v.length;_++){const S=Gt(y[_],v[_]);if(S!==0)return S}return Gt(y.length,v.length)})(r.referenceValue,n.referenceValue);case 8:return(function(h,m){const y=Gt(He(h.latitude),He(m.latitude));return y!==0?y:Gt(He(h.longitude),He(m.longitude))})(r.geoPointValue,n.geoPointValue);case 9:return Ey(r.arrayValue,n.arrayValue);case 10:return(function(h,m){const y=h.fields||{},v=m.fields||{},_=y[Lh]?.arrayValue,S=v[Lh]?.arrayValue,M=Gt(_?.values?.length||0,S?.values?.length||0);return M!==0?M:Ey(_,S)})(r.mapValue,n.mapValue);case 11:return(function(h,m){if(h===xu.mapValue&&m===xu.mapValue)return 0;if(h===xu.mapValue)return 1;if(m===xu.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=m.fields||{},S=Object.keys(_);v.sort(),S.sort();for(let M=0;M<v.length&&M<S.length;++M){const I=Uh(v[M],S[M]);if(I!==0)return I;const K=Is(y[v[M]],_[S[M]]);if(K!==0)return K}return Gt(v.length,S.length)})(r.mapValue,n.mapValue);default:throw Rt(23264,{he:a})}}function vy(r,n){if(typeof r=="string"&&typeof n=="string"&&r.length===n.length)return Gt(r,n);const a=Cr(r),l=Cr(n),u=Gt(a.seconds,l.seconds);return u!==0?u:Gt(a.nanos,l.nanos)}function Ey(r,n){const a=r.values||[],l=n.values||[];for(let u=0;u<a.length&&u<l.length;++u){const h=Is(a[u],l[u]);if(h)return h}return Gt(a.length,l.length)}function Ns(r){return jh(r)}function jh(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(a){const l=Cr(a);return`time(${l.seconds},${l.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(a){return Ds(a).toBase64()})(r.bytesValue):"referenceValue"in r?(function(a){return At.fromName(a).toString()})(r.referenceValue):"geoPointValue"in r?(function(a){return`geo(${a.latitude},${a.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(a){let l="[",u=!0;for(const h of a.values||[])u?u=!1:l+=",",l+=jh(h);return l+"]"})(r.arrayValue):"mapValue"in r?(function(a){const l=Object.keys(a.fields||{}).sort();let u="{",h=!0;for(const m of l)h?h=!1:u+=",",u+=`${m}:${jh(a.fields[m])}`;return u+"}"})(r.mapValue):Rt(61005,{value:r})}function Lu(r){switch(Dr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=od(r);return n?16+Lu(n):16;case 5:return 2*r.stringValue.length;case 6:return Ds(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(l){return(l.values||[]).reduce(((u,h)=>u+Lu(h)),0)})(r.arrayValue);case 10:case 11:return(function(l){let u=0;return Os(l.fields,((h,m)=>{u+=h.length+Lu(m)})),u})(r.mapValue);default:throw Rt(13486,{value:r})}}function zh(r){return!!r&&"integerValue"in r}function ud(r){return!!r&&"arrayValue"in r}function ju(r){return!!r&&"mapValue"in r}function eA(r){return(r?.mapValue?.fields||{})[H0]?.stringValue===G0}function ql(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const n={mapValue:{fields:{}}};return Os(r.mapValue.fields,((a,l)=>n.mapValue.fields[a]=ql(l))),n}if(r.arrayValue){const n={arrayValue:{values:[]}};for(let a=0;a<(r.arrayValue.values||[]).length;++a)n.arrayValue.values[a]=ql(r.arrayValue.values[a]);return n}return{...r}}function nA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===tA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(n){this.value=n}static empty(){return new Kn({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let a=this.value;for(let l=0;l<n.length-1;++l)if(a=(a.mapValue.fields||{})[n.get(l)],!ju(a))return null;return a=(a.mapValue.fields||{})[n.lastSegment()],a||null}}set(n,a){this.getFieldsMap(n.popLast())[n.lastSegment()]=ql(a)}setAll(n){let a=Ge.emptyPath(),l={},u=[];n.forEach(((m,y)=>{if(!a.isImmediateParentOf(y)){const v=this.getFieldsMap(a);this.applyChanges(v,l,u),l={},u=[],a=y.popLast()}m?l[y.lastSegment()]=ql(m):u.push(y.lastSegment())}));const h=this.getFieldsMap(a);this.applyChanges(h,l,u)}delete(n){const a=this.field(n.popLast());ju(a)&&a.mapValue.fields&&delete a.mapValue.fields[n.lastSegment()]}isEqual(n){return vi(this.value,n.value)}getFieldsMap(n){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let l=0;l<n.length;++l){let u=a.mapValue.fields[n.get(l)];ju(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},a.mapValue.fields[n.get(l)]=u),a=u}return a.mapValue.fields}applyChanges(n,a,l){Os(a,((u,h)=>n[u]=h));for(const u of l)delete n[u]}clone(){return new Kn(ql(this.value))}}function Q0(r){const n=[];return Os(r.fields,((a,l)=>{const u=new Ge([a]);if(ju(l)){const h=Q0(l.mapValue).fields;if(h.length===0)n.push(u);else for(const m of h)n.push(u.child(m))}else n.push(u)})),new Zn(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(n,a,l,u,h,m,y){this.key=n,this.documentType=a,this.version=l,this.readTime=u,this.createTime=h,this.data=m,this.documentState=y}static newInvalidDocument(n){return new Xn(n,0,se.min(),se.min(),se.min(),Kn.empty(),0)}static newFoundDocument(n,a,l,u){return new Xn(n,1,a,se.min(),l,u,0)}static newNoDocument(n,a){return new Xn(n,2,a,se.min(),se.min(),Kn.empty(),0)}static newUnknownDocument(n,a){return new Xn(n,3,a,se.min(),se.min(),Kn.empty(),2)}convertToFoundDocument(n,a){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=n),this.version=n,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(n){return n instanceof Xn&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(n,a){this.position=n,this.inclusive=a}}function Ty(r,n,a){let l=0;for(let u=0;u<r.position.length;u++){const h=n[u],m=r.position[u];if(h.field.isKeyField()?l=At.comparator(At.fromName(m.referenceValue),a.key):l=Is(m,a.data.field(h.field)),h.dir==="desc"&&(l*=-1),l!==0)break}return l}function Ay(r,n){if(r===null)return n===null;if(n===null||r.inclusive!==n.inclusive||r.position.length!==n.position.length)return!1;for(let a=0;a<r.position.length;a++)if(!vi(r.position[a],n.position[a]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(n,a="asc"){this.field=n,this.dir=a}}function iA(r,n){return r.dir===n.dir&&r.field.isEqual(n.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{}class Ve extends F0{constructor(n,a,l){super(),this.field=n,this.op=a,this.value=l}static create(n,a,l){return n.isKeyField()?a==="in"||a==="not-in"?this.createKeyFieldInFilter(n,a,l):new rA(n,a,l):a==="array-contains"?new oA(n,l):a==="in"?new uA(n,l):a==="not-in"?new cA(n,l):a==="array-contains-any"?new fA(n,l):new Ve(n,a,l)}static createKeyFieldInFilter(n,a,l){return a==="in"?new sA(n,l):new lA(n,l)}matches(n){const a=n.data.field(this.field);return this.op==="!="?a!==null&&a.nullValue===void 0&&this.matchesComparison(Is(a,this.value)):a!==null&&Dr(this.value)===Dr(a)&&this.matchesComparison(Is(a,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Va extends F0{constructor(n,a){super(),this.filters=n,this.op=a,this.Pe=null}static create(n,a){return new Va(n,a)}matches(n){return Y0(this)?this.filters.find((a=>!a.matches(n)))===void 0:this.filters.find((a=>a.matches(n)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((n,a)=>n.concat(a.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Y0(r){return r.op==="and"}function X0(r){return aA(r)&&Y0(r)}function aA(r){for(const n of r.filters)if(n instanceof Va)return!1;return!0}function Ph(r){if(r instanceof Ve)return r.field.canonicalString()+r.op.toString()+Ns(r.value);if(X0(r))return r.filters.map((n=>Ph(n))).join(",");{const n=r.filters.map((a=>Ph(a))).join(",");return`${r.op}(${n})`}}function K0(r,n){return r instanceof Ve?(function(l,u){return u instanceof Ve&&l.op===u.op&&l.field.isEqual(u.field)&&vi(l.value,u.value)})(r,n):r instanceof Va?(function(l,u){return u instanceof Va&&l.op===u.op&&l.filters.length===u.filters.length?l.filters.reduce(((h,m,y)=>h&&K0(m,u.filters[y])),!0):!1})(r,n):void Rt(19439)}function $0(r){return r instanceof Ve?(function(a){return`${a.field.canonicalString()} ${a.op} ${Ns(a.value)}`})(r):r instanceof Va?(function(a){return a.op.toString()+" {"+a.getFilters().map($0).join(" ,")+"}"})(r):"Filter"}class rA extends Ve{constructor(n,a,l){super(n,a,l),this.key=At.fromName(l.referenceValue)}matches(n){const a=At.comparator(n.key,this.key);return this.matchesComparison(a)}}class sA extends Ve{constructor(n,a){super(n,"in",a),this.keys=Z0("in",a)}matches(n){return this.keys.some((a=>a.isEqual(n.key)))}}class lA extends Ve{constructor(n,a){super(n,"not-in",a),this.keys=Z0("not-in",a)}matches(n){return!this.keys.some((a=>a.isEqual(n.key)))}}function Z0(r,n){return(n.arrayValue?.values||[]).map((a=>At.fromName(a.referenceValue)))}class oA extends Ve{constructor(n,a){super(n,"array-contains",a)}matches(n){const a=n.data.field(this.field);return ud(a)&&Zl(a.arrayValue,this.value)}}class uA extends Ve{constructor(n,a){super(n,"in",a)}matches(n){const a=n.data.field(this.field);return a!==null&&Zl(this.value.arrayValue,a)}}class cA extends Ve{constructor(n,a){super(n,"not-in",a)}matches(n){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=n.data.field(this.field);return a!==null&&a.nullValue===void 0&&!Zl(this.value.arrayValue,a)}}class fA extends Ve{constructor(n,a){super(n,"array-contains-any",a)}matches(n){const a=n.data.field(this.field);return!(!ud(a)||!a.arrayValue.values)&&a.arrayValue.values.some((l=>Zl(this.value.arrayValue,l)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(n,a=null,l=[],u=[],h=null,m=null,y=null){this.path=n,this.collectionGroup=a,this.orderBy=l,this.filters=u,this.limit=h,this.startAt=m,this.endAt=y,this.Te=null}}function Sy(r,n=null,a=[],l=[],u=null,h=null,m=null){return new hA(r,n,a,l,u,h,m)}function cd(r){const n=ee(r);if(n.Te===null){let a=n.path.canonicalString();n.collectionGroup!==null&&(a+="|cg:"+n.collectionGroup),a+="|f:",a+=n.filters.map((l=>Ph(l))).join(","),a+="|ob:",a+=n.orderBy.map((l=>(function(h){return h.field.canonicalString()+h.dir})(l))).join(","),sd(n.limit)||(a+="|l:",a+=n.limit),n.startAt&&(a+="|lb:",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((l=>Ns(l))).join(",")),n.endAt&&(a+="|ub:",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((l=>Ns(l))).join(",")),n.Te=a}return n.Te}function fd(r,n){if(r.limit!==n.limit||r.orderBy.length!==n.orderBy.length)return!1;for(let a=0;a<r.orderBy.length;a++)if(!iA(r.orderBy[a],n.orderBy[a]))return!1;if(r.filters.length!==n.filters.length)return!1;for(let a=0;a<r.filters.length;a++)if(!K0(r.filters[a],n.filters[a]))return!1;return r.collectionGroup===n.collectionGroup&&!!r.path.isEqual(n.path)&&!!Ay(r.startAt,n.startAt)&&Ay(r.endAt,n.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(n,a=null,l=[],u=[],h=null,m="F",y=null,v=null){this.path=n,this.collectionGroup=a,this.explicitOrderBy=l,this.filters=u,this.limit=h,this.limitType=m,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dA(r,n,a,l,u,h,m,y){return new ac(r,n,a,l,u,h,m,y)}function mA(r){return new ac(r)}function by(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function gA(r){return r.collectionGroup!==null}function Hl(r){const n=ee(r);if(n.Ie===null){n.Ie=[];const a=new Set;for(const h of n.explicitOrderBy)n.Ie.push(h),a.add(h.field.canonicalString());const l=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(m){let y=new Qe(Ge.comparator);return m.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(n).forEach((h=>{a.has(h.canonicalString())||h.isKeyField()||n.Ie.push(new Yu(h,l))})),a.has(Ge.keyField().canonicalString())||n.Ie.push(new Yu(Ge.keyField(),l))}return n.Ie}function Sr(r){const n=ee(r);return n.Ee||(n.Ee=pA(n,Hl(r))),n.Ee}function pA(r,n){if(r.limitType==="F")return Sy(r.path,r.collectionGroup,n,r.filters,r.limit,r.startAt,r.endAt);{n=n.map((u=>{const h=u.dir==="desc"?"asc":"desc";return new Yu(u.field,h)}));const a=r.endAt?new Fu(r.endAt.position,r.endAt.inclusive):null,l=r.startAt?new Fu(r.startAt.position,r.startAt.inclusive):null;return Sy(r.path,r.collectionGroup,n,r.filters,r.limit,a,l)}}function Bh(r,n,a){return new ac(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),n,a,r.startAt,r.endAt)}function J0(r,n){return fd(Sr(r),Sr(n))&&r.limitType===n.limitType}function W0(r){return`${cd(Sr(r))}|lt:${r.limitType}`}function Pl(r){return`Query(target=${(function(a){let l=a.path.canonicalString();return a.collectionGroup!==null&&(l+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(l+=`, filters: [${a.filters.map((u=>$0(u))).join(", ")}]`),sd(a.limit)||(l+=", limit: "+a.limit),a.orderBy.length>0&&(l+=`, orderBy: [${a.orderBy.map((u=>(function(m){return`${m.field.canonicalString()} (${m.dir})`})(u))).join(", ")}]`),a.startAt&&(l+=", startAt: ",l+=a.startAt.inclusive?"b:":"a:",l+=a.startAt.position.map((u=>Ns(u))).join(",")),a.endAt&&(l+=", endAt: ",l+=a.endAt.inclusive?"a:":"b:",l+=a.endAt.position.map((u=>Ns(u))).join(",")),`Target(${l})`})(Sr(r))}; limitType=${r.limitType})`}function hd(r,n){return n.isFoundDocument()&&(function(l,u){const h=u.key.path;return l.collectionGroup!==null?u.key.hasCollectionId(l.collectionGroup)&&l.path.isPrefixOf(h):At.isDocumentKey(l.path)?l.path.isEqual(h):l.path.isImmediateParentOf(h)})(r,n)&&(function(l,u){for(const h of Hl(l))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0})(r,n)&&(function(l,u){for(const h of l.filters)if(!h.matches(u))return!1;return!0})(r,n)&&(function(l,u){return!(l.startAt&&!(function(m,y,v){const _=Ty(m,y,v);return m.inclusive?_<=0:_<0})(l.startAt,Hl(l),u)||l.endAt&&!(function(m,y,v){const _=Ty(m,y,v);return m.inclusive?_>=0:_>0})(l.endAt,Hl(l),u))})(r,n)}function yA(r){return(n,a)=>{let l=!1;for(const u of Hl(r)){const h=_A(u,n,a);if(h!==0)return h;l=l||u.field.isKeyField()}return 0}}function _A(r,n,a){const l=r.field.isKeyField()?At.comparator(n.key,a.key):(function(h,m,y){const v=m.data.field(h),_=y.data.field(h);return v!==null&&_!==null?Is(v,_):Rt(42886)})(r.field,n,a);switch(r.dir){case"asc":return l;case"desc":return-1*l;default:return Rt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(n,a){this.mapKeyFn=n,this.equalsFn=a,this.inner={},this.innerSize=0}get(n){const a=this.mapKeyFn(n),l=this.inner[a];if(l!==void 0){for(const[u,h]of l)if(this.equalsFn(u,n))return h}}has(n){return this.get(n)!==void 0}set(n,a){const l=this.mapKeyFn(n),u=this.inner[l];if(u===void 0)return this.inner[l]=[[n,a]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],n))return void(u[h]=[n,a]);u.push([n,a]),this.innerSize++}delete(n){const a=this.mapKeyFn(n),l=this.inner[a];if(l===void 0)return!1;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],n))return l.length===1?delete this.inner[a]:l.splice(u,1),this.innerSize--,!0;return!1}forEach(n){Os(this.inner,((a,l)=>{for(const[u,h]of l)n(u,h)}))}isEmpty(){return z0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=new cn(At.comparator);function Xu(){return vA}const t_=new cn(At.comparator);function Mu(...r){let n=t_;for(const a of r)n=n.insert(a.key,a);return n}function e_(r){let n=t_;return r.forEach(((a,l)=>n=n.insert(a,l.overlayedDocument))),n}function Er(){return Gl()}function n_(){return Gl()}function Gl(){return new xr((r=>r.toString()),((r,n)=>r.isEqual(n)))}const EA=new cn(At.comparator),TA=new Qe(At.comparator);function Je(...r){let n=TA;for(const a of r)n=n.add(a);return n}const AA=new Qe(Gt);function SA(){return AA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(r,n){if(r.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qu(n)?"-0":n}}function i_(r){return{integerValue:""+r}}function bA(r,n){return X1(n)?i_(n):dd(r,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this._=void 0}}function RA(r,n,a){return r instanceof Jl?(function(u,h){const m={fields:{[B0]:{stringValue:P0},[q0]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&ld(h)&&(h=od(h)),h&&(m.fields[k0]=h),{mapValue:m}})(a,n):r instanceof Wl?r_(r,n):r instanceof to?s_(r,n):(function(u,h){const m=a_(u,h),y=Ry(m)+Ry(u.Ae);return zh(m)&&zh(u.Ae)?i_(y):dd(u.serializer,y)})(r,n)}function wA(r,n,a){return r instanceof Wl?r_(r,n):r instanceof to?s_(r,n):a}function a_(r,n){return r instanceof Ku?(function(l){return zh(l)||(function(h){return!!h&&"doubleValue"in h})(l)})(n)?n:{integerValue:0}:null}class Jl extends rc{}class Wl extends rc{constructor(n){super(),this.elements=n}}function r_(r,n){const a=l_(n);for(const l of r.elements)a.some((u=>vi(u,l)))||a.push(l);return{arrayValue:{values:a}}}class to extends rc{constructor(n){super(),this.elements=n}}function s_(r,n){let a=l_(n);for(const l of r.elements)a=a.filter((u=>!vi(u,l)));return{arrayValue:{values:a}}}class Ku extends rc{constructor(n,a){super(),this.serializer=n,this.Ae=a}}function Ry(r){return He(r.integerValue||r.doubleValue)}function l_(r){return ud(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(n,a){this.field=n,this.transform=a}}function DA(r,n){return r.field.isEqual(n.field)&&(function(l,u){return l instanceof Wl&&u instanceof Wl||l instanceof to&&u instanceof to?Cs(l.elements,u.elements,vi):l instanceof Ku&&u instanceof Ku?vi(l.Ae,u.Ae):l instanceof Jl&&u instanceof Jl})(r.transform,n.transform)}class IA{constructor(n,a){this.version=n,this.transformResults=a}}class Xi{constructor(n,a){this.updateTime=n,this.exists=a}static none(){return new Xi}static exists(n){return new Xi(void 0,n)}static updateTime(n){return new Xi(n)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function zu(r,n){return r.updateTime!==void 0?n.isFoundDocument()&&n.version.isEqual(r.updateTime):r.exists===void 0||r.exists===n.isFoundDocument()}class sc{}function o_(r,n){if(!r.hasLocalMutations||n&&n.fields.length===0)return null;if(n===null)return r.isNoDocument()?new c_(r.key,Xi.none()):new ao(r.key,r.data,Xi.none());{const a=r.data,l=Kn.empty();let u=new Qe(Ge.comparator);for(let h of n.fields)if(!u.has(h)){let m=a.field(h);m===null&&h.length>1&&(h=h.popLast(),m=a.field(h)),m===null?l.delete(h):l.set(h,m),u=u.add(h)}return new Mr(r.key,l,new Zn(u.toArray()),Xi.none())}}function NA(r,n,a){r instanceof ao?(function(u,h,m){const y=u.value.clone(),v=Cy(u.fieldTransforms,h,m.transformResults);y.setAll(v),h.convertToFoundDocument(m.version,y).setHasCommittedMutations()})(r,n,a):r instanceof Mr?(function(u,h,m){if(!zu(u.precondition,h))return void h.convertToUnknownDocument(m.version);const y=Cy(u.fieldTransforms,h,m.transformResults),v=h.data;v.setAll(u_(u)),v.setAll(y),h.convertToFoundDocument(m.version,v).setHasCommittedMutations()})(r,n,a):(function(u,h,m){h.convertToNoDocument(m.version).setHasCommittedMutations()})(0,n,a)}function Ql(r,n,a,l){return r instanceof ao?(function(h,m,y,v){if(!zu(h.precondition,m))return y;const _=h.value.clone(),S=Dy(h.fieldTransforms,v,m);return _.setAll(S),m.convertToFoundDocument(m.version,_).setHasLocalMutations(),null})(r,n,a,l):r instanceof Mr?(function(h,m,y,v){if(!zu(h.precondition,m))return y;const _=Dy(h.fieldTransforms,v,m),S=m.data;return S.setAll(u_(h)),S.setAll(_),m.convertToFoundDocument(m.version,S).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((M=>M.field)))})(r,n,a,l):(function(h,m,y){return zu(h.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):y})(r,n,a)}function xA(r,n){let a=null;for(const l of r.fieldTransforms){const u=n.data.field(l.field),h=a_(l.transform,u||null);h!=null&&(a===null&&(a=Kn.empty()),a.set(l.field,h))}return a||null}function wy(r,n){return r.type===n.type&&!!r.key.isEqual(n.key)&&!!r.precondition.isEqual(n.precondition)&&!!(function(l,u){return l===void 0&&u===void 0||!(!l||!u)&&Cs(l,u,((h,m)=>DA(h,m)))})(r.fieldTransforms,n.fieldTransforms)&&(r.type===0?r.value.isEqual(n.value):r.type!==1||r.data.isEqual(n.data)&&r.fieldMask.isEqual(n.fieldMask))}class ao extends sc{constructor(n,a,l,u=[]){super(),this.key=n,this.value=a,this.precondition=l,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Mr extends sc{constructor(n,a,l,u,h=[]){super(),this.key=n,this.data=a,this.fieldMask=l,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function u_(r){const n=new Map;return r.fieldMask.fields.forEach((a=>{if(!a.isEmpty()){const l=r.data.field(a);n.set(a,l)}})),n}function Cy(r,n,a){const l=new Map;de(r.length===a.length,32656,{Re:a.length,Ve:r.length});for(let u=0;u<a.length;u++){const h=r[u],m=h.transform,y=n.data.field(h.field);l.set(h.field,wA(m,y,a[u]))}return l}function Dy(r,n,a){const l=new Map;for(const u of r){const h=u.transform,m=a.data.field(u.field);l.set(u.field,RA(h,m,n))}return l}class c_ extends sc{constructor(n,a){super(),this.key=n,this.precondition=a,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MA extends sc{constructor(n,a){super(),this.key=n,this.precondition=a,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(n,a,l,u){this.batchId=n,this.localWriteTime=a,this.baseMutations=l,this.mutations=u}applyToRemoteDocument(n,a){const l=a.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(n.key)&&NA(h,n,l[u])}}applyToLocalView(n,a){for(const l of this.baseMutations)l.key.isEqual(n.key)&&(a=Ql(l,n,a,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(n.key)&&(a=Ql(l,n,a,this.localWriteTime));return a}applyToLocalDocumentSet(n,a){const l=n_();return this.mutations.forEach((u=>{const h=n.get(u.key),m=h.overlayedDocument;let y=this.applyToLocalView(m,h.mutatedFields);y=a.has(u.key)?null:y;const v=o_(m,y);v!==null&&l.set(u.key,v),m.isValidDocument()||m.convertToNoDocument(se.min())})),l}keys(){return this.mutations.reduce(((n,a)=>n.add(a.key)),Je())}isEqual(n){return this.batchId===n.batchId&&Cs(this.mutations,n.mutations,((a,l)=>wy(a,l)))&&Cs(this.baseMutations,n.baseMutations,((a,l)=>wy(a,l)))}}class md{constructor(n,a,l,u){this.batch=n,this.commitVersion=a,this.mutationResults=l,this.docVersions=u}static from(n,a,l){de(n.mutations.length===l.length,58842,{me:n.mutations.length,fe:l.length});let u=(function(){return EA})();const h=n.mutations;for(let m=0;m<h.length;m++)u=u.insert(h[m].key,l[m].version);return new md(n,a,l,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(n,a){this.largestBatchId=n,this.mutation=a}getKey(){return this.mutation.key}isEqual(n){return n!==null&&this.mutation===n.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te,Lt;function UA(r){switch(r){case Z.OK:return Rt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Rt(15467,{code:r})}}function LA(r){if(r===void 0)return wr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Te.OK:return Z.OK;case Te.CANCELLED:return Z.CANCELLED;case Te.UNKNOWN:return Z.UNKNOWN;case Te.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Te.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Te.INTERNAL:return Z.INTERNAL;case Te.UNAVAILABLE:return Z.UNAVAILABLE;case Te.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Te.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Te.NOT_FOUND:return Z.NOT_FOUND;case Te.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Te.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Te.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Te.ABORTED:return Z.ABORTED;case Te.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Te.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Te.DATA_LOSS:return Z.DATA_LOSS;default:return Rt(39323,{code:r})}}(Lt=Te||(Te={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Wh([4294967295,4294967295],0);class jA{constructor(n,a){this.databaseId=n,this.useProto3Json=a}}function kh(r,n){return r.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function zA(r,n){return r.useProto3Json?n.toBase64():n.toUint8Array()}function PA(r,n){return kh(r,n.toTimestamp())}function Rs(r){return de(!!r,49232),se.fromTimestamp((function(a){const l=Cr(a);return new le(l.seconds,l.nanos)})(r))}function f_(r,n){return qh(r,n).canonicalString()}function qh(r,n){const a=(function(u){return new ue(["projects",u.projectId,"databases",u.database])})(r).child("documents");return n===void 0?a:a.child(n)}function BA(r){const n=ue.fromString(r);return de(XA(n),10190,{key:n.toString()}),n}function Hh(r,n){return f_(r.databaseId,n.path)}function kA(r){const n=BA(r);return n.length===4?ue.emptyPath():HA(n)}function qA(r){return new ue(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function HA(r){return de(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Iy(r,n,a){return{name:Hh(r,n),fields:a.value.mapValue.fields}}function GA(r,n){let a;if(n instanceof ao)a={update:Iy(r,n.key,n.value)};else if(n instanceof c_)a={delete:Hh(r,n.key)};else if(n instanceof Mr)a={update:Iy(r,n.key,n.data),updateMask:YA(n.fieldMask)};else{if(!(n instanceof MA))return Rt(16599,{Vt:n.type});a={verify:Hh(r,n.key)}}return n.fieldTransforms.length>0&&(a.updateTransforms=n.fieldTransforms.map((l=>(function(h,m){const y=m.transform;if(y instanceof Jl)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Wl)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof to)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Ku)return{fieldPath:m.field.canonicalString(),increment:y.Ae};throw Rt(20930,{transform:m.transform})})(0,l)))),n.precondition.isNone||(a.currentDocument=(function(u,h){return h.updateTime!==void 0?{updateTime:PA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Rt(27497)})(r,n.precondition)),a}function QA(r,n){return r&&r.length>0?(de(n!==void 0,14353),r.map((a=>(function(u,h){let m=u.updateTime?Rs(u.updateTime):Rs(h);return m.isEqual(se.min())&&(m=Rs(h)),new IA(m,u.transformResults||[])})(a,n)))):[]}function FA(r){let n=kA(r.parent);const a=r.structuredQuery,l=a.from?a.from.length:0;let u=null;if(l>0){de(l===1,65062);const S=a.from[0];S.allDescendants?u=S.collectionId:n=n.child(S.collectionId)}let h=[];a.where&&(h=(function(M){const I=h_(M);return I instanceof Va&&X0(I)?I.getFilters():[I]})(a.where));let m=[];a.orderBy&&(m=(function(M){return M.map((I=>(function($){return new Yu(Ss($.field),(function(it){switch(it){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(I)))})(a.orderBy));let y=null;a.limit&&(y=(function(M){let I;return I=typeof M=="object"?M.value:M,sd(I)?null:I})(a.limit));let v=null;a.startAt&&(v=(function(M){const I=!!M.before,K=M.values||[];return new Fu(K,I)})(a.startAt));let _=null;return a.endAt&&(_=(function(M){const I=!M.before,K=M.values||[];return new Fu(K,I)})(a.endAt)),dA(n,u,m,h,y,"F",v,_)}function h_(r){return r.unaryFilter!==void 0?(function(a){switch(a.unaryFilter.op){case"IS_NAN":const l=Ss(a.unaryFilter.field);return Ve.create(l,"==",{doubleValue:NaN});case"IS_NULL":const u=Ss(a.unaryFilter.field);return Ve.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ss(a.unaryFilter.field);return Ve.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Ss(a.unaryFilter.field);return Ve.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}})(r):r.fieldFilter!==void 0?(function(a){return Ve.create(Ss(a.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}})(a.fieldFilter.op),a.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(a){return Va.create(a.compositeFilter.filters.map((l=>h_(l))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}})(a.compositeFilter.op))})(r):Rt(30097,{filter:r})}function Ss(r){return Ge.fromServerFormat(r.fieldPath)}function YA(r){const n=[];return r.fields.forEach((a=>n.push(a.canonicalString()))),{fieldPaths:n}}function XA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(n){this.yt=n}}function $A(r){const n=FA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Bh(n,n.limit,"L"):n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.Cn=new JA}addToCollectionParentIndex(n,a){return this.Cn.add(a),X.resolve()}getCollectionParents(n,a){return X.resolve(this.Cn.getEntries(a))}addFieldIndex(n,a){return X.resolve()}deleteFieldIndex(n,a){return X.resolve()}deleteAllFieldIndexes(n){return X.resolve()}createTargetIndexes(n,a){return X.resolve()}getDocumentsMatchingTarget(n,a){return X.resolve(null)}getIndexType(n,a){return X.resolve(0)}getFieldIndexes(n,a){return X.resolve([])}getNextCollectionGroupToUpdate(n){return X.resolve(null)}getMinOffset(n,a){return X.resolve(Oa.min())}getMinOffsetFromCollectionGroup(n,a){return X.resolve(Oa.min())}updateCollectionGroup(n,a,l){return X.resolve()}updateIndexEntries(n,a){return X.resolve()}}class JA{constructor(){this.index={}}add(n){const a=n.lastSegment(),l=n.popLast(),u=this.index[a]||new Qe(ue.comparator),h=!u.has(l);return this.index[a]=u.add(l),h}has(n){const a=n.lastSegment(),l=n.popLast(),u=this.index[a];return u&&u.has(l)}getEntries(n){return(this.index[n]||new Qe(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},d_=41943040;class on{static withCacheSize(n){return new on(n,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,a,l){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(d_,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(n){this.ar=n}next(){return this.ar+=2,this.ar}static ur(){return new xs(0)}static cr(){return new xs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="LruGarbageCollector",WA=1048576;function My([r,n],[a,l]){const u=Gt(r,a);return u===0?Gt(n,l):u}class tS{constructor(n){this.Ir=n,this.buffer=new Qe(My),this.Er=0}dr(){return++this.Er}Ar(n){const a=[n,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(a);else{const l=this.buffer.last();My(a,l)<0&&(this.buffer=this.buffer.delete(l).add(a))}}get maxValue(){return this.buffer.last()[0]}}class eS{constructor(n,a,l){this.garbageCollector=n,this.asyncQueue=a,this.localStore=l,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(n){st(xy,`Garbage collection scheduled in ${n}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(a){io(a)?st(xy,"Ignoring IndexedDB error during garbage collection: ",a):await id(a)}await this.Vr(3e5)}))}}class nS{constructor(n,a){this.mr=n,this.params=a}calculateTargetCount(n,a){return this.mr.gr(n).next((l=>Math.floor(a/100*l)))}nthSequenceNumber(n,a){if(a===0)return X.resolve(ad.ce);const l=new tS(a);return this.mr.forEachTarget(n,(u=>l.Ar(u.sequenceNumber))).next((()=>this.mr.pr(n,(u=>l.Ar(u))))).next((()=>l.maxValue))}removeTargets(n,a,l){return this.mr.removeTargets(n,a,l)}removeOrphanedDocuments(n,a){return this.mr.removeOrphanedDocuments(n,a)}collect(n,a){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Ny)):this.getCacheSize(n).next((l=>l<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ny):this.yr(n,a)))}getCacheSize(n){return this.mr.getCacheSize(n)}yr(n,a){let l,u,h,m,y,v,_;const S=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next((M=>(M>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),u=this.params.maximumSequenceNumbersToCollect):u=M,m=Date.now(),this.nthSequenceNumber(n,u)))).next((M=>(l=M,y=Date.now(),this.removeTargets(n,l,a)))).next((M=>(h=M,v=Date.now(),this.removeOrphanedDocuments(n,l)))).next((M=>(_=Date.now(),As()<=jt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-S}ms
	Determined least recently used ${u} in `+(y-m)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${M} documents in `+(_-v)+`ms
Total Duration: ${_-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:M}))))}}function iS(r,n){return new nS(r,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.changes=new xr((n=>n.toString()),((n,a)=>n.isEqual(a))),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,a){this.assertNotApplied(),this.changes.set(n,Xn.newInvalidDocument(n).setReadTime(a))}getEntry(n,a){this.assertNotApplied();const l=this.changes.get(a);return l!==void 0?X.resolve(l):this.getFromCache(n,a)}getEntries(n,a){return this.getAllFromCache(n,a)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(n,a){this.overlayedDocument=n,this.mutatedFields=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(n,a,l,u){this.remoteDocumentCache=n,this.mutationQueue=a,this.documentOverlayCache=l,this.indexManager=u}getDocument(n,a){let l=null;return this.documentOverlayCache.getOverlay(n,a).next((u=>(l=u,this.remoteDocumentCache.getEntry(n,a)))).next((u=>(l!==null&&Ql(l.mutation,u,Zn.empty(),le.now()),u)))}getDocuments(n,a){return this.remoteDocumentCache.getEntries(n,a).next((l=>this.getLocalViewOfDocuments(n,l,Je()).next((()=>l))))}getLocalViewOfDocuments(n,a,l=Je()){const u=Er();return this.populateOverlays(n,u,a).next((()=>this.computeViews(n,a,u,l).next((h=>{let m=Mu();return h.forEach(((y,v)=>{m=m.insert(y,v.overlayedDocument)})),m}))))}getOverlayedDocuments(n,a){const l=Er();return this.populateOverlays(n,l,a).next((()=>this.computeViews(n,a,l,Je())))}populateOverlays(n,a,l){const u=[];return l.forEach((h=>{a.has(h)||u.push(h)})),this.documentOverlayCache.getOverlays(n,u).next((h=>{h.forEach(((m,y)=>{a.set(m,y)}))}))}computeViews(n,a,l,u){let h=Xu();const m=Gl(),y=(function(){return Gl()})();return a.forEach(((v,_)=>{const S=l.get(_.key);u.has(_.key)&&(S===void 0||S.mutation instanceof Mr)?h=h.insert(_.key,_):S!==void 0?(m.set(_.key,S.mutation.getFieldMask()),Ql(S.mutation,_,S.mutation.getFieldMask(),le.now())):m.set(_.key,Zn.empty())})),this.recalculateAndSaveOverlays(n,h).next((v=>(v.forEach(((_,S)=>m.set(_,S))),a.forEach(((_,S)=>y.set(_,new rS(S,m.get(_)??null)))),y)))}recalculateAndSaveOverlays(n,a){const l=Gl();let u=new cn(((m,y)=>m-y)),h=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,a).next((m=>{for(const y of m)y.keys().forEach((v=>{const _=a.get(v);if(_===null)return;let S=l.get(v)||Zn.empty();S=y.applyToLocalView(_,S),l.set(v,S);const M=(u.get(y.batchId)||Je()).add(v);u=u.insert(y.batchId,M)}))})).next((()=>{const m=[],y=u.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,S=v.value,M=n_();S.forEach((I=>{if(!h.has(I)){const K=o_(a.get(I),l.get(I));K!==null&&M.set(I,K),h=h.add(I)}})),m.push(this.documentOverlayCache.saveOverlays(n,_,M))}return X.waitFor(m)})).next((()=>l))}recalculateAndSaveOverlaysForDocumentKeys(n,a){return this.remoteDocumentCache.getEntries(n,a).next((l=>this.recalculateAndSaveOverlays(n,l)))}getDocumentsMatchingQuery(n,a,l,u){return(function(m){return At.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0})(a)?this.getDocumentsMatchingDocumentQuery(n,a.path):gA(a)?this.getDocumentsMatchingCollectionGroupQuery(n,a,l,u):this.getDocumentsMatchingCollectionQuery(n,a,l,u)}getNextDocuments(n,a,l,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,a,l,u).next((h=>{const m=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,a,l.largestBatchId,u-h.size):X.resolve(Er());let y=$l,v=h;return m.next((_=>X.forEach(_,((S,M)=>(y<M.largestBatchId&&(y=M.largestBatchId),h.get(S)?X.resolve():this.remoteDocumentCache.getEntry(n,S).next((I=>{v=v.insert(S,I)}))))).next((()=>this.populateOverlays(n,_,h))).next((()=>this.computeViews(n,v,_,Je()))).next((S=>({batchId:y,changes:e_(S)})))))}))}getDocumentsMatchingDocumentQuery(n,a){return this.getDocument(n,new At(a)).next((l=>{let u=Mu();return l.isFoundDocument()&&(u=u.insert(l.key,l)),u}))}getDocumentsMatchingCollectionGroupQuery(n,a,l,u){const h=a.collectionGroup;let m=Mu();return this.indexManager.getCollectionParents(n,h).next((y=>X.forEach(y,(v=>{const _=(function(M,I){return new ac(I,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt)})(a,v.child(h));return this.getDocumentsMatchingCollectionQuery(n,_,l,u).next((S=>{S.forEach(((M,I)=>{m=m.insert(M,I)}))}))})).next((()=>m))))}getDocumentsMatchingCollectionQuery(n,a,l,u){let h;return this.documentOverlayCache.getOverlaysForCollection(n,a.path,l.largestBatchId).next((m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(n,a,l,h,u)))).next((m=>{h.forEach(((v,_)=>{const S=_.getKey();m.get(S)===null&&(m=m.insert(S,Xn.newInvalidDocument(S)))}));let y=Mu();return m.forEach(((v,_)=>{const S=h.get(v);S!==void 0&&Ql(S.mutation,_,Zn.empty(),le.now()),hd(a,_)&&(y=y.insert(v,_))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(n){this.serializer=n,this.Lr=new Map,this.kr=new Map}getBundleMetadata(n,a){return X.resolve(this.Lr.get(a))}saveBundleMetadata(n,a){return this.Lr.set(a.id,(function(u){return{id:u.id,version:u.version,createTime:Rs(u.createTime)}})(a)),X.resolve()}getNamedQuery(n,a){return X.resolve(this.kr.get(a))}saveNamedQuery(n,a){return this.kr.set(a.name,(function(u){return{name:u.name,query:$A(u.bundledQuery),readTime:Rs(u.readTime)}})(a)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this.overlays=new cn(At.comparator),this.qr=new Map}getOverlay(n,a){return X.resolve(this.overlays.get(a))}getOverlays(n,a){const l=Er();return X.forEach(a,(u=>this.getOverlay(n,u).next((h=>{h!==null&&l.set(u,h)})))).next((()=>l))}saveOverlays(n,a,l){return l.forEach(((u,h)=>{this.St(n,a,h)})),X.resolve()}removeOverlaysForBatchId(n,a,l){const u=this.qr.get(l);return u!==void 0&&(u.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(l)),X.resolve()}getOverlaysForCollection(n,a,l){const u=Er(),h=a.length+1,m=new At(a.child("")),y=this.overlays.getIteratorFrom(m);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!a.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>l&&u.set(v.getKey(),v)}return X.resolve(u)}getOverlaysForCollectionGroup(n,a,l,u){let h=new cn(((_,S)=>_-S));const m=this.overlays.getIterator();for(;m.hasNext();){const _=m.getNext().value;if(_.getKey().getCollectionGroup()===a&&_.largestBatchId>l){let S=h.get(_.largestBatchId);S===null&&(S=Er(),h=h.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const y=Er(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,S)=>y.set(_,S))),!(y.size()>=u)););return X.resolve(y)}St(n,a,l){const u=this.overlays.get(l.key);if(u!==null){const m=this.qr.get(u.largestBatchId).delete(l.key);this.qr.set(u.largestBatchId,m)}this.overlays=this.overlays.insert(l.key,new VA(a,l));let h=this.qr.get(a);h===void 0&&(h=Je(),this.qr.set(a,h)),this.qr.set(a,h.add(l.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.sessionToken=_i.EMPTY_BYTE_STRING}getSessionToken(n){return X.resolve(this.sessionToken)}setSessionToken(n,a){return this.sessionToken=a,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(){this.Qr=new Qe(Oe.$r),this.Ur=new Qe(Oe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(n,a){const l=new Oe(n,a);this.Qr=this.Qr.add(l),this.Ur=this.Ur.add(l)}Wr(n,a){n.forEach((l=>this.addReference(l,a)))}removeReference(n,a){this.Gr(new Oe(n,a))}zr(n,a){n.forEach((l=>this.removeReference(l,a)))}jr(n){const a=new At(new ue([])),l=new Oe(a,n),u=new Oe(a,n+1),h=[];return this.Ur.forEachInRange([l,u],(m=>{this.Gr(m),h.push(m.key)})),h}Jr(){this.Qr.forEach((n=>this.Gr(n)))}Gr(n){this.Qr=this.Qr.delete(n),this.Ur=this.Ur.delete(n)}Hr(n){const a=new At(new ue([])),l=new Oe(a,n),u=new Oe(a,n+1);let h=Je();return this.Ur.forEachInRange([l,u],(m=>{h=h.add(m.key)})),h}containsKey(n){const a=new Oe(n,0),l=this.Qr.firstAfterOrEqual(a);return l!==null&&n.isEqual(l.key)}}class Oe{constructor(n,a){this.key=n,this.Yr=a}static $r(n,a){return At.comparator(n.key,a.key)||Gt(n.Yr,a.Yr)}static Kr(n,a){return Gt(n.Yr,a.Yr)||At.comparator(n.key,a.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(n,a){this.indexManager=n,this.referenceDelegate=a,this.mutationQueue=[],this.tr=1,this.Zr=new Qe(Oe.$r)}checkEmpty(n){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(n,a,l,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new OA(h,a,l,u);this.mutationQueue.push(m);for(const y of u)this.Zr=this.Zr.add(new Oe(y.key,h)),this.indexManager.addToCollectionParentIndex(n,y.key.path.popLast());return X.resolve(m)}lookupMutationBatch(n,a){return X.resolve(this.Xr(a))}getNextMutationBatchAfterBatchId(n,a){const l=a+1,u=this.ei(l),h=u<0?0:u;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?rd:this.tr-1)}getAllMutationBatches(n){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,a){const l=new Oe(a,0),u=new Oe(a,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([l,u],(m=>{const y=this.Xr(m.Yr);h.push(y)})),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(n,a){let l=new Qe(Gt);return a.forEach((u=>{const h=new Oe(u,0),m=new Oe(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,m],(y=>{l=l.add(y.Yr)}))})),X.resolve(this.ti(l))}getAllMutationBatchesAffectingQuery(n,a){const l=a.path,u=l.length+1;let h=l;At.isDocumentKey(h)||(h=h.child(""));const m=new Oe(new At(h),0);let y=new Qe(Gt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!l.isPrefixOf(_)&&(_.length===u&&(y=y.add(v.Yr)),!0)}),m),X.resolve(this.ti(y))}ti(n){const a=[];return n.forEach((l=>{const u=this.Xr(l);u!==null&&a.push(u)})),a}removeMutationBatch(n,a){de(this.ni(a.batchId,"removed")===0,55003),this.mutationQueue.shift();let l=this.Zr;return X.forEach(a.mutations,(u=>{const h=new Oe(u.key,a.batchId);return l=l.delete(h),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)})).next((()=>{this.Zr=l}))}ir(n){}containsKey(n,a){const l=new Oe(a,0),u=this.Zr.firstAfterOrEqual(l);return X.resolve(a.isEqual(u&&u.key))}performConsistencyCheck(n){return this.mutationQueue.length,X.resolve()}ni(n,a){return this.ei(n)}ei(n){return this.mutationQueue.length===0?0:n-this.mutationQueue[0].batchId}Xr(n){const a=this.ei(n);return a<0||a>=this.mutationQueue.length?null:this.mutationQueue[a]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(n){this.ri=n,this.docs=(function(){return new cn(At.comparator)})(),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,a){const l=a.key,u=this.docs.get(l),h=u?u.size:0,m=this.ri(a);return this.docs=this.docs.insert(l,{document:a.mutableCopy(),size:m}),this.size+=m-h,this.indexManager.addToCollectionParentIndex(n,l.path.popLast())}removeEntry(n){const a=this.docs.get(n);a&&(this.docs=this.docs.remove(n),this.size-=a.size)}getEntry(n,a){const l=this.docs.get(a);return X.resolve(l?l.document.mutableCopy():Xn.newInvalidDocument(a))}getEntries(n,a){let l=Xu();return a.forEach((u=>{const h=this.docs.get(u);l=l.insert(u,h?h.document.mutableCopy():Xn.newInvalidDocument(u))})),X.resolve(l)}getDocumentsMatchingQuery(n,a,l,u){let h=Xu();const m=a.path,y=new At(m.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:S}}=v.getNext();if(!m.isPrefixOf(_.path))break;_.path.length>m.length+1||G1(H1(S),l)<=0||(u.has(S.key)||hd(a,S))&&(h=h.insert(S.key,S.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(n,a,l,u){Rt(9500)}ii(n,a){return X.forEach(this.docs,(l=>a(l)))}newChangeBuffer(n){return new hS(this)}getSize(n){return X.resolve(this.size)}}class hS extends aS{constructor(n){super(),this.Nr=n}applyChanges(n){const a=[];return this.changes.forEach(((l,u)=>{u.isValidDocument()?a.push(this.Nr.addEntry(n,u)):this.Nr.removeEntry(l)})),X.waitFor(a)}getFromCache(n,a){return this.Nr.getEntry(n,a)}getAllFromCache(n,a){return this.Nr.getEntries(n,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(n){this.persistence=n,this.si=new xr((a=>cd(a)),fd),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.oi=0,this._i=new gd,this.targetCount=0,this.ai=xs.ur()}forEachTarget(n,a){return this.si.forEach(((l,u)=>a(u))),X.resolve()}getLastRemoteSnapshotVersion(n){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return X.resolve(this.oi)}allocateTargetId(n){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(n,a,l){return l&&(this.lastRemoteSnapshotVersion=l),a>this.oi&&(this.oi=a),X.resolve()}Pr(n){this.si.set(n.target,n);const a=n.targetId;a>this.highestTargetId&&(this.ai=new xs(a),this.highestTargetId=a),n.sequenceNumber>this.oi&&(this.oi=n.sequenceNumber)}addTargetData(n,a){return this.Pr(a),this.targetCount+=1,X.resolve()}updateTargetData(n,a){return this.Pr(a),X.resolve()}removeTargetData(n,a){return this.si.delete(a.target),this._i.jr(a.targetId),this.targetCount-=1,X.resolve()}removeTargets(n,a,l){let u=0;const h=[];return this.si.forEach(((m,y)=>{y.sequenceNumber<=a&&l.get(y.targetId)===null&&(this.si.delete(m),h.push(this.removeMatchingKeysForTargetId(n,y.targetId)),u++)})),X.waitFor(h).next((()=>u))}getTargetCount(n){return X.resolve(this.targetCount)}getTargetData(n,a){const l=this.si.get(a)||null;return X.resolve(l)}addMatchingKeys(n,a,l){return this._i.Wr(a,l),X.resolve()}removeMatchingKeys(n,a,l){this._i.zr(a,l);const u=this.persistence.referenceDelegate,h=[];return u&&a.forEach((m=>{h.push(u.markPotentiallyOrphaned(n,m))})),X.waitFor(h)}removeMatchingKeysForTargetId(n,a){return this._i.jr(a),X.resolve()}getMatchingKeysForTargetId(n,a){const l=this._i.Hr(a);return X.resolve(l)}containsKey(n,a){return X.resolve(this._i.containsKey(a))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(n,a){this.ui={},this.overlays={},this.ci=new ad(0),this.li=!1,this.li=!0,this.hi=new uS,this.referenceDelegate=n(this),this.Pi=new dS(this),this.indexManager=new ZA,this.remoteDocumentCache=(function(u){return new fS(u)})((l=>this.referenceDelegate.Ti(l))),this.serializer=new KA(a),this.Ii=new lS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let a=this.overlays[n.toKey()];return a||(a=new oS,this.overlays[n.toKey()]=a),a}getMutationQueue(n,a){let l=this.ui[n.toKey()];return l||(l=new cS(a,this.referenceDelegate),this.ui[n.toKey()]=l),l}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(n,a,l){st("MemoryPersistence","Starting transaction:",n);const u=new mS(this.ci.next());return this.referenceDelegate.Ei(),l(u).next((h=>this.referenceDelegate.di(u).next((()=>h)))).toPromise().then((h=>(u.raiseOnCommittedEvent(),h)))}Ai(n,a){return X.or(Object.values(this.ui).map((l=>()=>l.containsKey(n,a))))}}class mS extends F1{constructor(n){super(),this.currentSequenceNumber=n}}class pd{constructor(n){this.persistence=n,this.Ri=new gd,this.Vi=null}static mi(n){return new pd(n)}get fi(){if(this.Vi)return this.Vi;throw Rt(60996)}addReference(n,a,l){return this.Ri.addReference(l,a),this.fi.delete(l.toString()),X.resolve()}removeReference(n,a,l){return this.Ri.removeReference(l,a),this.fi.add(l.toString()),X.resolve()}markPotentiallyOrphaned(n,a){return this.fi.add(a.toString()),X.resolve()}removeTarget(n,a){this.Ri.jr(a.targetId).forEach((u=>this.fi.add(u.toString())));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(n,a.targetId).next((u=>{u.forEach((h=>this.fi.add(h.toString())))})).next((()=>l.removeTargetData(n,a)))}Ei(){this.Vi=new Set}di(n){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(l=>{const u=At.fromPath(l);return this.gi(n,u).next((h=>{h||a.removeEntry(u,se.min())}))})).next((()=>(this.Vi=null,a.apply(n))))}updateLimboDocument(n,a){return this.gi(n,a).next((l=>{l?this.fi.delete(a.toString()):this.fi.add(a.toString())}))}Ti(n){return 0}gi(n,a){return X.or([()=>X.resolve(this.Ri.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(n,a),()=>this.persistence.Ai(n,a)])}}class $u{constructor(n,a){this.persistence=n,this.pi=new xr((l=>K1(l.path)),((l,u)=>l.isEqual(u))),this.garbageCollector=iS(this,a)}static mi(n,a){return new $u(n,a)}Ei(){}di(n){return X.resolve()}forEachTarget(n,a){return this.persistence.getTargetCache().forEachTarget(n,a)}gr(n){const a=this.wr(n);return this.persistence.getTargetCache().getTargetCount(n).next((l=>a.next((u=>l+u))))}wr(n){let a=0;return this.pr(n,(l=>{a++})).next((()=>a))}pr(n,a){return X.forEach(this.pi,((l,u)=>this.br(n,l,u).next((h=>h?X.resolve():a(u)))))}removeTargets(n,a,l){return this.persistence.getTargetCache().removeTargets(n,a,l)}removeOrphanedDocuments(n,a){let l=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(n,(m=>this.br(n,m,a).next((y=>{y||(l++,h.removeEntry(m,se.min()))})))).next((()=>h.apply(n))).next((()=>l))}markPotentiallyOrphaned(n,a){return this.pi.set(a,n.currentSequenceNumber),X.resolve()}removeTarget(n,a){const l=a.withSequenceNumber(n.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(n,l)}addReference(n,a,l){return this.pi.set(l,n.currentSequenceNumber),X.resolve()}removeReference(n,a,l){return this.pi.set(l,n.currentSequenceNumber),X.resolve()}updateLimboDocument(n,a){return this.pi.set(a,n.currentSequenceNumber),X.resolve()}Ti(n){let a=n.key.toString().length;return n.isFoundDocument()&&(a+=Lu(n.data.value)),a}br(n,a,l){return X.or([()=>this.persistence.Ai(n,a),()=>this.persistence.getTargetCache().containsKey(n,a),()=>{const u=this.pi.get(a);return X.resolve(u!==void 0&&u>l)}])}getCacheSize(n){return this.persistence.getRemoteDocumentCache().getSize(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(n,a,l,u){this.targetId=n,this.fromCache=a,this.Es=l,this.ds=u}static As(n,a){let l=Je(),u=Je();for(const h of a.docChanges)switch(h.type){case 0:l=l.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new yd(n,a.fromCache,l,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fT()?8:Y1(oT())>0?6:4})()}initialize(n,a){this.ps=n,this.indexManager=a,this.Rs=!0}getDocumentsMatchingQuery(n,a,l,u){const h={result:null};return this.ys(n,a).next((m=>{h.result=m})).next((()=>{if(!h.result)return this.ws(n,a,u,l).next((m=>{h.result=m}))})).next((()=>{if(h.result)return;const m=new gS;return this.Ss(n,a,m).next((y=>{if(h.result=y,this.Vs)return this.bs(n,a,m,y.size)}))})).next((()=>h.result))}bs(n,a,l,u){return l.documentReadCount<this.fs?(As()<=jt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Pl(a),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(As()<=jt.DEBUG&&st("QueryEngine","Query:",Pl(a),"scans",l.documentReadCount,"local documents and returns",u,"documents as results."),l.documentReadCount>this.gs*u?(As()<=jt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Pl(a),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,Sr(a))):X.resolve())}ys(n,a){if(by(a))return X.resolve(null);let l=Sr(a);return this.indexManager.getIndexType(n,l).next((u=>u===0?null:(a.limit!==null&&u===1&&(a=Bh(a,null,"F"),l=Sr(a)),this.indexManager.getDocumentsMatchingTarget(n,l).next((h=>{const m=Je(...h);return this.ps.getDocuments(n,m).next((y=>this.indexManager.getMinOffset(n,l).next((v=>{const _=this.Ds(a,y);return this.Cs(a,_,m,v.readTime)?this.ys(n,Bh(a,null,"F")):this.vs(n,_,a,v)}))))})))))}ws(n,a,l,u){return by(a)||u.isEqual(se.min())?X.resolve(null):this.ps.getDocuments(n,l).next((h=>{const m=this.Ds(a,h);return this.Cs(a,m,l,u)?X.resolve(null):(As()<=jt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Pl(a)),this.vs(n,m,a,q1(u,$l)).next((y=>y)))}))}Ds(n,a){let l=new Qe(yA(n));return a.forEach(((u,h)=>{hd(n,h)&&(l=l.add(h))})),l}Cs(n,a,l,u){if(n.limit===null)return!1;if(l.size!==a.size)return!0;const h=n.limitType==="F"?a.last():a.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(n,a,l){return As()<=jt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Pl(a)),this.ps.getDocumentsMatchingQuery(n,a,Oa.min(),l)}vs(n,a,l,u){return this.ps.getDocumentsMatchingQuery(n,l,u).next((h=>(a.forEach((m=>{h=h.insert(m.key,m)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="LocalStore";class _S{constructor(n,a,l,u){this.persistence=n,this.Fs=a,this.serializer=u,this.Ms=new cn(Gt),this.xs=new xr((h=>cd(h)),fd),this.Os=new Map,this.Ns=n.getRemoteDocumentCache(),this.Pi=n.getTargetCache(),this.Ii=n.getBundleCache(),this.Bs(l)}Bs(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new sS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(a=>n.collect(a,this.Ms)))}}function vS(r,n,a,l){return new _S(r,n,a,l)}async function g_(r,n){const a=ee(r);return await a.persistence.runTransaction("Handle user change","readonly",(l=>{let u;return a.mutationQueue.getAllMutationBatches(l).next((h=>(u=h,a.Bs(n),a.mutationQueue.getAllMutationBatches(l)))).next((h=>{const m=[],y=[];let v=Je();for(const _ of u){m.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}for(const _ of h){y.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}return a.localDocuments.getDocuments(l,v).next((_=>({Ls:_,removedBatchIds:m,addedBatchIds:y})))}))}))}function ES(r,n){const a=ee(r);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",(l=>{const u=n.batch.keys(),h=a.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,S){const M=_.batch,I=M.keys();let K=X.resolve();return I.forEach(($=>{K=K.next((()=>S.getEntry(v,$))).next((nt=>{const it=_.docVersions.get($);de(it!==null,48541),nt.version.compareTo(it)<0&&(M.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),S.addEntry(nt)))}))})),K.next((()=>y.mutationQueue.removeMutationBatch(v,M)))})(a,l,n,h).next((()=>h.apply(l))).next((()=>a.mutationQueue.performConsistencyCheck(l))).next((()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,n.batch.batchId))).next((()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,(function(y){let v=Je();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(n)))).next((()=>a.localDocuments.getDocuments(l,u)))}))}function TS(r){const n=ee(r);return n.persistence.runTransaction("Get last remote snapshot version","readonly",(a=>n.Pi.getLastRemoteSnapshotVersion(a)))}function AS(r,n){const a=ee(r);return a.persistence.runTransaction("Get next mutation batch","readonly",(l=>(n===void 0&&(n=rd),a.mutationQueue.getNextMutationBatchAfterBatchId(l,n))))}class Oy{constructor(){this.activeTargetIds=SA()}zs(n){this.activeTargetIds=this.activeTargetIds.add(n)}js(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Gs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class SS{constructor(){this.Mo=new Oy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,a,l){}addLocalQueryTarget(n,a=!0){return a&&this.Mo.zs(n),this.xo[n]||"not-current"}updateQueryState(n,a,l){this.xo[n]=a}removeLocalQueryTarget(n){this.Mo.js(n)}isLocalQueryTarget(n){return this.Mo.activeTargetIds.has(n)}clearQueryState(n){delete this.xo[n]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(n){return this.Mo.activeTargetIds.has(n)}start(){return this.Mo=new Oy,Promise.resolve()}handleUserChange(n,a,l){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{Oo(n){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="ConnectivityMonitor";class Uy{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(n){this.qo.push(n)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(Vy,"Network connectivity changed: AVAILABLE");for(const n of this.qo)n(0)}ko(){st(Vy,"Network connectivity changed: UNAVAILABLE");for(const n of this.qo)n(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou=null;function Gh(){return Ou===null?Ou=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ou++,"0x"+Ou.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh="RestConnection",RS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wS{get $o(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const a=n.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=a+"://"+n.host,this.Ko=`projects/${l}/databases/${u}`,this.Wo=this.databaseId.database===Gu?`project_id=${l}`:`project_id=${l}&database_id=${u}`}Go(n,a,l,u,h){const m=Gh(),y=this.zo(n,a.toUriEncodedString());st(Sh,`Sending RPC '${n}' ${m}:`,y,l);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,u,h);const{host:_}=new URL(y),S=Kh(_);return this.Jo(n,y,v,l,S).then((M=>(st(Sh,`Received RPC '${n}' ${m}: `,M),M)),(M=>{throw ic(Sh,`RPC '${n}' ${m} failed with error: `,M,"url: ",y,"request:",l),M}))}Ho(n,a,l,u,h,m){return this.Go(n,a,l,u,h)}jo(n,a,l){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ms})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((u,h)=>n[h]=u)),l&&l.headers.forEach(((u,h)=>n[h]=u))}zo(n,a){const l=RS[n];return`${this.Uo}/v1/${a}:${l}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(n){this.Yo=n.Yo,this.Zo=n.Zo}Xo(n){this.e_=n}t_(n){this.n_=n}r_(n){this.i_=n}onMessage(n){this.s_=n}close(){this.Zo()}send(n){this.Yo(n)}o_(){this.e_()}__(){this.n_()}a_(n){this.i_(n)}u_(n){this.s_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class DS extends wS{constructor(n){super(n),this.c_=[],this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Jo(n,a,l,u,h){const m=Gh();return new Promise(((y,v)=>{const _=new C0;_.setWithCredentials(!0),_.listenOnce(D0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Uu.NO_ERROR:const M=_.getResponseJson();st(Ke,`XHR for RPC '${n}' ${m} received:`,JSON.stringify(M)),y(M);break;case Uu.TIMEOUT:st(Ke,`RPC '${n}' ${m} timed out`),v(new ft(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Uu.HTTP_ERROR:const I=_.getStatus();if(st(Ke,`RPC '${n}' ${m} failed with status:`,I,"response text:",_.getResponseText()),I>0){let K=_.getResponseJson();Array.isArray(K)&&(K=K[0]);const $=K?.error;if($&&$.status&&$.message){const nt=(function(St){const vt=St.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(vt)>=0?vt:Z.UNKNOWN})($.status);v(new ft(nt,$.message))}else v(new ft(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ft(Z.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:n,streamId:m,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st(Ke,`RPC '${n}' ${m} completed.`)}}));const S=JSON.stringify(u);st(Ke,`RPC '${n}' ${m} sending request:`,u),_.send(a,"POST",S,l,15)}))}T_(n,a,l){const u=Gh(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",n,"/channel"],m=x0(),y=N0(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,a,l),v.encodeInitMessageHeaders=!0;const S=h.join("");st(Ke,`Creating RPC '${n}' stream ${u}: ${S}`,v);const M=m.createWebChannel(S,v);this.I_(M);let I=!1,K=!1;const $=new CS({Yo:it=>{K?st(Ke,`Not sending because RPC '${n}' stream ${u} is closed:`,it):(I||(st(Ke,`Opening RPC '${n}' stream ${u} transport.`),M.open(),I=!0),st(Ke,`RPC '${n}' stream ${u} sending:`,it),M.send(it))},Zo:()=>M.close()}),nt=(it,St,vt)=>{it.listen(St,(dt=>{try{vt(dt)}catch(zt){setTimeout((()=>{throw zt}),0)}}))};return nt(M,Bl.EventType.OPEN,(()=>{K||(st(Ke,`RPC '${n}' stream ${u} transport opened.`),$.o_())})),nt(M,Bl.EventType.CLOSE,(()=>{K||(K=!0,st(Ke,`RPC '${n}' stream ${u} transport closed`),$.a_(),this.E_(M))})),nt(M,Bl.EventType.ERROR,(it=>{K||(K=!0,ic(Ke,`RPC '${n}' stream ${u} transport errored. Name:`,it.name,"Message:",it.message),$.a_(new ft(Z.UNAVAILABLE,"The operation could not be completed")))})),nt(M,Bl.EventType.MESSAGE,(it=>{if(!K){const St=it.data[0];de(!!St,16349);const vt=St,dt=vt?.error||vt[0]?.error;if(dt){st(Ke,`RPC '${n}' stream ${u} received error:`,dt);const zt=dt.status;let _t=(function(A){const w=Te[A];if(w!==void 0)return LA(w)})(zt),xt=dt.message;_t===void 0&&(_t=Z.INTERNAL,xt="Unknown error status: "+zt+" with message "+dt.message),K=!0,$.a_(new ft(_t,xt)),M.close()}else st(Ke,`RPC '${n}' stream ${u} received:`,St),$.u_(St)}})),nt(y,I0.STAT_EVENT,(it=>{it.stat===Vh.PROXY?st(Ke,`RPC '${n}' stream ${u} detected buffering proxy`):it.stat===Vh.NOPROXY&&st(Ke,`RPC '${n}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((n=>n.close())),this.c_=[]}I_(n){this.c_.push(n)}E_(n){this.c_=this.c_.filter((a=>a===n))}}function bh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(r){return new jA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(n,a,l=1e3,u=1.5,h=6e4){this.Mi=n,this.timerId=a,this.d_=l,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(n){this.cancel();const a=Math.floor(this.V_+this.y_()),l=Math.max(0,Date.now()-this.f_),u=Math.max(0,a-l);u>0&&st("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${a} ms, last attempt: ${l} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),n()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="PersistentStream";class IS{constructor(n,a,l,u,h,m,y,v){this.Mi=n,this.S_=l,this.b_=u,this.connection=h,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new p_(n,a)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(n){this.Q_(),this.stream.send(n)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(n,a){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,n!==4?this.M_.reset():a&&a.code===Z.RESOURCE_EXHAUSTED?(wr(a.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):a&&a.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=n,await this.listener.r_(a)}K_(){}auth(){this.state=1;const n=this.W_(this.D_),a=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([l,u])=>{this.D_===a&&this.G_(l,u)}),(l=>{n((()=>{const u=new ft(Z.UNKNOWN,"Fetching auth token failed: "+l.message);return this.z_(u)}))}))}G_(n,a){const l=this.W_(this.D_);this.stream=this.j_(n,a),this.stream.Xo((()=>{l((()=>this.listener.Xo()))})),this.stream.t_((()=>{l((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{l((()=>this.z_(u)))})),this.stream.onMessage((u=>{l((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(n){return st(Ly,`close with error: ${n}`),this.stream=null,this.close(4,n)}W_(n){return a=>{this.Mi.enqueueAndForget((()=>this.D_===n?a():(st(Ly,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NS extends IS{constructor(n,a,l,u,h,m){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",a,l,u,m),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(n,a){return this.connection.T_("Write",n,a)}J_(n){return de(!!n.streamToken,31322),this.lastStreamToken=n.streamToken,de(!n.writeResults||n.writeResults.length===0,55816),this.listener.ta()}onNext(n){de(!!n.streamToken,12678),this.lastStreamToken=n.streamToken,this.M_.reset();const a=QA(n.writeResults,n.commitTime),l=Rs(n.commitTime);return this.listener.na(l,a)}ra(){const n={};n.database=qA(this.serializer),this.q_(n)}ea(n){const a={streamToken:this.lastStreamToken,writes:n.map((l=>GA(this.serializer,l)))};this.q_(a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{}class MS extends xS{constructor(n,a,l,u){super(),this.authCredentials=n,this.appCheckCredentials=a,this.connection=l,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new ft(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(n,a,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Go(n,qh(a,l),u,h,m))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ft(Z.UNKNOWN,h.toString())}))}Ho(n,a,l,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([m,y])=>this.connection.Ho(n,qh(a,l),u,m,y,h))).catch((m=>{throw m.name==="FirebaseError"?(m.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new ft(Z.UNKNOWN,m.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class OS{constructor(n,a){this.asyncQueue=n,this.onlineStateHandler=a,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(n){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.ca("Offline")))}set(n){this.Pa(),this.oa=0,n==="Online"&&(this.aa=!1),this.ca(n)}ca(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}la(n){const a=`Could not reach Cloud Firestore backend. ${n}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wr(a),this.aa=!1):st("OnlineStateTracker",a)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="RemoteStore";class VS{constructor(n,a,l,u,h){this.localStore=n,this.datastore=a,this.asyncQueue=l,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((m=>{l.enqueueAndForget((async()=>{lo(this)&&(st(ro,"Restarting streams for network reachability change."),await(async function(v){const _=ee(v);_.Ea.add(4),await so(_),_.Ra.set("Unknown"),_.Ea.delete(4),await oc(_)})(this))}))})),this.Ra=new OS(l,u)}}async function oc(r){if(lo(r))for(const n of r.da)await n(!0)}async function so(r){for(const n of r.da)await n(!1)}function lo(r){return ee(r).Ea.size===0}async function y_(r,n,a){if(!io(n))throw n;r.Ea.add(1),await so(r),r.Ra.set("Offline"),a||(a=()=>TS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(ro,"Retrying IndexedDB access"),await a(),r.Ea.delete(1),await oc(r)}))}function __(r,n){return n().catch((a=>y_(r,a,n)))}async function uc(r){const n=ee(r),a=Ua(n);let l=n.Ta.length>0?n.Ta[n.Ta.length-1].batchId:rd;for(;US(n);)try{const u=await AS(n.localStore,l);if(u===null){n.Ta.length===0&&a.L_();break}l=u.batchId,LS(n,u)}catch(u){await y_(n,u)}v_(n)&&E_(n)}function US(r){return lo(r)&&r.Ta.length<10}function LS(r,n){r.Ta.push(n);const a=Ua(r);a.O_()&&a.X_&&a.ea(n.mutations)}function v_(r){return lo(r)&&!Ua(r).x_()&&r.Ta.length>0}function E_(r){Ua(r).start()}async function jS(r){Ua(r).ra()}async function zS(r){const n=Ua(r);for(const a of r.Ta)n.ea(a.mutations)}async function PS(r,n,a){const l=r.Ta.shift(),u=md.from(l,n,a);await __(r,(()=>r.remoteSyncer.applySuccessfulWrite(u))),await uc(r)}async function BS(r,n){n&&Ua(r).X_&&await(async function(l,u){if((function(m){return UA(m)&&m!==Z.ABORTED})(u.code)){const h=l.Ta.shift();Ua(l).B_(),await __(l,(()=>l.remoteSyncer.rejectFailedWrite(h.batchId,u))),await uc(l)}})(r,n),v_(r)&&E_(r)}async function jy(r,n){const a=ee(r);a.asyncQueue.verifyOperationInProgress(),st(ro,"RemoteStore received new credentials");const l=lo(a);a.Ea.add(3),await so(a),l&&a.Ra.set("Unknown"),await a.remoteSyncer.handleCredentialChange(n),a.Ea.delete(3),await oc(a)}async function kS(r,n){const a=ee(r);n?(a.Ea.delete(2),await oc(a)):n||(a.Ea.add(2),await so(a),a.Ra.set("Unknown"))}function Ua(r){return r.fa||(r.fa=(function(a,l,u){const h=ee(a);return h.sa(),new NS(l,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:jS.bind(null,r),r_:BS.bind(null,r),ta:zS.bind(null,r),na:PS.bind(null,r)}),r.da.push((async n=>{n?(r.fa.B_(),await uc(r)):(await r.fa.stop(),r.Ta.length>0&&(st(ro,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(n,a,l,u,h){this.asyncQueue=n,this.timerId=a,this.targetTimeMs=l,this.op=u,this.removalCallback=h,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(n,a,l,u,h){const m=Date.now()+l,y=new _d(n,a,m,u,h);return y.start(l),y}start(n){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(Z.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((n=>this.deferred.resolve(n)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function T_(r,n){if(wr("AsyncQueue",`${n}: ${r}`),io(r))return new ft(Z.UNAVAILABLE,`${n}: ${r}`);throw r}class qS{constructor(){this.queries=zy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(a,l){const u=ee(a),h=u.queries;u.queries=zy(),h.forEach(((m,y)=>{for(const v of y.Sa)v.onError(l)}))})(this,new ft(Z.ABORTED,"Firestore shutting down"))}}function zy(){return new xr((r=>W0(r)),J0)}function HS(r){r.Ca.forEach((n=>{n.next()}))}var Py,By;(By=Py||(Py={})).Ma="default",By.Cache="cache";const GS="SyncEngine";class QS{constructor(n,a,l,u,h,m){this.localStore=n,this.remoteStore=a,this.eventManager=l,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new xr((y=>W0(y)),J0),this.Iu=new Map,this.Eu=new Set,this.du=new cn(At.comparator),this.Au=new Map,this.Ru=new gd,this.Vu={},this.mu=new Map,this.fu=xs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FS(r,n,a){const l=$S(r);try{const u=await(function(m,y){const v=ee(m),_=le.now(),S=y.reduce(((K,$)=>K.add($.key)),Je());let M,I;return v.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let $=Xu(),nt=Je();return v.Ns.getEntries(K,S).next((it=>{$=it,$.forEach(((St,vt)=>{vt.isValidDocument()||(nt=nt.add(St))}))})).next((()=>v.localDocuments.getOverlayedDocuments(K,$))).next((it=>{M=it;const St=[];for(const vt of y){const dt=xA(vt,M.get(vt.key).overlayedDocument);dt!=null&&St.push(new Mr(vt.key,dt,Q0(dt.value.mapValue),Xi.exists(!0)))}return v.mutationQueue.addMutationBatch(K,_,St,y)})).next((it=>{I=it;const St=it.applyToLocalDocumentSet(M,nt);return v.documentOverlayCache.saveOverlays(K,it.batchId,St)}))})).then((()=>({batchId:I.batchId,changes:e_(M)})))})(l.localStore,n);l.sharedClientState.addPendingMutation(u.batchId),(function(m,y,v){let _=m.Vu[m.currentUser.toKey()];_||(_=new cn(Gt)),_=_.insert(y,v),m.Vu[m.currentUser.toKey()]=_})(l,u.batchId,a),await cc(l,u.changes),await uc(l.remoteStore)}catch(u){const h=T_(u,"Failed to persist write");a.reject(h)}}function ky(r,n,a){const l=ee(r);if(l.isPrimaryClient&&a===0||!l.isPrimaryClient&&a===1){const u=[];l.Tu.forEach(((h,m)=>{const y=m.view.va(n);y.snapshot&&u.push(y.snapshot)})),(function(m,y){const v=ee(m);v.onlineState=y;let _=!1;v.queries.forEach(((S,M)=>{for(const I of M.Sa)I.va(y)&&(_=!0)})),_&&HS(v)})(l.eventManager,n),u.length&&l.Pu.H_(u),l.onlineState=n,l.isPrimaryClient&&l.sharedClientState.setOnlineState(n)}}async function YS(r,n){const a=ee(r),l=n.batch.batchId;try{const u=await ES(a.localStore,n);S_(a,l,null),A_(a,l),a.sharedClientState.updateMutationState(l,"acknowledged"),await cc(a,u)}catch(u){await id(u)}}async function XS(r,n,a){const l=ee(r);try{const u=await(function(m,y){const v=ee(m);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return v.mutationQueue.lookupMutationBatch(_,y).next((M=>(de(M!==null,37113),S=M.keys(),v.mutationQueue.removeMutationBatch(_,M)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,S,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>v.localDocuments.getDocuments(_,S)))}))})(l.localStore,n);S_(l,n,a),A_(l,n),l.sharedClientState.updateMutationState(n,"rejected",a),await cc(l,u)}catch(u){await id(u)}}function A_(r,n){(r.mu.get(n)||[]).forEach((a=>{a.resolve()})),r.mu.delete(n)}function S_(r,n,a){const l=ee(r);let u=l.Vu[l.currentUser.toKey()];if(u){const h=u.get(n);h&&(a?h.reject(a):h.resolve(),u=u.remove(n)),l.Vu[l.currentUser.toKey()]=u}}async function cc(r,n,a){const l=ee(r),u=[],h=[],m=[];l.Tu.isEmpty()||(l.Tu.forEach(((y,v)=>{m.push(l.pu(v,n,a).then((_=>{if((_||a)&&l.isPrimaryClient){const S=_?!_.fromCache:a?.targetChanges.get(v.targetId)?.current;l.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){u.push(_);const S=yd.As(v.targetId,_);h.push(S)}})))})),await Promise.all(m),l.Pu.H_(u),await(async function(v,_){const S=ee(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(M=>X.forEach(_,(I=>X.forEach(I.Es,(K=>S.persistence.referenceDelegate.addReference(M,I.targetId,K))).next((()=>X.forEach(I.ds,(K=>S.persistence.referenceDelegate.removeReference(M,I.targetId,K)))))))))}catch(M){if(!io(M))throw M;st(yS,"Failed to update sequence numbers: "+M)}for(const M of _){const I=M.targetId;if(!M.fromCache){const K=S.Ms.get(I),$=K.snapshotVersion,nt=K.withLastLimboFreeSnapshotVersion($);S.Ms=S.Ms.insert(I,nt)}}})(l.localStore,h))}async function KS(r,n){const a=ee(r);if(!a.currentUser.isEqual(n)){st(GS,"User change. New user:",n.toKey());const l=await g_(a.localStore,n);a.currentUser=n,(function(h,m){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new ft(Z.CANCELLED,m))}))})),h.mu.clear()})(a,"'waitForPendingWrites' promise is rejected due to a user change."),a.sharedClientState.handleUserChange(n,l.removedBatchIds,l.addedBatchIds),await cc(a,l.Ls)}}function $S(r){const n=ee(r);return n.remoteStore.remoteSyncer.applySuccessfulWrite=YS.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=XS.bind(null,n),n}class Zu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=lc(n.databaseInfo.databaseId),this.sharedClientState=this.Du(n),this.persistence=this.Cu(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Fu(n,this.localStore),this.indexBackfillerScheduler=this.Mu(n,this.localStore)}Fu(n,a){return null}Mu(n,a){return null}vu(n){return vS(this.persistence,new pS,n.initialUser,this.serializer)}Cu(n){return new m_(pd.mi,this.serializer)}Du(n){return new SS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zu.provider={build:()=>new Zu};class ZS extends Zu{constructor(n){super(),this.cacheSizeBytes=n}Fu(n,a){de(this.persistence.referenceDelegate instanceof $u,46915);const l=this.persistence.referenceDelegate.garbageCollector;return new eS(l,n.asyncQueue,a)}Cu(n){const a=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new m_((l=>$u.mi(l,a)),this.serializer)}}class Qh{async initialize(n,a){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(a),this.remoteStore=this.createRemoteStore(a),this.eventManager=this.createEventManager(a),this.syncEngine=this.createSyncEngine(a,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=l=>ky(this.syncEngine,l,1),this.remoteStore.remoteSyncer.handleCredentialChange=KS.bind(null,this.syncEngine),await kS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new qS})()}createDatastore(n){const a=lc(n.databaseInfo.databaseId),l=(function(h){return new DS(h)})(n.databaseInfo);return(function(h,m,y,v){return new MS(h,m,y,v)})(n.authCredentials,n.appCheckCredentials,l,a)}createRemoteStore(n){return(function(l,u,h,m,y){return new VS(l,u,h,m,y)})(this.localStore,this.datastore,n.asyncQueue,(a=>ky(this.syncEngine,a,0)),(function(){return Uy.v()?new Uy:new bS})())}createSyncEngine(n,a){return(function(u,h,m,y,v,_,S){const M=new QS(u,h,m,y,v,_);return S&&(M.gu=!0),M})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,a)}async terminate(){await(async function(a){const l=ee(a);st(ro,"RemoteStore shutting down."),l.Ea.add(5),await so(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qh.provider={build:()=>new Qh};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="FirestoreClient";class JS{constructor(n,a,l,u,h){this.authCredentials=n,this.appCheckCredentials=a,this.asyncQueue=l,this.databaseInfo=u,this.user=Ze.UNAUTHENTICATED,this.clientId=ed.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(l,(async m=>{st(La,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m})),this.appCheckCredentials.start(l,(m=>(st(La,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){this.asyncQueue.enterRestrictedMode();const n=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),n.resolve()}catch(a){const l=T_(a,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}async function Rh(r,n){r.asyncQueue.verifyOperationInProgress(),st(La,"Initializing OfflineComponentProvider");const a=r.configuration;await n.initialize(a);let l=a.initialUser;r.setCredentialChangeListener((async u=>{l.isEqual(u)||(await g_(n.localStore,u),l=u)})),n.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=n}async function qy(r,n){r.asyncQueue.verifyOperationInProgress();const a=await WS(r);st(La,"Initializing OnlineComponentProvider"),await n.initialize(a,r.configuration),r.setCredentialChangeListener((l=>jy(n.remoteStore,l))),r.setAppCheckTokenChangeListener(((l,u)=>jy(n.remoteStore,u))),r._onlineComponents=n}async function WS(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(La,"Using user provided OfflineComponentProvider");try{await Rh(r,r._uninitializedComponentsProvider._offline)}catch(n){const a=n;if(!(function(u){return u.name==="FirebaseError"?u.code===Z.FAILED_PRECONDITION||u.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(a))throw a;ic("Error using user provided cache. Falling back to memory cache: "+a),await Rh(r,new Zu)}}else st(La,"Using default OfflineComponentProvider"),await Rh(r,new ZS(void 0));return r._offlineComponents}async function tb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(La,"Using user provided OnlineComponentProvider"),await qy(r,r._uninitializedComponentsProvider._online)):(st(La,"Using default OnlineComponentProvider"),await qy(r,new Qh))),r._onlineComponents}function eb(r){return tb(r).then((n=>n.syncEngine))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(r){const n={};return r.timeoutSeconds!==void 0&&(n.timeoutSeconds=r.timeoutSeconds),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="firestore.googleapis.com",Gy=!0;class Qy{constructor(n){if(n.host===void 0){if(n.ssl!==void 0)throw new ft(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=R_,this.ssl=Gy}else this.host=n.host,this.ssl=n.ssl??Gy;if(this.isUsingEmulator=n.emulatorOptions!==void 0,this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,n.cacheSizeBytes===void 0)this.cacheSizeBytes=d_;else{if(n.cacheSizeBytes!==-1&&n.cacheSizeBytes<WA)throw new ft(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}k1("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:n.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b_(n.experimentalLongPollingOptions??{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ft(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ft(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ft(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&(function(l,u){return l.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,n.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class fc{constructor(n,a,l,u){this._authCredentials=n,this._appCheckCredentials=a,this._databaseId=l,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(n){if(this._settingsFrozen)throw new ft(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qy(n),this._emulatorOptions=n.emulatorOptions||{},n.credentials!==void 0&&(this._authCredentials=(function(l){if(!l)return new x1;switch(l.type){case"firstParty":return new U1(l.sessionIndex||"0",l.iamToken||null,l.authTokenFactory||null);case"provider":return l.client;default:throw new ft(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(a){const l=Hy.get(a);l&&(st("ComponentProvider","Removing Datastore"),Hy.delete(a),l.terminate())})(this),Promise.resolve()}}function nb(r,n,a,l={}){r=L0(r,fc);const u=Kh(n),h=r._getSettings(),m={...h,emulatorOptions:r._getEmulatorOptions()},y=`${n}:${a}`;u&&(iT(`https://${y}`),lT("Firestore",!0)),h.host!==R_&&h.host!==y&&ic("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:u,emulatorOptions:l};if(!Xl(v,m)&&(r._setSettings(v),l.mockUserToken)){let _,S;if(typeof l.mockUserToken=="string")_=l.mockUserToken,S=Ze.MOCK_USER;else{_=aT(l.mockUserToken,r._app?.options.projectId);const M=l.mockUserToken.sub||l.mockUserToken.user_id;if(!M)throw new ft(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ze(M)}r._authCredentials=new M1(new O0(_,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(n,a,l){this.converter=a,this._query=l,this.type="query",this.firestore=n}withConverter(n){return new vd(this.firestore,n,this._query)}}class We{constructor(n,a,l){this.converter=a,this._key=l,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new We(this.firestore,n,this._key)}toJSON(){return{type:We._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(n,a,l){if(no(a,We._jsonSchema))return new We(n,l||null,new At(ue.fromString(a.referencePath)))}}We._jsonSchemaVersion="firestore/documentReference/1.0",We._jsonSchema={type:Ae("string",We._jsonSchemaVersion),referencePath:Ae("string")};class xa extends vd{constructor(n,a,l){super(n,a,mA(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new We(this.firestore,null,new At(n))}withConverter(n){return new xa(this.firestore,n,this._path)}}function ib(r,n,...a){if(r=br(r),V0("collection","path",n),r instanceof fc){const l=ue.fromString(n,...a);return dy(l),new xa(r,null,l)}{if(!(r instanceof We||r instanceof xa))throw new ft(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=r._path.child(ue.fromString(n,...a));return dy(l),new xa(r.firestore,null,l)}}function ab(r,n,...a){if(r=br(r),arguments.length===1&&(n=ed.newId()),V0("doc","path",n),r instanceof fc){const l=ue.fromString(n,...a);return hy(l),new We(r,null,new At(l))}{if(!(r instanceof We||r instanceof xa))throw new ft(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=r._path.child(ue.fromString(n,...a));return hy(l),new We(r.firestore,r instanceof xa?r.converter:null,new At(l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="AsyncQueue";class Yy{constructor(n=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new p_(this,"async_queue_retry"),this._c=()=>{const l=bh();l&&st(Fy,"Visibility state changed to "+l.visibilityState),this.M_.w_()},this.ac=n;const a=bh();a&&typeof a.addEventListener=="function"&&a.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.uc(),this.cc(n)}enterRestrictedMode(n){if(!this.ec){this.ec=!0,this.sc=n||!1;const a=bh();a&&typeof a.removeEventListener=="function"&&a.removeEventListener("visibilitychange",this._c)}}enqueue(n){if(this.uc(),this.ec)return new Promise((()=>{}));const a=new Ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(n().then(a.resolve,a.reject),a.promise))).then((()=>a.promise))}enqueueRetryable(n){this.enqueueAndForget((()=>(this.Xu.push(n),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(n){if(!io(n))throw n;st(Fy,"Operation failed with retryable error: "+n)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(n){const a=this.ac.then((()=>(this.rc=!0,n().catch((l=>{throw this.nc=l,this.rc=!1,wr("INTERNAL UNHANDLED ERROR: ",Xy(l)),l})).then((l=>(this.rc=!1,l))))));return this.ac=a,a}enqueueAfterDelay(n,a,l){this.uc(),this.oc.indexOf(n)>-1&&(a=0);const u=_d.createAndSchedule(this,n,a,l,(h=>this.hc(h)));return this.tc.push(u),u}uc(){this.nc&&Rt(47125,{Pc:Xy(this.nc)})}verifyOperationInProgress(){}async Tc(){let n;do n=this.ac,await n;while(n!==this.ac)}Ic(n){for(const a of this.tc)if(a.timerId===n)return!0;return!1}Ec(n){return this.Tc().then((()=>{this.tc.sort(((a,l)=>a.targetTimeMs-l.targetTimeMs));for(const a of this.tc)if(a.skipDelay(),n!=="all"&&a.timerId===n)break;return this.Tc()}))}dc(n){this.oc.push(n)}hc(n){const a=this.tc.indexOf(n);this.tc.splice(a,1)}}function Xy(r){let n=r.message||"";return r.stack&&(n=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),n}class w_ extends fc{constructor(n,a,l,u){super(n,a,l,u),this.type="firestore",this._queue=new Yy,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const n=this._firestoreClient.terminate();this._queue=new Yy(n),this._firestoreClient=void 0,await n}}}function rb(r,n){const a=typeof r=="object"?r:b0(),l=typeof r=="string"?r:Gu,u=eo(a,"firestore").getImmediate({identifier:l});if(!u._initialized){const h=eT("firestore");h&&nb(u,...h)}return u}function sb(r){if(r._terminated)throw new ft(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||lb(r),r._firestoreClient}function lb(r){const n=r._freezeSettings(),a=(function(u,h,m,y){return new W1(u,h,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,b_(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,n);r._componentsProvider||n.localCache?._offlineComponentProvider&&n.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:n.localCache._offlineComponentProvider,_online:n.localCache._onlineComponentProvider}),r._firestoreClient=new JS(r._authCredentials,r._appCheckCredentials,r._queue,a,r._componentsProvider&&(function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(n){this._byteString=n}static fromBase64String(n){try{return new $n(_i.fromBase64String(n))}catch(a){throw new ft(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(n){return new $n(_i.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(n){if(no(n,$n._jsonSchema))return $n.fromBase64String(n.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:Ae("string",$n._jsonSchemaVersion),bytes:Ae("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(...n){for(let a=0;a<n.length;++a)if(n[a].length===0)throw new ft(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(n){this._methodName=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(n,a){if(!isFinite(n)||n<-90||n>90)throw new ft(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(a)||a<-180||a>180)throw new ft(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=n,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}_compareTo(n){return Gt(this._lat,n._lat)||Gt(this._long,n._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ki._jsonSchemaVersion}}static fromJSON(n){if(no(n,Ki._jsonSchema))return new Ki(n.latitude,n.longitude)}}Ki._jsonSchemaVersion="firestore/geoPoint/1.0",Ki._jsonSchema={type:Ae("string",Ki._jsonSchemaVersion),latitude:Ae("number"),longitude:Ae("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(n){this._values=(n||[]).map((a=>a))}toArray(){return this._values.map((n=>n))}isEqual(n){return(function(l,u){if(l.length!==u.length)return!1;for(let h=0;h<l.length;++h)if(l[h]!==u[h])return!1;return!0})(this._values,n._values)}toJSON(){return{type:$i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(n){if(no(n,$i._jsonSchema)){if(Array.isArray(n.vectorValues)&&n.vectorValues.every((a=>typeof a=="number")))return new $i(n.vectorValues);throw new ft(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$i._jsonSchemaVersion="firestore/vectorValue/1.0",$i._jsonSchema={type:Ae("string",$i._jsonSchemaVersion),vectorValues:Ae("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=/^__.*__$/;class ub{constructor(n,a,l){this.data=n,this.fieldMask=a,this.fieldTransforms=l}toMutation(n,a){return this.fieldMask!==null?new Mr(n,this.data,this.fieldMask,a,this.fieldTransforms):new ao(n,this.data,a,this.fieldTransforms)}}function C_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{Ac:r})}}class Ad{constructor(n,a,l,u,h,m){this.settings=n,this.databaseId=a,this.serializer=l,this.ignoreUndefinedProperties=u,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(n){return new Ad({...this.settings,...n},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(n){const a=this.path?.child(n),l=this.Vc({path:a,fc:!1});return l.gc(n),l}yc(n){const a=this.path?.child(n),l=this.Vc({path:a,fc:!1});return l.Rc(),l}wc(n){return this.Vc({path:void 0,fc:!0})}Sc(n){return Ju(n,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(n){return this.fieldMask.find((a=>n.isPrefixOf(a)))!==void 0||this.fieldTransforms.find((a=>n.isPrefixOf(a.field)))!==void 0}Rc(){if(this.path)for(let n=0;n<this.path.length;n++)this.gc(this.path.get(n))}gc(n){if(n.length===0)throw this.Sc("Document fields must not be empty");if(C_(this.Ac)&&ob.test(n))throw this.Sc('Document fields cannot begin and end with "__"')}}class cb{constructor(n,a,l){this.databaseId=n,this.ignoreUndefinedProperties=a,this.serializer=l||lc(n)}Cc(n,a,l,u=!1){return new Ad({Ac:n,methodName:a,Dc:l,path:Ge.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fb(r){const n=r._freezeSettings(),a=lc(r._databaseId);return new cb(r._databaseId,!!n.ignoreUndefinedProperties,a)}function hb(r,n,a,l,u,h={}){const m=r.Cc(h.merge||h.mergeFields?2:0,n,a,u);x_("Data must be an object, but it was:",m,l);const y=I_(l,m);let v,_;if(h.merge)v=new Zn(m.fieldMask),_=m.fieldTransforms;else if(h.mergeFields){const S=[];for(const M of h.mergeFields){const I=db(n,M,a);if(!m.contains(I))throw new ft(Z.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);gb(S,I)||S.push(I)}v=new Zn(S),_=m.fieldTransforms.filter((M=>v.covers(M.field)))}else v=null,_=m.fieldTransforms;return new ub(new Kn(y),v,_)}class Sd extends Td{_toFieldTransform(n){return new CA(n.path,new Jl)}isEqual(n){return n instanceof Sd}}function D_(r,n){if(N_(r=br(r)))return x_("Unsupported field value:",n,r),I_(r,n);if(r instanceof Td)return(function(l,u){if(!C_(u.Ac))throw u.Sc(`${l._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${l._methodName}() is not currently supported inside arrays`);const h=l._toFieldTransform(u);h&&u.fieldTransforms.push(h)})(r,n),null;if(r===void 0&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),r instanceof Array){if(n.settings.fc&&n.Ac!==4)throw n.Sc("Nested arrays are not supported");return(function(l,u){const h=[];let m=0;for(const y of l){let v=D_(y,u.wc(m));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),m++}return{arrayValue:{values:h}}})(r,n)}return(function(l,u){if((l=br(l))===null)return{nullValue:"NULL_VALUE"};if(typeof l=="number")return bA(u.serializer,l);if(typeof l=="boolean")return{booleanValue:l};if(typeof l=="string")return{stringValue:l};if(l instanceof Date){const h=le.fromDate(l);return{timestampValue:kh(u.serializer,h)}}if(l instanceof le){const h=new le(l.seconds,1e3*Math.floor(l.nanoseconds/1e3));return{timestampValue:kh(u.serializer,h)}}if(l instanceof Ki)return{geoPointValue:{latitude:l.latitude,longitude:l.longitude}};if(l instanceof $n)return{bytesValue:zA(u.serializer,l._byteString)};if(l instanceof We){const h=u.databaseId,m=l.firestore._databaseId;if(!m.isEqual(h))throw u.Sc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:f_(l.firestore._databaseId||u.databaseId,l._key.path)}}if(l instanceof $i)return(function(m,y){return{mapValue:{fields:{[H0]:{stringValue:G0},[Lh]:{arrayValue:{values:m.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return dd(y.serializer,_)}))}}}}}})(l,u);throw u.Sc(`Unsupported field value: ${nd(l)}`)})(r,n)}function I_(r,n){const a={};return z0(r)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Os(r,((l,u)=>{const h=D_(u,n.mc(l));h!=null&&(a[l]=h)})),{mapValue:{fields:a}}}function N_(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof le||r instanceof Ki||r instanceof $n||r instanceof We||r instanceof Td||r instanceof $i)}function x_(r,n,a){if(!N_(a)||!U0(a)){const l=nd(a);throw l==="an object"?n.Sc(r+" a custom object"):n.Sc(r+" "+l)}}function db(r,n,a){if((n=br(n))instanceof Ed)return n._internalPath;if(typeof n=="string")return M_(r,n);throw Ju("Field path arguments must be of type string or ",r,!1,void 0,a)}const mb=new RegExp("[~\\*/\\[\\]]");function M_(r,n,a){if(n.search(mb)>=0)throw Ju(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,a);try{return new Ed(...n.split("."))._internalPath}catch{throw Ju(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,a)}}function Ju(r,n,a,l,u){const h=l&&!l.isEmpty(),m=u!==void 0;let y=`Function ${n}() called with invalid data`;a&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||m)&&(v+=" (found",h&&(v+=` in field ${l}`),m&&(v+=` in document ${u}`),v+=")"),new ft(Z.INVALID_ARGUMENT,y+r+v)}function gb(r,n){return r.some((a=>a.isEqual(n)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(n,a,l,u,h){this._firestore=n,this._userDataWriter=a,this._key=l,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const n=new pb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const a=this._document.data.field(V_("DocumentSnapshot.get",n));if(a!==null)return this._userDataWriter.convertValue(a)}}}class pb extends O_{data(){return super.data()}}function V_(r,n){return typeof n=="string"?M_(r,n):n instanceof Ed?n._internalPath:n._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(r,n,a){let l;return l=r?r.toFirestore(n):n,l}class Vu{constructor(n,a){this.hasPendingWrites=n,this.fromCache=a}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class ws extends O_{constructor(n,a,l,u,h,m){super(n,a,l,u,m),this._firestore=n,this._firestoreImpl=n,this.metadata=h}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const a=new Pu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,a={}){if(this._document){const l=this._document.data.field(V_("DocumentSnapshot.get",n));if(l!==null)return this._userDataWriter.convertValue(l,a.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n=this._document,a={};return a.type=ws._jsonSchemaVersion,a.bundle="",a.bundleSource="DocumentSnapshot",a.bundleName=this._key.toString(),!n||!n.isValidDocument()||!n.isFoundDocument()?a:(this._userDataWriter.convertObjectMap(n.data.value.mapValue.fields,"previous"),a.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),a)}}ws._jsonSchemaVersion="firestore/documentSnapshot/1.0",ws._jsonSchema={type:Ae("string",ws._jsonSchemaVersion),bundleSource:Ae("string","DocumentSnapshot"),bundleName:Ae("string"),bundle:Ae("string")};class Pu extends ws{data(n={}){return super.data(n)}}class Fl{constructor(n,a,l,u){this._firestore=n,this._userDataWriter=a,this._snapshot=u,this.metadata=new Vu(u.hasPendingWrites,u.fromCache),this.query=l}get docs(){const n=[];return this.forEach((a=>n.push(a))),n}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(n,a){this._snapshot.docs.forEach((l=>{n.call(a,new Pu(this._firestore,this._userDataWriter,l.key,l,new Vu(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(n={}){const a=!!n.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new ft(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=(function(u,h){if(u._snapshot.oldDocs.isEmpty()){let m=0;return u._snapshot.docChanges.map((y=>{const v=new Pu(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Vu(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:m++}}))}{let m=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new Pu(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Vu(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,S=-1;return y.type!==0&&(_=m.indexOf(y.doc.key),m=m.delete(y.doc.key)),y.type!==1&&(m=m.add(y.doc),S=m.indexOf(y.doc.key)),{type:_b(y.type),doc:v,oldIndex:_,newIndex:S}}))}})(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n={};n.type=Fl._jsonSchemaVersion,n.bundleSource="QuerySnapshot",n.bundleName=ed.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const a=[],l=[],u=[];return this.docs.forEach((h=>{h._document!==null&&(a.push(h._document),l.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))})),n.bundle=(this._firestore,this.query._query,n.bundleName,"NOT SUPPORTED"),n}}function _b(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:r})}}Fl._jsonSchemaVersion="firestore/querySnapshot/1.0",Fl._jsonSchema={type:Ae("string",Fl._jsonSchemaVersion),bundleSource:Ae("string","QuerySnapshot"),bundleName:Ae("string"),bundle:Ae("string")};function vb(r,n){const a=L0(r.firestore,w_),l=ab(r),u=yb(r.converter,n);return Eb(a,[hb(fb(r.firestore),"addDoc",l._key,u,r.converter!==null,{}).toMutation(l._key,Xi.exists(!1))]).then((()=>l))}function Eb(r,n){return(function(l,u){const h=new Ar;return l.asyncQueue.enqueueAndForget((async()=>FS(await eb(l),u,h))),h.promise})(sb(r),n)}function Tb(){return new Sd("serverTimestamp")}(function(n,a=!0){(function(u){Ms=u})(_1),Ma(new Zi("firestore",((l,{instanceIdentifier:u,options:h})=>{const m=l.getProvider("app").getImmediate(),y=new w_(new O1(l.getProvider("auth-internal")),new L1(m,l.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ft(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qu(_.options.projectId,S)})(m,u),m);return h={useFetchStreams:a,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),yi(oy,uy,n),yi(oy,uy,"esm2020")})();const U_="@firebase/installations",bd="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=1e4,j_=`w:${bd}`,z_="FIS_v2",Ab="https://firebaseinstallations.googleapis.com/v1",Sb=3600*1e3,bb="installations",Rb="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ir=new nc(bb,Rb,wb);function P_(r){return r instanceof ja&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_({projectId:r}){return`${Ab}/projects/${r}/installations`}function k_(r){return{token:r.token,requestStatus:2,expiresIn:Db(r.expiresIn),creationTime:Date.now()}}async function q_(r,n){const l=(await n.json()).error;return Ir.create("request-failed",{requestName:r,serverCode:l.code,serverMessage:l.message,serverStatus:l.status})}function H_({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function Cb(r,{refreshToken:n}){const a=H_(r);return a.append("Authorization",Ib(n)),a}async function G_(r){const n=await r();return n.status>=500&&n.status<600?r():n}function Db(r){return Number(r.replace("s","000"))}function Ib(r){return`${z_} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nb({appConfig:r,heartbeatServiceProvider:n},{fid:a}){const l=B_(r),u=H_(r),h=n.getImmediate({optional:!0});if(h){const _=await h.getHeartbeatsHeader();_&&u.append("x-firebase-client",_)}const m={fid:a,authVersion:z_,appId:r.appId,sdkVersion:j_},y={method:"POST",headers:u,body:JSON.stringify(m)},v=await G_(()=>fetch(l,y));if(v.ok){const _=await v.json();return{fid:_.fid||a,registrationStatus:2,refreshToken:_.refreshToken,authToken:k_(_.authToken)}}else throw await q_("Create Installation",v)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(r){return new Promise(n=>{setTimeout(n,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=/^[cdef][\w-]{21}$/,Fh="";function Ob(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const a=Vb(r);return Mb.test(a)?a:Fh}catch{return Fh}}function Vb(r){return xb(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=new Map;function Y_(r,n){const a=hc(r);X_(a,n),Ub(a,n)}function X_(r,n){const a=F_.get(r);if(a)for(const l of a)l(n)}function Ub(r,n){const a=Lb();a&&a.postMessage({key:r,fid:n}),jb()}let Tr=null;function Lb(){return!Tr&&"BroadcastChannel"in self&&(Tr=new BroadcastChannel("[Firebase] FID Change"),Tr.onmessage=r=>{X_(r.data.key,r.data.fid)}),Tr}function jb(){F_.size===0&&Tr&&(Tr.close(),Tr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="firebase-installations-database",Pb=1,Nr="firebase-installations-store";let wh=null;function Rd(){return wh||(wh=S0(zb,Pb,{upgrade:(r,n)=>{switch(n){case 0:r.createObjectStore(Nr)}}})),wh}async function Wu(r,n){const a=hc(r),u=(await Rd()).transaction(Nr,"readwrite"),h=u.objectStore(Nr),m=await h.get(a);return await h.put(n,a),await u.done,(!m||m.fid!==n.fid)&&Y_(r,n.fid),n}async function K_(r){const n=hc(r),l=(await Rd()).transaction(Nr,"readwrite");await l.objectStore(Nr).delete(n),await l.done}async function dc(r,n){const a=hc(r),u=(await Rd()).transaction(Nr,"readwrite"),h=u.objectStore(Nr),m=await h.get(a),y=n(m);return y===void 0?await h.delete(a):await h.put(y,a),await u.done,y&&(!m||m.fid!==y.fid)&&Y_(r,y.fid),y}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wd(r){let n;const a=await dc(r.appConfig,l=>{const u=Bb(l),h=kb(r,u);return n=h.registrationPromise,h.installationEntry});return a.fid===Fh?{installationEntry:await n}:{installationEntry:a,registrationPromise:n}}function Bb(r){const n=r||{fid:Ob(),registrationStatus:0};return $_(n)}function kb(r,n){if(n.registrationStatus===0){if(!navigator.onLine){const u=Promise.reject(Ir.create("app-offline"));return{installationEntry:n,registrationPromise:u}}const a={fid:n.fid,registrationStatus:1,registrationTime:Date.now()},l=qb(r,a);return{installationEntry:a,registrationPromise:l}}else return n.registrationStatus===1?{installationEntry:n,registrationPromise:Hb(r)}:{installationEntry:n}}async function qb(r,n){try{const a=await Nb(r,n);return Wu(r.appConfig,a)}catch(a){throw P_(a)&&a.customData.serverCode===409?await K_(r.appConfig):await Wu(r.appConfig,{fid:n.fid,registrationStatus:0}),a}}async function Hb(r){let n=await Ky(r.appConfig);for(;n.registrationStatus===1;)await Q_(100),n=await Ky(r.appConfig);if(n.registrationStatus===0){const{installationEntry:a,registrationPromise:l}=await wd(r);return l||a}return n}function Ky(r){return dc(r,n=>{if(!n)throw Ir.create("installation-not-found");return $_(n)})}function $_(r){return Gb(r)?{fid:r.fid,registrationStatus:0}:r}function Gb(r){return r.registrationStatus===1&&r.registrationTime+L_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qb({appConfig:r,heartbeatServiceProvider:n},a){const l=Fb(r,a),u=Cb(r,a),h=n.getImmediate({optional:!0});if(h){const _=await h.getHeartbeatsHeader();_&&u.append("x-firebase-client",_)}const m={installation:{sdkVersion:j_,appId:r.appId}},y={method:"POST",headers:u,body:JSON.stringify(m)},v=await G_(()=>fetch(l,y));if(v.ok){const _=await v.json();return k_(_)}else throw await q_("Generate Auth Token",v)}function Fb(r,{fid:n}){return`${B_(r)}/${n}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cd(r,n=!1){let a;const l=await dc(r.appConfig,h=>{if(!Z_(h))throw Ir.create("not-registered");const m=h.authToken;if(!n&&Kb(m))return h;if(m.requestStatus===1)return a=Yb(r,n),h;{if(!navigator.onLine)throw Ir.create("app-offline");const y=Zb(h);return a=Xb(r,y),y}});return a?await a:l.authToken}async function Yb(r,n){let a=await $y(r.appConfig);for(;a.authToken.requestStatus===1;)await Q_(100),a=await $y(r.appConfig);const l=a.authToken;return l.requestStatus===0?Cd(r,n):l}function $y(r){return dc(r,n=>{if(!Z_(n))throw Ir.create("not-registered");const a=n.authToken;return Jb(a)?{...n,authToken:{requestStatus:0}}:n})}async function Xb(r,n){try{const a=await Qb(r,n),l={...n,authToken:a};return await Wu(r.appConfig,l),a}catch(a){if(P_(a)&&(a.customData.serverCode===401||a.customData.serverCode===404))await K_(r.appConfig);else{const l={...n,authToken:{requestStatus:0}};await Wu(r.appConfig,l)}throw a}}function Z_(r){return r!==void 0&&r.registrationStatus===2}function Kb(r){return r.requestStatus===2&&!$b(r)}function $b(r){const n=Date.now();return n<r.creationTime||r.creationTime+r.expiresIn<n+Sb}function Zb(r){const n={requestStatus:1,requestTime:Date.now()};return{...r,authToken:n}}function Jb(r){return r.requestStatus===1&&r.requestTime+L_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wb(r){const n=r,{installationEntry:a,registrationPromise:l}=await wd(n);return l?l.catch(console.error):Cd(n).catch(console.error),a.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(r,n=!1){const a=r;return await e2(a),(await Cd(a,n)).token}async function e2(r){const{registrationPromise:n}=await wd(r);n&&await n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(r){if(!r||!r.options)throw Ch("App Configuration");if(!r.name)throw Ch("App Name");const n=["projectId","apiKey","appId"];for(const a of n)if(!r.options[a])throw Ch(a);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Ch(r){return Ir.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="installations",i2="installations-internal",a2=r=>{const n=r.getProvider("app").getImmediate(),a=n2(n),l=eo(n,"heartbeat");return{app:n,appConfig:a,heartbeatServiceProvider:l,_delete:()=>Promise.resolve()}},r2=r=>{const n=r.getProvider("app").getImmediate(),a=eo(n,J_).getImmediate();return{getId:()=>Wb(a),getToken:u=>t2(a,u)}};function s2(){Ma(new Zi(J_,a2,"PUBLIC")),Ma(new Zi(i2,r2,"PRIVATE"))}s2();yi(U_,bd);yi(U_,bd,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc="analytics",l2="firebase_id",o2="origin",u2=60*1e3,c2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Dd="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un=new $h("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},An=new nc("analytics","Analytics",f2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(r){if(!r.startsWith(Dd)){const n=An.create("invalid-gtag-resource",{gtagURL:r});return un.warn(n.message),""}return r}function W_(r){return Promise.all(r.map(n=>n.catch(a=>a)))}function d2(r,n){let a;return window.trustedTypes&&(a=window.trustedTypes.createPolicy(r,n)),a}function m2(r,n){const a=d2("firebase-js-sdk-policy",{createScriptURL:h2}),l=document.createElement("script"),u=`${Dd}?l=${r}&id=${n}`;l.src=a?a?.createScriptURL(u):u,l.async=!0,document.head.appendChild(l)}function g2(r){let n=[];return Array.isArray(window[r])?n=window[r]:window[r]=n,n}async function p2(r,n,a,l,u,h){const m=l[u];try{if(m)await n[m];else{const v=(await W_(a)).find(_=>_.measurementId===u);v&&await n[v.appId]}}catch(y){un.error(y)}r("config",u,h)}async function y2(r,n,a,l,u){try{let h=[];if(u&&u.send_to){let m=u.send_to;Array.isArray(m)||(m=[m]);const y=await W_(a);for(const v of m){const _=y.find(M=>M.measurementId===v),S=_&&n[_.appId];if(S)h.push(S);else{h=[];break}}}h.length===0&&(h=Object.values(n)),await Promise.all(h),r("event",l,u||{})}catch(h){un.error(h)}}function _2(r,n,a,l){async function u(h,...m){try{if(h==="event"){const[y,v]=m;await y2(r,n,a,y,v)}else if(h==="config"){const[y,v]=m;await p2(r,n,a,l,y,v)}else if(h==="consent"){const[y,v]=m;r("consent",y,v)}else if(h==="get"){const[y,v,_]=m;r("get",y,v,_)}else if(h==="set"){const[y]=m;r("set",y)}else r(h,...m)}catch(y){un.error(y)}}return u}function v2(r,n,a,l,u){let h=function(...m){window[l].push(arguments)};return window[u]&&typeof window[u]=="function"&&(h=window[u]),window[u]=_2(h,r,n,a),{gtagCore:h,wrappedGtag:window[u]}}function E2(r){const n=window.document.getElementsByTagName("script");for(const a of Object.values(n))if(a.src&&a.src.includes(Dd)&&a.src.includes(r))return a;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=30,A2=1e3;class S2{constructor(n={},a=A2){this.throttleMetadata=n,this.intervalMillis=a}getThrottleMetadata(n){return this.throttleMetadata[n]}setThrottleMetadata(n,a){this.throttleMetadata[n]=a}deleteThrottleMetadata(n){delete this.throttleMetadata[n]}}const tv=new S2;function b2(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function R2(r){const{appId:n,apiKey:a}=r,l={method:"GET",headers:b2(a)},u=c2.replace("{app-id}",n),h=await fetch(u,l);if(h.status!==200&&h.status!==304){let m="";try{const y=await h.json();y.error?.message&&(m=y.error.message)}catch{}throw An.create("config-fetch-failed",{httpStatus:h.status,responseMessage:m})}return h.json()}async function w2(r,n=tv,a){const{appId:l,apiKey:u,measurementId:h}=r.options;if(!l)throw An.create("no-app-id");if(!u){if(h)return{measurementId:h,appId:l};throw An.create("no-api-key")}const m=n.getThrottleMetadata(l)||{backoffCount:0,throttleEndTimeMillis:Date.now()},y=new I2;return setTimeout(async()=>{y.abort()},u2),ev({appId:l,apiKey:u,measurementId:h},m,y,n)}async function ev(r,{throttleEndTimeMillis:n,backoffCount:a},l,u=tv){const{appId:h,measurementId:m}=r;try{await C2(l,n)}catch(y){if(m)return un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:h,measurementId:m};throw y}try{const y=await R2(r);return u.deleteThrottleMetadata(h),y}catch(y){const v=y;if(!D2(v)){if(u.deleteThrottleMetadata(h),m)return un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:h,measurementId:m};throw y}const _=Number(v?.customData?.httpStatus)===503?Jp(a,u.intervalMillis,T2):Jp(a,u.intervalMillis),S={throttleEndTimeMillis:Date.now()+_,backoffCount:a+1};return u.setThrottleMetadata(h,S),un.debug(`Calling attemptFetch again in ${_} millis`),ev(r,S,l,u)}}function C2(r,n){return new Promise((a,l)=>{const u=Math.max(n-Date.now(),0),h=setTimeout(a,u);r.addEventListener(()=>{clearTimeout(h),l(An.create("fetch-throttle",{throttleEndTimeMillis:n}))})})}function D2(r){if(!(r instanceof ja)||!r.customData)return!1;const n=Number(r.customData.httpStatus);return n===429||n===500||n===503||n===504}class I2{constructor(){this.listeners=[]}addEventListener(n){this.listeners.push(n)}abort(){this.listeners.forEach(n=>n())}}async function N2(r,n,a,l,u){if(u&&u.global){r("event",a,l);return}else{const h=await n,m={...l,send_to:h};r("event",a,m)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(){if(v0())try{await E0()}catch(r){return un.warn(An.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return un.warn(An.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function M2(r,n,a,l,u,h,m){const y=w2(r);y.then(I=>{a[I.measurementId]=I.appId,r.options.measurementId&&I.measurementId!==r.options.measurementId&&un.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>un.error(I)),n.push(y);const v=x2().then(I=>{if(I)return l.getId()}),[_,S]=await Promise.all([y,v]);E2(h)||m2(h,_.measurementId),u("js",new Date);const M=m?.config??{};return M[o2]="firebase",M.update=!0,S!=null&&(M[l2]=S),u("config",_.measurementId,M),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(n){this.app=n}_delete(){return delete Yl[this.app.options.appId],Promise.resolve()}}let Yl={},Zy=[];const Jy={};let Dh="dataLayer",V2="gtag",Wy,nv,t0=!1;function U2(){const r=[];if(cT()&&r.push("This is a browser extension environment."),hT()||r.push("Cookies are not available."),r.length>0){const n=r.map((l,u)=>`(${u+1}) ${l}`).join(" "),a=An.create("invalid-analytics-context",{errorInfo:n});un.warn(a.message)}}function L2(r,n,a){U2();const l=r.options.appId;if(!l)throw An.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw An.create("no-api-key");if(Yl[l]!=null)throw An.create("already-exists",{id:l});if(!t0){g2(Dh);const{wrappedGtag:h,gtagCore:m}=v2(Yl,Zy,Jy,Dh,V2);nv=h,Wy=m,t0=!0}return Yl[l]=M2(r,Zy,Jy,n,Wy,Dh,a),new O2(r)}function j2(r=b0()){r=br(r);const n=eo(r,tc);return n.isInitialized()?n.getImmediate():z2(r)}function z2(r,n={}){const a=eo(r,tc);if(a.isInitialized()){const u=a.getImmediate();if(Xl(n,a.getOptions()))return u;throw An.create("already-initialized")}return a.initialize({options:n})}function P2(r,n,a,l){r=br(r),N2(nv,Yl[r.app.options.appId],n,a,l).catch(u=>un.error(u))}const e0="@firebase/analytics",n0="0.10.18";function B2(){Ma(new Zi(tc,(n,{options:a})=>{const l=n.getProvider("app").getImmediate(),u=n.getProvider("installations-internal").getImmediate();return L2(l,u,a)},"PUBLIC")),Ma(new Zi("analytics-internal",r,"PRIVATE")),yi(e0,n0),yi(e0,n0,"esm2020");function r(n){try{const a=n.getProvider(tc).getImmediate();return{logEvent:(l,u,h)=>P2(a,l,u,h)}}catch(a){throw An.create("interop-component-reg-failed",{reason:a})}}}B2();const ec={apiKey:"AIzaSyDwst-4J5unX773oOfXHfjdOymh02yH_fU",authDomain:"steering-experiment.firebaseapp.com",projectId:"steering-experiment",storageBucket:"steering-experiment.firebasestorage.app",messagingSenderId:"773443415350",appId:"1:773443415350:web:f95e4d189b16ebb76d9797",measurementId:"G-RFZQQVCF7C"},k2=Jh(ec);j2(k2);const q2=Jh(ec),H2=rb(q2);async function G2(r){try{const n={...r,uploadedAt:Tb(),version:"2.0"},a=await vb(ib(H2,"experiments"),n);return console.log("Data uploaded successfully with ID:",a.id),a.id}catch(n){throw console.error("Error uploading data to Firebase:",n),n}}async function Q2(r,n=3){let a;for(let l=1;l<=n;l++)try{return await G2(r)}catch(u){if(a=u,console.warn(`Upload attempt ${l} failed:`,u.message),l<n){const h=Math.pow(2,l)*1e3;await new Promise(m=>setTimeout(m,h))}}throw new Error(`Failed to upload data after ${n} attempts. Last error: ${a.message}`)}function F2(){return ec.apiKey!=="your-api-key-here"&&ec.projectId!=="your-project-id"}const i0=(r,n,a)=>{const l={participantId:r,prolificData:n,trialData:a,summary:{totalTrials:a.length,averageCompletionTime:a.reduce((y,v)=>y+v.completionTime,0)/a.length}},u=new Blob([JSON.stringify(l,null,2)],{type:"application/json"}),h=URL.createObjectURL(u),m=document.createElement("a");m.href=h,m.download=`steering_experiment_${r}_${Date.now()}.json`,m.click(),URL.revokeObjectURL(h)},Y2=async(r,n,a)=>{if(!F2())throw new Error("Firebase not configured. Please check your configuration.");const l={participantId:r,prolificData:n,trialData:a,summary:{totalTrials:a.length,averageCompletionTime:a.reduce((h,m)=>h+m.completionTime,0)/a.length},experimentVersion:"3.0",completedAt:new Date().toISOString()};return await Q2(l)},a0=(r,n)=>r===ut.MAIN_TRIALS?n+1:r===ut.SEQUENTIAL_TRIALS?bs.length+n+1:0,r0=()=>bs.length+BE.length,s0=(r,n)=>r===ut.TIME_TRIALS?n+1:r===ut.SEQUENTIAL_TIME_TRIALS?h0.length+n+1:0,l0=()=>h0.length+kE.length,X2=({phase:r,currentTrial:n,currentConditions:a,practicedConditions:l,setPhase:u,setCurrentTrial:h,setCurrentConditions:m,setCurrentPracticeCondition:y,setIsPractice:v,setupTrial:_})=>{const S=n+1;if(h(S),S>=a.length){r===ut.MAIN_TRIALS&&u(ut.COMPLETE);return}_(a[S])},K2=(r,n,a,l,u,h)=>{if(r.strokeStyle="#666666",r.lineWidth=2,a==="sequential"){const m=n.length/2;for(let v=0;v<2;v++){const _=Math.floor(v*m),S=Math.floor((v+1)*m),M=u[v]/2;r.beginPath();for(let I=_;I<S&&I<n.length;I++){const K=n[I],$=K.x*h,nt=(K.y-M)*h;I===_?r.moveTo($,nt):r.lineTo($,nt)}r.stroke(),r.beginPath();for(let I=_;I<S&&I<n.length;I++){const K=n[I],$=K.x*h,nt=(K.y+M)*h;I===_?r.moveTo($,nt):r.lineTo($,nt)}r.stroke()}r.strokeStyle="#666666",r.lineWidth=2;const y=Math.floor(m);if(y<n.length){const v=n[y],_=v.x*h,S=u[0]/2,M=u[1]/2;r.beginPath(),r.moveTo(_,(v.y-S)*h),r.lineTo(_,(v.y-M)*h),r.stroke(),r.beginPath(),r.moveTo(_,(v.y+S)*h),r.lineTo(_,(v.y+M)*h),r.stroke()}}else{const m=l/2;r.beginPath(),n.forEach((y,v)=>{const _=y.x*h,S=(y.y-m)*h;v===0?r.moveTo(_,S):r.lineTo(_,S)}),r.stroke(),r.beginPath(),n.forEach((y,v)=>{const _=y.x*h,S=(y.y+m)*h;v===0?r.moveTo(_,S):r.lineTo(_,S)}),r.stroke()}},$2=(r,n,a)=>{n.forEach(l=>{r.fillStyle="#FF6B6B",r.strokeStyle="#DC2626",r.lineWidth=2;const u=l.x*a,h=l.y*a,m=4;r.beginPath(),r.moveTo(u-m,h-m),r.lineTo(u+m,h+m),r.moveTo(u-m,h+m),r.lineTo(u+m,h-m),r.stroke(),r.beginPath(),r.arc(u,h,m+2,0,2*Math.PI),r.stroke()})},Z2=(r,n,a)=>{r.fillStyle="#0000FF",r.beginPath(),r.arc(n.x*a,n.y*a,3,0,2*Math.PI),r.fill()},J2=(r,n,a)=>{const l=n.x*a,u=n.y*a,h=d0*a;r.fillStyle="#00FF00",r.beginPath(),r.arc(l,u,h,0,2*Math.PI),r.fill(),r.strokeStyle="#009900",r.lineWidth=3,r.stroke(),r.fillStyle="#000000",r.font="12px Arial",r.textAlign="center"},W2=(r,n,a)=>{const l=n.x*a,u=n.y*a,h=m0*a;r.fillStyle="#FF0000",r.beginPath(),r.arc(l,u,h,0,2*Math.PI),r.fill(),r.strokeStyle="#990000",r.lineWidth=2,r.stroke()},tR=(r,n,a,l,u,h,m,y,v,_,S,M,I,K)=>{r.clearRect(0,0,M,I),n.length>0&&K2(r,n,a,l,u,K),m&&h.length>0&&$2(r,h,K),Z2(r,y,K),v==="waiting_for_start"&&J2(r,_,K),W2(r,S,K)},eR=({phase:r,setPhase:n,currentTrial:a,setCurrentTrial:l,currentConditions:u,setCurrentConditions:h,currentPracticeCondition:m,setCurrentPracticeCondition:y,practicedConditions:v,setPracticedConditions:_,participantId:S,setParticipantId:M,setIsPractice:I,setupTrial:K})=>{ct.useEffect(()=>{const $=nt=>{switch(r){case ut.WELCOME:nt.key==="Enter"&&n(ut.ENVIRONMENT_SETUP);break;case ut.ENVIRONMENT_SETUP:nt.key===" "&&n(ut.SCREEN_CALIBRATION);break;case ut.SCREEN_CALIBRATION:nt.key===" "&&n(ut.INSTRUCTIONS);break;case ut.INSTRUCTIONS:nt.key===" "&&(n(ut.PRACTICE),I(!0),K(bs[0]));break;case ut.PRACTICE:nt.key==="r"?K(bs[0]):nt.key==="n"&&(n(ut.MAIN_TRIALS),l(0),h([...bs]),I(!1),S||M(`P${new Date().toTimeString().slice(0,8).replace(/:/g,"")}`),K(bs[0]));break;case ut.MAIN_TRIALS:nt.key==="r"&&K(u[a]);break}};return window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[r,a,u,m,S,K,n,l,h,y,_,M,I])},nR=(r,n,a,l,u,h)=>{if(!a.length)return{isExcursion:!1};let m=1/0,y=null,v=-1;a.forEach((S,M)=>{const I=Math.sqrt((r-S.x)**2+(n-S.y)**2);I<m&&(m=I,y=S,v=M)});let _;if(l==="sequential"){const S=a.length/2,M=Math.floor(v/S);_=h[Math.min(M,h.length-1)]/2}else _=u/2;if(m>_){const S=(r-y.x)/m,M=(n-y.y)/m;return{isExcursion:!0,boundaryPoint:{x:y.x+S*_,y:y.y+M*_},distanceOutside:m-_}}return{isExcursion:!1}},iR=({phase:r,trialState:n,setTrialState:a,setCursorPos:l,cursorPosRef:u,setCursorVel:h,setTrajectoryPoints:m,setSpeedHistory:y,setTimestampHistory:v,startButtonPos:_,targetPos:S,tunnelPath:M,tunnelType:I,tunnelWidth:K,segmentWidths:$,shouldMarkBoundaries:nt,shouldEnforceBoundaries:it,setExcursionEvents:St,setExcursionMarkers:vt,hasExcursionMarker:dt,setHasExcursionMarker:zt,onTrialComplete:_t,onStartTrial:xt,scale:V})=>{const A=ct.useRef(0),w=ct.useRef(null),N=ct.useRef(0),O=ct.useCallback(b=>{if(![ut.PRACTICE,ut.MAIN_TRIALS,ut.SEQUENTIAL_TRIALS,ut.TIME_TRIAL_PRACTICE,ut.TIME_TRIALS,ut.SEQUENTIAL_TIME_TRIALS].includes(r)||n!==$e.WAITING_FOR_START)return;const ne=b.currentTarget.getBoundingClientRect(),Ct=(b.clientX-ne.left)/V,H=(b.clientY-ne.top)/V;Math.sqrt((Ct-_.x)**2+(H-_.y)**2)<=d0&&xt()},[r,n,_,xt]),L=ct.useCallback(b=>{if(![ut.PRACTICE,ut.MAIN_TRIALS,ut.SEQUENTIAL_TRIALS,ut.TIME_TRIAL_PRACTICE,ut.TIME_TRIALS,ut.SEQUENTIAL_TIME_TRIALS].includes(r)||n!==$e.IN_PROGRESS)return;const ne=b.currentTarget.getBoundingClientRect(),Ct=(b.clientX-ne.left)/V,H=(b.clientY-ne.top)/V,W=Date.now();let rt={x:0,y:0};if(w.current&&A.current){const G=(W-A.current)/1e3;if(G>0){const tt=Ct-w.current.x,J=H-w.current.y;rt={x:tt/G,y:J/G}}}u.current={x:Ct,y:H},l({x:Ct,y:H}),h(rt);const Nt=Math.sqrt(rt.x**2+rt.y**2);if(m(G=>{const tt=[...G,{x:Ct,y:H}];return N.current=tt.length,tt}),y(G=>[...G,Nt]),v(G=>[...G,W]),nt()){const G=nR(Ct,H,M,I,K,$);if(G.isExcursion&&!dt){vt([G.boundaryPoint]),zt(!0);const tt={timeIndex:N.current-1,position:{x:Ct,y:H},distanceOutside:G.distanceOutside,timestamp:W,boundaryPoint:G.boundaryPoint};if(St(J=>[...J,tt]),it()){a($e.FAILED);return}}}Math.sqrt((Ct-S.x)**2+(H-S.y)**2)<m0&&_t(!0),w.current={x:Ct,y:H},A.current=W},[r,n,l,u,h,m,y,v,_,S,M,I,K,$,nt,it,St,vt,dt,zt,a,_t,V]);return{handleMouseClick:O,handleMouseMove:L,lastTimeRef:A}},aR=()=>x.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center",children:[x.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Human Steering Experiment"}),x.jsx("p",{className:"mb-6 text-gray-600",children:"Press ENTER to continue"})]})});/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sR=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,a,l)=>l?l.toUpperCase():a.toLowerCase()),o0=r=>{const n=sR(r);return n.charAt(0).toUpperCase()+n.slice(1)},iv=(...r)=>r.filter((n,a,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===a).join(" ").trim(),lR=r=>{for(const n in r)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=ct.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:u="",children:h,iconNode:m,...y},v)=>ct.createElement("svg",{ref:v,...oR,width:n,height:n,stroke:r,strokeWidth:l?Number(a)*24/Number(n):a,className:iv("lucide",u),...!h&&!lR(y)&&{"aria-hidden":"true"},...y},[...m.map(([_,S])=>ct.createElement(_,S)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=(r,n)=>{const a=ct.forwardRef(({className:l,...u},h)=>ct.createElement(uR,{ref:h,iconNode:n,className:iv(`lucide-${rR(o0(r))}`,`lucide-${r}`,l),...u}));return a.displayName=o0(r),a};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fR=za("circle-check-big",cR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],dR=za("credit-card",hR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gR=za("eye",mR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],yR=za("monitor",pR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["rect",{x:"5",y:"2",width:"14",height:"20",rx:"7",key:"11ol66"}],["path",{d:"M12 6v4",key:"16clxf"}]],vR=za("mouse",_R);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],TR=za("settings",ER);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],SR=za("triangle-alert",AR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],RR=za("users",bR),wR=()=>x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full mx-auto",children:[x.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-6 text-center rounded-t-2xl",children:[x.jsxs("div",{className:"flex items-center justify-center mb-2",children:[x.jsx(TR,{className:"w-8 h-8 mr-3"}),x.jsx("h1",{className:"text-2xl font-bold",children:"Environment Setup Instructions"})]}),x.jsx("p",{className:"text-blue-100",children:"Thank you for joining our study!"})]}),x.jsxs("div",{className:"p-8",children:[x.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-2",children:[x.jsx(SR,{className:"w-5 h-5 text-yellow-600 mr-2"}),x.jsx("span",{className:"font-semibold text-gray-800",children:"Important"})]}),x.jsx("p",{className:"text-sm text-gray-700",children:"Please configure your setup correctly to ensure consistent and usable data."})]}),x.jsxs("div",{className:"space-y-5",children:[x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-3",children:[x.jsx("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm mr-3",children:"1"}),x.jsx(yR,{className:"w-6 h-6 text-blue-600 mr-2"}),x.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Device Requirements"})]}),x.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[x.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[x.jsx("span",{className:"text-green-600",children:""})," Use a ",x.jsx("strong",{children:"desktop/laptop"})," with a ",x.jsx("strong",{children:"physical mouse"})," on a flat surface"]}),x.jsxs("p",{className:"text-sm text-gray-700",children:[x.jsx("span",{className:"text-red-600",children:""})," Do not use trackpad, touchscreen, or drawing tablet"]})]})]}),x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-3",children:[x.jsx("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm mr-3",children:"2"}),x.jsx(vR,{className:"w-6 h-6 text-blue-600 mr-2"}),x.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Mouse Settings"})]}),x.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:["Set your mouse to ",x.jsx("strong",{children:"default sensitivity"}),":"]}),x.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[x.jsx("h3",{className:"font-semibold text-gray-800 mb-2 text-sm",children:"Windows"}),x.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[x.jsx("p",{children:" Open Control Panel  Hardware and Sound  Devices and Printers  Mouse"}),x.jsx("p",{children:' Go to the "Pointer Options" tab'}),x.jsx("p",{children:' Uncheck "Enhance pointer precision"'}),x.jsx("p",{children:" Set the pointer speed slider to the middle position"})]})]}),x.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[x.jsx("h3",{className:"font-semibold text-gray-800 mb-2 text-sm",children:"Mac (macOS)"}),x.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[x.jsx("p",{children:" System Preferences  Mouse"}),x.jsx("p",{children:" Set Tracking Speed to middle (4th from left)"}),x.jsx("p",{children:" Click on advanced  disable Pointer acceleration"})]})]})]})]}),x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-3",children:[x.jsx("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm mr-3",children:"3"}),x.jsx(gR,{className:"w-6 h-6 text-blue-600 mr-2"}),x.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Screen Setup"})]}),x.jsx("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:x.jsxs("p",{className:"text-sm text-gray-700",children:[x.jsx("strong",{})," Make browser full screen: ",x.jsx("kbd",{className:"bg-gray-200 px-1 py-0.5 rounded text-xs",children:"F11"})," (Windows) or ",x.jsx("kbd",{className:"bg-gray-200 px-1 py-0.5 rounded text-xs",children:"F"})," (Mac)"]})})]}),x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-3",children:[x.jsx("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm mr-3",children:"4"}),x.jsx(RR,{className:"w-6 h-6 text-blue-600 mr-2"}),x.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Positioning"})]}),x.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[x.jsx("p",{className:"text-sm text-gray-700",children:"Sit about one arm's length away from the monitor and try to keep the same position during the experiment."}),x.jsx("p",{children:"At the start of each trial, adjust your posture so you are comfortable."})]})]}),x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-3",children:[x.jsx("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm mr-3",children:"5"}),x.jsx(fR,{className:"w-6 h-6 text-blue-600 mr-2"}),x.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"During the Experiment"})]}),x.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:x.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[x.jsxs("p",{children:[x.jsx("span",{className:"text-green-600",children:""})," Follow instructions carefully and try your best"]}),x.jsxs("p",{children:[x.jsx("span",{className:"text-red-600",children:""})," Do not change mouse settings once you start"]})]})})]})]}),x.jsx("div",{className:"mt-12 text-center",children:x.jsxs("div",{className:"bg-white border-4 border-blue-600 px-12 py-8 rounded-2xl inline-block shadow-2xl hover:shadow-3xl transition-all duration-300 transform hover:scale-105",children:[x.jsx("div",{className:"flex items-center justify-center space-x-4",children:x.jsx("span",{className:"text-3xl font-black text-gray-800",children:"Ready to continue?"})}),x.jsxs("div",{className:"mt-4 text-lg font-semibold text-gray-600",children:["Press ",x.jsx("kbd",{className:"bg-gray-200 text-gray-800 px-3 py-1 rounded text-lg font-bold",children:"SPACEBAR"})," to proceed"]})]})})]})]})}),CR=()=>x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-4",children:x.jsx("div",{className:"max-w-4xl mx-auto",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden border border-gray-100",children:[x.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white p-6 text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-2",children:[x.jsx(dR,{className:"w-8 h-8 mr-3"}),x.jsx("h1",{className:"text-3xl font-bold",children:"Screen Calibration"})]}),x.jsx("p",{className:"text-lg text-blue-100",children:"Calibrate your screen using a credit card"})]}),x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"text-center mb-6",children:[x.jsx("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:x.jsxs("p",{className:"text-gray-700",children:["Hold your ",x.jsx("strong",{children:"credit card"})," against the window below and adjust browser zoom until they match"]})}),x.jsx("div",{className:"space-y-2 text-sm text-gray-600 max-w-lg mx-auto",children:x.jsx("p",{children:'Use Ctrl/ + "+" or "" to adjust zoom'})})]}),x.jsx("div",{className:"flex justify-center mb-6",children:x.jsx("div",{className:"bg-gray-100 border-2 border-dashed border-gray-400 rounded-lg p-6",children:x.jsx("div",{className:"bg-blue-200 border-2 border-blue-400 rounded",style:{width:"340px",height:"200px",position:"relative"},children:x.jsx("div",{className:"absolute inset-0 flex items-center justify-center"})})})}),x.jsx("div",{className:"text-center",children:x.jsx("div",{className:"bg-white border-4 border-blue-600 px-8 py-4 rounded-2xl inline-block shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105",children:x.jsxs("div",{className:"text-lg font-semibold text-gray-600",children:["Press ",x.jsx("kbd",{className:"bg-gray-200 text-gray-800 px-2 py-1 rounded text-lg font-bold",children:"SPACEBAR"})," when done"]})})})]})]})})}),DR=()=>x.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-6",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-3xl",children:[x.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-6",children:"Task Instructions (Please read carefully):"}),x.jsxs("ul",{className:"space-y-3 mb-6",children:[x.jsx("li",{children:"Click the green START button to begin each trial"}),x.jsx("li",{children:"Navigate through the tunnel to reach the red target"}),x.jsx("li",{children:"Do NOT stop once you begin the trial"}),x.jsx("li",{children:"Move as smoothly and accurately as possible"}),x.jsx("li",{children:"Press R to restart the current trial at anytime if needed"})]}),x.jsx("p",{className:"mb-4",children:"You will start with a practice trial to get familiar with the controls and task."}),x.jsx("p",{className:"font-semibold",children:"Press 'SPACEBAR' to start practice"})]})}),IR=()=>x.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-6",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-3xl",children:[x.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-6",children:"Time-Constrained Trials (Please read carefully):"}),x.jsx("p",{className:"mb-4",children:"In this part of the experiment, you must complete each task within a set time limit."}),x.jsxs("ul",{className:"space-y-3 mb-6",children:[x.jsx("li",{children:"Each trial has a different time limit."}),x.jsx("li",{children:"Before each new type of timed trial, you'll complete one practice round with a visible timer."}),x.jsx("li",{children:"During practice, learn the timing; in the actual trial, the timer won't be shown but the limit will still apply."}),x.jsx("li",{children:"You may cross the boundary in these trials, but aim to follow the tunnel as closely as possible."}),x.jsx("li",{children:"Balance speed and accuracy  the goal is to finish right as the time runs out."})]}),x.jsx("p",{className:"font-semibold",children:"Press SPACEBAR to begin time-constrained trials."})]})}),NR=({uploadStatus:r,uploadError:n,onCompleteExperiment:a,onRetryUpload:l,onDownloadData:u})=>x.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center max-w-md",children:[x.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-6",children:"Experiment Complete!"}),x.jsx("p",{className:"mb-6",children:"All trials completed successfully!"}),r==="idle"&&x.jsx("div",{className:"mb-6",children:x.jsx("button",{onClick:a,className:"bg-green-500 hover:bg-green-700 text-white font-bold py-3 px-6 rounded mb-4 w-full",children:"Upload Data"})}),r==="uploading"&&x.jsxs("div",{className:"mb-6",children:[x.jsxs("div",{className:"flex items-center justify-center mb-4",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),x.jsx("span",{className:"ml-3 text-blue-600",children:"Uploading data..."})]}),x.jsx("p",{className:"text-sm text-gray-600",children:"Please wait while we save your data"})]}),r==="success"&&x.jsx("div",{className:"mb-6",children:x.jsxs("div",{className:"text-green-600 mb-4",children:[x.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),x.jsx("p",{className:"font-semibold",children:"Data uploaded successfully!"})]})}),r==="error"&&x.jsxs("div",{className:"mb-6",children:[x.jsxs("div",{className:"text-red-600 mb-4",children:[x.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),x.jsx("p",{className:"font-semibold",children:"Upload failed"})]}),x.jsx("p",{className:"text-sm text-red-600 mb-4",children:n}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("button",{onClick:l,className:"bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded w-full",children:"Retry Upload"}),x.jsx("button",{onClick:u,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-full",children:"Download Data Only"})]})]}),x.jsx("p",{className:"text-gray-600",children:"Thank you for participating!"})]})}),xR=({canvasRef:r,phase:n,trialState:a,timeLimit:l,timeRemaining:u,failedDueToTimeout:h,shouldEnforceBoundaries:m,onMouseClick:y,onMouseMove:v,renderStatus:_,renderControls:S,canvasWidth:M,canvasHeight:I})=>x.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-4",children:[x.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[x.jsx("div",{className:"mb-4 w-full max-w-md mx-auto",children:n===ut.TIME_TRIAL_PRACTICE&&l&&x.jsx("div",{style:{width:"100%"},children:x.jsx("div",{style:{width:"100%",height:"32px",backgroundColor:"#d1d5db",borderRadius:"8px",overflow:"hidden",marginBottom:"8px",position:"relative"},children:x.jsx("div",{style:{height:"100%",position:"absolute",top:"0",left:"0",transition:"all 0.1s",backgroundColor:a!==$e.IN_PROGRESS?"#10b981":u/l>.2?"#f59e0b":"#ef4444",width:`${a!==$e.IN_PROGRESS?100:Math.max(0,u/l*100)}%`}})})})}),x.jsx("canvas",{ref:r,width:M||460,height:I||260,style:{width:`${M||460}px`,height:`${I||260}px`},onClick:y,onMouseMove:v,className:"border border-gray-300 cursor-crosshair"}),x.jsxs("div",{className:"mt-4 text-center",children:[_(),S()]})]}),a===$e.FAILED&&(n===ut.TIME_TRIALS||n===ut.SEQUENTIAL_TIME_TRIALS||n===ut.TIME_TRIAL_PRACTICE)&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:x.jsxs("div",{className:"bg-gray-100 rounded-lg p-8 text-center",children:[x.jsx("h3",{className:"text-xl font-bold mb-4 text-red-600",children:h?"TIME'S UP!":"TRIAL FAILED"}),x.jsx("p",{className:"mb-4",children:h?"You ran out of time. Try to move faster.":m()?"You went outside the tunnel boundary, please retry the trial.":"Complete the task to advance."}),x.jsx("p",{className:"text-sm text-gray-600",children:"Press R to restart trial"})]})})]}),u0=(r,n=96)=>r/2.54*n,MR=()=>window.devicePixelRatio*96,c0=()=>{const a=MR(),l=u0(46,a),u=u0(26,a),h=40,m=window.innerWidth-h,y=window.innerHeight-h-200;let v=l,_=u;if(l>m||u>y){const I=m/l,K=y/u,$=Math.min(I,K);v=l*$,_=u*$}v=Math.max(v,300),_=Math.max(_,200);const M=v/.46;return{width:Math.round(v),height:Math.round(_),scale:M}},OR=()=>{const r=ct.useRef(null),n=ct.useRef(null),[a,l]=ct.useState(()=>typeof window<"u"?c0():{width:460,height:260,scale:1e3}),[u,h]=ct.useState(ut.WELCOME),[m,y]=ct.useState($e.WAITING_FOR_START),[v,_]=ct.useState(""),[S,M]=ct.useState({}),[I,K]=ct.useState(0),[$,nt]=ct.useState([]),[it,St]=ct.useState(!1),[vt,dt]=ct.useState(null),[zt,_t]=ct.useState(new Set),[xt,V]=ct.useState([]),[A,w]=ct.useState([]),[N,O]=ct.useState([]),[L,b]=ct.useState([]),[ne,Ct]=ct.useState("idle"),[H,W]=ct.useState(null),[rt,Nt]=ct.useState(null),[C,G]=ct.useState([]),[tt,J]=ct.useState([]),[ot,Et]=ct.useState(!1),[pt,ce]=ct.useState({x:0,y:0}),Bt=ct.useRef({x:0,y:0}),[Ln,Sn]=ct.useState({x:0,y:0}),[fn,Ei]=ct.useState([]),[jn,Jn]=ct.useState(.015),[Ti,Pa]=ct.useState("curved"),[Fe,Vs]=ct.useState([.015,.025,.015]),[Ai,Wi]=ct.useState({x:0,y:0}),[hn,Us]=ct.useState({x:0,y:0}),[Wn,ta]=ct.useState(0),[zn,ie]=ct.useState(null),[kt,Ue]=ct.useState(0),[Ce,Ba]=ct.useState(!1),Or=ct.useCallback(()=>u===ut.PRACTICE||u===ut.MAIN_TRIALS||u===ut.SEQUENTIAL_TRIALS,[u]),Pn=ct.useCallback(()=>u===ut.PRACTICE||u===ut.MAIN_TRIALS||u===ut.SEQUENTIAL_TRIALS,[u]);ct.useEffect(()=>{const ht=()=>{l(c0())};return ht(),window.addEventListener("resize",ht),()=>window.removeEventListener("resize",ht)},[]),ct.useEffect(()=>{const ht=qE();M(ht),ht.prolificPid?_(`P${ht.prolificPid}`):_(`P${new Date().toTimeString().slice(0,8).replace(/:/g,"")}`)},[]);const ti=ct.useCallback(ht=>{let Mt;ht.tunnelType==="sequential"?(Mt=GE(ht),Pa("sequential"),Vs([ht.segment1Width,ht.segment2Width]),Jn(ht.segment1Width)):(Mt=HE(ht.curvature),Pa("curved"),Jn(ht.tunnelWidth)),Ei(Mt),ie(ht.timeLimit);const Jt=Mt[0],Le=Mt[Mt.length-1];Us(Jt),Wi(Le),ce(Jt),Bt.current=Jt,Sn({x:0,y:0}),y($e.WAITING_FOR_START),w([]),O([]),b([]),G([]),J([]),Et(!1),ta(0),Ue(ht.timeLimit||0),Ba(!1)},[]),Si=()=>{y($e.IN_PROGRESS);const ht=Date.now();ta(ht),Ba(!1),zn&&Ue(zn);const Mt={x:hn.x,y:hn.y};ce(Mt),Bt.current=Mt,Sn({x:0,y:0}),w([Mt]),O([0]),b([ht]),G([])},dn=ht=>{const Jt=(Date.now()-Wn)/1e3;if(it||u===ut.TIME_TRIAL_PRACTICE){if(ht){const ae=u===ut.PRACTICE?"Practice":"Individual practice";console.log(`${ae} completed! Time: ${Jt.toFixed(2)}s`)}y(ht?$e.WAITING_FOR_START:$e.FAILED);return}if(!ht){y($e.FAILED);return}const Le=$[I],{id:Ls,...Wt}=Le,me={participantId:v,completionTime:Jt,condition:Wt,trial_id:Le.id,timestamps:[...L],trajectory:[...A],speeds:[...N]};V(ae=>[...ae,me]),X2({phase:u,currentTrial:I,currentConditions:$,practicedConditions:zt,setPhase:h,setCurrentTrial:K,setCurrentConditions:nt,setCurrentPracticeCondition:dt,setIsPractice:St,setupTrial:ti})};ct.useEffect(()=>{if(m!==$e.IN_PROGRESS||!zn)return;const ht=setInterval(()=>{const Jt=(Date.now()-Wn)/1e3,Le=Math.max(0,zn-Jt);Ue(Le)},50);return()=>clearInterval(ht)},[m,zn,Wn]),eR({phase:u,setPhase:h,currentTrial:I,setCurrentTrial:K,currentConditions:$,setCurrentConditions:nt,currentPracticeCondition:vt,setCurrentPracticeCondition:dt,practicedConditions:zt,setPracticedConditions:_t,participantId:v,setParticipantId:_,setIsPractice:St,setupTrial:ti});const{handleMouseClick:ea,handleMouseMove:bi}=iR({phase:u,trialState:m,setTrialState:y,setCursorPos:ce,cursorPosRef:Bt,setCursorVel:Sn,setTrajectoryPoints:w,setSpeedHistory:O,setTimestampHistory:b,startButtonPos:hn,targetPos:Ai,tunnelPath:fn,tunnelType:Ti,tunnelWidth:jn,segmentWidths:Fe,shouldMarkBoundaries:Pn,shouldEnforceBoundaries:Or,setExcursionEvents:G,setExcursionMarkers:J,hasExcursionMarker:ot,setHasExcursionMarker:Et,onTrialComplete:dn,onStartTrial:Si,scale:a?.scale||1e3});ct.useEffect(()=>{const ht=()=>{const Mt=r.current;if(!Mt||!a||!a.width||!a.height||!a.scale)return;const Jt=Mt.getContext("2d");if(!Jt)return;const Le=Bt.current;tR(Jt,fn,Ti,jn,Fe,tt,Pn(),Le,m,hn,Ai,a.width,a.height,a.scale),n.current=requestAnimationFrame(ht)};return n.current=requestAnimationFrame(ht),()=>{n.current&&cancelAnimationFrame(n.current)}},[pt,m,fn,hn,Ai,jn,tt,Pn,ot,Ti,Fe,a]);const na=async()=>{Ct("uploading"),W(null);try{const ht=await Y2(v,S,xt);Nt(ht),Ct("success")}catch(ht){console.error("Upload failed:",ht),W(ht.message),Ct("error")}},ka=async()=>{await na(),i0(v,S,xt)},qa=()=>{na()},Bn=()=>{i0(v,S,xt)},kn=()=>{let ht="",Mt="text-gray-600";u===ut.PRACTICE?(ht="[Practice Round]",Mt="text-green-600"):u===ut.MAIN_TRIALS&&I<$.length?(ht=`Trial ${a0(u,I)}/${r0()}`,Mt="text-blue-600"):u===ut.SEQUENTIAL_TRIALS&&I<$.length?(ht=`Trial ${a0(u,I)}/${r0()}`,Mt="text-indigo-600"):u===ut.TIME_TRIAL_PRACTICE&&vt?(ht="PRACTICE ROUND",Mt="text-purple-600"):u===ut.TIME_TRIALS&&I<$.length?(ht=`Timed Trial ${s0(u,I)}/${l0()}`,Mt="text-red-600"):u===ut.SEQUENTIAL_TIME_TRIALS&&I<$.length&&(ht=`Timed Trial ${s0(u,I)}/${l0()}`,Mt="text-pink-600");let Jt="";return m===$e.WAITING_FOR_START?Jt="Click the green button to begin":m===$e.IN_PROGRESS?Jt="Navigate to the red target":m===$e.FAILED&&(Jt="Trial failed, please try again"),x.jsxs("div",{className:"space-y-1",children:[ht&&x.jsx("p",{className:`text-sm ${Mt}`,children:ht}),Jt&&x.jsx("p",{className:"text-lg font-bold gray-red-900",children:Jt})]})},Ha=()=>{const ht=[];return ht.push(x.jsxs(x.Fragment,{children:["Press ",x.jsx("span",{className:"font-bold text-blue-600",children:"'R'"})," to restart trial at any time"]})),(u===ut.PRACTICE||u===ut.TIME_TRIAL_PRACTICE)&&ht.push(x.jsxs(x.Fragment,{children:["Press ",x.jsx("span",{className:"font-bold text-blue-600",children:"'N'"})," to continue to real trial"]})),x.jsx("div",{className:"mt-2 text-sm text-gray-600",children:ht.map((Mt,Jt)=>x.jsx("p",{children:Mt},Jt))})};return(()=>{switch(u){case ut.WELCOME:return x.jsx(aR,{});case ut.ENVIRONMENT_SETUP:return x.jsx(wR,{});case ut.SCREEN_CALIBRATION:return x.jsx(CR,{});case ut.INSTRUCTIONS:return x.jsx(DR,{});case ut.TIME_CONSTRAINT_INTRO:return x.jsx(IR,{});case ut.COMPLETE:return x.jsx(NR,{uploadStatus:ne,uploadError:H,onCompleteExperiment:ka,onRetryUpload:qa,onDownloadData:Bn});default:return x.jsx(xR,{canvasRef:r,phase:u,trialState:m,timeLimit:zn,timeRemaining:kt,failedDueToTimeout:Ce,shouldEnforceBoundaries:Or,onMouseClick:ea,onMouseMove:bi,renderStatus:kn,renderControls:Ha,canvasWidth:a.width,canvasHeight:a.height})}})()};PE.createRoot(document.getElementById("root")).render(x.jsx(xE.StrictMode,{children:x.jsx(OR,{})}));
