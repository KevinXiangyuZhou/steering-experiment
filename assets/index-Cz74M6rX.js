(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function a(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(u){if(u.ep)return;u.ep=!0;const h=a(u);fetch(u.href,h)}})();function c_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var dh={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp;function NE(){if(Bp)return zl;Bp=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(l,u,h){var m=null;if(h!==void 0&&(m=""+h),u.key!==void 0&&(m=""+u.key),"key"in u){h={};for(var p in u)p!=="key"&&(h[p]=u[p])}else h=u;return u=h.ref,{$$typeof:s,type:l,key:m,ref:u!==void 0?u:null,props:h}}return zl.Fragment=n,zl.jsx=a,zl.jsxs=a,zl}var kp;function DE(){return kp||(kp=1,dh.exports=NE()),dh.exports}var x=DE(),mh={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function xE(){if(qp)return At;qp=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),O=Symbol.iterator;function U(C){return C===null||typeof C!="object"?null:(C=O&&C[O]||C["@@iterator"],typeof C=="function"?C:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,it={};function nt(C,Y,et){this.props=C,this.context=Y,this.refs=it,this.updater=et||$}nt.prototype.isReactComponent={},nt.prototype.setState=function(C,Y){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Y,"setState")},nt.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function bt(){}bt.prototype=nt.prototype;function Et(C,Y,et){this.props=C,this.context=Y,this.refs=it,this.updater=et||$}var mt=Et.prototype=new bt;mt.constructor=Et,J(mt,nt.prototype),mt.isPureReactComponent=!0;var Dt=Array.isArray,vt={H:null,A:null,T:null,S:null,V:null},xt=Object.prototype.hasOwnProperty;function M(C,Y,et,Z,ot,Tt){return et=Tt.ref,{$$typeof:s,type:C,key:Y,ref:et!==void 0?et:null,props:Tt}}function S(C,Y){return M(C.type,Y,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function D(C){var Y={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(et){return Y[et]})}var N=/\/+/g;function V(C,Y){return typeof C=="object"&&C!==null&&C.key!=null?D(""+C.key):Y.toString(36)}function b(){}function Qt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(b,b):(C.status="pending",C.then(function(Y){C.status==="pending"&&(C.status="fulfilled",C.value=Y)},function(Y){C.status==="pending"&&(C.status="rejected",C.reason=Y)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function Pt(C,Y,et,Z,ot){var Tt=typeof C;(Tt==="undefined"||Tt==="boolean")&&(C=null);var _t=!1;if(C===null)_t=!0;else switch(Tt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(C.$$typeof){case s:case n:_t=!0;break;case A:return _t=C._init,Pt(_t(C._payload),Y,et,Z,ot)}}if(_t)return ot=ot(C),_t=Z===""?"."+V(C,0):Z,Dt(ot)?(et="",_t!=null&&(et=_t.replace(N,"$&/")+"/"),Pt(ot,Y,et,"",function(Tn){return Tn})):ot!=null&&(w(ot)&&(ot=S(ot,et+(ot.key==null||C&&C.key===ot.key?"":(""+ot.key).replace(N,"$&/")+"/")+_t)),Y.push(ot)),1;_t=0;var ce=Z===""?".":Z+":";if(Dt(C))for(var kt=0;kt<C.length;kt++)Z=C[kt],Tt=ce+V(Z,kt),_t+=Pt(Z,Y,et,Tt,ot);else if(kt=U(C),typeof kt=="function")for(C=kt.call(C),kt=0;!(Z=C.next()).done;)Z=Z.value,Tt=ce+V(Z,kt++),_t+=Pt(Z,Y,et,Tt,ot);else if(Tt==="object"){if(typeof C.then=="function")return Pt(Qt(C),Y,et,Z,ot);throw Y=String(C),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return _t}function H(C,Y,et){if(C==null)return C;var Z=[],ot=0;return Pt(C,Z,"","",function(Tt){return Y.call(et,Tt,ot++)}),Z}function tt(C){if(C._status===-1){var Y=C._result;Y=Y(),Y.then(function(et){(C._status===0||C._status===-1)&&(C._status=1,C._result=et)},function(et){(C._status===0||C._status===-1)&&(C._status=2,C._result=et)}),C._status===-1&&(C._status=0,C._result=Y)}if(C._status===1)return C._result.default;throw C._result}var rt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function gt(){}return At.Children={map:H,forEach:function(C,Y,et){H(C,function(){Y.apply(this,arguments)},et)},count:function(C){var Y=0;return H(C,function(){Y++}),Y},toArray:function(C){return H(C,function(Y){return Y})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},At.Component=nt,At.Fragment=a,At.Profiler=u,At.PureComponent=Et,At.StrictMode=l,At.Suspense=v,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,At.__COMPILER_RUNTIME={__proto__:null,c:function(C){return vt.H.useMemoCache(C)}},At.cache=function(C){return function(){return C.apply(null,arguments)}},At.cloneElement=function(C,Y,et){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var Z=J({},C.props),ot=C.key,Tt=void 0;if(Y!=null)for(_t in Y.ref!==void 0&&(Tt=void 0),Y.key!==void 0&&(ot=""+Y.key),Y)!xt.call(Y,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&Y.ref===void 0||(Z[_t]=Y[_t]);var _t=arguments.length-2;if(_t===1)Z.children=et;else if(1<_t){for(var ce=Array(_t),kt=0;kt<_t;kt++)ce[kt]=arguments[kt+2];Z.children=ce}return M(C.type,ot,void 0,void 0,Tt,Z)},At.createContext=function(C){return C={$$typeof:m,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},At.createElement=function(C,Y,et){var Z,ot={},Tt=null;if(Y!=null)for(Z in Y.key!==void 0&&(Tt=""+Y.key),Y)xt.call(Y,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ot[Z]=Y[Z]);var _t=arguments.length-2;if(_t===1)ot.children=et;else if(1<_t){for(var ce=Array(_t),kt=0;kt<_t;kt++)ce[kt]=arguments[kt+2];ot.children=ce}if(C&&C.defaultProps)for(Z in _t=C.defaultProps,_t)ot[Z]===void 0&&(ot[Z]=_t[Z]);return M(C,Tt,void 0,void 0,null,ot)},At.createRef=function(){return{current:null}},At.forwardRef=function(C){return{$$typeof:p,render:C}},At.isValidElement=w,At.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:tt}},At.memo=function(C,Y){return{$$typeof:_,type:C,compare:Y===void 0?null:Y}},At.startTransition=function(C){var Y=vt.T,et={};vt.T=et;try{var Z=C(),ot=vt.S;ot!==null&&ot(et,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(gt,rt)}catch(Tt){rt(Tt)}finally{vt.T=Y}},At.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},At.use=function(C){return vt.H.use(C)},At.useActionState=function(C,Y,et){return vt.H.useActionState(C,Y,et)},At.useCallback=function(C,Y){return vt.H.useCallback(C,Y)},At.useContext=function(C){return vt.H.useContext(C)},At.useDebugValue=function(){},At.useDeferredValue=function(C,Y){return vt.H.useDeferredValue(C,Y)},At.useEffect=function(C,Y,et){var Z=vt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(C,Y)},At.useId=function(){return vt.H.useId()},At.useImperativeHandle=function(C,Y,et){return vt.H.useImperativeHandle(C,Y,et)},At.useInsertionEffect=function(C,Y){return vt.H.useInsertionEffect(C,Y)},At.useLayoutEffect=function(C,Y){return vt.H.useLayoutEffect(C,Y)},At.useMemo=function(C,Y){return vt.H.useMemo(C,Y)},At.useOptimistic=function(C,Y){return vt.H.useOptimistic(C,Y)},At.useReducer=function(C,Y,et){return vt.H.useReducer(C,Y,et)},At.useRef=function(C){return vt.H.useRef(C)},At.useState=function(C){return vt.H.useState(C)},At.useSyncExternalStore=function(C,Y,et){return vt.H.useSyncExternalStore(C,Y,et)},At.useTransition=function(){return vt.H.useTransition()},At.version="19.1.1",At}var Hp;function Xh(){return Hp||(Hp=1,mh.exports=xE()),mh.exports}var dt=Xh();const OE=c_(dt);var gh={exports:{}},Pl={},ph={exports:{}},yh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function ME(){return Gp||(Gp=1,(function(s){function n(H,tt){var rt=H.length;H.push(tt);t:for(;0<rt;){var gt=rt-1>>>1,C=H[gt];if(0<u(C,tt))H[gt]=tt,H[rt]=C,rt=gt;else break t}}function a(H){return H.length===0?null:H[0]}function l(H){if(H.length===0)return null;var tt=H[0],rt=H.pop();if(rt!==tt){H[0]=rt;t:for(var gt=0,C=H.length,Y=C>>>1;gt<Y;){var et=2*(gt+1)-1,Z=H[et],ot=et+1,Tt=H[ot];if(0>u(Z,rt))ot<C&&0>u(Tt,Z)?(H[gt]=Tt,H[ot]=rt,gt=ot):(H[gt]=Z,H[et]=rt,gt=et);else if(ot<C&&0>u(Tt,rt))H[gt]=Tt,H[ot]=rt,gt=ot;else break t}}return tt}function u(H,tt){var rt=H.sortIndex-tt.sortIndex;return rt!==0?rt:H.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var m=Date,p=m.now();s.unstable_now=function(){return m.now()-p}}var v=[],_=[],A=1,O=null,U=3,$=!1,J=!1,it=!1,nt=!1,bt=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Dt(H){for(var tt=a(_);tt!==null;){if(tt.callback===null)l(_);else if(tt.startTime<=H)l(_),tt.sortIndex=tt.expirationTime,n(v,tt);else break;tt=a(_)}}function vt(H){if(it=!1,Dt(H),!J)if(a(v)!==null)J=!0,xt||(xt=!0,V());else{var tt=a(_);tt!==null&&Pt(vt,tt.startTime-H)}}var xt=!1,M=-1,S=5,w=-1;function D(){return nt?!0:!(s.unstable_now()-w<S)}function N(){if(nt=!1,xt){var H=s.unstable_now();w=H;var tt=!0;try{t:{J=!1,it&&(it=!1,Et(M),M=-1),$=!0;var rt=U;try{e:{for(Dt(H),O=a(v);O!==null&&!(O.expirationTime>H&&D());){var gt=O.callback;if(typeof gt=="function"){O.callback=null,U=O.priorityLevel;var C=gt(O.expirationTime<=H);if(H=s.unstable_now(),typeof C=="function"){O.callback=C,Dt(H),tt=!0;break e}O===a(v)&&l(v),Dt(H)}else l(v);O=a(v)}if(O!==null)tt=!0;else{var Y=a(_);Y!==null&&Pt(vt,Y.startTime-H),tt=!1}}break t}finally{O=null,U=rt,$=!1}tt=void 0}}finally{tt?V():xt=!1}}}var V;if(typeof mt=="function")V=function(){mt(N)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,Qt=b.port2;b.port1.onmessage=N,V=function(){Qt.postMessage(null)}}else V=function(){bt(N,0)};function Pt(H,tt){M=bt(function(){H(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return U},s.unstable_next=function(H){switch(U){case 1:case 2:case 3:var tt=3;break;default:tt=U}var rt=U;U=tt;try{return H()}finally{U=rt}},s.unstable_requestPaint=function(){nt=!0},s.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var rt=U;U=H;try{return tt()}finally{U=rt}},s.unstable_scheduleCallback=function(H,tt,rt){var gt=s.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?gt+rt:gt):rt=gt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=rt+C,H={id:A++,callback:tt,priorityLevel:H,startTime:rt,expirationTime:C,sortIndex:-1},rt>gt?(H.sortIndex=rt,n(_,H),a(v)===null&&H===a(_)&&(it?(Et(M),M=-1):it=!0,Pt(vt,rt-gt))):(H.sortIndex=C,n(v,H),J||$||(J=!0,xt||(xt=!0,V()))),H},s.unstable_shouldYield=D,s.unstable_wrapCallback=function(H){var tt=U;return function(){var rt=U;U=tt;try{return H.apply(this,arguments)}finally{U=rt}}}})(yh)),yh}var Qp;function VE(){return Qp||(Qp=1,ph.exports=ME()),ph.exports}var _h={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function UE(){if(Fp)return Ye;Fp=1;var s=Xh();function n(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var l={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,A){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:O==null?null:""+O,children:v,containerInfo:_,implementation:A}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Ye.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(n(299));return h(v,_,null,A)},Ye.flushSync=function(v){var _=m.T,A=l.p;try{if(m.T=null,l.p=2,v)return v()}finally{m.T=_,l.p=A,l.d.f()}},Ye.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,l.d.C(v,_))},Ye.prefetchDNS=function(v){typeof v=="string"&&l.d.D(v)},Ye.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,O=p(A,_.crossOrigin),U=typeof _.integrity=="string"?_.integrity:void 0,$=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?l.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:O,integrity:U,fetchPriority:$}):A==="script"&&l.d.X(v,{crossOrigin:O,integrity:U,fetchPriority:$,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);l.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&l.d.M(v)},Ye.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,O=p(A,_.crossOrigin);l.d.L(v,A,{crossOrigin:O,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=p(_.as,_.crossOrigin);l.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else l.d.m(v)},Ye.requestFormReset=function(v){l.d.r(v)},Ye.unstable_batchedUpdates=function(v,_){return v(_)},Ye.useFormState=function(v,_,A){return m.H.useFormState(v,_,A)},Ye.useFormStatus=function(){return m.H.useHostTransitionStatus()},Ye.version="19.1.1",Ye}var Yp;function LE(){if(Yp)return _h.exports;Yp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),_h.exports=UE(),_h.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function jE(){if(Xp)return Pl;Xp=1;var s=VE(),n=Xh(),a=LE();function l(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function m(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(l(188))}function v(t){var e=t.alternate;if(!e){if(e=h(t),e===null)throw Error(l(188));return e!==t?null:t}for(var i=t,r=e;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(r=c.return,r!==null){i=r;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return p(c),t;if(f===r)return p(c),e;f=f.sibling}throw Error(l(188))}if(i.return!==r.return)i=c,r=f;else{for(var y=!1,E=c.child;E;){if(E===i){y=!0,i=c,r=f;break}if(E===r){y=!0,r=c,i=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===i){y=!0,i=f,r=c;break}if(E===r){y=!0,r=f,i=c;break}E=E.sibling}if(!y)throw Error(l(189))}}if(i.alternate!==r)throw Error(l(190))}if(i.tag!==3)throw Error(l(188));return i.stateNode.current===i?t:e}function _(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=_(t),e!==null)return e;t=t.sibling}return null}var A=Object.assign,O=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),nt=Symbol.for("react.profiler"),bt=Symbol.for("react.provider"),Et=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Dt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var b=Symbol.for("react.client.reference");function Qt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===b?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case nt:return"Profiler";case it:return"StrictMode";case vt:return"Suspense";case xt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case mt:return(t.displayName||"Context")+".Provider";case Et:return(t._context.displayName||"Context")+".Consumer";case Dt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return e=t.displayName||null,e!==null?e:Qt(t.type)||"Memo";case S:e=t._payload,t=t._init;try{return Qt(t(e))}catch{}}return null}var Pt=Array.isArray,H=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},gt=[],C=-1;function Y(t){return{current:t}}function et(t){0>C||(t.current=gt[C],gt[C]=null,C--)}function Z(t,e){C++,gt[C]=t.current,t.current=e}var ot=Y(null),Tt=Y(null),_t=Y(null),ce=Y(null);function kt(t,e){switch(Z(_t,e),Z(Tt,t),Z(ot,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?mp(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=mp(e),t=gp(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(ot),Z(ot,t)}function Tn(){et(ot),et(Tt),et(_t)}function An(t){t.memoizedState!==null&&Z(ce,t);var e=ot.current,i=gp(e,t.type);e!==i&&(Z(Tt,t),Z(ot,i))}function Sn(t){Tt.current===t&&(et(ot),et(Tt)),ce.current===t&&(et(ce),Ml._currentValue=rt)}var jn=Object.prototype.hasOwnProperty,Xn=s.unstable_scheduleCallback,zn=s.unstable_cancelCallback,ka=s.unstable_shouldYield,Wi=s.unstable_requestPaint,an=s.unstable_now,vi=s.unstable_getCurrentPriorityLevel,qa=s.unstable_ImmediatePriority,Kn=s.unstable_UserBlockingPriority,$n=s.unstable_NormalPriority,Zn=s.unstable_LowPriority,ta=s.unstable_IdlePriority,Ha=s.log,ea=s.unstable_setDisableYieldValue,ie=null,jt=null;function Qe(t){if(typeof Ha=="function"&&ea(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(ie,t)}catch{}}var ye=Math.clz32?Math.clz32:Ei,Ga=Math.log,jr=Math.LN2;function Ei(t){return t>>>=0,t===0?32:31-(Ga(t)/jr|0)|0}var Ti=256,Ai=4194304;function sn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function na(t,e,i){var r=t.pendingLanes;if(r===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=r&134217727;return E!==0?(r=E&~f,r!==0?c=sn(r):(y&=E,y!==0?c=sn(y):i||(i=E&~t,i!==0&&(c=sn(i))))):(E=r&~f,E!==0?c=sn(E):y!==0?c=sn(y):i||(i=r&~t,i!==0&&(c=sn(i)))),c===0?0:e!==0&&e!==c&&(e&f)===0&&(f=c&-c,i=e&-e,f>=i||f===32&&(i&4194048)!==0)?e:c}function Si(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Qa(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fa(){var t=Ti;return Ti<<=1,(Ti&4194048)===0&&(Ti=256),t}function Ya(){var t=Ai;return Ai<<=1,(Ai&62914560)===0&&(Ai=4194304),t}function Jn(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function ft(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qt(t,e,i,r,c,f){var y=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,P=t.hiddenUpdates;for(i=y&~i;0<i;){var G=31-ye(i),F=1<<G;E[G]=0,R[G]=-1;var B=P[G];if(B!==null)for(P[G]=null,G=0;G<B.length;G++){var k=B[G];k!==null&&(k.lane&=-536870913)}i&=~F}r!==0&&Xt(t,r,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~e))}function Xt(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-ye(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|i&4194090}function bn(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var r=31-ye(i),c=1<<r;c&e|t[r]&e&&(t[r]|=e),i&=~c}}function bi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ia(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Wn(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:Vp(t.type))}function aa(t,e){var i=tt.p;try{return tt.p=t,e()}finally{tt.p=i}}var ae=Math.random().toString(36).slice(2),be="__reactFiber$"+ae,_e="__reactProps$"+ae,Rn="__reactContainer$"+ae,zr="__reactEvents$"+ae,gc="__reactListeners$"+ae,sa="__reactHandles$"+ae,uo="__reactResources$"+ae,Xa="__reactMarker$"+ae;function ra(t){delete t[be],delete t[_e],delete t[zr],delete t[gc],delete t[sa]}function Ri(t){var e=t[be];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Rn]||i[be]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=vp(t);t!==null;){if(i=t[be])return i;t=vp(t)}return e}t=i,i=t.parentNode}return null}function ti(t){if(t=t[be]||t[Rn]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function ei(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(l(33))}function We(t){var e=t[uo];return e||(e=t[uo]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function me(t){t[Xa]=!0}var Pr=new Set,js={};function Pn(t,e){wi(t,e),wi(t+"Capture",e)}function wi(t,e){for(js[t]=e,t=0;t<e.length;t++)Pr.add(e[t])}var co=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fo={},Ka={};function ho(t){return jn.call(Ka,t)?!0:jn.call(fo,t)?!1:co.test(t)?Ka[t]=!0:(fo[t]=!0,!1)}function la(t,e,i){if(ho(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function ni(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function Le(t,e,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+r)}}var $a,mo;function Ci(t){if($a===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);$a=e&&e[1]||"",mo=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$a+t+mo}var zs=!1;function Ps(t,e){if(!t||zs)return"";zs=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(k){var B=k}Reflect.construct(t,[],F)}else{try{F.call()}catch(k){B=k}t.call(F.prototype)}}else{try{throw Error()}catch(k){B=k}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),P=E.split(`
`);for(c=r=0;r<R.length&&!R[r].includes("DetermineComponentFrameRoot");)r++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(r===R.length||c===P.length)for(r=R.length-1,c=P.length-1;1<=r&&0<=c&&R[r]!==P[c];)c--;for(;1<=r&&0<=c;r--,c--)if(R[r]!==P[c]){if(r!==1||c!==1)do if(r--,c--,0>c||R[r]!==P[c]){var G=`
`+R[r].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=r&&0<=c);break}}}finally{zs=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?Ci(i):""}function Br(t){switch(t.tag){case 26:case 27:case 5:return Ci(t.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return Ps(t.type,!1);case 11:return Ps(t.type.render,!1);case 1:return Ps(t.type,!0);case 31:return Ci("Activity");default:return""}}function Bs(t){try{var e="";do e+=Br(t),t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kr(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pc(t){var e=kr(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,f=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return c.call(this)},set:function(y){r=""+y,f.call(this,y)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ks(t){t._valueTracker||(t._valueTracker=pc(t))}function qr(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),r="";return t&&(r=kr(t)?t.checked?"true":"false":t.value),t=r,t!==i?(e.setValue(t),!0):!1}function Za(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var yc=/[\n"\\]/g;function ve(t){return t.replace(yc,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function hn(t,e,i,r,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),e!=null?y==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+tn(e)):t.value!==""+tn(e)&&(t.value=""+tn(e)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),e!=null?oa(t,y,tn(e)):i!=null?oa(t,y,tn(i)):r!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+tn(E):t.removeAttribute("name")}function Ja(t,e,i,r,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),e!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||e!=null))return;i=i!=null?""+tn(i):"",e=e!=null?""+tn(e):i,E||e===t.value||(t.value=e),t.defaultValue=e}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=E?t.checked:!!r,t.defaultChecked=!!r,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function oa(t,e,i){e==="number"&&Za(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Ii(t,e,i,r){if(t=t.options,e){e={};for(var c=0;c<i.length;c++)e["$"+i[c]]=!0;for(i=0;i<t.length;i++)c=e.hasOwnProperty("$"+t[i].value),t[i].selected!==c&&(t[i].selected=c),c&&r&&(t[i].defaultSelected=!0)}else{for(i=""+tn(i),e=null,c=0;c<t.length;c++){if(t[c].value===i){t[c].selected=!0,r&&(t[c].defaultSelected=!0);return}e!==null||t[c].disabled||(e=t[c])}e!==null&&(e.selected=!0)}}function Kt(t,e,i){if(e!=null&&(e=""+tn(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+tn(i):""}function Wa(t,e,i,r){if(e==null){if(r!=null){if(i!=null)throw Error(l(92));if(Pt(r)){if(1<r.length)throw Error(l(93));r=r[0]}i=r}i==null&&(i=""),e=i}i=tn(e),t.defaultValue=i,r=t.textContent,r===i&&r!==""&&r!==null&&(t.value=r)}function wn(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var ts=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function go(t,e,i){var r=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,i):typeof i!="number"||i===0||ts.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function Hr(t,e,i){if(e!=null&&typeof e!="object")throw Error(l(62));if(t=t.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var c in e)r=e[c],e.hasOwnProperty(c)&&i[c]!==r&&go(t,c,r)}else for(var f in e)e.hasOwnProperty(f)&&go(t,f,e[f])}function Gr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _c=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qs(t){return vc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ni=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Di=null,xi=null;function Qr(t){var e=ti(t);if(e&&(t=e.stateNode)){var i=t[_e]||null;t:switch(t=e.stateNode,e.type){case"input":if(hn(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+ve(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var r=i[e];if(r!==t&&r.form===t.form){var c=r[_e]||null;if(!c)throw Error(l(90));hn(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(e=0;e<i.length;e++)r=i[e],r.form===t.form&&qr(r)}break t;case"textarea":Kt(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&Ii(t,!!i.multiple,e,!1)}}}var ii=!1;function po(t,e,i){if(ii)return t(e,i);ii=!0;try{var r=t(e);return r}finally{if(ii=!1,(Di!==null||xi!==null)&&(uu(),Di&&(e=Di,t=xi,xi=Di=null,Qr(e),t)))for(e=0;e<t.length;e++)Qr(t[e])}}function es(t,e){var i=t.stateNode;if(i===null)return null;var r=i[_e]||null;if(r===null)return null;i=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(l(231,e,typeof i));return i}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),In=!1;if(Bn)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){In=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{In=!1}var ai=null,ua=null,Oi=null;function Fr(){if(Oi)return Oi;var t,e=ua,i=e.length,r,c="value"in ai?ai.value:ai.textContent,f=c.length;for(t=0;t<i&&e[t]===c[t];t++);var y=i-t;for(r=1;r<=y&&e[i-r]===c[f-r];r++);return Oi=c.slice(t,1<r?1-r:void 0)}function si(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ri(){return!0}function Yr(){return!1}function Ne(t){function e(i,r,c,f,y){this._reactName=i,this._targetInst=c,this.type=r,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(i=t[E],this[E]=i?i(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ri:Yr,this.isPropagationStopped=Yr,this}return A(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),e}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hs=Ne(Ht),is=A({},Ht,{view:0,detail:0}),yo=Ne(is),Gs,Qs,li,as=A({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ls,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==li&&(li&&t.type==="mousemove"?(Gs=t.screenX-li.screenX,Qs=t.screenY-li.screenY):Qs=Gs=0,li=t),Gs)},movementY:function(t){return"movementY"in t?t.movementY:Qs}}),Nn=Ne(as),_o=A({},as,{dataTransfer:0}),Ec=Ne(_o),ss=A({},is,{relatedTarget:0}),Fs=Ne(ss),Xr=A({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Ys=Ne(Xr),vo=A({},Ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xs=Ne(vo),Tc=A({},Ht,{data:0}),Kr=Ne(Tc),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},To={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $r(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=To[t])?!!e[t]:!1}function ls(){return $r}var Ao=A({},is,{key:function(t){if(t.key){var e=rs[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=si(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ls,charCode:function(t){return t.type==="keypress"?si(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?si(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ks=Ne(Ao),So=A({},as,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zr=Ne(So),Mi=A({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ls}),bo=Ne(Mi),Ro=A({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),wo=Ne(Ro),Co=A({},as,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$s=Ne(Co),en=A({},Ht,{newState:0,oldState:0}),Io=Ne(en),No=[9,13,27,32],oi=Bn&&"CompositionEvent"in window,o=null;Bn&&"documentMode"in document&&(o=document.documentMode);var d=Bn&&"TextEvent"in window&&!o,g=Bn&&(!oi||o&&8<o&&11>=o),T=" ",j=!1;function q(t,e){switch(t){case"keyup":return No.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function Re(t,e){switch(t){case"compositionend":return W(e);case"keypress":return e.which!==32?null:(j=!0,T);case"textInput":return t=e.data,t===T&&j?null:t;default:return null}}function Mt(t,e){if(Ot)return t==="compositionend"||!oi&&q(t,e)?(t=Fr(),Oi=ua=ai=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return g&&e.locale!=="ko"?null:e.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function we(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!De[t.type]:e==="textarea"}function Vi(t,e,i,r){Di?xi?xi.push(r):xi=[r]:Di=r,e=gu(e,"onChange"),0<e.length&&(i=new Hs("onChange","change",null,i,r),t.push({event:i,listeners:e}))}var je=null,ui=null;function Jr(t){up(t,0)}function Do(t){var e=ei(t);if(qr(e))return t}function Dd(t,e){if(t==="change")return e}var xd=!1;if(Bn){var Ac;if(Bn){var Sc="oninput"in document;if(!Sc){var Od=document.createElement("div");Od.setAttribute("oninput","return;"),Sc=typeof Od.oninput=="function"}Ac=Sc}else Ac=!1;xd=Ac&&(!document.documentMode||9<document.documentMode)}function Md(){je&&(je.detachEvent("onpropertychange",Vd),ui=je=null)}function Vd(t){if(t.propertyName==="value"&&Do(ui)){var e=[];Vi(e,ui,t,Cn(t)),po(Jr,e)}}function sv(t,e,i){t==="focusin"?(Md(),je=e,ui=i,je.attachEvent("onpropertychange",Vd)):t==="focusout"&&Md()}function rv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Do(ui)}function lv(t,e){if(t==="click")return Do(e)}function ov(t,e){if(t==="input"||t==="change")return Do(e)}function uv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dn=typeof Object.is=="function"?Object.is:uv;function Wr(t,e){if(dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var c=i[r];if(!jn.call(e,c)||!dn(t[c],e[c]))return!1}return!0}function Ud(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ld(t,e){var i=Ud(t);t=0;for(var r;i;){if(i.nodeType===3){if(r=t+i.textContent.length,t<=e&&r>=e)return{node:i,offset:e-t};t=r}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Ud(i)}}function jd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Za(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=Za(t.document)}return e}function bc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var cv=Bn&&"documentMode"in document&&11>=document.documentMode,Zs=null,Rc=null,tl=null,wc=!1;function Pd(t,e,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;wc||Zs==null||Zs!==Za(r)||(r=Zs,"selectionStart"in r&&bc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),tl&&Wr(tl,r)||(tl=r,r=gu(Rc,"onSelect"),0<r.length&&(e=new Hs("onSelect","select",null,e,i),t.push({event:e,listeners:r}),e.target=Zs)))}function os(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Js={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionrun:os("Transition","TransitionRun"),transitionstart:os("Transition","TransitionStart"),transitioncancel:os("Transition","TransitionCancel"),transitionend:os("Transition","TransitionEnd")},Cc={},Bd={};Bn&&(Bd=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function us(t){if(Cc[t])return Cc[t];if(!Js[t])return t;var e=Js[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in Bd)return Cc[t]=e[i];return t}var kd=us("animationend"),qd=us("animationiteration"),Hd=us("animationstart"),fv=us("transitionrun"),hv=us("transitionstart"),dv=us("transitioncancel"),Gd=us("transitionend"),Qd=new Map,Ic="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ic.push("scrollEnd");function kn(t,e){Qd.set(t,e),Pn(e,[t])}var Fd=new WeakMap;function Dn(t,e){if(typeof t=="object"&&t!==null){var i=Fd.get(t);return i!==void 0?i:(e={value:t,source:e,stack:Bs(e)},Fd.set(t,e),e)}return{value:t,source:e,stack:Bs(e)}}var xn=[],Ws=0,Nc=0;function xo(){for(var t=Ws,e=Nc=Ws=0;e<t;){var i=xn[e];xn[e++]=null;var r=xn[e];xn[e++]=null;var c=xn[e];xn[e++]=null;var f=xn[e];if(xn[e++]=null,r!==null&&c!==null){var y=r.pending;y===null?c.next=c:(c.next=y.next,y.next=c),r.pending=c}f!==0&&Yd(i,c,f)}}function Oo(t,e,i,r){xn[Ws++]=t,xn[Ws++]=e,xn[Ws++]=i,xn[Ws++]=r,Nc|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Dc(t,e,i,r){return Oo(t,e,i,r),Mo(t)}function tr(t,e){return Oo(t,null,null,e),Mo(t)}function Yd(t,e,i){t.lanes|=i;var r=t.alternate;r!==null&&(r.lanes|=i);for(var c=!1,f=t.return;f!==null;)f.childLanes|=i,r=f.alternate,r!==null&&(r.childLanes|=i),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&e!==null&&(c=31-ye(i),t=f.hiddenUpdates,r=t[c],r===null?t[c]=[e]:r.push(e),e.lane=i|536870912),f):null}function Mo(t){if(50<Rl)throw Rl=0,jf=null,Error(l(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var er={};function mv(t,e,i,r){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,e,i,r){return new mv(t,e,i,r)}function xc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ui(t,e){var i=t.alternate;return i===null?(i=mn(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function Xd(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Vo(t,e,i,r,c,f){var y=0;if(r=t,typeof t=="function")xc(t)&&(y=1);else if(typeof t=="string")y=pE(t,i,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=mn(31,i,e,c),t.elementType=w,t.lanes=f,t;case J:return cs(i.children,c,f,e);case it:y=8,c|=24;break;case nt:return t=mn(12,i,e,c|2),t.elementType=nt,t.lanes=f,t;case vt:return t=mn(13,i,e,c),t.elementType=vt,t.lanes=f,t;case xt:return t=mn(19,i,e,c),t.elementType=xt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bt:case mt:y=10;break t;case Et:y=9;break t;case Dt:y=11;break t;case M:y=14;break t;case S:y=16,r=null;break t}y=29,i=Error(l(130,t===null?"null":typeof t,"")),r=null}return e=mn(y,i,e,c),e.elementType=t,e.type=r,e.lanes=f,e}function cs(t,e,i,r){return t=mn(7,t,r,e),t.lanes=i,t}function Oc(t,e,i){return t=mn(6,t,null,e),t.lanes=i,t}function Mc(t,e,i){return e=mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var nr=[],ir=0,Uo=null,Lo=0,On=[],Mn=0,fs=null,Li=1,ji="";function hs(t,e){nr[ir++]=Lo,nr[ir++]=Uo,Uo=t,Lo=e}function Kd(t,e,i){On[Mn++]=Li,On[Mn++]=ji,On[Mn++]=fs,fs=t;var r=Li;t=ji;var c=32-ye(r)-1;r&=~(1<<c),i+=1;var f=32-ye(e)+c;if(30<f){var y=c-c%5;f=(r&(1<<y)-1).toString(32),r>>=y,c-=y,Li=1<<32-ye(e)+c|i<<c|r,ji=f+t}else Li=1<<f|i<<c|r,ji=t}function Vc(t){t.return!==null&&(hs(t,1),Kd(t,1,0))}function Uc(t){for(;t===Uo;)Uo=nr[--ir],nr[ir]=null,Lo=nr[--ir],nr[ir]=null;for(;t===fs;)fs=On[--Mn],On[Mn]=null,ji=On[--Mn],On[Mn]=null,Li=On[--Mn],On[Mn]=null}var nn=null,fe=null,Bt=!1,ds=null,ci=!1,Lc=Error(l(519));function ms(t){var e=Error(l(418,""));throw il(Dn(e,t)),Lc}function $d(t){var e=t.stateNode,i=t.type,r=t.memoizedProps;switch(e[be]=t,e[_e]=r,i){case"dialog":Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":case"embed":Nt("load",e);break;case"video":case"audio":for(i=0;i<Cl.length;i++)Nt(Cl[i],e);break;case"source":Nt("error",e);break;case"img":case"image":case"link":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"input":Nt("invalid",e),Ja(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ks(e);break;case"select":Nt("invalid",e);break;case"textarea":Nt("invalid",e),Wa(e,r.value,r.defaultValue,r.children),ks(e)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||r.suppressHydrationWarning===!0||dp(e.textContent,i)?(r.popover!=null&&(Nt("beforetoggle",e),Nt("toggle",e)),r.onScroll!=null&&Nt("scroll",e),r.onScrollEnd!=null&&Nt("scrollend",e),r.onClick!=null&&(e.onclick=pu),e=!0):e=!1,e||ms(t)}function Zd(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 13:ci=!1;return;case 27:case 3:ci=!0;return;default:nn=nn.return}}function el(t){if(t!==nn)return!1;if(!Bt)return Zd(t),Bt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Wf(t.type,t.memoizedProps)),i=!i),i&&fe&&ms(t),Zd(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(e===0){fe=Hn(t.nextSibling);break t}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++;t=t.nextSibling}fe=null}}else e===27?(e=fe,Ra(t.type)?(t=ih,ih=null,fe=t):fe=e):fe=nn?Hn(t.stateNode.nextSibling):null;return!0}function nl(){fe=nn=null,Bt=!1}function Jd(){var t=ds;return t!==null&&(on===null?on=t:on.push.apply(on,t),ds=null),t}function il(t){ds===null?ds=[t]:ds.push(t)}var jc=Y(null),gs=null,zi=null;function ca(t,e,i){Z(jc,e._currentValue),e._currentValue=i}function Pi(t){t._currentValue=jc.current,et(jc)}function zc(t,e,i){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===i)break;t=t.return}}function Pc(t,e,i,r){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<e.length;R++)if(E.context===e[R]){f.lanes|=i,E=f.alternate,E!==null&&(E.lanes|=i),zc(f.return,i,t),r||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(l(341));y.lanes|=i,f=y.alternate,f!==null&&(f.lanes|=i),zc(y,i,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function al(t,e,i,r){t=null;for(var c=e,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(l(387));if(y=y.memoizedProps,y!==null){var E=c.type;dn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===ce.current){if(y=c.alternate,y===null)throw Error(l(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}c=c.return}t!==null&&Pc(e,t,i,r),e.flags|=262144}function jo(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ps(t){gs=t,zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Fe(t){return Wd(gs,t)}function zo(t,e){return gs===null&&ps(t),Wd(t,e)}function Wd(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},zi===null){if(t===null)throw Error(l(308));zi=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else zi=zi.next=e;return i}var gv=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},pv=s.unstable_scheduleCallback,yv=s.unstable_NormalPriority,Ce={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bc(){return{controller:new gv,data:new Map,refCount:0}}function sl(t){t.refCount--,t.refCount===0&&pv(yv,function(){t.controller.abort()})}var rl=null,kc=0,ar=0,sr=null;function _v(t,e){if(rl===null){var i=rl=[];kc=0,ar=Gf(),sr={status:"pending",value:void 0,then:function(r){i.push(r)}}}return kc++,e.then(tm,tm),e}function tm(){if(--kc===0&&rl!==null){sr!==null&&(sr.status="fulfilled");var t=rl;rl=null,ar=0,sr=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function vv(t,e){var i=[],r={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var c=0;c<i.length;c++)(0,i[c])(e)},function(c){for(r.status="rejected",r.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),r}var em=H.S;H.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&_v(t,e),em!==null&&em(t,e)};var ys=Y(null);function qc(){var t=ys.current;return t!==null?t:ee.pooledCache}function Po(t,e){e===null?Z(ys,ys.current):Z(ys,e.pool)}function nm(){var t=qc();return t===null?null:{parent:Ce._currentValue,pool:t}}var ll=Error(l(460)),im=Error(l(474)),Bo=Error(l(542)),Hc={then:function(){}};function am(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ko(){}function sm(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(ko,ko),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,lm(t),t;default:if(typeof e.status=="string")e.then(ko,ko);else{if(t=ee,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var c=e;c.status="fulfilled",c.value=r}},function(r){if(e.status==="pending"){var c=e;c.status="rejected",c.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,lm(t),t}throw ol=e,ll}}var ol=null;function rm(){if(ol===null)throw Error(l(459));var t=ol;return ol=null,t}function lm(t){if(t===ll||t===Bo)throw Error(l(483))}var fa=!1;function Gc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ha(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function da(t,e,i){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Ft&2)!==0){var c=r.pending;return c===null?e.next=e:(e.next=c.next,c.next=e),r.pending=e,e=Mo(t),Yd(t,null,i),e}return Oo(t,r,e,i),Mo(t)}function ul(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,bn(t,i)}}function Fc(t,e){var i=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var y={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,i=i.next}while(i!==null);f===null?c=f=e:f=f.next=e}else c=f=e;i={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var Yc=!1;function cl(){if(Yc){var t=sr;if(t!==null)throw t}}function fl(t,e,i,r){Yc=!1;var c=t.updateQueue;fa=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,P=R.next;R.next=null,y===null?f=P:y.next=P,y=R;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=R))}if(f!==null){var F=c.baseState;y=0,G=P=R=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(Vt&B)===B:(r&B)===B){B!==0&&B===ar&&(Yc=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var yt=t,ht=E;B=e;var Jt=i;switch(ht.tag){case 1:if(yt=ht.payload,typeof yt=="function"){F=yt.call(Jt,F,B);break t}F=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=ht.payload,B=typeof yt=="function"?yt.call(Jt,F,B):yt,B==null)break t;F=A({},F,B);break t;case 2:fa=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=k,R=F):G=G.next=k,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);G===null&&(R=F),c.baseState=R,c.firstBaseUpdate=P,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),Ta|=y,t.lanes=y,t.memoizedState=F}}function om(t,e){if(typeof t!="function")throw Error(l(191,t));t.call(e)}function um(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)om(i[t],e)}var rr=Y(null),qo=Y(0);function cm(t,e){t=Fi,Z(qo,t),Z(rr,e),Fi=t|e.baseLanes}function Xc(){Z(qo,Fi),Z(rr,rr.current)}function Kc(){Fi=qo.current,et(rr),et(qo)}var ma=0,Rt=null,$t=null,Ee=null,Ho=!1,lr=!1,_s=!1,Go=0,hl=0,or=null,Ev=0;function ge(){throw Error(l(321))}function $c(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!dn(t[i],e[i]))return!1;return!0}function Zc(t,e,i,r,c,f){return ma=f,Rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,H.H=t===null||t.memoizedState===null?Ym:Xm,_s=!1,f=i(r,c),_s=!1,lr&&(f=hm(e,i,r,c)),fm(t),f}function fm(t){H.H=$o;var e=$t!==null&&$t.next!==null;if(ma=0,Ee=$t=Rt=null,Ho=!1,hl=0,or=null,e)throw Error(l(300));t===null||xe||(t=t.dependencies,t!==null&&jo(t)&&(xe=!0))}function hm(t,e,i,r){Rt=t;var c=0;do{if(lr&&(or=null),hl=0,lr=!1,25<=c)throw Error(l(301));if(c+=1,Ee=$t=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Cv,f=e(i,r)}while(lr);return f}function Tv(){var t=H.H,e=t.useState()[0];return e=typeof e.then=="function"?dl(e):e,t=t.useState()[0],($t!==null?$t.memoizedState:null)!==t&&(Rt.flags|=1024),e}function Jc(){var t=Go!==0;return Go=0,t}function Wc(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function tf(t){if(Ho){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ho=!1}ma=0,Ee=$t=Rt=null,lr=!1,hl=Go=0,or=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?Rt.memoizedState=Ee=t:Ee=Ee.next=t,Ee}function Te(){if($t===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var e=Ee===null?Rt.memoizedState:Ee.next;if(e!==null)Ee=e,$t=t;else{if(t===null)throw Rt.alternate===null?Error(l(467)):Error(l(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ee===null?Rt.memoizedState=Ee=t:Ee=Ee.next=t}return Ee}function ef(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(t){var e=hl;return hl+=1,or===null&&(or=[]),t=sm(or,t,e),e=Rt,(Ee===null?e.memoizedState:Ee.next)===null&&(e=e.alternate,H.H=e===null||e.memoizedState===null?Ym:Xm),t}function Qo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return dl(t);if(t.$$typeof===mt)return Fe(t)}throw Error(l(438,String(t)))}function nf(t){var e=null,i=Rt.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var r=Rt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(c){return c.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=ef(),Rt.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),r=0;r<t;r++)i[r]=D;return e.index++,i}function Bi(t,e){return typeof e=="function"?e(t):e}function Fo(t){var e=Te();return af(e,$t,t)}function af(t,e,i){var r=t.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=i;var c=t.baseQueue,f=r.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}e.baseQueue=c=f,r.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{e=c.next;var E=y=null,R=null,P=e,G=!1;do{var F=P.lane&-536870913;if(F!==P.lane?(Vt&F)===F:(ma&F)===F){var B=P.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),F===ar&&(G=!0);else if((ma&B)===B){P=P.next,B===ar&&(G=!0);continue}else F={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=F,y=f):R=R.next=F,Rt.lanes|=B,Ta|=B;F=P.action,_s&&i(f,F),f=P.hasEagerState?P.eagerState:i(f,F)}else B={lane:F,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=B,y=f):R=R.next=B,Rt.lanes|=F,Ta|=F;P=P.next}while(P!==null&&P!==e);if(R===null?y=f:R.next=E,!dn(f,t.memoizedState)&&(xe=!0,G&&(i=sr,i!==null)))throw i;t.memoizedState=f,t.baseState=y,t.baseQueue=R,r.lastRenderedState=f}return c===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function sf(t){var e=Te(),i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=t;var r=i.dispatch,c=i.pending,f=e.memoizedState;if(c!==null){i.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);dn(f,e.memoizedState)||(xe=!0),e.memoizedState=f,e.baseQueue===null&&(e.baseState=f),i.lastRenderedState=f}return[f,r]}function dm(t,e,i){var r=Rt,c=Te(),f=Bt;if(f){if(i===void 0)throw Error(l(407));i=i()}else i=e();var y=!dn(($t||c).memoizedState,i);y&&(c.memoizedState=i,xe=!0),c=c.queue;var E=pm.bind(null,r,c,t);if(ml(2048,8,E,[t]),c.getSnapshot!==e||y||Ee!==null&&Ee.memoizedState.tag&1){if(r.flags|=2048,ur(9,Yo(),gm.bind(null,r,c,i,e),null),ee===null)throw Error(l(349));f||(ma&124)!==0||mm(r,e,i)}return i}function mm(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=Rt.updateQueue,e===null?(e=ef(),Rt.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function gm(t,e,i,r){e.value=i,e.getSnapshot=r,ym(e)&&_m(t)}function pm(t,e,i){return i(function(){ym(e)&&_m(t)})}function ym(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!dn(t,i)}catch{return!0}}function _m(t){var e=tr(t,2);e!==null&&vn(e,t,2)}function rf(t){var e=rn();if(typeof t=="function"){var i=t;if(t=i(),_s){Qe(!0);try{i()}finally{Qe(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:t},e}function vm(t,e,i,r){return t.baseState=i,af(t,$t,typeof r=="function"?r:Bi)}function Av(t,e,i,r,c){if(Ko(t))throw Error(l(485));if(t=e.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?i(!0):f.isTransition=!1,r(f),i=e.pending,i===null?(f.next=e.pending=f,Em(e,f)):(f.next=i.next,e.pending=i.next=f)}}function Em(t,e){var i=e.action,r=e.payload,c=t.state;if(e.isTransition){var f=H.T,y={};H.T=y;try{var E=i(c,r),R=H.S;R!==null&&R(y,E),Tm(t,e,E)}catch(P){lf(t,e,P)}finally{H.T=f}}else try{f=i(c,r),Tm(t,e,f)}catch(P){lf(t,e,P)}}function Tm(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){Am(t,e,r)},function(r){return lf(t,e,r)}):Am(t,e,i)}function Am(t,e,i){e.status="fulfilled",e.value=i,Sm(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,Em(t,i)))}function lf(t,e,i){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=i,Sm(e),e=e.next;while(e!==r)}t.action=null}function Sm(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function bm(t,e){return e}function Rm(t,e){if(Bt){var i=ee.formState;if(i!==null){t:{var r=Rt;if(Bt){if(fe){e:{for(var c=fe,f=ci;c.nodeType!==8;){if(!f){c=null;break e}if(c=Hn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){fe=Hn(c.nextSibling),r=c.data==="F!";break t}}ms(r)}r=!1}r&&(e=i[0])}}return i=rn(),i.memoizedState=i.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bm,lastRenderedState:e},i.queue=r,i=Gm.bind(null,Rt,r),r.dispatch=i,r=rf(!1),f=hf.bind(null,Rt,!1,r.queue),r=rn(),c={state:e,dispatch:null,action:t,pending:null},r.queue=c,i=Av.bind(null,Rt,c,f,i),c.dispatch=i,r.memoizedState=t,[e,i,!1]}function wm(t){var e=Te();return Cm(e,$t,t)}function Cm(t,e,i){if(e=af(t,e,bm)[0],t=Fo(Bi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=dl(e)}catch(y){throw y===ll?Bo:y}else r=e;e=Te();var c=e.queue,f=c.dispatch;return i!==e.memoizedState&&(Rt.flags|=2048,ur(9,Yo(),Sv.bind(null,c,i),null)),[r,f,t]}function Sv(t,e){t.action=e}function Im(t){var e=Te(),i=$t;if(i!==null)return Cm(e,i,t);Te(),e=e.memoizedState,i=Te();var r=i.queue.dispatch;return i.memoizedState=t,[e,r,!1]}function ur(t,e,i,r){return t={tag:t,create:i,deps:r,inst:e,next:null},e=Rt.updateQueue,e===null&&(e=ef(),Rt.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(r=i.next,i.next=t,t.next=r,e.lastEffect=t),t}function Yo(){return{destroy:void 0,resource:void 0}}function Nm(){return Te().memoizedState}function Xo(t,e,i,r){var c=rn();r=r===void 0?null:r,Rt.flags|=t,c.memoizedState=ur(1|e,Yo(),i,r)}function ml(t,e,i,r){var c=Te();r=r===void 0?null:r;var f=c.memoizedState.inst;$t!==null&&r!==null&&$c(r,$t.memoizedState.deps)?c.memoizedState=ur(e,f,i,r):(Rt.flags|=t,c.memoizedState=ur(1|e,f,i,r))}function Dm(t,e){Xo(8390656,8,t,e)}function xm(t,e){ml(2048,8,t,e)}function Om(t,e){return ml(4,2,t,e)}function Mm(t,e){return ml(4,4,t,e)}function Vm(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Um(t,e,i){i=i!=null?i.concat([t]):null,ml(4,4,Vm.bind(null,e,t),i)}function of(){}function Lm(t,e){var i=Te();e=e===void 0?null:e;var r=i.memoizedState;return e!==null&&$c(e,r[1])?r[0]:(i.memoizedState=[t,e],t)}function jm(t,e){var i=Te();e=e===void 0?null:e;var r=i.memoizedState;if(e!==null&&$c(e,r[1]))return r[0];if(r=t(),_s){Qe(!0);try{t()}finally{Qe(!1)}}return i.memoizedState=[r,e],r}function uf(t,e,i){return i===void 0||(ma&1073741824)!==0?t.memoizedState=e:(t.memoizedState=i,t=Bg(),Rt.lanes|=t,Ta|=t,i)}function zm(t,e,i,r){return dn(i,e)?i:rr.current!==null?(t=uf(t,i,r),dn(t,e)||(xe=!0),t):(ma&42)===0?(xe=!0,t.memoizedState=i):(t=Bg(),Rt.lanes|=t,Ta|=t,e)}function Pm(t,e,i,r,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,hf(t,!1,e,i);try{var R=c(),P=H.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=vv(R,r);gl(t,e,G,_n(t))}else gl(t,e,r,_n(t))}catch(F){gl(t,e,{then:function(){},status:"rejected",reason:F},_n())}finally{tt.p=f,H.T=y}}function bv(){}function cf(t,e,i,r){if(t.tag!==5)throw Error(l(476));var c=Bm(t).queue;Pm(t,c,e,rt,i===null?bv:function(){return km(t),i(r)})}function Bm(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:rt},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function km(t){var e=Bm(t).next.queue;gl(t,e,{},_n())}function ff(){return Fe(Ml)}function qm(){return Te().memoizedState}function Hm(){return Te().memoizedState}function Rv(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=_n();t=ha(i);var r=da(e,t,i);r!==null&&(vn(r,e,i),ul(r,e,i)),e={cache:Bc()},t.payload=e;return}e=e.return}}function wv(t,e,i){var r=_n();i={lane:r,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Ko(t)?Qm(e,i):(i=Dc(t,e,i,r),i!==null&&(vn(i,t,r),Fm(i,e,r)))}function Gm(t,e,i){var r=_n();gl(t,e,i,r)}function gl(t,e,i,r){var c={lane:r,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ko(t))Qm(e,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=e.lastRenderedReducer,f!==null))try{var y=e.lastRenderedState,E=f(y,i);if(c.hasEagerState=!0,c.eagerState=E,dn(E,y))return Oo(t,e,c,0),ee===null&&xo(),!1}catch{}finally{}if(i=Dc(t,e,c,r),i!==null)return vn(i,t,r),Fm(i,e,r),!0}return!1}function hf(t,e,i,r){if(r={lane:2,revertLane:Gf(),action:r,hasEagerState:!1,eagerState:null,next:null},Ko(t)){if(e)throw Error(l(479))}else e=Dc(t,i,r,2),e!==null&&vn(e,t,2)}function Ko(t){var e=t.alternate;return t===Rt||e!==null&&e===Rt}function Qm(t,e){lr=Ho=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Fm(t,e,i){if((i&4194048)!==0){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,bn(t,i)}}var $o={readContext:Fe,use:Qo,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},Ym={readContext:Fe,use:Qo,useCallback:function(t,e){return rn().memoizedState=[t,e===void 0?null:e],t},useContext:Fe,useEffect:Dm,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,Xo(4194308,4,Vm.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Xo(4194308,4,t,e)},useInsertionEffect:function(t,e){Xo(4,2,t,e)},useMemo:function(t,e){var i=rn();e=e===void 0?null:e;var r=t();if(_s){Qe(!0);try{t()}finally{Qe(!1)}}return i.memoizedState=[r,e],r},useReducer:function(t,e,i){var r=rn();if(i!==void 0){var c=i(e);if(_s){Qe(!0);try{i(e)}finally{Qe(!1)}}}else c=e;return r.memoizedState=r.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},r.queue=t,t=t.dispatch=wv.bind(null,Rt,t),[r.memoizedState,t]},useRef:function(t){var e=rn();return t={current:t},e.memoizedState=t},useState:function(t){t=rf(t);var e=t.queue,i=Gm.bind(null,Rt,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:of,useDeferredValue:function(t,e){var i=rn();return uf(i,t,e)},useTransition:function(){var t=rf(!1);return t=Pm.bind(null,Rt,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var r=Rt,c=rn();if(Bt){if(i===void 0)throw Error(l(407));i=i()}else{if(i=e(),ee===null)throw Error(l(349));(Vt&124)!==0||mm(r,e,i)}c.memoizedState=i;var f={value:i,getSnapshot:e};return c.queue=f,Dm(pm.bind(null,r,f,t),[t]),r.flags|=2048,ur(9,Yo(),gm.bind(null,r,f,i,e),null),i},useId:function(){var t=rn(),e=ee.identifierPrefix;if(Bt){var i=ji,r=Li;i=(r&~(1<<32-ye(r)-1)).toString(32)+i,e=""+e+"R"+i,i=Go++,0<i&&(e+="H"+i.toString(32)),e+=""}else i=Ev++,e=""+e+"r"+i.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:ff,useFormState:Rm,useActionState:Rm,useOptimistic:function(t){var e=rn();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=hf.bind(null,Rt,!0,i),i.dispatch=e,[t,e]},useMemoCache:nf,useCacheRefresh:function(){return rn().memoizedState=Rv.bind(null,Rt)}},Xm={readContext:Fe,use:Qo,useCallback:Lm,useContext:Fe,useEffect:xm,useImperativeHandle:Um,useInsertionEffect:Om,useLayoutEffect:Mm,useMemo:jm,useReducer:Fo,useRef:Nm,useState:function(){return Fo(Bi)},useDebugValue:of,useDeferredValue:function(t,e){var i=Te();return zm(i,$t.memoizedState,t,e)},useTransition:function(){var t=Fo(Bi)[0],e=Te().memoizedState;return[typeof t=="boolean"?t:dl(t),e]},useSyncExternalStore:dm,useId:qm,useHostTransitionStatus:ff,useFormState:wm,useActionState:wm,useOptimistic:function(t,e){var i=Te();return vm(i,$t,t,e)},useMemoCache:nf,useCacheRefresh:Hm},Cv={readContext:Fe,use:Qo,useCallback:Lm,useContext:Fe,useEffect:xm,useImperativeHandle:Um,useInsertionEffect:Om,useLayoutEffect:Mm,useMemo:jm,useReducer:sf,useRef:Nm,useState:function(){return sf(Bi)},useDebugValue:of,useDeferredValue:function(t,e){var i=Te();return $t===null?uf(i,t,e):zm(i,$t.memoizedState,t,e)},useTransition:function(){var t=sf(Bi)[0],e=Te().memoizedState;return[typeof t=="boolean"?t:dl(t),e]},useSyncExternalStore:dm,useId:qm,useHostTransitionStatus:ff,useFormState:Im,useActionState:Im,useOptimistic:function(t,e){var i=Te();return $t!==null?vm(i,$t,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:nf,useCacheRefresh:Hm},cr=null,pl=0;function Zo(t){var e=pl;return pl+=1,cr===null&&(cr=[]),sm(cr,t,e)}function yl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Jo(t,e){throw e.$$typeof===O?Error(l(525)):(t=Object.prototype.toString.call(e),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Km(t){var e=t._init;return e(t._payload)}function $m(t){function e(L,I){if(t){var z=L.deletions;z===null?(L.deletions=[I],L.flags|=16):z.push(I)}}function i(L,I){if(!t)return null;for(;I!==null;)e(L,I),I=I.sibling;return null}function r(L){for(var I=new Map;L!==null;)L.key!==null?I.set(L.key,L):I.set(L.index,L),L=L.sibling;return I}function c(L,I){return L=Ui(L,I),L.index=0,L.sibling=null,L}function f(L,I,z){return L.index=z,t?(z=L.alternate,z!==null?(z=z.index,z<I?(L.flags|=67108866,I):z):(L.flags|=67108866,I)):(L.flags|=1048576,I)}function y(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function E(L,I,z,Q){return I===null||I.tag!==6?(I=Oc(z,L.mode,Q),I.return=L,I):(I=c(I,z),I.return=L,I)}function R(L,I,z,Q){var at=z.type;return at===J?G(L,I,z.props.children,Q,z.key):I!==null&&(I.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&Km(at)===I.type)?(I=c(I,z.props),yl(I,z),I.return=L,I):(I=Vo(z.type,z.key,z.props,null,L.mode,Q),yl(I,z),I.return=L,I)}function P(L,I,z,Q){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=Mc(z,L.mode,Q),I.return=L,I):(I=c(I,z.children||[]),I.return=L,I)}function G(L,I,z,Q,at){return I===null||I.tag!==7?(I=cs(z,L.mode,Q,at),I.return=L,I):(I=c(I,z),I.return=L,I)}function F(L,I,z){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Oc(""+I,L.mode,z),I.return=L,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case U:return z=Vo(I.type,I.key,I.props,null,L.mode,z),yl(z,I),z.return=L,z;case $:return I=Mc(I,L.mode,z),I.return=L,I;case S:var Q=I._init;return I=Q(I._payload),F(L,I,z)}if(Pt(I)||V(I))return I=cs(I,L.mode,z,null),I.return=L,I;if(typeof I.then=="function")return F(L,Zo(I),z);if(I.$$typeof===mt)return F(L,zo(L,I),z);Jo(L,I)}return null}function B(L,I,z,Q){var at=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return at!==null?null:E(L,I,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case U:return z.key===at?R(L,I,z,Q):null;case $:return z.key===at?P(L,I,z,Q):null;case S:return at=z._init,z=at(z._payload),B(L,I,z,Q)}if(Pt(z)||V(z))return at!==null?null:G(L,I,z,Q,null);if(typeof z.then=="function")return B(L,I,Zo(z),Q);if(z.$$typeof===mt)return B(L,I,zo(L,z),Q);Jo(L,z)}return null}function k(L,I,z,Q,at){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return L=L.get(z)||null,E(I,L,""+Q,at);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case U:return L=L.get(Q.key===null?z:Q.key)||null,R(I,L,Q,at);case $:return L=L.get(Q.key===null?z:Q.key)||null,P(I,L,Q,at);case S:var Ct=Q._init;return Q=Ct(Q._payload),k(L,I,z,Q,at)}if(Pt(Q)||V(Q))return L=L.get(z)||null,G(I,L,Q,at,null);if(typeof Q.then=="function")return k(L,I,z,Zo(Q),at);if(Q.$$typeof===mt)return k(L,I,z,zo(I,Q),at);Jo(I,Q)}return null}function yt(L,I,z,Q){for(var at=null,Ct=null,lt=I,pt=I=0,Me=null;lt!==null&&pt<z.length;pt++){lt.index>pt?(Me=lt,lt=null):Me=lt.sibling;var zt=B(L,lt,z[pt],Q);if(zt===null){lt===null&&(lt=Me);break}t&&lt&&zt.alternate===null&&e(L,lt),I=f(zt,I,pt),Ct===null?at=zt:Ct.sibling=zt,Ct=zt,lt=Me}if(pt===z.length)return i(L,lt),Bt&&hs(L,pt),at;if(lt===null){for(;pt<z.length;pt++)lt=F(L,z[pt],Q),lt!==null&&(I=f(lt,I,pt),Ct===null?at=lt:Ct.sibling=lt,Ct=lt);return Bt&&hs(L,pt),at}for(lt=r(lt);pt<z.length;pt++)Me=k(lt,L,pt,z[pt],Q),Me!==null&&(t&&Me.alternate!==null&&lt.delete(Me.key===null?pt:Me.key),I=f(Me,I,pt),Ct===null?at=Me:Ct.sibling=Me,Ct=Me);return t&&lt.forEach(function(Da){return e(L,Da)}),Bt&&hs(L,pt),at}function ht(L,I,z,Q){if(z==null)throw Error(l(151));for(var at=null,Ct=null,lt=I,pt=I=0,Me=null,zt=z.next();lt!==null&&!zt.done;pt++,zt=z.next()){lt.index>pt?(Me=lt,lt=null):Me=lt.sibling;var Da=B(L,lt,zt.value,Q);if(Da===null){lt===null&&(lt=Me);break}t&&lt&&Da.alternate===null&&e(L,lt),I=f(Da,I,pt),Ct===null?at=Da:Ct.sibling=Da,Ct=Da,lt=Me}if(zt.done)return i(L,lt),Bt&&hs(L,pt),at;if(lt===null){for(;!zt.done;pt++,zt=z.next())zt=F(L,zt.value,Q),zt!==null&&(I=f(zt,I,pt),Ct===null?at=zt:Ct.sibling=zt,Ct=zt);return Bt&&hs(L,pt),at}for(lt=r(lt);!zt.done;pt++,zt=z.next())zt=k(lt,L,pt,zt.value,Q),zt!==null&&(t&&zt.alternate!==null&&lt.delete(zt.key===null?pt:zt.key),I=f(zt,I,pt),Ct===null?at=zt:Ct.sibling=zt,Ct=zt);return t&&lt.forEach(function(IE){return e(L,IE)}),Bt&&hs(L,pt),at}function Jt(L,I,z,Q){if(typeof z=="object"&&z!==null&&z.type===J&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case U:t:{for(var at=z.key;I!==null;){if(I.key===at){if(at=z.type,at===J){if(I.tag===7){i(L,I.sibling),Q=c(I,z.props.children),Q.return=L,L=Q;break t}}else if(I.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&Km(at)===I.type){i(L,I.sibling),Q=c(I,z.props),yl(Q,z),Q.return=L,L=Q;break t}i(L,I);break}else e(L,I);I=I.sibling}z.type===J?(Q=cs(z.props.children,L.mode,Q,z.key),Q.return=L,L=Q):(Q=Vo(z.type,z.key,z.props,null,L.mode,Q),yl(Q,z),Q.return=L,L=Q)}return y(L);case $:t:{for(at=z.key;I!==null;){if(I.key===at)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){i(L,I.sibling),Q=c(I,z.children||[]),Q.return=L,L=Q;break t}else{i(L,I);break}else e(L,I);I=I.sibling}Q=Mc(z,L.mode,Q),Q.return=L,L=Q}return y(L);case S:return at=z._init,z=at(z._payload),Jt(L,I,z,Q)}if(Pt(z))return yt(L,I,z,Q);if(V(z)){if(at=V(z),typeof at!="function")throw Error(l(150));return z=at.call(z),ht(L,I,z,Q)}if(typeof z.then=="function")return Jt(L,I,Zo(z),Q);if(z.$$typeof===mt)return Jt(L,I,zo(L,z),Q);Jo(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,I!==null&&I.tag===6?(i(L,I.sibling),Q=c(I,z),Q.return=L,L=Q):(i(L,I),Q=Oc(z,L.mode,Q),Q.return=L,L=Q),y(L)):i(L,I)}return function(L,I,z,Q){try{pl=0;var at=Jt(L,I,z,Q);return cr=null,at}catch(lt){if(lt===ll||lt===Bo)throw lt;var Ct=mn(29,lt,null,L.mode);return Ct.lanes=Q,Ct.return=L,Ct}finally{}}}var fr=$m(!0),Zm=$m(!1),Vn=Y(null),fi=null;function ga(t){var e=t.alternate;Z(Ie,Ie.current&1),Z(Vn,t),fi===null&&(e===null||rr.current!==null||e.memoizedState!==null)&&(fi=t)}function Jm(t){if(t.tag===22){if(Z(Ie,Ie.current),Z(Vn,t),fi===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(fi=t)}}else pa()}function pa(){Z(Ie,Ie.current),Z(Vn,Vn.current)}function ki(t){et(Vn),fi===t&&(fi=null),et(Ie)}var Ie=Y(0);function Wo(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||nh(i)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function df(t,e,i,r){e=t.memoizedState,i=i(r,e),i=i==null?e:A({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var mf={enqueueSetState:function(t,e,i){t=t._reactInternals;var r=_n(),c=ha(r);c.payload=e,i!=null&&(c.callback=i),e=da(t,c,r),e!==null&&(vn(e,t,r),ul(e,t,r))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var r=_n(),c=ha(r);c.tag=1,c.payload=e,i!=null&&(c.callback=i),e=da(t,c,r),e!==null&&(vn(e,t,r),ul(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=_n(),r=ha(i);r.tag=2,e!=null&&(r.callback=e),e=da(t,r,i),e!==null&&(vn(e,t,i),ul(e,t,i))}};function Wm(t,e,i,r,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,f,y):e.prototype&&e.prototype.isPureReactComponent?!Wr(i,r)||!Wr(c,f):!0}function tg(t,e,i,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,r),e.state!==t&&mf.enqueueReplaceState(e,e.state,null)}function vs(t,e){var i=e;if("ref"in e){i={};for(var r in e)r!=="ref"&&(i[r]=e[r])}if(t=t.defaultProps){i===e&&(i=A({},i));for(var c in t)i[c]===void 0&&(i[c]=t[c])}return i}var tu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function eg(t){tu(t)}function ng(t){console.error(t)}function ig(t){tu(t)}function eu(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function ag(t,e,i){try{var r=t.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function gf(t,e,i){return i=ha(i),i.tag=3,i.payload={element:null},i.callback=function(){eu(t,e)},i}function sg(t){return t=ha(t),t.tag=3,t}function rg(t,e,i,r){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;t.payload=function(){return c(f)},t.callback=function(){ag(e,i,r)}}var y=i.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){ag(e,i,r),typeof c!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var E=r.stack;this.componentDidCatch(r.value,{componentStack:E!==null?E:""})})}function Iv(t,e,i,r,c){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=i.alternate,e!==null&&al(e,i,c,!0),i=Vn.current,i!==null){switch(i.tag){case 13:return fi===null?Pf():i.alternate===null&&he===0&&(he=3),i.flags&=-257,i.flags|=65536,i.lanes=c,r===Hc?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([r]):e.add(r),kf(t,r,c)),!1;case 22:return i.flags|=65536,r===Hc?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([r]):i.add(r)),kf(t,r,c)),!1}throw Error(l(435,i.tag))}return kf(t,r,c),Pf(),!1}if(Bt)return e=Vn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=c,r!==Lc&&(t=Error(l(422),{cause:r}),il(Dn(t,i)))):(r!==Lc&&(e=Error(l(423),{cause:r}),il(Dn(e,i))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,r=Dn(r,i),c=gf(t.stateNode,r,c),Fc(t,c),he!==4&&(he=2)),!1;var f=Error(l(520),{cause:r});if(f=Dn(f,i),bl===null?bl=[f]:bl.push(f),he!==4&&(he=2),e===null)return!0;r=Dn(r,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=c&-c,i.lanes|=t,t=gf(i.stateNode,r,t),Fc(i,t),!1;case 1:if(e=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Aa===null||!Aa.has(f))))return i.flags|=65536,c&=-c,i.lanes|=c,c=sg(c),rg(c,t,i,r),Fc(i,c),!1}i=i.return}while(i!==null);return!1}var lg=Error(l(461)),xe=!1;function ze(t,e,i,r){e.child=t===null?Zm(e,null,i,r):fr(e,t.child,i,r)}function og(t,e,i,r,c){i=i.render;var f=e.ref;if("ref"in r){var y={};for(var E in r)E!=="ref"&&(y[E]=r[E])}else y=r;return ps(e),r=Zc(t,e,i,y,f,c),E=Jc(),t!==null&&!xe?(Wc(t,e,c),qi(t,e,c)):(Bt&&E&&Vc(e),e.flags|=1,ze(t,e,r,c),e.child)}function ug(t,e,i,r,c){if(t===null){var f=i.type;return typeof f=="function"&&!xc(f)&&f.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=f,cg(t,e,f,r,c)):(t=Vo(i.type,null,r,e,e.mode,c),t.ref=e.ref,t.return=e,e.child=t)}if(f=t.child,!Sf(t,c)){var y=f.memoizedProps;if(i=i.compare,i=i!==null?i:Wr,i(y,r)&&t.ref===e.ref)return qi(t,e,c)}return e.flags|=1,t=Ui(f,r),t.ref=e.ref,t.return=e,e.child=t}function cg(t,e,i,r,c){if(t!==null){var f=t.memoizedProps;if(Wr(f,r)&&t.ref===e.ref)if(xe=!1,e.pendingProps=r=f,Sf(t,c))(t.flags&131072)!==0&&(xe=!0);else return e.lanes=t.lanes,qi(t,e,c)}return pf(t,e,i,r,c)}function fg(t,e,i){var r=e.pendingProps,c=r.children,f=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if((e.flags&128)!==0){if(r=f!==null?f.baseLanes|i:i,t!==null){for(c=e.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;e.childLanes=f&~r}else e.childLanes=0,e.child=null;return hg(t,e,r,i)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Po(e,f!==null?f.cachePool:null),f!==null?cm(e,f):Xc(),Jm(e);else return e.lanes=e.childLanes=536870912,hg(t,e,f!==null?f.baseLanes|i:i,i)}else f!==null?(Po(e,f.cachePool),cm(e,f),pa(),e.memoizedState=null):(t!==null&&Po(e,null),Xc(),pa());return ze(t,e,c,i),e.child}function hg(t,e,i,r){var c=qc();return c=c===null?null:{parent:Ce._currentValue,pool:c},e.memoizedState={baseLanes:i,cachePool:c},t!==null&&Po(e,null),Xc(),Jm(e),t!==null&&al(t,e,r,!0),null}function nu(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(l(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function pf(t,e,i,r,c){return ps(e),i=Zc(t,e,i,r,void 0,c),r=Jc(),t!==null&&!xe?(Wc(t,e,c),qi(t,e,c)):(Bt&&r&&Vc(e),e.flags|=1,ze(t,e,i,c),e.child)}function dg(t,e,i,r,c,f){return ps(e),e.updateQueue=null,i=hm(e,r,i,c),fm(t),r=Jc(),t!==null&&!xe?(Wc(t,e,f),qi(t,e,f)):(Bt&&r&&Vc(e),e.flags|=1,ze(t,e,i,f),e.child)}function mg(t,e,i,r,c){if(ps(e),e.stateNode===null){var f=er,y=i.contextType;typeof y=="object"&&y!==null&&(f=Fe(y)),f=new i(r,f),e.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=mf,e.stateNode=f,f._reactInternals=e,f=e.stateNode,f.props=r,f.state=e.memoizedState,f.refs={},Gc(e),y=i.contextType,f.context=typeof y=="object"&&y!==null?Fe(y):er,f.state=e.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(df(e,i,y,r),f.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&mf.enqueueReplaceState(f,f.state,null),fl(e,r,f,c),cl(),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){f=e.stateNode;var E=e.memoizedProps,R=vs(i,E);f.props=R;var P=f.context,G=i.contextType;y=er,typeof G=="object"&&G!==null&&(y=Fe(G));var F=i.getDerivedStateFromProps;G=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=e.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&tg(e,f,r,y),fa=!1;var B=e.memoizedState;f.state=B,fl(e,r,f,c),cl(),P=e.memoizedState,E||B!==P||fa?(typeof F=="function"&&(df(e,i,F,r),P=e.memoizedState),(R=fa||Wm(e,i,R,r,B,P,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(e.flags|=4194308)):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=P),f.props=r,f.state=P,f.context=y,r=R):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{f=e.stateNode,Qc(t,e),y=e.memoizedProps,G=vs(i,y),f.props=G,F=e.pendingProps,B=f.context,P=i.contextType,R=er,typeof P=="object"&&P!==null&&(R=Fe(P)),E=i.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==F||B!==R)&&tg(e,f,r,R),fa=!1,B=e.memoizedState,f.state=B,fl(e,r,f,c),cl();var k=e.memoizedState;y!==F||B!==k||fa||t!==null&&t.dependencies!==null&&jo(t.dependencies)?(typeof E=="function"&&(df(e,i,E,r),k=e.memoizedState),(G=fa||Wm(e,i,G,r,B,k,R)||t!==null&&t.dependencies!==null&&jo(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,k,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,k,R)),typeof f.componentDidUpdate=="function"&&(e.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),f.props=r,f.state=k,f.context=R,r=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(e.flags|=1024),r=!1)}return f=r,nu(t,e),r=(e.flags&128)!==0,f||r?(f=e.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:f.render(),e.flags|=1,t!==null&&r?(e.child=fr(e,t.child,null,c),e.child=fr(e,null,i,c)):ze(t,e,i,c),e.memoizedState=f.state,t=e.child):t=qi(t,e,c),t}function gg(t,e,i,r){return nl(),e.flags|=256,ze(t,e,i,r),e.child}var yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _f(t){return{baseLanes:t,cachePool:nm()}}function vf(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=Un),t}function pg(t,e,i){var r=e.pendingProps,c=!1,f=(e.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ie.current&2)!==0),y&&(c=!0,e.flags&=-129),y=(e.flags&32)!==0,e.flags&=-33,t===null){if(Bt){if(c?ga(e):pa(),Bt){var E=fe,R;if(R=E){t:{for(R=E,E=ci;R.nodeType!==8;){if(!E){E=null;break t}if(R=Hn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(e.memoizedState={dehydrated:E,treeContext:fs!==null?{id:Li,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},R=mn(18,null,null,0),R.stateNode=E,R.return=e,e.child=R,nn=e,fe=null,R=!0):R=!1}R||ms(e)}if(E=e.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return nh(E)?e.lanes=32:e.lanes=536870912,null;ki(e)}return E=r.children,r=r.fallback,c?(pa(),c=e.mode,E=iu({mode:"hidden",children:E},c),r=cs(r,c,i,null),E.return=e,r.return=e,E.sibling=r,e.child=E,c=e.child,c.memoizedState=_f(i),c.childLanes=vf(t,y,i),e.memoizedState=yf,r):(ga(e),Ef(e,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)e.flags&256?(ga(e),e.flags&=-257,e=Tf(t,e,i)):e.memoizedState!==null?(pa(),e.child=t.child,e.flags|=128,e=null):(pa(),c=r.fallback,E=e.mode,r=iu({mode:"visible",children:r.children},E),c=cs(c,E,i,null),c.flags|=2,r.return=e,c.return=e,r.sibling=c,e.child=r,fr(e,t.child,null,i),r=e.child,r.memoizedState=_f(i),r.childLanes=vf(t,y,i),e.memoizedState=yf,e=c);else if(ga(e),nh(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,r=Error(l(419)),r.stack="",r.digest=y,il({value:r,source:null,stack:null}),e=Tf(t,e,i)}else if(xe||al(t,e,i,!1),y=(i&t.childLanes)!==0,xe||y){if(y=ee,y!==null&&(r=i&-i,r=(r&42)!==0?1:bi(r),r=(r&(y.suspendedLanes|i))!==0?0:r,r!==0&&r!==R.retryLane))throw R.retryLane=r,tr(t,r),vn(y,t,r),lg;E.data==="$?"||Pf(),e=Tf(t,e,i)}else E.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=R.treeContext,fe=Hn(E.nextSibling),nn=e,Bt=!0,ds=null,ci=!1,t!==null&&(On[Mn++]=Li,On[Mn++]=ji,On[Mn++]=fs,Li=t.id,ji=t.overflow,fs=e),e=Ef(e,r.children),e.flags|=4096);return e}return c?(pa(),c=r.fallback,E=e.mode,R=t.child,P=R.sibling,r=Ui(R,{mode:"hidden",children:r.children}),r.subtreeFlags=R.subtreeFlags&65011712,P!==null?c=Ui(P,c):(c=cs(c,E,i,null),c.flags|=2),c.return=e,r.return=e,r.sibling=c,e.child=r,r=c,c=e.child,E=t.child.memoizedState,E===null?E=_f(i):(R=E.cachePool,R!==null?(P=Ce._currentValue,R=R.parent!==P?{parent:P,pool:P}:R):R=nm(),E={baseLanes:E.baseLanes|i,cachePool:R}),c.memoizedState=E,c.childLanes=vf(t,y,i),e.memoizedState=yf,r):(ga(e),i=t.child,t=i.sibling,i=Ui(i,{mode:"visible",children:r.children}),i.return=e,i.sibling=null,t!==null&&(y=e.deletions,y===null?(e.deletions=[t],e.flags|=16):y.push(t)),e.child=i,e.memoizedState=null,i)}function Ef(t,e){return e=iu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function iu(t,e){return t=mn(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Tf(t,e,i){return fr(e,t.child,null,i),t=Ef(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yg(t,e,i){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),zc(t.return,e,i)}function Af(t,e,i,r,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:c}:(f.isBackwards=e,f.rendering=null,f.renderingStartTime=0,f.last=r,f.tail=i,f.tailMode=c)}function _g(t,e,i){var r=e.pendingProps,c=r.revealOrder,f=r.tail;if(ze(t,e,r.children,i),r=Ie.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yg(t,i,e);else if(t.tag===19)yg(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(Z(Ie,r),c){case"forwards":for(i=e.child,c=null;i!==null;)t=i.alternate,t!==null&&Wo(t)===null&&(c=i),i=i.sibling;i=c,i===null?(c=e.child,e.child=null):(c=i.sibling,i.sibling=null),Af(e,!1,c,i,f);break;case"backwards":for(i=null,c=e.child,e.child=null;c!==null;){if(t=c.alternate,t!==null&&Wo(t)===null){e.child=c;break}t=c.sibling,c.sibling=i,i=c,c=t}Af(e,!0,i,null,f);break;case"together":Af(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qi(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),Ta|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(al(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(l(153));if(e.child!==null){for(t=e.child,i=Ui(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=Ui(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function Sf(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&jo(t)))}function Nv(t,e,i){switch(e.tag){case 3:kt(e,e.stateNode.containerInfo),ca(e,Ce,t.memoizedState.cache),nl();break;case 27:case 5:An(e);break;case 4:kt(e,e.stateNode.containerInfo);break;case 10:ca(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(ga(e),e.flags|=128,null):(i&e.child.childLanes)!==0?pg(t,e,i):(ga(e),t=qi(t,e,i),t!==null?t.sibling:null);ga(e);break;case 19:var c=(t.flags&128)!==0;if(r=(i&e.childLanes)!==0,r||(al(t,e,i,!1),r=(i&e.childLanes)!==0),c){if(r)return _g(t,e,i);e.flags|=128}if(c=e.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Z(Ie,Ie.current),r)break;return null;case 22:case 23:return e.lanes=0,fg(t,e,i);case 24:ca(e,Ce,t.memoizedState.cache)}return qi(t,e,i)}function vg(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)xe=!0;else{if(!Sf(t,i)&&(e.flags&128)===0)return xe=!1,Nv(t,e,i);xe=(t.flags&131072)!==0}else xe=!1,Bt&&(e.flags&1048576)!==0&&Kd(e,Lo,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var r=e.elementType,c=r._init;if(r=c(r._payload),e.type=r,typeof r=="function")xc(r)?(t=vs(r,t),e.tag=1,e=mg(null,e,r,t,i)):(e.tag=0,e=pf(null,e,r,t,i));else{if(r!=null){if(c=r.$$typeof,c===Dt){e.tag=11,e=og(null,e,r,t,i);break t}else if(c===M){e.tag=14,e=ug(null,e,r,t,i);break t}}throw e=Qt(r)||r,Error(l(306,e,""))}}return e;case 0:return pf(t,e,e.type,e.pendingProps,i);case 1:return r=e.type,c=vs(r,e.pendingProps),mg(t,e,r,c,i);case 3:t:{if(kt(e,e.stateNode.containerInfo),t===null)throw Error(l(387));r=e.pendingProps;var f=e.memoizedState;c=f.element,Qc(t,e),fl(e,r,null,i);var y=e.memoizedState;if(r=y.cache,ca(e,Ce,r),r!==f.cache&&Pc(e,[Ce],i,!0),cl(),r=y.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:y.cache},e.updateQueue.baseState=f,e.memoizedState=f,e.flags&256){e=gg(t,e,r,i);break t}else if(r!==c){c=Dn(Error(l(424)),e),il(c),e=gg(t,e,r,i);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(fe=Hn(t.firstChild),nn=e,Bt=!0,ds=null,ci=!0,i=Zm(e,null,r,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(nl(),r===c){e=qi(t,e,i);break t}ze(t,e,r,i)}e=e.child}return e;case 26:return nu(t,e),t===null?(i=Sp(e.type,null,e.pendingProps,null))?e.memoizedState=i:Bt||(i=e.type,t=e.pendingProps,r=yu(_t.current).createElement(i),r[be]=e,r[_e]=t,Be(r,i,t),me(r),e.stateNode=r):e.memoizedState=Sp(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return An(e),t===null&&Bt&&(r=e.stateNode=Ep(e.type,e.pendingProps,_t.current),nn=e,ci=!0,c=fe,Ra(e.type)?(ih=c,fe=Hn(r.firstChild)):fe=c),ze(t,e,e.pendingProps.children,i),nu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Bt&&((c=r=fe)&&(r=iE(r,e.type,e.pendingProps,ci),r!==null?(e.stateNode=r,nn=e,fe=Hn(r.firstChild),ci=!1,c=!0):c=!1),c||ms(e)),An(e),c=e.type,f=e.pendingProps,y=t!==null?t.memoizedProps:null,r=f.children,Wf(c,f)?r=null:y!==null&&Wf(c,y)&&(e.flags|=32),e.memoizedState!==null&&(c=Zc(t,e,Tv,null,null,i),Ml._currentValue=c),nu(t,e),ze(t,e,r,i),e.child;case 6:return t===null&&Bt&&((t=i=fe)&&(i=aE(i,e.pendingProps,ci),i!==null?(e.stateNode=i,nn=e,fe=null,t=!0):t=!1),t||ms(e)),null;case 13:return pg(t,e,i);case 4:return kt(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fr(e,null,r,i):ze(t,e,r,i),e.child;case 11:return og(t,e,e.type,e.pendingProps,i);case 7:return ze(t,e,e.pendingProps,i),e.child;case 8:return ze(t,e,e.pendingProps.children,i),e.child;case 12:return ze(t,e,e.pendingProps.children,i),e.child;case 10:return r=e.pendingProps,ca(e,e.type,r.value),ze(t,e,r.children,i),e.child;case 9:return c=e.type._context,r=e.pendingProps.children,ps(e),c=Fe(c),r=r(c),e.flags|=1,ze(t,e,r,i),e.child;case 14:return ug(t,e,e.type,e.pendingProps,i);case 15:return cg(t,e,e.type,e.pendingProps,i);case 19:return _g(t,e,i);case 31:return r=e.pendingProps,i=e.mode,r={mode:r.mode,children:r.children},t===null?(i=iu(r,i),i.ref=e.ref,e.child=i,i.return=e,e=i):(i=Ui(t.child,r),i.ref=e.ref,e.child=i,i.return=e,e=i),e;case 22:return fg(t,e,i);case 24:return ps(e),r=Fe(Ce),t===null?(c=qc(),c===null&&(c=ee,f=Bc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=i),c=f),e.memoizedState={parent:r,cache:c},Gc(e),ca(e,Ce,c)):((t.lanes&i)!==0&&(Qc(t,e),fl(e,null,null,i),cl()),c=t.memoizedState,f=e.memoizedState,c.parent!==r?(c={parent:r,cache:r},e.memoizedState=c,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=c),ca(e,Ce,r)):(r=f.cache,ca(e,Ce,r),r!==c.cache&&Pc(e,[Ce],i,!0))),ze(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(l(156,e.tag))}function Hi(t){t.flags|=4}function Eg(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ip(e)){if(e=Vn.current,e!==null&&((Vt&4194048)===Vt?fi!==null:(Vt&62914560)!==Vt&&(Vt&536870912)===0||e!==fi))throw ol=Hc,im;t.flags|=8192}}function au(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Ya():536870912,t.lanes|=e,gr|=e)}function _l(t,e){if(!Bt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function oe(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,r=0;if(e)for(var c=t.child;c!==null;)i|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)i|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=r,t.childLanes=i,e}function Dv(t,e,i){var r=e.pendingProps;switch(Uc(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(e),null;case 1:return oe(e),null;case 3:return i=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Pi(Ce),Tn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(el(e)?Hi(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Jd())),oe(e),null;case 26:return i=e.memoizedState,t===null?(Hi(e),i!==null?(oe(e),Eg(e,i)):(oe(e),e.flags&=-16777217)):i?i!==t.memoizedState?(Hi(e),oe(e),Eg(e,i)):(oe(e),e.flags&=-16777217):(t.memoizedProps!==r&&Hi(e),oe(e),e.flags&=-16777217),null;case 27:Sn(e),i=_t.current;var c=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Hi(e);else{if(!r){if(e.stateNode===null)throw Error(l(166));return oe(e),null}t=ot.current,el(e)?$d(e):(t=Ep(c,r,i),e.stateNode=t,Hi(e))}return oe(e),null;case 5:if(Sn(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Hi(e);else{if(!r){if(e.stateNode===null)throw Error(l(166));return oe(e),null}if(t=ot.current,el(e))$d(e);else{switch(c=yu(_t.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?c.createElement("select",{is:r.is}):c.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?c.createElement(i,{is:r.is}):c.createElement(i)}}t[be]=e,t[_e]=r;t:for(c=e.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break t;for(;c.sibling===null;){if(c.return===null||c.return===e)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}e.stateNode=t;t:switch(Be(t,i,r),i){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Hi(e)}}return oe(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Hi(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(l(166));if(t=_t.current,el(e)){if(t=e.stateNode,i=e.memoizedProps,r=null,c=nn,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}t[be]=e,t=!!(t.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||dp(t.nodeValue,i)),t||ms(e)}else t=yu(t).createTextNode(r),t[be]=e,e.stateNode=t}return oe(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=el(e),r!==null&&r.dehydrated!==null){if(t===null){if(!c)throw Error(l(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[be]=e}else nl(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;oe(e),c=!1}else c=Jd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return e.flags&256?(ki(e),e):(ki(e),null)}if(ki(e),(e.flags&128)!==0)return e.lanes=i,e;if(i=r!==null,t=t!==null&&t.memoizedState!==null,i){r=e.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool);var f=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==c&&(r.flags|=2048)}return i!==t&&i&&(e.child.flags|=8192),au(e,e.updateQueue),oe(e),null;case 4:return Tn(),t===null&&Xf(e.stateNode.containerInfo),oe(e),null;case 10:return Pi(e.type),oe(e),null;case 19:if(et(Ie),c=e.memoizedState,c===null)return oe(e),null;if(r=(e.flags&128)!==0,f=c.rendering,f===null)if(r)_l(c,!1);else{if(he!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(f=Wo(t),f!==null){for(e.flags|=128,_l(c,!1),t=f.updateQueue,e.updateQueue=t,au(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)Xd(i,t),i=i.sibling;return Z(Ie,Ie.current&1|2),e.child}t=t.sibling}c.tail!==null&&an()>lu&&(e.flags|=128,r=!0,_l(c,!1),e.lanes=4194304)}else{if(!r)if(t=Wo(f),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,au(e,t),_l(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return oe(e),null}else 2*an()-c.renderingStartTime>lu&&i!==536870912&&(e.flags|=128,r=!0,_l(c,!1),e.lanes=4194304);c.isBackwards?(f.sibling=e.child,e.child=f):(t=c.last,t!==null?t.sibling=f:e.child=f,c.last=f)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=an(),e.sibling=null,t=Ie.current,Z(Ie,r?t&1|2:t&1),e):(oe(e),null);case 22:case 23:return ki(e),Kc(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?(i&536870912)!==0&&(e.flags&128)===0&&(oe(e),e.subtreeFlags&6&&(e.flags|=8192)):oe(e),i=e.updateQueue,i!==null&&au(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==i&&(e.flags|=2048),t!==null&&et(ys),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Pi(Ce),oe(e),null;case 25:return null;case 30:return null}throw Error(l(156,e.tag))}function xv(t,e){switch(Uc(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pi(Ce),Tn(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Sn(e),null;case 13:if(ki(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(l(340));nl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return et(Ie),null;case 4:return Tn(),null;case 10:return Pi(e.type),null;case 22:case 23:return ki(e),Kc(),t!==null&&et(ys),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Pi(Ce),null;case 25:return null;default:return null}}function Tg(t,e){switch(Uc(e),e.tag){case 3:Pi(Ce),Tn();break;case 26:case 27:case 5:Sn(e);break;case 4:Tn();break;case 13:ki(e);break;case 19:et(Ie);break;case 10:Pi(e.type);break;case 22:case 23:ki(e),Kc(),t!==null&&et(ys);break;case 24:Pi(Ce)}}function vl(t,e){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var c=r.next;i=c;do{if((i.tag&t)===t){r=void 0;var f=i.create,y=i.inst;r=f(),y.destroy=r}i=i.next}while(i!==c)}}catch(E){Wt(e,e.return,E)}}function ya(t,e,i){try{var r=e.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var f=c.next;r=f;do{if((r.tag&t)===t){var y=r.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=e;var R=i,P=E;try{P()}catch(G){Wt(c,R,G)}}}r=r.next}while(r!==f)}}catch(G){Wt(e,e.return,G)}}function Ag(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{um(e,i)}catch(r){Wt(t,t.return,r)}}}function Sg(t,e,i){i.props=vs(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(r){Wt(t,e,r)}}function El(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof i=="function"?t.refCleanup=i(r):i.current=r}}catch(c){Wt(t,e,c)}}function hi(t,e){var i=t.ref,r=t.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(c){Wt(t,e,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){Wt(t,e,c)}else i.current=null}function bg(t){var e=t.type,i=t.memoizedProps,r=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break t;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(c){Wt(t,t.return,c)}}function bf(t,e,i){try{var r=t.stateNode;Jv(r,t.type,i,e),r[_e]=e}catch(c){Wt(t,t.return,c)}}function Rg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ra(t.type)||t.tag===4}function Rf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Rg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ra(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wf(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=pu));else if(r!==4&&(r===27&&Ra(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(wf(t,e,i),t=t.sibling;t!==null;)wf(t,e,i),t=t.sibling}function su(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(r!==4&&(r===27&&Ra(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(su(t,e,i),t=t.sibling;t!==null;)su(t,e,i),t=t.sibling}function wg(t){var e=t.stateNode,i=t.memoizedProps;try{for(var r=t.type,c=e.attributes;c.length;)e.removeAttributeNode(c[0]);Be(e,r,i),e[be]=t,e[_e]=i}catch(f){Wt(t,t.return,f)}}var Gi=!1,pe=!1,Cf=!1,Cg=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Ov(t,e){if(t=t.containerInfo,Zf=Su,t=zd(t),bc(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var c=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break t}var y=0,E=-1,R=-1,P=0,G=0,F=t,B=null;e:for(;;){for(var k;F!==i||c!==0&&F.nodeType!==3||(E=y+c),F!==f||r!==0&&F.nodeType!==3||(R=y+r),F.nodeType===3&&(y+=F.nodeValue.length),(k=F.firstChild)!==null;)B=F,F=k;for(;;){if(F===t)break e;if(B===i&&++P===c&&(E=y),B===f&&++G===r&&(R=y),(k=F.nextSibling)!==null)break;F=B,B=F.parentNode}F=k}i=E===-1||R===-1?null:{start:E,end:R}}else i=null}i=i||{start:0,end:0}}else i=null;for(Jf={focusedElem:t,selectionRange:i},Su=!1,Oe=e;Oe!==null;)if(e=Oe,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Oe=t;else for(;Oe!==null;){switch(e=Oe,f=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,i=e,c=f.memoizedProps,f=f.memoizedState,r=i.stateNode;try{var yt=vs(i.type,c,i.elementType===i.type);t=r.getSnapshotBeforeUpdate(yt,f),r.__reactInternalSnapshotBeforeUpdate=t}catch(ht){Wt(i,i.return,ht)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)eh(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":eh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=e.sibling,t!==null){t.return=e.return,Oe=t;break}Oe=e.return}}function Ig(t,e,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:_a(t,i),r&4&&vl(5,i);break;case 1:if(_a(t,i),r&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(y){Wt(i,i.return,y)}else{var c=vs(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(c,e,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Wt(i,i.return,y)}}r&64&&Ag(i),r&512&&El(i,i.return);break;case 3:if(_a(t,i),r&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{um(t,e)}catch(y){Wt(i,i.return,y)}}break;case 27:e===null&&r&4&&wg(i);case 26:case 5:_a(t,i),e===null&&r&4&&bg(i),r&512&&El(i,i.return);break;case 12:_a(t,i);break;case 13:_a(t,i),r&4&&xg(t,i),r&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=kv.bind(null,i),sE(t,i))));break;case 22:if(r=i.memoizedState!==null||Gi,!r){e=e!==null&&e.memoizedState!==null||pe,c=Gi;var f=pe;Gi=r,(pe=e)&&!f?va(t,i,(i.subtreeFlags&8772)!==0):_a(t,i),Gi=c,pe=f}break;case 30:break;default:_a(t,i)}}function Ng(t){var e=t.alternate;e!==null&&(t.alternate=null,Ng(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&ra(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var se=null,ln=!1;function Qi(t,e,i){for(i=i.child;i!==null;)Dg(t,e,i),i=i.sibling}function Dg(t,e,i){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(ie,i)}catch{}switch(i.tag){case 26:pe||hi(i,e),Qi(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:pe||hi(i,e);var r=se,c=ln;Ra(i.type)&&(se=i.stateNode,ln=!1),Qi(t,e,i),Nl(i.stateNode),se=r,ln=c;break;case 5:pe||hi(i,e);case 6:if(r=se,c=ln,se=null,Qi(t,e,i),se=r,ln=c,se!==null)if(ln)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(i.stateNode)}catch(f){Wt(i,e,f)}else try{se.removeChild(i.stateNode)}catch(f){Wt(i,e,f)}break;case 18:se!==null&&(ln?(t=se,_p(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),jl(t)):_p(se,i.stateNode));break;case 4:r=se,c=ln,se=i.stateNode.containerInfo,ln=!0,Qi(t,e,i),se=r,ln=c;break;case 0:case 11:case 14:case 15:pe||ya(2,i,e),pe||ya(4,i,e),Qi(t,e,i);break;case 1:pe||(hi(i,e),r=i.stateNode,typeof r.componentWillUnmount=="function"&&Sg(i,e,r)),Qi(t,e,i);break;case 21:Qi(t,e,i);break;case 22:pe=(r=pe)||i.memoizedState!==null,Qi(t,e,i),pe=r;break;default:Qi(t,e,i)}}function xg(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jl(t)}catch(i){Wt(e,e.return,i)}}function Mv(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Cg),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Cg),e;default:throw Error(l(435,t.tag))}}function If(t,e){var i=Mv(t);e.forEach(function(r){var c=qv.bind(null,t,r);i.has(r)||(i.add(r),r.then(c,c))})}function gn(t,e){var i=e.deletions;if(i!==null)for(var r=0;r<i.length;r++){var c=i[r],f=t,y=e,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Ra(E.type)){se=E.stateNode,ln=!1;break t}break;case 5:se=E.stateNode,ln=!1;break t;case 3:case 4:se=E.stateNode.containerInfo,ln=!0;break t}E=E.return}if(se===null)throw Error(l(160));Dg(f,y,c),se=null,ln=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)Og(e,t),e=e.sibling}var qn=null;function Og(t,e){var i=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:gn(e,t),pn(t),r&4&&(ya(3,t,t.return),vl(3,t),ya(5,t,t.return));break;case 1:gn(e,t),pn(t),r&512&&(pe||i===null||hi(i,i.return)),r&64&&Gi&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var c=qn;if(gn(e,t),pn(t),r&512&&(pe||i===null||hi(i,i.return)),r&4){var f=i!==null?i.memoizedState:null;if(r=t.memoizedState,i===null)if(r===null)if(t.stateNode===null){t:{r=t.type,i=t.memoizedProps,c=c.ownerDocument||c;e:switch(r){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Xa]||f[be]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(r),c.head.insertBefore(f,c.querySelector("head > title"))),Be(f,r,i),f[be]=t,me(f),r=f;break t;case"link":var y=wp("link","href",c).get(r+(i.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(r),Be(f,r,i),c.head.appendChild(f);break;case"meta":if(y=wp("meta","content",c).get(r+(i.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){y.splice(E,1);break e}}f=c.createElement(r),Be(f,r,i),c.head.appendChild(f);break;default:throw Error(l(468,r))}f[be]=t,me(f),r=f}t.stateNode=r}else Cp(c,t.type,t.stateNode);else t.stateNode=Rp(c,r,t.memoizedProps);else f!==r?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,r===null?Cp(c,t.type,t.stateNode):Rp(c,r,t.memoizedProps)):r===null&&t.stateNode!==null&&bf(t,t.memoizedProps,i.memoizedProps)}break;case 27:gn(e,t),pn(t),r&512&&(pe||i===null||hi(i,i.return)),i!==null&&r&4&&bf(t,t.memoizedProps,i.memoizedProps);break;case 5:if(gn(e,t),pn(t),r&512&&(pe||i===null||hi(i,i.return)),t.flags&32){c=t.stateNode;try{wn(c,"")}catch(k){Wt(t,t.return,k)}}r&4&&t.stateNode!=null&&(c=t.memoizedProps,bf(t,c,i!==null?i.memoizedProps:c)),r&1024&&(Cf=!0);break;case 6:if(gn(e,t),pn(t),r&4){if(t.stateNode===null)throw Error(l(162));r=t.memoizedProps,i=t.stateNode;try{i.nodeValue=r}catch(k){Wt(t,t.return,k)}}break;case 3:if(Eu=null,c=qn,qn=_u(e.containerInfo),gn(e,t),qn=c,pn(t),r&4&&i!==null&&i.memoizedState.isDehydrated)try{jl(e.containerInfo)}catch(k){Wt(t,t.return,k)}Cf&&(Cf=!1,Mg(t));break;case 4:r=qn,qn=_u(t.stateNode.containerInfo),gn(e,t),pn(t),qn=r;break;case 12:gn(e,t),pn(t);break;case 13:gn(e,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Vf=an()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,If(t,r)));break;case 22:c=t.memoizedState!==null;var R=i!==null&&i.memoizedState!==null,P=Gi,G=pe;if(Gi=P||c,pe=G||R,gn(e,t),pe=G,Gi=P,pn(t),r&8192)t:for(e=t.stateNode,e._visibility=c?e._visibility&-2:e._visibility|1,c&&(i===null||R||Gi||pe||Es(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){R=i=e;try{if(f=R.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var F=R.memoizedProps.style,B=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(k){Wt(R,R.return,k)}}}else if(e.tag===6){if(i===null){R=e;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(k){Wt(R,R.return,k)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,If(t,i))));break;case 19:gn(e,t),pn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,If(t,r)));break;case 30:break;case 21:break;default:gn(e,t),pn(t)}}function pn(t){var e=t.flags;if(e&2){try{for(var i,r=t.return;r!==null;){if(Rg(r)){i=r;break}r=r.return}if(i==null)throw Error(l(160));switch(i.tag){case 27:var c=i.stateNode,f=Rf(t);su(t,f,c);break;case 5:var y=i.stateNode;i.flags&32&&(wn(y,""),i.flags&=-33);var E=Rf(t);su(t,E,y);break;case 3:case 4:var R=i.stateNode.containerInfo,P=Rf(t);wf(t,P,R);break;default:throw Error(l(161))}}catch(G){Wt(t,t.return,G)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Mg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Mg(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function _a(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Ig(t,e.alternate,e),e=e.sibling}function Es(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ya(4,e,e.return),Es(e);break;case 1:hi(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&Sg(e,e.return,i),Es(e);break;case 27:Nl(e.stateNode);case 26:case 5:hi(e,e.return),Es(e);break;case 22:e.memoizedState===null&&Es(e);break;case 30:Es(e);break;default:Es(e)}t=t.sibling}}function va(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,c=t,f=e,y=f.flags;switch(f.tag){case 0:case 11:case 15:va(c,f,i),vl(4,f);break;case 1:if(va(c,f,i),r=f,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Wt(r,r.return,P)}if(r=f,c=r.updateQueue,c!==null){var E=r.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)om(R[c],E)}catch(P){Wt(r,r.return,P)}}i&&y&64&&Ag(f),El(f,f.return);break;case 27:wg(f);case 26:case 5:va(c,f,i),i&&r===null&&y&4&&bg(f),El(f,f.return);break;case 12:va(c,f,i);break;case 13:va(c,f,i),i&&y&4&&xg(c,f);break;case 22:f.memoizedState===null&&va(c,f,i),El(f,f.return);break;case 30:break;default:va(c,f,i)}e=e.sibling}}function Nf(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&sl(i))}function Df(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&sl(t))}function di(t,e,i,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vg(t,e,i,r),e=e.sibling}function Vg(t,e,i,r){var c=e.flags;switch(e.tag){case 0:case 11:case 15:di(t,e,i,r),c&2048&&vl(9,e);break;case 1:di(t,e,i,r);break;case 3:di(t,e,i,r),c&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&sl(t)));break;case 12:if(c&2048){di(t,e,i,r),t=e.stateNode;try{var f=e.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Wt(e,e.return,R)}}else di(t,e,i,r);break;case 13:di(t,e,i,r);break;case 23:break;case 22:f=e.stateNode,y=e.alternate,e.memoizedState!==null?f._visibility&2?di(t,e,i,r):Tl(t,e):f._visibility&2?di(t,e,i,r):(f._visibility|=2,hr(t,e,i,r,(e.subtreeFlags&10256)!==0)),c&2048&&Nf(y,e);break;case 24:di(t,e,i,r),c&2048&&Df(e.alternate,e);break;default:di(t,e,i,r)}}function hr(t,e,i,r,c){for(c=c&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var f=t,y=e,E=i,R=r,P=y.flags;switch(y.tag){case 0:case 11:case 15:hr(f,y,E,R,c),vl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?hr(f,y,E,R,c):Tl(f,y):(G._visibility|=2,hr(f,y,E,R,c)),c&&P&2048&&Nf(y.alternate,y);break;case 24:hr(f,y,E,R,c),c&&P&2048&&Df(y.alternate,y);break;default:hr(f,y,E,R,c)}e=e.sibling}}function Tl(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,r=e,c=r.flags;switch(r.tag){case 22:Tl(i,r),c&2048&&Nf(r.alternate,r);break;case 24:Tl(i,r),c&2048&&Df(r.alternate,r);break;default:Tl(i,r)}e=e.sibling}}var Al=8192;function dr(t){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)Ug(t),t=t.sibling}function Ug(t){switch(t.tag){case 26:dr(t),t.flags&Al&&t.memoizedState!==null&&_E(qn,t.memoizedState,t.memoizedProps);break;case 5:dr(t);break;case 3:case 4:var e=qn;qn=_u(t.stateNode.containerInfo),dr(t),qn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Al,Al=16777216,dr(t),Al=e):dr(t));break;default:dr(t)}}function Lg(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Sl(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];Oe=r,zg(r,t)}Lg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jg(t),t=t.sibling}function jg(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&ya(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,ru(t)):Sl(t);break;default:Sl(t)}}function ru(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];Oe=r,zg(r,t)}Lg(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ya(8,e,e.return),ru(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,ru(e));break;default:ru(e)}t=t.sibling}}function zg(t,e){for(;Oe!==null;){var i=Oe;switch(i.tag){case 0:case 11:case 15:ya(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:sl(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,Oe=r;else t:for(i=t;Oe!==null;){r=Oe;var c=r.sibling,f=r.return;if(Ng(r),r===i){Oe=null;break t}if(c!==null){c.return=f,Oe=c;break t}Oe=f}}}var Vv={getCacheForType:function(t){var e=Fe(Ce),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i}},Uv=typeof WeakMap=="function"?WeakMap:Map,Ft=0,ee=null,It=null,Vt=0,Yt=0,yn=null,Ea=!1,mr=!1,xf=!1,Fi=0,he=0,Ta=0,Ts=0,Of=0,Un=0,gr=0,bl=null,on=null,Mf=!1,Vf=0,lu=1/0,ou=null,Aa=null,Pe=0,Sa=null,pr=null,yr=0,Uf=0,Lf=null,Pg=null,Rl=0,jf=null;function _n(){if((Ft&2)!==0&&Vt!==0)return Vt&-Vt;if(H.T!==null){var t=ar;return t!==0?t:Gf()}return Wn()}function Bg(){Un===0&&(Un=(Vt&536870912)===0||Bt?Fa():536870912);var t=Vn.current;return t!==null&&(t.flags|=32),Un}function vn(t,e,i){(t===ee&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)&&(_r(t,0),ba(t,Vt,Un,!1)),ft(t,i),((Ft&2)===0||t!==ee)&&(t===ee&&((Ft&2)===0&&(Ts|=i),he===4&&ba(t,Vt,Un,!1)),mi(t))}function kg(t,e,i){if((Ft&6)!==0)throw Error(l(327));var r=!i&&(e&124)===0&&(e&t.expiredLanes)===0||Si(t,e),c=r?zv(t,e):Bf(t,e,!0),f=r;do{if(c===0){mr&&!r&&ba(t,e,0,!1);break}else{if(i=t.current.alternate,f&&!Lv(i)){c=Bf(t,e,!1),f=!1;continue}if(c===2){if(f=e,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){e=y;t:{var E=t;c=bl;var R=E.current.memoizedState.isDehydrated;if(R&&(_r(E,y).flags|=256),y=Bf(E,y,!1),y!==2){if(xf&&!R){E.errorRecoveryDisabledLanes|=f,Ts|=f,c=4;break t}f=on,on=c,f!==null&&(on===null?on=f:on.push.apply(on,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){_r(t,0),ba(t,e,0,!0);break}t:{switch(r=t,f=c,f){case 0:case 1:throw Error(l(345));case 4:if((e&4194048)!==e)break;case 6:ba(r,e,Un,!Ea);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(l(329))}if((e&62914560)===e&&(c=Vf+300-an(),10<c)){if(ba(r,e,Un,!Ea),na(r,0,!0)!==0)break t;r.timeoutHandle=pp(qg.bind(null,r,i,on,ou,Mf,e,Un,Ts,gr,Ea,f,2,-0,0),c);break t}qg(r,i,on,ou,Mf,e,Un,Ts,gr,Ea,f,0,-0,0)}}break}while(!0);mi(t)}function qg(t,e,i,r,c,f,y,E,R,P,G,F,B,k){if(t.timeoutHandle=-1,F=e.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(Ol={stylesheets:null,count:0,unsuspend:yE},Ug(e),F=vE(),F!==null)){t.cancelPendingCommit=F(Kg.bind(null,t,e,f,i,r,c,y,E,R,G,1,B,k)),ba(t,f,y,!P);return}Kg(t,e,f,i,r,c,y,E,R)}function Lv(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var c=i[r],f=c.getSnapshot;c=c.value;try{if(!dn(f(),c))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ba(t,e,i,r){e&=~Of,e&=~Ts,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var c=e;0<c;){var f=31-ye(c),y=1<<f;r[f]=-1,c&=~y}i!==0&&Xt(t,i,e)}function uu(){return(Ft&6)===0?(wl(0),!1):!0}function zf(){if(It!==null){if(Yt===0)var t=It.return;else t=It,zi=gs=null,tf(t),cr=null,pl=0,t=It;for(;t!==null;)Tg(t.alternate,t),t=t.return;It=null}}function _r(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,tE(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),zf(),ee=t,It=i=Ui(t.current,null),Vt=e,Yt=0,yn=null,Ea=!1,mr=Si(t,e),xf=!1,gr=Un=Of=Ts=Ta=he=0,on=bl=null,Mf=!1,(e&8)!==0&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var c=31-ye(r),f=1<<c;e|=t[c],r&=~f}return Fi=e,xo(),i}function Hg(t,e){Rt=null,H.H=$o,e===ll||e===Bo?(e=rm(),Yt=3):e===im?(e=rm(),Yt=4):Yt=e===lg?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,yn=e,It===null&&(he=1,eu(t,Dn(e,t.current)))}function Gg(){var t=H.H;return H.H=$o,t===null?$o:t}function Qg(){var t=H.A;return H.A=Vv,t}function Pf(){he=4,Ea||(Vt&4194048)!==Vt&&Vn.current!==null||(mr=!0),(Ta&134217727)===0&&(Ts&134217727)===0||ee===null||ba(ee,Vt,Un,!1)}function Bf(t,e,i){var r=Ft;Ft|=2;var c=Gg(),f=Qg();(ee!==t||Vt!==e)&&(ou=null,_r(t,e)),e=!1;var y=he;t:do try{if(Yt!==0&&It!==null){var E=It,R=yn;switch(Yt){case 8:zf(),y=6;break t;case 3:case 2:case 9:case 6:Vn.current===null&&(e=!0);var P=Yt;if(Yt=0,yn=null,vr(t,E,R,P),i&&mr){y=0;break t}break;default:P=Yt,Yt=0,yn=null,vr(t,E,R,P)}}jv(),y=he;break}catch(G){Hg(t,G)}while(!0);return e&&t.shellSuspendCounter++,zi=gs=null,Ft=r,H.H=c,H.A=f,It===null&&(ee=null,Vt=0,xo()),y}function jv(){for(;It!==null;)Fg(It)}function zv(t,e){var i=Ft;Ft|=2;var r=Gg(),c=Qg();ee!==t||Vt!==e?(ou=null,lu=an()+500,_r(t,e)):mr=Si(t,e);t:do try{if(Yt!==0&&It!==null){e=It;var f=yn;e:switch(Yt){case 1:Yt=0,yn=null,vr(t,e,f,1);break;case 2:case 9:if(am(f)){Yt=0,yn=null,Yg(e);break}e=function(){Yt!==2&&Yt!==9||ee!==t||(Yt=7),mi(t)},f.then(e,e);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:am(f)?(Yt=0,yn=null,Yg(e)):(Yt=0,yn=null,vr(t,e,f,7));break;case 5:var y=null;switch(It.tag){case 26:y=It.memoizedState;case 5:case 27:var E=It;if(!y||Ip(y)){Yt=0,yn=null;var R=E.sibling;if(R!==null)It=R;else{var P=E.return;P!==null?(It=P,cu(P)):It=null}break e}}Yt=0,yn=null,vr(t,e,f,5);break;case 6:Yt=0,yn=null,vr(t,e,f,6);break;case 8:zf(),he=6;break t;default:throw Error(l(462))}}Pv();break}catch(G){Hg(t,G)}while(!0);return zi=gs=null,H.H=r,H.A=c,Ft=i,It!==null?0:(ee=null,Vt=0,xo(),he)}function Pv(){for(;It!==null&&!ka();)Fg(It)}function Fg(t){var e=vg(t.alternate,t,Fi);t.memoizedProps=t.pendingProps,e===null?cu(t):It=e}function Yg(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=dg(i,e,e.pendingProps,e.type,void 0,Vt);break;case 11:e=dg(i,e,e.pendingProps,e.type.render,e.ref,Vt);break;case 5:tf(e);default:Tg(i,e),e=It=Xd(e,Fi),e=vg(i,e,Fi)}t.memoizedProps=t.pendingProps,e===null?cu(t):It=e}function vr(t,e,i,r){zi=gs=null,tf(e),cr=null,pl=0;var c=e.return;try{if(Iv(t,c,e,i,Vt)){he=1,eu(t,Dn(i,t.current)),It=null;return}}catch(f){if(c!==null)throw It=c,f;he=1,eu(t,Dn(i,t.current)),It=null;return}e.flags&32768?(Bt||r===1?t=!0:mr||(Vt&536870912)!==0?t=!1:(Ea=t=!0,(r===2||r===9||r===3||r===6)&&(r=Vn.current,r!==null&&r.tag===13&&(r.flags|=16384))),Xg(e,t)):cu(e)}function cu(t){var e=t;do{if((e.flags&32768)!==0){Xg(e,Ea);return}t=e.return;var i=Dv(e.alternate,e,Fi);if(i!==null){It=i;return}if(e=e.sibling,e!==null){It=e;return}It=e=t}while(e!==null);he===0&&(he=5)}function Xg(t,e){do{var i=xv(t.alternate,t);if(i!==null){i.flags&=32767,It=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){It=t;return}It=t=i}while(t!==null);he=6,It=null}function Kg(t,e,i,r,c,f,y,E,R){t.cancelPendingCommit=null;do fu();while(Pe!==0);if((Ft&6)!==0)throw Error(l(327));if(e!==null){if(e===t.current)throw Error(l(177));if(f=e.lanes|e.childLanes,f|=Nc,qt(t,i,f,y,E,R),t===ee&&(It=ee=null,Vt=0),pr=e,Sa=t,yr=i,Uf=f,Lf=c,Pg=r,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Hv($n,function(){return tp(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||r){r=H.T,H.T=null,c=tt.p,tt.p=2,y=Ft,Ft|=4;try{Ov(t,e,i)}finally{Ft=y,tt.p=c,H.T=r}}Pe=1,$g(),Zg(),Jg()}}function $g(){if(Pe===1){Pe=0;var t=Sa,e=pr,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=H.T,H.T=null;var r=tt.p;tt.p=2;var c=Ft;Ft|=4;try{Og(e,t);var f=Jf,y=zd(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&jd(E.ownerDocument.documentElement,E)){if(R!==null&&bc(E)){var P=R.start,G=R.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var F=E.ownerDocument||document,B=F&&F.defaultView||window;if(B.getSelection){var k=B.getSelection(),yt=E.textContent.length,ht=Math.min(R.start,yt),Jt=R.end===void 0?ht:Math.min(R.end,yt);!k.extend&&ht>Jt&&(y=Jt,Jt=ht,ht=y);var L=Ld(E,ht),I=Ld(E,Jt);if(L&&I&&(k.rangeCount!==1||k.anchorNode!==L.node||k.anchorOffset!==L.offset||k.focusNode!==I.node||k.focusOffset!==I.offset)){var z=F.createRange();z.setStart(L.node,L.offset),k.removeAllRanges(),ht>Jt?(k.addRange(z),k.extend(I.node,I.offset)):(z.setEnd(I.node,I.offset),k.addRange(z))}}}}for(F=[],k=E;k=k.parentNode;)k.nodeType===1&&F.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var Q=F[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Su=!!Zf,Jf=Zf=null}finally{Ft=c,tt.p=r,H.T=i}}t.current=e,Pe=2}}function Zg(){if(Pe===2){Pe=0;var t=Sa,e=pr,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=H.T,H.T=null;var r=tt.p;tt.p=2;var c=Ft;Ft|=4;try{Ig(t,e.alternate,e)}finally{Ft=c,tt.p=r,H.T=i}}Pe=3}}function Jg(){if(Pe===4||Pe===3){Pe=0,Wi();var t=Sa,e=pr,i=yr,r=Pg;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Pe=5:(Pe=0,pr=Sa=null,Wg(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Aa=null),ia(i),e=e.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(ie,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=H.T,c=tt.p,tt.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<r.length;y++){var E=r[y];f(E.value,{componentStack:E.stack})}}finally{H.T=e,tt.p=c}}(yr&3)!==0&&fu(),mi(t),c=t.pendingLanes,(i&4194090)!==0&&(c&42)!==0?t===jf?Rl++:(Rl=0,jf=t):Rl=0,wl(0)}}function Wg(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,sl(e)))}function fu(t){return $g(),Zg(),Jg(),tp()}function tp(){if(Pe!==5)return!1;var t=Sa,e=Uf;Uf=0;var i=ia(yr),r=H.T,c=tt.p;try{tt.p=32>i?32:i,H.T=null,i=Lf,Lf=null;var f=Sa,y=yr;if(Pe=0,pr=Sa=null,yr=0,(Ft&6)!==0)throw Error(l(331));var E=Ft;if(Ft|=4,jg(f.current),Vg(f,f.current,y,i),Ft=E,wl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(ie,f)}catch{}return!0}finally{tt.p=c,H.T=r,Wg(t,e)}}function ep(t,e,i){e=Dn(i,e),e=gf(t.stateNode,e,2),t=da(t,e,2),t!==null&&(ft(t,2),mi(t))}function Wt(t,e,i){if(t.tag===3)ep(t,t,i);else for(;e!==null;){if(e.tag===3){ep(e,t,i);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Aa===null||!Aa.has(r))){t=Dn(i,t),i=sg(2),r=da(e,i,2),r!==null&&(rg(i,r,e,t),ft(r,2),mi(r));break}}e=e.return}}function kf(t,e,i){var r=t.pingCache;if(r===null){r=t.pingCache=new Uv;var c=new Set;r.set(e,c)}else c=r.get(e),c===void 0&&(c=new Set,r.set(e,c));c.has(i)||(xf=!0,c.add(i),t=Bv.bind(null,t,e,i),e.then(t,t))}function Bv(t,e,i){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,ee===t&&(Vt&i)===i&&(he===4||he===3&&(Vt&62914560)===Vt&&300>an()-Vf?(Ft&2)===0&&_r(t,0):Of|=i,gr===Vt&&(gr=0)),mi(t)}function np(t,e){e===0&&(e=Ya()),t=tr(t,e),t!==null&&(ft(t,e),mi(t))}function kv(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),np(t,i)}function qv(t,e){var i=0;switch(t.tag){case 13:var r=t.stateNode,c=t.memoizedState;c!==null&&(i=c.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(e),np(t,i)}function Hv(t,e){return Xn(t,e)}var hu=null,Er=null,qf=!1,du=!1,Hf=!1,As=0;function mi(t){t!==Er&&t.next===null&&(Er===null?hu=Er=t:Er=Er.next=t),du=!0,qf||(qf=!0,Qv())}function wl(t,e){if(!Hf&&du){Hf=!0;do for(var i=!1,r=hu;r!==null;){if(t!==0){var c=r.pendingLanes;if(c===0)var f=0;else{var y=r.suspendedLanes,E=r.pingedLanes;f=(1<<31-ye(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,rp(r,f))}else f=Vt,f=na(r,r===ee?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||Si(r,f)||(i=!0,rp(r,f));r=r.next}while(i);Hf=!1}}function Gv(){ip()}function ip(){du=qf=!1;var t=0;As!==0&&(Wv()&&(t=As),As=0);for(var e=an(),i=null,r=hu;r!==null;){var c=r.next,f=ap(r,e);f===0?(r.next=null,i===null?hu=c:i.next=c,c===null&&(Er=i)):(i=r,(t!==0||(f&3)!==0)&&(du=!0)),r=c}wl(t)}function ap(t,e){for(var i=t.suspendedLanes,r=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-ye(f),E=1<<y,R=c[y];R===-1?((E&i)===0||(E&r)!==0)&&(c[y]=Qa(E,e)):R<=e&&(t.expiredLanes|=E),f&=~E}if(e=ee,i=Vt,i=na(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,i===0||t===e&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&zn(r),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Si(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(r!==null&&zn(r),ia(i)){case 2:case 8:i=Kn;break;case 32:i=$n;break;case 268435456:i=ta;break;default:i=$n}return r=sp.bind(null,t),i=Xn(i,r),t.callbackPriority=e,t.callbackNode=i,e}return r!==null&&r!==null&&zn(r),t.callbackPriority=2,t.callbackNode=null,2}function sp(t,e){if(Pe!==0&&Pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(fu()&&t.callbackNode!==i)return null;var r=Vt;return r=na(t,t===ee?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(kg(t,r,e),ap(t,an()),t.callbackNode!=null&&t.callbackNode===i?sp.bind(null,t):null)}function rp(t,e){if(fu())return null;kg(t,e,!0)}function Qv(){eE(function(){(Ft&6)!==0?Xn(qa,Gv):ip()})}function Gf(){return As===0&&(As=Fa()),As}function lp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qs(""+t)}function op(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function Fv(t,e,i,r,c){if(e==="submit"&&i&&i.stateNode===c){var f=lp((c[_e]||null).action),y=r.submitter;y&&(e=(e=y[_e]||null)?lp(e.formAction):y.getAttribute("formAction"),e!==null&&(f=e,y=null));var E=new Hs("action","action",null,r,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(As!==0){var R=y?op(c,y):new FormData(c);cf(i,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?op(c,y):new FormData(c),cf(i,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var Qf=0;Qf<Ic.length;Qf++){var Ff=Ic[Qf],Yv=Ff.toLowerCase(),Xv=Ff[0].toUpperCase()+Ff.slice(1);kn(Yv,"on"+Xv)}kn(kd,"onAnimationEnd"),kn(qd,"onAnimationIteration"),kn(Hd,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(fv,"onTransitionRun"),kn(hv,"onTransitionStart"),kn(dv,"onTransitionCancel"),kn(Gd,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function up(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var r=t[i],c=r.event;r=r.listeners;t:{var f=void 0;if(e)for(var y=r.length-1;0<=y;y--){var E=r[y],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){tu(G)}c.currentTarget=null,f=R}else for(y=0;y<r.length;y++){if(E=r[y],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){tu(G)}c.currentTarget=null,f=R}}}}function Nt(t,e){var i=e[zr];i===void 0&&(i=e[zr]=new Set);var r=t+"__bubble";i.has(r)||(cp(e,t,2,!1),i.add(r))}function Yf(t,e,i){var r=0;e&&(r|=4),cp(i,t,r,e)}var mu="_reactListening"+Math.random().toString(36).slice(2);function Xf(t){if(!t[mu]){t[mu]=!0,Pr.forEach(function(i){i!=="selectionchange"&&(Kv.has(i)||Yf(i,!1,t),Yf(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mu]||(e[mu]=!0,Yf("selectionchange",!1,e))}}function cp(t,e,i,r){switch(Vp(e)){case 2:var c=AE;break;case 8:c=SE;break;default:c=oh}i=c.bind(null,e,i,t),c=void 0,!In||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(c=!0),r?c!==void 0?t.addEventListener(e,i,{capture:!0,passive:c}):t.addEventListener(e,i,!0):c!==void 0?t.addEventListener(e,i,{passive:c}):t.addEventListener(e,i,!1)}function Kf(t,e,i,r,c){var f=r;if((e&1)===0&&(e&2)===0&&r!==null)t:for(;;){if(r===null)return;var y=r.tag;if(y===3||y===4){var E=r.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=r.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=Ri(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){r=f=y;continue t}E=E.parentNode}}r=r.return}po(function(){var P=f,G=Cn(i),F=[];t:{var B=Qd.get(t);if(B!==void 0){var k=Hs,yt=t;switch(t){case"keypress":if(si(i)===0)break t;case"keydown":case"keyup":k=Ks;break;case"focusin":yt="focus",k=Fs;break;case"focusout":yt="blur",k=Fs;break;case"beforeblur":case"afterblur":k=Fs;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=bo;break;case kd:case qd:case Hd:k=Ys;break;case Gd:k=wo;break;case"scroll":case"scrollend":k=yo;break;case"wheel":k=$s;break;case"copy":case"cut":case"paste":k=Xs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Zr;break;case"toggle":case"beforetoggle":k=Io}var ht=(e&4)!==0,Jt=!ht&&(t==="scroll"||t==="scrollend"),L=ht?B!==null?B+"Capture":null:B;ht=[];for(var I=P,z;I!==null;){var Q=I;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||L===null||(Q=es(I,L),Q!=null&&ht.push(Il(I,Q,z))),Jt)break;I=I.return}0<ht.length&&(B=new k(B,yt,null,i,G),F.push({event:B,listeners:ht}))}}if((e&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&i!==Ni&&(yt=i.relatedTarget||i.fromElement)&&(Ri(yt)||yt[Rn]))break t;if((k||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,k?(yt=i.relatedTarget||i.toElement,k=P,yt=yt?Ri(yt):null,yt!==null&&(Jt=h(yt),ht=yt.tag,yt!==Jt||ht!==5&&ht!==27&&ht!==6)&&(yt=null)):(k=null,yt=P),k!==yt)){if(ht=Nn,Q="onMouseLeave",L="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(ht=Zr,Q="onPointerLeave",L="onPointerEnter",I="pointer"),Jt=k==null?B:ei(k),z=yt==null?B:ei(yt),B=new ht(Q,I+"leave",k,i,G),B.target=Jt,B.relatedTarget=z,Q=null,Ri(G)===P&&(ht=new ht(L,I+"enter",yt,i,G),ht.target=z,ht.relatedTarget=Jt,Q=ht),Jt=Q,k&&yt)e:{for(ht=k,L=yt,I=0,z=ht;z;z=Tr(z))I++;for(z=0,Q=L;Q;Q=Tr(Q))z++;for(;0<I-z;)ht=Tr(ht),I--;for(;0<z-I;)L=Tr(L),z--;for(;I--;){if(ht===L||L!==null&&ht===L.alternate)break e;ht=Tr(ht),L=Tr(L)}ht=null}else ht=null;k!==null&&fp(F,B,k,ht,!1),yt!==null&&Jt!==null&&fp(F,Jt,yt,ht,!0)}}t:{if(B=P?ei(P):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var at=Dd;else if(we(B))if(xd)at=ov;else{at=rv;var Ct=sv}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Gr(P.elementType)&&(at=Dd):at=lv;if(at&&(at=at(t,P))){Vi(F,at,i,G);break t}Ct&&Ct(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&oa(B,"number",B.value)}switch(Ct=P?ei(P):window,t){case"focusin":(we(Ct)||Ct.contentEditable==="true")&&(Zs=Ct,Rc=P,tl=null);break;case"focusout":tl=Rc=Zs=null;break;case"mousedown":wc=!0;break;case"contextmenu":case"mouseup":case"dragend":wc=!1,Pd(F,i,G);break;case"selectionchange":if(cv)break;case"keydown":case"keyup":Pd(F,i,G)}var lt;if(oi)t:{switch(t){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Ot?q(t,i)&&(pt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(pt="onCompositionStart");pt&&(g&&i.locale!=="ko"&&(Ot||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Ot&&(lt=Fr()):(ai=G,ua="value"in ai?ai.value:ai.textContent,Ot=!0)),Ct=gu(P,pt),0<Ct.length&&(pt=new Kr(pt,t,null,i,G),F.push({event:pt,listeners:Ct}),lt?pt.data=lt:(lt=W(i),lt!==null&&(pt.data=lt)))),(lt=d?Re(t,i):Mt(t,i))&&(pt=gu(P,"onBeforeInput"),0<pt.length&&(Ct=new Kr("onBeforeInput","beforeinput",null,i,G),F.push({event:Ct,listeners:pt}),Ct.data=lt)),Fv(F,t,P,i,G)}up(F,e)})}function Il(t,e,i){return{instance:t,listener:e,currentTarget:i}}function gu(t,e){for(var i=e+"Capture",r=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=es(t,i),c!=null&&r.unshift(Il(t,c,f)),c=es(t,e),c!=null&&r.push(Il(t,c,f))),t.tag===3)return r;t=t.return}return[]}function Tr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function fp(t,e,i,r,c){for(var f=e._reactName,y=[];i!==null&&i!==r;){var E=i,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===r)break;E!==5&&E!==26&&E!==27||P===null||(R=P,c?(P=es(i,f),P!=null&&y.unshift(Il(i,P,R))):c||(P=es(i,f),P!=null&&y.push(Il(i,P,R)))),i=i.return}y.length!==0&&t.push({event:e,listeners:y})}var $v=/\r\n?/g,Zv=/\u0000|\uFFFD/g;function hp(t){return(typeof t=="string"?t:""+t).replace($v,`
`).replace(Zv,"")}function dp(t,e){return e=hp(e),hp(t)===e}function pu(){}function Zt(t,e,i,r,c,f){switch(i){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||wn(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&wn(t,""+r);break;case"className":ni(t,"class",r);break;case"tabIndex":ni(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ni(t,i,r);break;case"style":Hr(t,r,f);break;case"data":if(e!=="object"){ni(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=qs(""+r),t.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(e!=="input"&&Zt(t,e,"name",c.name,c,null),Zt(t,e,"formEncType",c.formEncType,c,null),Zt(t,e,"formMethod",c.formMethod,c,null),Zt(t,e,"formTarget",c.formTarget,c,null)):(Zt(t,e,"encType",c.encType,c,null),Zt(t,e,"method",c.method,c,null),Zt(t,e,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=qs(""+r),t.setAttribute(i,r);break;case"onClick":r!=null&&(t.onclick=pu);break;case"onScroll":r!=null&&Nt("scroll",t);break;case"onScrollEnd":r!=null&&Nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(i=r.__html,i!=null){if(c.children!=null)throw Error(l(60));t.innerHTML=i}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}i=qs(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""+r):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":r===!0?t.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,r):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(i,r):t.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(i):t.setAttribute(i,r);break;case"popover":Nt("beforetoggle",t),Nt("toggle",t),la(t,"popover",r);break;case"xlinkActuate":Le(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Le(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Le(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Le(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Le(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Le(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Le(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Le(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Le(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":la(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=_c.get(i)||i,la(t,i,r))}}function $f(t,e,i,r,c,f){switch(i){case"style":Hr(t,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(i=r.__html,i!=null){if(c.children!=null)throw Error(l(60));t.innerHTML=i}}break;case"children":typeof r=="string"?wn(t,r):(typeof r=="number"||typeof r=="bigint")&&wn(t,""+r);break;case"onScroll":r!=null&&Nt("scroll",t);break;case"onScrollEnd":r!=null&&Nt("scrollend",t);break;case"onClick":r!=null&&(t.onclick=pu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!js.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),e=i.slice(2,c?i.length-7:void 0),f=t[_e]||null,f=f!=null?f[i]:null,typeof f=="function"&&t.removeEventListener(e,f,c),typeof r=="function")){typeof f!="function"&&f!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,r,c);break t}i in t?t[i]=r:r===!0?t.setAttribute(i,""):la(t,i,r)}}}function Be(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",t),Nt("load",t);var r=!1,c=!1,f;for(f in i)if(i.hasOwnProperty(f)){var y=i[f];if(y!=null)switch(f){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,e));default:Zt(t,e,f,y,i,null)}}c&&Zt(t,e,"srcSet",i.srcSet,i,null),r&&Zt(t,e,"src",i.src,i,null);return;case"input":Nt("invalid",t);var E=f=y=c=null,R=null,P=null;for(r in i)if(i.hasOwnProperty(r)){var G=i[r];if(G!=null)switch(r){case"name":c=G;break;case"type":y=G;break;case"checked":R=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(l(137,e));break;default:Zt(t,e,r,G,i,null)}}Ja(t,f,E,R,P,y,c,!1),ks(t);return;case"select":Nt("invalid",t),r=y=f=null;for(c in i)if(i.hasOwnProperty(c)&&(E=i[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":r=E;default:Zt(t,e,c,E,i,null)}e=f,i=y,t.multiple=!!r,e!=null?Ii(t,!!r,e,!1):i!=null&&Ii(t,!!r,i,!0);return;case"textarea":Nt("invalid",t),f=c=r=null;for(y in i)if(i.hasOwnProperty(y)&&(E=i[y],E!=null))switch(y){case"value":r=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(l(91));break;default:Zt(t,e,y,E,i,null)}Wa(t,r,c,f),ks(t);return;case"option":for(R in i)if(i.hasOwnProperty(R)&&(r=i[R],r!=null))switch(R){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Zt(t,e,R,r,i,null)}return;case"dialog":Nt("beforetoggle",t),Nt("toggle",t),Nt("cancel",t),Nt("close",t);break;case"iframe":case"object":Nt("load",t);break;case"video":case"audio":for(r=0;r<Cl.length;r++)Nt(Cl[r],t);break;case"image":Nt("error",t),Nt("load",t);break;case"details":Nt("toggle",t);break;case"embed":case"source":case"link":Nt("error",t),Nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in i)if(i.hasOwnProperty(P)&&(r=i[P],r!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,e));default:Zt(t,e,P,r,i,null)}return;default:if(Gr(e)){for(G in i)i.hasOwnProperty(G)&&(r=i[G],r!==void 0&&$f(t,e,G,r,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(r=i[E],r!=null&&Zt(t,e,E,r,i,null))}function Jv(t,e,i,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,R=null,P=null,G=null;for(k in i){var F=i[k];if(i.hasOwnProperty(k)&&F!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":R=F;default:r.hasOwnProperty(k)||Zt(t,e,k,null,r,F)}}for(var B in r){var k=r[B];if(F=i[B],r.hasOwnProperty(B)&&(k!=null||F!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":P=k;break;case"defaultChecked":G=k;break;case"value":y=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(l(137,e));break;default:k!==F&&Zt(t,e,B,k,r,F)}}hn(t,y,E,R,P,G,f,c);return;case"select":k=y=E=B=null;for(f in i)if(R=i[f],i.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":k=R;default:r.hasOwnProperty(f)||Zt(t,e,f,null,r,R)}for(c in r)if(f=r[c],R=i[c],r.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&Zt(t,e,c,f,r,R)}e=E,i=y,r=k,B!=null?Ii(t,!!i,B,!1):!!r!=!!i&&(e!=null?Ii(t,!!i,e,!0):Ii(t,!!i,i?[]:"",!1));return;case"textarea":k=B=null;for(E in i)if(c=i[E],i.hasOwnProperty(E)&&c!=null&&!r.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(t,e,E,null,r,c)}for(y in r)if(c=r[y],f=i[y],r.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==f&&Zt(t,e,y,c,r,f)}Kt(t,B,k);return;case"option":for(var yt in i)if(B=i[yt],i.hasOwnProperty(yt)&&B!=null&&!r.hasOwnProperty(yt))switch(yt){case"selected":t.selected=!1;break;default:Zt(t,e,yt,null,r,B)}for(R in r)if(B=r[R],k=i[R],r.hasOwnProperty(R)&&B!==k&&(B!=null||k!=null))switch(R){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Zt(t,e,R,B,r,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in i)B=i[ht],i.hasOwnProperty(ht)&&B!=null&&!r.hasOwnProperty(ht)&&Zt(t,e,ht,null,r,B);for(P in r)if(B=r[P],k=i[P],r.hasOwnProperty(P)&&B!==k&&(B!=null||k!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(l(137,e));break;default:Zt(t,e,P,B,r,k)}return;default:if(Gr(e)){for(var Jt in i)B=i[Jt],i.hasOwnProperty(Jt)&&B!==void 0&&!r.hasOwnProperty(Jt)&&$f(t,e,Jt,void 0,r,B);for(G in r)B=r[G],k=i[G],!r.hasOwnProperty(G)||B===k||B===void 0&&k===void 0||$f(t,e,G,B,r,k);return}}for(var L in i)B=i[L],i.hasOwnProperty(L)&&B!=null&&!r.hasOwnProperty(L)&&Zt(t,e,L,null,r,B);for(F in r)B=r[F],k=i[F],!r.hasOwnProperty(F)||B===k||B==null&&k==null||Zt(t,e,F,B,r,k)}var Zf=null,Jf=null;function yu(t){return t.nodeType===9?t:t.ownerDocument}function mp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gp(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Wf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var th=null;function Wv(){var t=window.event;return t&&t.type==="popstate"?t===th?!1:(th=t,!0):(th=null,!1)}var pp=typeof setTimeout=="function"?setTimeout:void 0,tE=typeof clearTimeout=="function"?clearTimeout:void 0,yp=typeof Promise=="function"?Promise:void 0,eE=typeof queueMicrotask=="function"?queueMicrotask:typeof yp<"u"?function(t){return yp.resolve(null).then(t).catch(nE)}:pp;function nE(t){setTimeout(function(){throw t})}function Ra(t){return t==="head"}function _p(t,e){var i=e,r=0,c=0;do{var f=i.nextSibling;if(t.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"){if(0<r&&8>r){i=r;var y=t.ownerDocument;if(i&1&&Nl(y.documentElement),i&2&&Nl(y.body),i&4)for(i=y.head,Nl(i),y=i.firstChild;y;){var E=y.nextSibling,R=y.nodeName;y[Xa]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||i.removeChild(y),y=E}}if(c===0){t.removeChild(f),jl(e);return}c--}else i==="$"||i==="$?"||i==="$!"?c++:r=i.charCodeAt(0)-48;else r=0;i=f}while(i);jl(e)}function eh(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":eh(i),ra(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function iE(t,e,i,r){for(;t.nodeType===1;){var c=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Xa])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function aE(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Hn(t.nextSibling),t===null))return null;return t}function nh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function sE(t,e){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")e();else{var r=function(){e(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Hn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var ih=null;function vp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}function Ep(t,e,i){switch(e=yu(i),t){case"html":if(t=e.documentElement,!t)throw Error(l(452));return t;case"head":if(t=e.head,!t)throw Error(l(453));return t;case"body":if(t=e.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function Nl(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);ra(t)}var Ln=new Map,Tp=new Set;function _u(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Yi=tt.d;tt.d={f:rE,r:lE,D:oE,C:uE,L:cE,m:fE,X:dE,S:hE,M:mE};function rE(){var t=Yi.f(),e=uu();return t||e}function lE(t){var e=ti(t);e!==null&&e.tag===5&&e.type==="form"?km(e):Yi.r(t)}var Ar=typeof document>"u"?null:document;function Ap(t,e,i){var r=Ar;if(r&&typeof e=="string"&&e){var c=ve(e);c='link[rel="'+t+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),Tp.has(c)||(Tp.add(c),t={rel:t,crossOrigin:i,href:e},r.querySelector(c)===null&&(e=r.createElement("link"),Be(e,"link",t),me(e),r.head.appendChild(e)))}}function oE(t){Yi.D(t),Ap("dns-prefetch",t,null)}function uE(t,e){Yi.C(t,e),Ap("preconnect",t,e)}function cE(t,e,i){Yi.L(t,e,i);var r=Ar;if(r&&t&&e){var c='link[rel="preload"][as="'+ve(e)+'"]';e==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+ve(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+ve(i.imageSizes)+'"]')):c+='[href="'+ve(t)+'"]';var f=c;switch(e){case"style":f=Sr(t);break;case"script":f=br(t)}Ln.has(f)||(t=A({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),Ln.set(f,t),r.querySelector(c)!==null||e==="style"&&r.querySelector(Dl(f))||e==="script"&&r.querySelector(xl(f))||(e=r.createElement("link"),Be(e,"link",t),me(e),r.head.appendChild(e)))}}function fE(t,e){Yi.m(t,e);var i=Ar;if(i&&t){var r=e&&typeof e.as=="string"?e.as:"script",c='link[rel="modulepreload"][as="'+ve(r)+'"][href="'+ve(t)+'"]',f=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=br(t)}if(!Ln.has(f)&&(t=A({rel:"modulepreload",href:t},e),Ln.set(f,t),i.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(xl(f)))return}r=i.createElement("link"),Be(r,"link",t),me(r),i.head.appendChild(r)}}}function hE(t,e,i){Yi.S(t,e,i);var r=Ar;if(r&&t){var c=We(r).hoistableStyles,f=Sr(t);e=e||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=r.querySelector(Dl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":e},i),(i=Ln.get(f))&&ah(t,i);var R=y=r.createElement("link");me(R),Be(R,"link",t),R._p=new Promise(function(P,G){R.onload=P,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,vu(y,e,r)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function dE(t,e){Yi.X(t,e);var i=Ar;if(i&&t){var r=We(i).hoistableScripts,c=br(t),f=r.get(c);f||(f=i.querySelector(xl(c)),f||(t=A({src:t,async:!0},e),(e=Ln.get(c))&&sh(t,e),f=i.createElement("script"),me(f),Be(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function mE(t,e){Yi.M(t,e);var i=Ar;if(i&&t){var r=We(i).hoistableScripts,c=br(t),f=r.get(c);f||(f=i.querySelector(xl(c)),f||(t=A({src:t,async:!0,type:"module"},e),(e=Ln.get(c))&&sh(t,e),f=i.createElement("script"),me(f),Be(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function Sp(t,e,i,r){var c=(c=_t.current)?_u(c):null;if(!c)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=Sr(i.href),i=We(c).hoistableStyles,r=i.get(e),r||(r={type:"style",instance:null,count:0,state:null},i.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=Sr(i.href);var f=We(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Dl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Ln.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Ln.set(t,i),f||gE(c,t,i,y.state))),e&&r===null)throw Error(l(528,""));return y}if(e&&r!==null)throw Error(l(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=br(i),i=We(c).hoistableScripts,r=i.get(e),r||(r={type:"script",instance:null,count:0,state:null},i.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function Sr(t){return'href="'+ve(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function bp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function gE(t,e,i,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Be(e,"link",i),me(e),t.head.appendChild(e))}function br(t){return'[src="'+ve(t)+'"]'}function xl(t){return"script[async]"+t}function Rp(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+ve(i.href)+'"]');if(r)return e.instance=r,me(r),r;var c=A({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),me(r),Be(r,"style",c),vu(r,i.precedence,t),e.instance=r;case"stylesheet":c=Sr(i.href);var f=t.querySelector(Dl(c));if(f)return e.state.loading|=4,e.instance=f,me(f),f;r=bp(i),(c=Ln.get(c))&&ah(r,c),f=(t.ownerDocument||t).createElement("link"),me(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Be(f,"link",r),e.state.loading|=4,vu(f,i.precedence,t),e.instance=f;case"script":return f=br(i.src),(c=t.querySelector(xl(f)))?(e.instance=c,me(c),c):(r=i,(c=Ln.get(f))&&(r=A({},i),sh(r,c)),t=t.ownerDocument||t,c=t.createElement("script"),me(c),Be(c,"link",r),t.head.appendChild(c),e.instance=c);case"void":return null;default:throw Error(l(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(r=e.instance,e.state.loading|=4,vu(r,i.precedence,t));return e.instance}function vu(t,e,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,f=c,y=0;y<r.length;y++){var E=r[y];if(E.dataset.precedence===e)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function ah(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function sh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Eu=null;function wp(t,e,i){if(Eu===null){var r=new Map,c=Eu=new Map;c.set(i,r)}else c=Eu,r=c.get(i),r||(r=new Map,c.set(i,r));if(r.has(t))return r;for(r.set(t,null),i=i.getElementsByTagName(t),c=0;c<i.length;c++){var f=i[c];if(!(f[Xa]||f[be]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(e)||"";y=t+y;var E=r.get(y);E?E.push(f):r.set(y,[f])}}return r}function Cp(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function pE(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Ip(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ol=null;function yE(){}function _E(t,e,i){if(Ol===null)throw Error(l(475));var r=Ol;if(e.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var c=Sr(i.href),f=t.querySelector(Dl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=Tu.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=f,me(f);return}f=t.ownerDocument||t,i=bp(i),(c=Ln.get(c))&&ah(i,c),f=f.createElement("link"),me(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Be(f,"link",i),e.instance=f}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(r.count++,e=Tu.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function vE(){if(Ol===null)throw Error(l(475));var t=Ol;return t.stylesheets&&t.count===0&&rh(t,t.stylesheets),0<t.count?function(e){var i=setTimeout(function(){if(t.stylesheets&&rh(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(i)}}:null}function Tu(){if(this.count--,this.count===0){if(this.stylesheets)rh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Au=null;function rh(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Au=new Map,e.forEach(EE,t),Au=null,Tu.call(t))}function EE(t,e){if(!(e.state.loading&4)){var i=Au.get(t);if(i)var r=i.get(null);else{i=new Map,Au.set(t,i);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(i.set(y.dataset.precedence,y),r=y)}r&&i.set(null,r)}c=e.instance,y=c.getAttribute("data-precedence"),f=i.get(y)||r,f===r&&i.set(null,c),i.set(y,c),this.count++,r=Tu.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),e.state.loading|=4}}var Ml={$$typeof:mt,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function TE(t,e,i,r,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Np(t,e,i,r,c,f,y,E,R,P,G,F){return t=new TE(t,e,i,y,E,R,P,F),e=1,f===!0&&(e|=24),f=mn(3,null,null,e),t.current=f,f.stateNode=t,e=Bc(),e.refCount++,t.pooledCache=e,e.refCount++,f.memoizedState={element:r,isDehydrated:i,cache:e},Gc(f),t}function Dp(t){return t?(t=er,t):er}function xp(t,e,i,r,c,f){c=Dp(c),r.context===null?r.context=c:r.pendingContext=c,r=ha(e),r.payload={element:i},f=f===void 0?null:f,f!==null&&(r.callback=f),i=da(t,r,e),i!==null&&(vn(i,t,e),ul(i,t,e))}function Op(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function lh(t,e){Op(t,e),(t=t.alternate)&&Op(t,e)}function Mp(t){if(t.tag===13){var e=tr(t,67108864);e!==null&&vn(e,t,67108864),lh(t,67108864)}}var Su=!0;function AE(t,e,i,r){var c=H.T;H.T=null;var f=tt.p;try{tt.p=2,oh(t,e,i,r)}finally{tt.p=f,H.T=c}}function SE(t,e,i,r){var c=H.T;H.T=null;var f=tt.p;try{tt.p=8,oh(t,e,i,r)}finally{tt.p=f,H.T=c}}function oh(t,e,i,r){if(Su){var c=uh(r);if(c===null)Kf(t,e,r,bu,i),Up(t,r);else if(RE(c,t,e,i,r))r.stopPropagation();else if(Up(t,r),e&4&&-1<bE.indexOf(t)){for(;c!==null;){var f=ti(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=sn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-ye(y);E.entanglements[1]|=R,y&=~R}mi(f),(Ft&6)===0&&(lu=an()+500,wl(0))}}break;case 13:E=tr(f,2),E!==null&&vn(E,f,2),uu(),lh(f,2)}if(f=uh(r),f===null&&Kf(t,e,r,bu,i),f===c)break;c=f}c!==null&&r.stopPropagation()}else Kf(t,e,r,null,i)}}function uh(t){return t=Cn(t),ch(t)}var bu=null;function ch(t){if(bu=null,t=Ri(t),t!==null){var e=h(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=m(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return bu=t,null}function Vp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vi()){case qa:return 2;case Kn:return 8;case $n:case Zn:return 32;case ta:return 268435456;default:return 32}default:return 32}}var fh=!1,wa=null,Ca=null,Ia=null,Vl=new Map,Ul=new Map,Na=[],bE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Up(t,e){switch(t){case"focusin":case"focusout":wa=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":Ia=null;break;case"pointerover":case"pointerout":Vl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(e.pointerId)}}function Ll(t,e,i,r,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:e,domEventName:i,eventSystemFlags:r,nativeEvent:f,targetContainers:[c]},e!==null&&(e=ti(e),e!==null&&Mp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,c!==null&&e.indexOf(c)===-1&&e.push(c),t)}function RE(t,e,i,r,c){switch(e){case"focusin":return wa=Ll(wa,t,e,i,r,c),!0;case"dragenter":return Ca=Ll(Ca,t,e,i,r,c),!0;case"mouseover":return Ia=Ll(Ia,t,e,i,r,c),!0;case"pointerover":var f=c.pointerId;return Vl.set(f,Ll(Vl.get(f)||null,t,e,i,r,c)),!0;case"gotpointercapture":return f=c.pointerId,Ul.set(f,Ll(Ul.get(f)||null,t,e,i,r,c)),!0}return!1}function Lp(t){var e=Ri(t.target);if(e!==null){var i=h(e);if(i!==null){if(e=i.tag,e===13){if(e=m(i),e!==null){t.blockedOn=e,aa(t.priority,function(){if(i.tag===13){var r=_n();r=bi(r);var c=tr(i,r);c!==null&&vn(c,i,r),lh(i,r)}});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ru(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=uh(t.nativeEvent);if(i===null){i=t.nativeEvent;var r=new i.constructor(i.type,i);Ni=r,i.target.dispatchEvent(r),Ni=null}else return e=ti(i),e!==null&&Mp(e),t.blockedOn=i,!1;e.shift()}return!0}function jp(t,e,i){Ru(t)&&i.delete(e)}function wE(){fh=!1,wa!==null&&Ru(wa)&&(wa=null),Ca!==null&&Ru(Ca)&&(Ca=null),Ia!==null&&Ru(Ia)&&(Ia=null),Vl.forEach(jp),Ul.forEach(jp)}function wu(t,e){t.blockedOn===e&&(t.blockedOn=null,fh||(fh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,wE)))}var Cu=null;function zp(t){Cu!==t&&(Cu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Cu===t&&(Cu=null);for(var e=0;e<t.length;e+=3){var i=t[e],r=t[e+1],c=t[e+2];if(typeof r!="function"){if(ch(r||i)===null)continue;break}var f=ti(i);f!==null&&(t.splice(e,3),e-=3,cf(f,{pending:!0,data:c,method:i.method,action:r},r,c))}}))}function jl(t){function e(R){return wu(R,t)}wa!==null&&wu(wa,t),Ca!==null&&wu(Ca,t),Ia!==null&&wu(Ia,t),Vl.forEach(e),Ul.forEach(e);for(var i=0;i<Na.length;i++){var r=Na[i];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Na.length&&(i=Na[0],i.blockedOn===null);)Lp(i),i.blockedOn===null&&Na.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var c=i[r],f=i[r+1],y=c[_e]||null;if(typeof f=="function")y||zp(i);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[_e]||null)E=y.formAction;else if(ch(c)!==null)continue}else E=y.action;typeof E=="function"?i[r+1]=E:(i.splice(r,3),r-=3),zp(i)}}}function hh(t){this._internalRoot=t}Iu.prototype.render=hh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(l(409));var i=e.current,r=_n();xp(i,r,t,e,null,null)},Iu.prototype.unmount=hh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xp(t.current,2,null,t,null,null),uu(),e[Rn]=null}};function Iu(t){this._internalRoot=t}Iu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Wn();t={blockedOn:null,target:t,priority:e};for(var i=0;i<Na.length&&e!==0&&e<Na[i].priority;i++);Na.splice(i,0,t),i===0&&Lp(t)}};var Pp=n.version;if(Pp!=="19.1.1")throw Error(l(527,Pp,"19.1.1"));tt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=v(e),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var CE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{ie=Nu.inject(CE),jt=Nu}catch{}}return Pl.createRoot=function(t,e){if(!u(t))throw Error(l(299));var i=!1,r="",c=eg,f=ng,y=ig,E=null;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(c=e.onUncaughtError),e.onCaughtError!==void 0&&(f=e.onCaughtError),e.onRecoverableError!==void 0&&(y=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(E=e.unstable_transitionCallbacks)),e=Np(t,1,!1,null,null,i,r,c,f,y,E,null),t[Rn]=e.current,Xf(t),new hh(e)},Pl.hydrateRoot=function(t,e,i){if(!u(t))throw Error(l(299));var r=!1,c="",f=eg,y=ng,E=ig,R=null,P=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(R=i.unstable_transitionCallbacks),i.formState!==void 0&&(P=i.formState)),e=Np(t,1,!0,e,i??null,r,c,f,y,E,R,P),e.context=Dp(null),i=e.current,r=_n(),r=bi(r),c=ha(r),c.callback=null,da(i,c,r),i=r,e.current.lanes=i,ft(e,i),mi(e),t[Rn]=e.current,Xf(t),new Iu(e)},Pl.version="19.1.1",Pl}var Kp;function zE(){if(Kp)return gh.exports;Kp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),gh.exports=jE(),gh.exports}var PE=zE();const BE=c_(PE),ut={ENVIRONMENT_SETUP:"environment_setup",SCREEN_CALIBRATION:"screen_calibration",WELCOME:"welcome",INSTRUCTIONS:"instructions",PRACTICE:"practice",MAIN_TRIALS:"main_trials",SEQUENTIAL_TRIALS:"sequential_trials",TIME_CONSTRAINT_INTRO:"time_constraint_intro",TIME_TRIAL_PRACTICE:"time_trial_practice",TIME_TRIALS:"time_trials",SEQUENTIAL_TIME_TRIALS:"sequential_time_trials",COMPLETE:"complete"},Ke={WAITING_FOR_START:"waiting_for_start",IN_PROGRESS:"in_progress",FAILED:"failed"},Cr=[{id:1,tunnelWidth:.05,curvature:.025,timeLimit:null,description:"wide tunnel, gentle curve"},{id:2,tunnelWidth:.05,curvature:.05,timeLimit:null,description:"wide tunnel, sharp curve"},{id:3,tunnelWidth:.02,curvature:.025,timeLimit:null,description:"narrow tunnel, gentle curve"},{id:4,tunnelWidth:.02,curvature:.05,timeLimit:null,description:"narrow tunnel, sharp curve"}],f_=[],kE=[],qE=[],h_=460,d_=260,te=1e3,m_=.008,g_=.01,p_=.002,HE=()=>{const s=new URLSearchParams(window.location.search);return{prolificPid:s.get("PROLIFIC_PID")||null,studyId:s.get("STUDY_ID")||null,sessionId:s.get("SESSION_ID")||null}},GE=s=>{const u=s,h=.15,m=[];for(let p=0;p<.46;p+=p_){const v=.13+u*Math.sin(2*Math.PI*p/h);m.push({x:p,y:v})}return m},QE=s=>{const h=[];for(let m=0;m<.46;m+=p_){let p=.13;if(s.segmentType==="curvature")if(m<0+.23)p=.13;else{const v=m-.23,_=s.segment2Curvature,O=v/.23;p=.13+_*(1-Math.pow(2*O-1,2))}h.push({x:m,y:p})}return h},FE=()=>{};var $p={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=function(s){const n=[];let a=0;for(let l=0;l<s.length;l++){let u=s.charCodeAt(l);u<128?n[a++]=u:u<2048?(n[a++]=u>>6|192,n[a++]=u&63|128):(u&64512)===55296&&l+1<s.length&&(s.charCodeAt(l+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++l)&1023),n[a++]=u>>18|240,n[a++]=u>>12&63|128,n[a++]=u>>6&63|128,n[a++]=u&63|128):(n[a++]=u>>12|224,n[a++]=u>>6&63|128,n[a++]=u&63|128)}return n},YE=function(s){const n=[];let a=0,l=0;for(;a<s.length;){const u=s[a++];if(u<128)n[l++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[a++];n[l++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[a++],m=s[a++],p=s[a++],v=((u&7)<<18|(h&63)<<12|(m&63)<<6|p&63)-65536;n[l++]=String.fromCharCode(55296+(v>>10)),n[l++]=String.fromCharCode(56320+(v&1023))}else{const h=s[a++],m=s[a++];n[l++]=String.fromCharCode((u&15)<<12|(h&63)<<6|m&63)}}return n.join("")},__={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,n){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let u=0;u<s.length;u+=3){const h=s[u],m=u+1<s.length,p=m?s[u+1]:0,v=u+2<s.length,_=v?s[u+2]:0,A=h>>2,O=(h&3)<<4|p>>4;let U=(p&15)<<2|_>>6,$=_&63;v||($=64,m||(U=64)),l.push(a[A],a[O],a[U],a[$])}return l.join("")},encodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(s):this.encodeByteArray(y_(s),n)},decodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(s):YE(this.decodeStringToByteArray(s,n))},decodeStringToByteArray(s,n){this.init_();const a=n?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let u=0;u<s.length;){const h=a[s.charAt(u++)],p=u<s.length?a[s.charAt(u)]:0;++u;const _=u<s.length?a[s.charAt(u)]:64;++u;const O=u<s.length?a[s.charAt(u)]:64;if(++u,h==null||p==null||_==null||O==null)throw new XE;const U=h<<2|p>>4;if(l.push(U),_!==64){const $=p<<4&240|_>>2;if(l.push($),O!==64){const J=_<<6&192|O;l.push(J)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class XE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KE=function(s){const n=y_(s);return __.encodeByteArray(n,!0)},ku=function(s){return KE(s).replace(/\./g,"")},$E=function(s){try{return __.decodeString(s,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=()=>ZE().__FIREBASE_DEFAULTS__,WE=()=>{if(typeof process>"u"||typeof $p>"u")return;const s=$p.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},tT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=s&&$E(s[1]);return n&&JSON.parse(n)},Kh=()=>{try{return FE()||JE()||WE()||tT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},eT=s=>Kh()?.emulatorHosts?.[s],nT=s=>{const n=eT(s);if(!n)return;const a=n.lastIndexOf(":");if(a<=0||a+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const l=parseInt(n.substring(a+1),10);return n[0]==="["?[n.substring(1,a-1),l]:[n.substring(0,a),l]},v_=()=>Kh()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}wrapCallback(n){return(a,l)=>{a?this.reject(a):this.resolve(l),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(a):n(a,l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aT(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(s,n){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},l=n||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${l}`,aud:l,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ku(JSON.stringify(a)),ku(JSON.stringify(m)),""].join(".")}const ql={};function rT(){const s={prod:[],emulator:[]};for(const n of Object.keys(ql))ql[n]?s.emulator.push(n):s.prod.push(n);return s}function lT(s){let n=document.getElementById(s),a=!1;return n||(n=document.createElement("div"),n.setAttribute("id",s),a=!0),{created:a,element:n}}let Zp=!1;function oT(s,n){if(typeof window>"u"||typeof document>"u"||!$h(window.location.host)||ql[s]===n||ql[s]||Zp)return;ql[s]=n;function a(U){return`__firebase__banner__${U}`}const l="__firebase__banner",h=rT().prod.length>0;function m(){const U=document.getElementById(l);U&&U.remove()}function p(U){U.style.display="flex",U.style.background="#7faaf0",U.style.position="fixed",U.style.bottom="5px",U.style.left="5px",U.style.padding=".5em",U.style.borderRadius="5px",U.style.alignItems="center"}function v(U,$){U.setAttribute("width","24"),U.setAttribute("id",$),U.setAttribute("height","24"),U.setAttribute("viewBox","0 0 24 24"),U.setAttribute("fill","none"),U.style.marginLeft="-6px"}function _(){const U=document.createElement("span");return U.style.cursor="pointer",U.style.marginLeft="16px",U.style.fontSize="24px",U.innerHTML=" &times;",U.onclick=()=>{Zp=!0,m()},U}function A(U,$){U.setAttribute("id",$),U.innerText="Learn more",U.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",U.setAttribute("target","__blank"),U.style.paddingLeft="5px",U.style.textDecoration="underline"}function O(){const U=lT(l),$=a("text"),J=document.getElementById($)||document.createElement("span"),it=a("learnmore"),nt=document.getElementById(it)||document.createElement("a"),bt=a("preprendIcon"),Et=document.getElementById(bt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(U.created){const mt=U.element;p(mt),A(nt,it);const Dt=_();v(Et,bt),mt.append(Et,J,nt,Dt),document.body.appendChild(mt)}h?(J.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",$)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",O):O()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cT(){const s=Kh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fT(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function hT(){return!cT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E_(){try{return typeof indexedDB=="object"}catch{return!1}}function T_(){return new Promise((s,n)=>{try{let a=!0;const l="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(l);u.onsuccess=()=>{u.result.close(),a||self.indexedDB.deleteDatabase(l),s(!0)},u.onupgradeneeded=()=>{a=!1},u.onerror=()=>{n(u.error?.message||"")}}catch(a){n(a)}})}function dT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="FirebaseError";class Pa extends Error{constructor(n,a,l){super(a),this.code=n,this.customData=l,this.name=mT,Object.setPrototypeOf(this,Pa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(n,a,l){this.service=n,this.serviceName=a,this.errors=l}create(n,...a){const l=a[0]||{},u=`${this.service}/${n}`,h=this.errors[n],m=h?gT(h,l):"Error",p=`${this.serviceName}: ${m} (${u}).`;return new Pa(u,p,l)}}function gT(s,n){return s.replace(pT,(a,l)=>{const u=n[l];return u!=null?String(u):`<${l}?>`})}const pT=/\{\$([^}]+)}/g;function Kl(s,n){if(s===n)return!0;const a=Object.keys(s),l=Object.keys(n);for(const u of a){if(!l.includes(u))return!1;const h=s[u],m=n[u];if(Jp(h)&&Jp(m)){if(!Kl(h,m))return!1}else if(h!==m)return!1}for(const u of l)if(!a.includes(u))return!1;return!0}function Jp(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=1e3,_T=2,vT=14400*1e3,ET=.5;function Wp(s,n=yT,a=_T){const l=n*Math.pow(a,s),u=Math.round(ET*l*(Math.random()-.5)*2);return Math.min(vT,l+u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(s){return s&&s._delegate?s._delegate:s}class Zi{constructor(n,a,l){this.name=n,this.instanceFactory=a,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(n,a){this.name=n,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const a=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(a)){const l=new iT;if(this.instancesDeferred.set(a,l),this.isInitialized(a)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:a});u&&l.resolve(u)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(n){const a=this.normalizeInstanceIdentifier(n?.identifier),l=n?.optional??!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(ST(n))try{this.getOrInitializeService({instanceIdentifier:Ss})}catch{}for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);try{const h=this.getOrInitializeService({instanceIdentifier:u});l.resolve(h)}catch{}}}}clearInstance(n=Ss){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...n.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Ss){return this.instances.has(n)}getOptions(n=Ss){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:a={}}=n,l=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:l,options:a});for(const[h,m]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);l===p&&m.resolve(u)}return u}onInit(n,a){const l=this.normalizeInstanceIdentifier(a),u=this.onInitCallbacks.get(l)??new Set;u.add(n),this.onInitCallbacks.set(l,u);const h=this.instances.get(l);return h&&n(h,l),()=>{u.delete(n)}}invokeOnInitCallbacks(n,a){const l=this.onInitCallbacks.get(a);if(l)for(const u of l)try{u(n,a)}catch{}}getOrInitializeService({instanceIdentifier:n,options:a={}}){let l=this.instances.get(n);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:AT(n),options:a}),this.instances.set(n,l),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(l,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,l)}catch{}return l||null}normalizeInstanceIdentifier(n=Ss){return this.component?this.component.multipleInstances?n:Ss:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AT(s){return s===Ss?void 0:s}function ST(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const a=this.getProvider(n.name);if(a.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);a.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const a=new TT(n,this);return this.providers.set(n,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const RT={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},wT=Lt.INFO,CT={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},IT=(s,n,...a)=>{if(n<s.logLevel)return;const l=new Date().toISOString(),u=CT[n];if(u)console[u](`[${l}]  ${s.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Zh{constructor(n){this.name=n,this._logLevel=wT,this._logHandler=IT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Lt))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?RT[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...n),this._logHandler(this,Lt.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...n),this._logHandler(this,Lt.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...n),this._logHandler(this,Lt.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...n),this._logHandler(this,Lt.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...n),this._logHandler(this,Lt.ERROR,...n)}}const NT=(s,n)=>n.some(a=>s instanceof a);let ty,ey;function DT(){return ty||(ty=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xT(){return ey||(ey=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const A_=new WeakMap,Dh=new WeakMap,S_=new WeakMap,vh=new WeakMap,Jh=new WeakMap;function OT(s){const n=new Promise((a,l)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",m)},h=()=>{a(xa(s.result)),u()},m=()=>{l(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",m)});return n.then(a=>{a instanceof IDBCursor&&A_.set(a,s)}).catch(()=>{}),Jh.set(n,s),n}function MT(s){if(Dh.has(s))return;const n=new Promise((a,l)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",m),s.removeEventListener("abort",m)},h=()=>{a(),u()},m=()=>{l(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",m),s.addEventListener("abort",m)});Dh.set(s,n)}let xh={get(s,n,a){if(s instanceof IDBTransaction){if(n==="done")return Dh.get(s);if(n==="objectStoreNames")return s.objectStoreNames||S_.get(s);if(n==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return xa(s[n])},set(s,n,a){return s[n]=a,!0},has(s,n){return s instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in s}};function VT(s){xh=s(xh)}function UT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...a){const l=s.call(Eh(this),n,...a);return S_.set(l,n.sort?n.sort():[n]),xa(l)}:xT().includes(s)?function(...n){return s.apply(Eh(this),n),xa(A_.get(this))}:function(...n){return xa(s.apply(Eh(this),n))}}function LT(s){return typeof s=="function"?UT(s):(s instanceof IDBTransaction&&MT(s),NT(s,DT())?new Proxy(s,xh):s)}function xa(s){if(s instanceof IDBRequest)return OT(s);if(vh.has(s))return vh.get(s);const n=LT(s);return n!==s&&(vh.set(s,n),Jh.set(n,s)),n}const Eh=s=>Jh.get(s);function b_(s,n,{blocked:a,upgrade:l,blocking:u,terminated:h}={}){const m=indexedDB.open(s,n),p=xa(m);return l&&m.addEventListener("upgradeneeded",v=>{l(xa(m.result),v.oldVersion,v.newVersion,xa(m.transaction),v)}),a&&m.addEventListener("blocked",v=>a(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const jT=["get","getKey","getAll","getAllKeys","count"],zT=["put","add","delete","clear"],Th=new Map;function ny(s,n){if(!(s instanceof IDBDatabase&&!(n in s)&&typeof n=="string"))return;if(Th.get(n))return Th.get(n);const a=n.replace(/FromIndex$/,""),l=n!==a,u=zT.includes(a);if(!(a in(l?IDBIndex:IDBObjectStore).prototype)||!(u||jT.includes(a)))return;const h=async function(m,...p){const v=this.transaction(m,u?"readwrite":"readonly");let _=v.store;return l&&(_=_.index(p.shift())),(await Promise.all([_[a](...p),u&&v.done]))[0]};return Th.set(n,h),h}VT(s=>({...s,get:(n,a,l)=>ny(n,a)||s.get(n,a,l),has:(n,a)=>!!ny(n,a)||s.has(n,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(BT(a)){const l=a.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(a=>a).join(" ")}}function BT(s){return s.getComponent()?.type==="VERSION"}const Oh="@firebase/app",iy="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new Zh("@firebase/app"),kT="@firebase/app-compat",qT="@firebase/analytics-compat",HT="@firebase/analytics",GT="@firebase/app-check-compat",QT="@firebase/app-check",FT="@firebase/auth",YT="@firebase/auth-compat",XT="@firebase/database",KT="@firebase/data-connect",$T="@firebase/database-compat",ZT="@firebase/functions",JT="@firebase/functions-compat",WT="@firebase/installations",t1="@firebase/installations-compat",e1="@firebase/messaging",n1="@firebase/messaging-compat",i1="@firebase/performance",a1="@firebase/performance-compat",s1="@firebase/remote-config",r1="@firebase/remote-config-compat",l1="@firebase/storage",o1="@firebase/storage-compat",u1="@firebase/firestore",c1="@firebase/ai",f1="@firebase/firestore-compat",h1="firebase",d1="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh="[DEFAULT]",m1={[Oh]:"fire-core",[kT]:"fire-core-compat",[HT]:"fire-analytics",[qT]:"fire-analytics-compat",[QT]:"fire-app-check",[GT]:"fire-app-check-compat",[FT]:"fire-auth",[YT]:"fire-auth-compat",[XT]:"fire-rtdb",[KT]:"fire-data-connect",[$T]:"fire-rtdb-compat",[ZT]:"fire-fn",[JT]:"fire-fn-compat",[WT]:"fire-iid",[t1]:"fire-iid-compat",[e1]:"fire-fcm",[n1]:"fire-fcm-compat",[i1]:"fire-perf",[a1]:"fire-perf-compat",[s1]:"fire-rc",[r1]:"fire-rc-compat",[l1]:"fire-gcs",[o1]:"fire-gcs-compat",[u1]:"fire-fst",[f1]:"fire-fst-compat",[c1]:"fire-vertex","fire-js":"fire-js",[h1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=new Map,g1=new Map,Vh=new Map;function ay(s,n){try{s.container.addComponent(n)}catch(a){Ji.debug(`Component ${n.name} failed to register with FirebaseApp ${s.name}`,a)}}function Va(s){const n=s.name;if(Vh.has(n))return Ji.debug(`There were multiple attempts to register component ${n}.`),!1;Vh.set(n,s);for(const a of qu.values())ay(a,s);for(const a of g1.values())ay(a,s);return!0}function no(s,n){const a=s.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),s.container.getProvider(n)}function p1(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oa=new ic("app","Firebase",y1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(n,a,l){this._isDeleted=!1,this._options={...n},this._config={...a},this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new Zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Oa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=d1;function Wh(s,n={}){let a=s;typeof n!="object"&&(n={name:n});const l={name:Mh,automaticDataCollectionEnabled:!0,...n},u=l.name;if(typeof u!="string"||!u)throw Oa.create("bad-app-name",{appName:String(u)});if(a||(a=v_()),!a)throw Oa.create("no-options");const h=qu.get(u);if(h){if(Kl(a,h.options)&&Kl(l,h.config))return h;throw Oa.create("duplicate-app",{appName:u})}const m=new bT(u);for(const v of Vh.values())m.addComponent(v);const p=new _1(a,l,m);return qu.set(u,p),p}function R_(s=Mh){const n=qu.get(s);if(!n&&s===Mh&&v_())return Wh();if(!n)throw Oa.create("no-app",{appName:s});return n}function pi(s,n,a){let l=m1[s]??s;a&&(l+=`-${a}`);const u=l.match(/\s|\//),h=n.match(/\s|\//);if(u||h){const m=[`Unable to register library "${l}" with version "${n}":`];u&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Ji.warn(m.join(" "));return}Va(new Zi(`${l}-version`,()=>({library:l,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="firebase-heartbeat-database",T1=1,$l="firebase-heartbeat-store";let Ah=null;function w_(){return Ah||(Ah=b_(E1,T1,{upgrade:(s,n)=>{switch(n){case 0:try{s.createObjectStore($l)}catch(a){console.warn(a)}}}}).catch(s=>{throw Oa.create("idb-open",{originalErrorMessage:s.message})})),Ah}async function A1(s){try{const a=(await w_()).transaction($l),l=await a.objectStore($l).get(C_(s));return await a.done,l}catch(n){if(n instanceof Pa)Ji.warn(n.message);else{const a=Oa.create("idb-get",{originalErrorMessage:n?.message});Ji.warn(a.message)}}}async function sy(s,n){try{const l=(await w_()).transaction($l,"readwrite");await l.objectStore($l).put(n,C_(s)),await l.done}catch(a){if(a instanceof Pa)Ji.warn(a.message);else{const l=Oa.create("idb-set",{originalErrorMessage:a?.message});Ji.warn(l.message)}}}function C_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=1024,b1=30;class R1{constructor(n){this.container=n,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new C1(a),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=ry();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>b1){const u=I1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ji.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ry(),{heartbeatsToSend:a,unsentEntries:l}=w1(this._heartbeatsCache.heartbeats),u=ku(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ji.warn(n),""}}}function ry(){return new Date().toISOString().substring(0,10)}function w1(s,n=S1){const a=[];let l=s.slice();for(const u of s){const h=a.find(m=>m.agent===u.agent);if(h){if(h.dates.push(u.date),ly(a)>n){h.dates.pop();break}}else if(a.push({agent:u.agent,dates:[u.date]}),ly(a)>n){a.pop();break}l=l.slice(1)}return{heartbeatsToSend:a,unsentEntries:l}}class C1{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E_()?T_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await A1(this.app);return a?.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const l=await this.read();return sy(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const l=await this.read();return sy(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...n.heartbeats]})}else return}}function ly(s){return ku(JSON.stringify({version:2,heartbeats:s})).length}function I1(s){if(s.length===0)return-1;let n=0,a=s[0].date;for(let l=1;l<s.length;l++)s[l].date<a&&(a=s[l].date,n=l);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(s){Va(new Zi("platform-logger",n=>new PT(n),"PRIVATE")),Va(new Zi("heartbeat",n=>new R1(n),"PRIVATE")),pi(Oh,iy,s),pi(Oh,iy,"esm2020"),pi("fire-js","")}N1("");var D1="firebase",x1="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi(D1,x1,"app");var oy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var td;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function n(M,S){function w(){}w.prototype=S.prototype,M.D=S.prototype,M.prototype=new w,M.prototype.constructor=M,M.C=function(D,N,V){for(var b=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)b[Qt-2]=arguments[Qt];return S.prototype[N].apply(D,b)}}function a(){this.blockSize=-1}function l(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}n(l,a),l.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(M,S,w){w||(w=0);var D=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)D[N]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(N=0;16>N;++N)D[N]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=M.g[0],w=M.g[1],N=M.g[2];var V=M.g[3],b=S+(V^w&(N^V))+D[0]+3614090360&4294967295;S=w+(b<<7&4294967295|b>>>25),b=V+(N^S&(w^N))+D[1]+3905402710&4294967295,V=S+(b<<12&4294967295|b>>>20),b=N+(w^V&(S^w))+D[2]+606105819&4294967295,N=V+(b<<17&4294967295|b>>>15),b=w+(S^N&(V^S))+D[3]+3250441966&4294967295,w=N+(b<<22&4294967295|b>>>10),b=S+(V^w&(N^V))+D[4]+4118548399&4294967295,S=w+(b<<7&4294967295|b>>>25),b=V+(N^S&(w^N))+D[5]+1200080426&4294967295,V=S+(b<<12&4294967295|b>>>20),b=N+(w^V&(S^w))+D[6]+2821735955&4294967295,N=V+(b<<17&4294967295|b>>>15),b=w+(S^N&(V^S))+D[7]+4249261313&4294967295,w=N+(b<<22&4294967295|b>>>10),b=S+(V^w&(N^V))+D[8]+1770035416&4294967295,S=w+(b<<7&4294967295|b>>>25),b=V+(N^S&(w^N))+D[9]+2336552879&4294967295,V=S+(b<<12&4294967295|b>>>20),b=N+(w^V&(S^w))+D[10]+4294925233&4294967295,N=V+(b<<17&4294967295|b>>>15),b=w+(S^N&(V^S))+D[11]+2304563134&4294967295,w=N+(b<<22&4294967295|b>>>10),b=S+(V^w&(N^V))+D[12]+1804603682&4294967295,S=w+(b<<7&4294967295|b>>>25),b=V+(N^S&(w^N))+D[13]+4254626195&4294967295,V=S+(b<<12&4294967295|b>>>20),b=N+(w^V&(S^w))+D[14]+2792965006&4294967295,N=V+(b<<17&4294967295|b>>>15),b=w+(S^N&(V^S))+D[15]+1236535329&4294967295,w=N+(b<<22&4294967295|b>>>10),b=S+(N^V&(w^N))+D[1]+4129170786&4294967295,S=w+(b<<5&4294967295|b>>>27),b=V+(w^N&(S^w))+D[6]+3225465664&4294967295,V=S+(b<<9&4294967295|b>>>23),b=N+(S^w&(V^S))+D[11]+643717713&4294967295,N=V+(b<<14&4294967295|b>>>18),b=w+(V^S&(N^V))+D[0]+3921069994&4294967295,w=N+(b<<20&4294967295|b>>>12),b=S+(N^V&(w^N))+D[5]+3593408605&4294967295,S=w+(b<<5&4294967295|b>>>27),b=V+(w^N&(S^w))+D[10]+38016083&4294967295,V=S+(b<<9&4294967295|b>>>23),b=N+(S^w&(V^S))+D[15]+3634488961&4294967295,N=V+(b<<14&4294967295|b>>>18),b=w+(V^S&(N^V))+D[4]+3889429448&4294967295,w=N+(b<<20&4294967295|b>>>12),b=S+(N^V&(w^N))+D[9]+568446438&4294967295,S=w+(b<<5&4294967295|b>>>27),b=V+(w^N&(S^w))+D[14]+3275163606&4294967295,V=S+(b<<9&4294967295|b>>>23),b=N+(S^w&(V^S))+D[3]+4107603335&4294967295,N=V+(b<<14&4294967295|b>>>18),b=w+(V^S&(N^V))+D[8]+1163531501&4294967295,w=N+(b<<20&4294967295|b>>>12),b=S+(N^V&(w^N))+D[13]+2850285829&4294967295,S=w+(b<<5&4294967295|b>>>27),b=V+(w^N&(S^w))+D[2]+4243563512&4294967295,V=S+(b<<9&4294967295|b>>>23),b=N+(S^w&(V^S))+D[7]+1735328473&4294967295,N=V+(b<<14&4294967295|b>>>18),b=w+(V^S&(N^V))+D[12]+2368359562&4294967295,w=N+(b<<20&4294967295|b>>>12),b=S+(w^N^V)+D[5]+4294588738&4294967295,S=w+(b<<4&4294967295|b>>>28),b=V+(S^w^N)+D[8]+2272392833&4294967295,V=S+(b<<11&4294967295|b>>>21),b=N+(V^S^w)+D[11]+1839030562&4294967295,N=V+(b<<16&4294967295|b>>>16),b=w+(N^V^S)+D[14]+4259657740&4294967295,w=N+(b<<23&4294967295|b>>>9),b=S+(w^N^V)+D[1]+2763975236&4294967295,S=w+(b<<4&4294967295|b>>>28),b=V+(S^w^N)+D[4]+1272893353&4294967295,V=S+(b<<11&4294967295|b>>>21),b=N+(V^S^w)+D[7]+4139469664&4294967295,N=V+(b<<16&4294967295|b>>>16),b=w+(N^V^S)+D[10]+3200236656&4294967295,w=N+(b<<23&4294967295|b>>>9),b=S+(w^N^V)+D[13]+681279174&4294967295,S=w+(b<<4&4294967295|b>>>28),b=V+(S^w^N)+D[0]+3936430074&4294967295,V=S+(b<<11&4294967295|b>>>21),b=N+(V^S^w)+D[3]+3572445317&4294967295,N=V+(b<<16&4294967295|b>>>16),b=w+(N^V^S)+D[6]+76029189&4294967295,w=N+(b<<23&4294967295|b>>>9),b=S+(w^N^V)+D[9]+3654602809&4294967295,S=w+(b<<4&4294967295|b>>>28),b=V+(S^w^N)+D[12]+3873151461&4294967295,V=S+(b<<11&4294967295|b>>>21),b=N+(V^S^w)+D[15]+530742520&4294967295,N=V+(b<<16&4294967295|b>>>16),b=w+(N^V^S)+D[2]+3299628645&4294967295,w=N+(b<<23&4294967295|b>>>9),b=S+(N^(w|~V))+D[0]+4096336452&4294967295,S=w+(b<<6&4294967295|b>>>26),b=V+(w^(S|~N))+D[7]+1126891415&4294967295,V=S+(b<<10&4294967295|b>>>22),b=N+(S^(V|~w))+D[14]+2878612391&4294967295,N=V+(b<<15&4294967295|b>>>17),b=w+(V^(N|~S))+D[5]+4237533241&4294967295,w=N+(b<<21&4294967295|b>>>11),b=S+(N^(w|~V))+D[12]+1700485571&4294967295,S=w+(b<<6&4294967295|b>>>26),b=V+(w^(S|~N))+D[3]+2399980690&4294967295,V=S+(b<<10&4294967295|b>>>22),b=N+(S^(V|~w))+D[10]+4293915773&4294967295,N=V+(b<<15&4294967295|b>>>17),b=w+(V^(N|~S))+D[1]+2240044497&4294967295,w=N+(b<<21&4294967295|b>>>11),b=S+(N^(w|~V))+D[8]+1873313359&4294967295,S=w+(b<<6&4294967295|b>>>26),b=V+(w^(S|~N))+D[15]+4264355552&4294967295,V=S+(b<<10&4294967295|b>>>22),b=N+(S^(V|~w))+D[6]+2734768916&4294967295,N=V+(b<<15&4294967295|b>>>17),b=w+(V^(N|~S))+D[13]+1309151649&4294967295,w=N+(b<<21&4294967295|b>>>11),b=S+(N^(w|~V))+D[4]+4149444226&4294967295,S=w+(b<<6&4294967295|b>>>26),b=V+(w^(S|~N))+D[11]+3174756917&4294967295,V=S+(b<<10&4294967295|b>>>22),b=N+(S^(V|~w))+D[2]+718787259&4294967295,N=V+(b<<15&4294967295|b>>>17),b=w+(V^(N|~S))+D[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(N+(b<<21&4294967295|b>>>11))&4294967295,M.g[2]=M.g[2]+N&4294967295,M.g[3]=M.g[3]+V&4294967295}l.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var w=S-this.blockSize,D=this.B,N=this.h,V=0;V<S;){if(N==0)for(;V<=w;)u(this,M,V),V+=this.blockSize;if(typeof M=="string"){for(;V<S;)if(D[N++]=M.charCodeAt(V++),N==this.blockSize){u(this,D),N=0;break}}else for(;V<S;)if(D[N++]=M[V++],N==this.blockSize){u(this,D),N=0;break}}this.h=N,this.o+=S},l.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var w=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=w&255,w/=256;for(this.u(M),M=Array(16),S=w=0;4>S;++S)for(var D=0;32>D;D+=8)M[w++]=this.g[S]>>>D&255;return M};function h(M,S){var w=p;return Object.prototype.hasOwnProperty.call(w,M)?w[M]:w[M]=S(M)}function m(M,S){this.h=S;for(var w=[],D=!0,N=M.length-1;0<=N;N--){var V=M[N]|0;D&&V==S||(w[N]=V,D=!1)}this.g=w}var p={};function v(M){return-128<=M&&128>M?h(M,function(S){return new m([S|0],0>S?-1:0)}):new m([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return O;if(0>M)return nt(_(-M));for(var S=[],w=1,D=0;M>=w;D++)S[D]=M/w|0,w*=4294967296;return new m(S,0)}function A(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return nt(A(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),D=O,N=0;N<M.length;N+=8){var V=Math.min(8,M.length-N),b=parseInt(M.substring(N,N+V),S);8>V?(V=_(Math.pow(S,V)),D=D.j(V).add(_(b))):(D=D.j(w),D=D.add(_(b)))}return D}var O=v(0),U=v(1),$=v(16777216);s=m.prototype,s.m=function(){if(it(this))return-nt(this).m();for(var M=0,S=1,w=0;w<this.g.length;w++){var D=this.i(w);M+=(0<=D?D:4294967296+D)*S,S*=4294967296}return M},s.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(J(this))return"0";if(it(this))return"-"+nt(this).toString(M);for(var S=_(Math.pow(M,6)),w=this,D="";;){var N=Dt(w,S).g;w=bt(w,N.j(S));var V=((0<w.g.length?w.g[0]:w.h)>>>0).toString(M);if(w=N,J(w))return V+D;for(;6>V.length;)V="0"+V;D=V+D}},s.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function J(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function it(M){return M.h==-1}s.l=function(M){return M=bt(this,M),it(M)?-1:J(M)?0:1};function nt(M){for(var S=M.g.length,w=[],D=0;D<S;D++)w[D]=~M.g[D];return new m(w,~M.h).add(U)}s.abs=function(){return it(this)?nt(this):this},s.add=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],D=0,N=0;N<=S;N++){var V=D+(this.i(N)&65535)+(M.i(N)&65535),b=(V>>>16)+(this.i(N)>>>16)+(M.i(N)>>>16);D=b>>>16,V&=65535,b&=65535,w[N]=b<<16|V}return new m(w,w[w.length-1]&-2147483648?-1:0)};function bt(M,S){return M.add(nt(S))}s.j=function(M){if(J(this)||J(M))return O;if(it(this))return it(M)?nt(this).j(nt(M)):nt(nt(this).j(M));if(it(M))return nt(this.j(nt(M)));if(0>this.l($)&&0>M.l($))return _(this.m()*M.m());for(var S=this.g.length+M.g.length,w=[],D=0;D<2*S;D++)w[D]=0;for(D=0;D<this.g.length;D++)for(var N=0;N<M.g.length;N++){var V=this.i(D)>>>16,b=this.i(D)&65535,Qt=M.i(N)>>>16,Pt=M.i(N)&65535;w[2*D+2*N]+=b*Pt,Et(w,2*D+2*N),w[2*D+2*N+1]+=V*Pt,Et(w,2*D+2*N+1),w[2*D+2*N+1]+=b*Qt,Et(w,2*D+2*N+1),w[2*D+2*N+2]+=V*Qt,Et(w,2*D+2*N+2)}for(D=0;D<S;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=S;D<2*S;D++)w[D]=0;return new m(w,0)};function Et(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function mt(M,S){this.g=M,this.h=S}function Dt(M,S){if(J(S))throw Error("division by zero");if(J(M))return new mt(O,O);if(it(M))return S=Dt(nt(M),S),new mt(nt(S.g),nt(S.h));if(it(S))return S=Dt(M,nt(S)),new mt(nt(S.g),S.h);if(30<M.g.length){if(it(M)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var w=U,D=S;0>=D.l(M);)w=vt(w),D=vt(D);var N=xt(w,1),V=xt(D,1);for(D=xt(D,2),w=xt(w,2);!J(D);){var b=V.add(D);0>=b.l(M)&&(N=N.add(w),V=b),D=xt(D,1),w=xt(w,1)}return S=bt(M,N.j(S)),new mt(N,S)}for(N=O;0<=M.l(S);){for(w=Math.max(1,Math.floor(M.m()/S.m())),D=Math.ceil(Math.log(w)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),V=_(w),b=V.j(S);it(b)||0<b.l(M);)w-=D,V=_(w),b=V.j(S);J(V)&&(V=U),N=N.add(V),M=bt(M,b)}return new mt(N,M)}s.A=function(M){return Dt(this,M).h},s.and=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],D=0;D<S;D++)w[D]=this.i(D)&M.i(D);return new m(w,this.h&M.h)},s.or=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],D=0;D<S;D++)w[D]=this.i(D)|M.i(D);return new m(w,this.h|M.h)},s.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],D=0;D<S;D++)w[D]=this.i(D)^M.i(D);return new m(w,this.h^M.h)};function vt(M){for(var S=M.g.length+1,w=[],D=0;D<S;D++)w[D]=M.i(D)<<1|M.i(D-1)>>>31;return new m(w,M.h)}function xt(M,S){var w=S>>5;S%=32;for(var D=M.g.length-w,N=[],V=0;V<D;V++)N[V]=0<S?M.i(V+w)>>>S|M.i(V+w+1)<<32-S:M.i(V+w);return new m(N,M.h)}l.prototype.digest=l.prototype.v,l.prototype.reset=l.prototype.s,l.prototype.update=l.prototype.u,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=_,m.fromString=A,td=m}).apply(typeof oy<"u"?oy:typeof self<"u"?self:typeof window<"u"?window:{});var Du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var I_,kl,N_,Lu,Uh,D_,x_,O_;(function(){var s,n=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,d,g){return o==Array.prototype||o==Object.prototype||(o[d]=g.value),o};function a(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Du=="object"&&Du];for(var d=0;d<o.length;++d){var g=o[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var l=a(this);function u(o,d){if(d)t:{var g=l;o=o.split(".");for(var T=0;T<o.length-1;T++){var j=o[T];if(!(j in g))break t;g=g[j]}o=o[o.length-1],T=g[o],d=d(T),d!=T&&d!=null&&n(g,o,{configurable:!0,writable:!0,value:d})}}function h(o,d){o instanceof String&&(o+="");var g=0,T=!1,j={next:function(){if(!T&&g<o.length){var q=g++;return{value:d(q,o[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}u("Array.prototype.values",function(o){return o||function(){return h(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var m=m||{},p=this||self;function v(o){var d=typeof o;return d=d!="object"?d:o?Array.isArray(o)?"array":d:"null",d=="array"||d=="object"&&typeof o.length=="number"}function _(o){var d=typeof o;return d=="object"&&o!=null||d=="function"}function A(o,d,g){return o.call.apply(o.bind,arguments)}function O(o,d,g){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,T),o.apply(d,j)}}return function(){return o.apply(d,arguments)}}function U(o,d,g){return U=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:O,U.apply(null,arguments)}function $(o,d){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function J(o,d){function g(){}g.prototype=d.prototype,o.aa=d.prototype,o.prototype=new g,o.prototype.constructor=o,o.Qb=function(T,j,q){for(var W=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)W[Ot-2]=arguments[Ot];return d.prototype[j].apply(T,W)}}function it(o){const d=o.length;if(0<d){const g=Array(d);for(let T=0;T<d;T++)g[T]=o[T];return g}return[]}function nt(o,d){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(v(T)){const j=o.length||0,q=T.length||0;o.length=j+q;for(let W=0;W<q;W++)o[j+W]=T[W]}else o.push(T)}}class bt{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Et(o){return/^[\s\xa0]*$/.test(o)}function mt(){var o=p.navigator;return o&&(o=o.userAgent)?o:""}function Dt(o){return Dt[" "](o),o}Dt[" "]=function(){};var vt=mt().indexOf("Gecko")!=-1&&!(mt().toLowerCase().indexOf("webkit")!=-1&&mt().indexOf("Edge")==-1)&&!(mt().indexOf("Trident")!=-1||mt().indexOf("MSIE")!=-1)&&mt().indexOf("Edge")==-1;function xt(o,d,g){for(const T in o)d.call(g,o[T],T,o)}function M(o,d){for(const g in o)d.call(void 0,o[g],g,o)}function S(o){const d={};for(const g in o)d[g]=o[g];return d}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(o,d){let g,T;for(let j=1;j<arguments.length;j++){T=arguments[j];for(g in T)o[g]=T[g];for(let q=0;q<w.length;q++)g=w[q],Object.prototype.hasOwnProperty.call(T,g)&&(o[g]=T[g])}}function N(o){var d=1;o=o.split(":");const g=[];for(;0<d&&o.length;)g.push(o.shift()),d--;return o.length&&g.push(o.join(":")),g}function V(o){p.setTimeout(()=>{throw o},0)}function b(){var o=gt;let d=null;return o.g&&(d=o.g,o.g=o.g.next,o.g||(o.h=null),d.next=null),d}class Qt{constructor(){this.h=this.g=null}add(d,g){const T=Pt.get();T.set(d,g),this.h?this.h.next=T:this.g=T,this.h=T}}var Pt=new bt(()=>new H,o=>o.reset());class H{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,rt=!1,gt=new Qt,C=()=>{const o=p.Promise.resolve(void 0);tt=()=>{o.then(Y)}};var Y=()=>{for(var o;o=b();){try{o.h.call(o.g)}catch(g){V(g)}var d=Pt;d.j(o),100>d.h&&(d.h++,o.next=d.g,d.g=o)}rt=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(o,d){this.type=o,this.g=this.target=d,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var ot=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var o=!1,d=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};p.addEventListener("test",g,d),p.removeEventListener("test",g,d)}catch{}return o})();function Tt(o,d){if(Z.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var g=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=d,d=o.relatedTarget){if(vt){t:{try{Dt(d.nodeName);var j=!0;break t}catch{}j=!1}j||(d=null)}}else g=="mouseover"?d=o.fromElement:g=="mouseout"&&(d=o.toElement);this.relatedTarget=d,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:_t[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Tt.aa.h.call(this)}}J(Tt,Z);var _t={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),kt=0;function Tn(o,d,g,T,j){this.listener=o,this.proxy=null,this.src=d,this.type=g,this.capture=!!T,this.ha=j,this.key=++kt,this.da=this.fa=!1}function An(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Sn(o){this.src=o,this.g={},this.h=0}Sn.prototype.add=function(o,d,g,T,j){var q=o.toString();o=this.g[q],o||(o=this.g[q]=[],this.h++);var W=Xn(o,d,T,j);return-1<W?(d=o[W],g||(d.fa=!1)):(d=new Tn(d,this.src,q,!!T,j),d.fa=g,o.push(d)),d};function jn(o,d){var g=d.type;if(g in o.g){var T=o.g[g],j=Array.prototype.indexOf.call(T,d,void 0),q;(q=0<=j)&&Array.prototype.splice.call(T,j,1),q&&(An(d),o.g[g].length==0&&(delete o.g[g],o.h--))}}function Xn(o,d,g,T){for(var j=0;j<o.length;++j){var q=o[j];if(!q.da&&q.listener==d&&q.capture==!!g&&q.ha==T)return j}return-1}var zn="closure_lm_"+(1e6*Math.random()|0),ka={};function Wi(o,d,g,T,j){if(Array.isArray(d)){for(var q=0;q<d.length;q++)Wi(o,d[q],g,T,j);return null}return g=ea(g),o&&o[ce]?o.K(d,g,_(T)?!!T.capture:!1,j):an(o,d,g,!1,T,j)}function an(o,d,g,T,j,q){if(!d)throw Error("Invalid event type");var W=_(j)?!!j.capture:!!j,Ot=ta(o);if(Ot||(o[zn]=Ot=new Sn(o)),g=Ot.add(d,g,T,W,q),g.proxy)return g;if(T=vi(),g.proxy=T,T.src=o,T.listener=g,o.addEventListener)ot||(j=W),j===void 0&&(j=!1),o.addEventListener(d.toString(),T,j);else if(o.attachEvent)o.attachEvent($n(d.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function vi(){function o(g){return d.call(o.src,o.listener,g)}const d=Zn;return o}function qa(o,d,g,T,j){if(Array.isArray(d))for(var q=0;q<d.length;q++)qa(o,d[q],g,T,j);else T=_(T)?!!T.capture:!!T,g=ea(g),o&&o[ce]?(o=o.i,d=String(d).toString(),d in o.g&&(q=o.g[d],g=Xn(q,g,T,j),-1<g&&(An(q[g]),Array.prototype.splice.call(q,g,1),q.length==0&&(delete o.g[d],o.h--)))):o&&(o=ta(o))&&(d=o.g[d.toString()],o=-1,d&&(o=Xn(d,g,T,j)),(g=-1<o?d[o]:null)&&Kn(g))}function Kn(o){if(typeof o!="number"&&o&&!o.da){var d=o.src;if(d&&d[ce])jn(d.i,o);else{var g=o.type,T=o.proxy;d.removeEventListener?d.removeEventListener(g,T,o.capture):d.detachEvent?d.detachEvent($n(g),T):d.addListener&&d.removeListener&&d.removeListener(T),(g=ta(d))?(jn(g,o),g.h==0&&(g.src=null,d[zn]=null)):An(o)}}}function $n(o){return o in ka?ka[o]:ka[o]="on"+o}function Zn(o,d){if(o.da)o=!0;else{d=new Tt(d,this);var g=o.listener,T=o.ha||o.src;o.fa&&Kn(o),o=g.call(T,d)}return o}function ta(o){return o=o[zn],o instanceof Sn?o:null}var Ha="__closure_events_fn_"+(1e9*Math.random()>>>0);function ea(o){return typeof o=="function"?o:(o[Ha]||(o[Ha]=function(d){return o.handleEvent(d)}),o[Ha])}function ie(){et.call(this),this.i=new Sn(this),this.M=this,this.F=null}J(ie,et),ie.prototype[ce]=!0,ie.prototype.removeEventListener=function(o,d,g,T){qa(this,o,d,g,T)};function jt(o,d){var g,T=o.F;if(T)for(g=[];T;T=T.F)g.push(T);if(o=o.M,T=d.type||d,typeof d=="string")d=new Z(d,o);else if(d instanceof Z)d.target=d.target||o;else{var j=d;d=new Z(T,o),D(d,j)}if(j=!0,g)for(var q=g.length-1;0<=q;q--){var W=d.g=g[q];j=Qe(W,T,!0,d)&&j}if(W=d.g=o,j=Qe(W,T,!0,d)&&j,j=Qe(W,T,!1,d)&&j,g)for(q=0;q<g.length;q++)W=d.g=g[q],j=Qe(W,T,!1,d)&&j}ie.prototype.N=function(){if(ie.aa.N.call(this),this.i){var o=this.i,d;for(d in o.g){for(var g=o.g[d],T=0;T<g.length;T++)An(g[T]);delete o.g[d],o.h--}}this.F=null},ie.prototype.K=function(o,d,g,T){return this.i.add(String(o),d,!1,g,T)},ie.prototype.L=function(o,d,g,T){return this.i.add(String(o),d,!0,g,T)};function Qe(o,d,g,T){if(d=o.i.g[String(d)],!d)return!0;d=d.concat();for(var j=!0,q=0;q<d.length;++q){var W=d[q];if(W&&!W.da&&W.capture==g){var Ot=W.listener,Re=W.ha||W.src;W.fa&&jn(o.i,W),j=Ot.call(Re,T)!==!1&&j}}return j&&!T.defaultPrevented}function ye(o,d,g){if(typeof o=="function")g&&(o=U(o,g));else if(o&&typeof o.handleEvent=="function")o=U(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:p.setTimeout(o,d||0)}function Ga(o){o.g=ye(()=>{o.g=null,o.i&&(o.i=!1,Ga(o))},o.l);const d=o.h;o.h=null,o.m.apply(null,d)}class jr extends et{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Ga(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ei(o){et.call(this),this.h=o,this.g={}}J(Ei,et);var Ti=[];function Ai(o){xt(o.g,function(d,g){this.g.hasOwnProperty(g)&&Kn(d)},o),o.g={}}Ei.prototype.N=function(){Ei.aa.N.call(this),Ai(this)},Ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sn=p.JSON.stringify,na=p.JSON.parse,Si=class{stringify(o){return p.JSON.stringify(o,void 0)}parse(o){return p.JSON.parse(o,void 0)}};function Qa(){}Qa.prototype.h=null;function Fa(o){return o.h||(o.h=o.i())}function Ya(){}var Jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ft(){Z.call(this,"d")}J(ft,Z);function qt(){Z.call(this,"c")}J(qt,Z);var Xt={},bn=null;function bi(){return bn=bn||new ie}Xt.La="serverreachability";function ia(o){Z.call(this,Xt.La,o)}J(ia,Z);function Wn(o){const d=bi();jt(d,new ia(d))}Xt.STAT_EVENT="statevent";function aa(o,d){Z.call(this,Xt.STAT_EVENT,o),this.stat=d}J(aa,Z);function ae(o){const d=bi();jt(d,new aa(d,o))}Xt.Ma="timingevent";function be(o,d){Z.call(this,Xt.Ma,o),this.size=d}J(be,Z);function _e(o,d){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){o()},d)}function Rn(){this.g=!0}Rn.prototype.xa=function(){this.g=!1};function zr(o,d,g,T,j,q){o.info(function(){if(o.g)if(q)for(var W="",Ot=q.split("&"),Re=0;Re<Ot.length;Re++){var Mt=Ot[Re].split("=");if(1<Mt.length){var De=Mt[0];Mt=Mt[1];var we=De.split("_");W=2<=we.length&&we[1]=="type"?W+(De+"="+Mt+"&"):W+(De+"=redacted&")}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+j+"]: "+d+`
`+g+`
`+W})}function gc(o,d,g,T,j,q,W){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+j+"]: "+d+`
`+g+`
`+q+" "+W})}function sa(o,d,g,T){o.info(function(){return"XMLHTTP TEXT ("+d+"): "+Xa(o,g)+(T?" "+T:"")})}function uo(o,d){o.info(function(){return"TIMEOUT: "+d})}Rn.prototype.info=function(){};function Xa(o,d){if(!o.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(o=0;o<g.length;o++)if(Array.isArray(g[o])){var T=g[o];if(!(2>T.length)){var j=T[1];if(Array.isArray(j)&&!(1>j.length)){var q=j[0];if(q!="noop"&&q!="stop"&&q!="close")for(var W=1;W<j.length;W++)j[W]=""}}}}return sn(g)}catch{return d}}var ra={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ti;function ei(){}J(ei,Qa),ei.prototype.g=function(){return new XMLHttpRequest},ei.prototype.i=function(){return{}},ti=new ei;function We(o,d,g,T){this.j=o,this.i=d,this.l=g,this.R=T||1,this.U=new Ei(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var Pr={},js={};function Pn(o,d,g){o.L=1,o.v=Wa(hn(d)),o.m=g,o.P=!0,wi(o,null)}function wi(o,d){o.F=Date.now(),Ka(o),o.A=hn(o.v);var g=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),Qr(g.i,"t",T),o.C=0,g=o.j.J,o.h=new me,o.g=wo(o.j,g?d:null,!o.m),0<o.O&&(o.M=new jr(U(o.Y,o,o.g),o.O)),d=o.U,g=o.g,T=o.ca;var j="readystatechange";Array.isArray(j)||(j&&(Ti[0]=j.toString()),j=Ti);for(var q=0;q<j.length;q++){var W=Wi(g,j[q],T||d.handleEvent,!1,d.h||d);if(!W)break;d.g[W.key]=W}d=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,d)):(o.u="GET",o.g.ea(o.A,o.u,null,d)),Wn(),zr(o.i,o.u,o.A,o.l,o.R,o.m)}We.prototype.ca=function(o){o=o.target;const d=this.M;d&&Nn(o)==3?d.j():this.Y(o)},We.prototype.Y=function(o){try{if(o==this.g)t:{const we=Nn(this.g);var d=this.g.Ba();const Vi=this.g.Z();if(!(3>we)&&(we!=3||this.g&&(this.h.h||this.g.oa()||_o(this.g)))){this.J||we!=4||d==7||(d==8||0>=Vi?Wn(3):Wn(2)),la(this);var g=this.g.Z();this.X=g;e:if(co(this)){var T=_o(this.g);o="";var j=T.length,q=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Le(this),ni(this);var W="";break e}this.h.i=new p.TextDecoder}for(d=0;d<j;d++)this.h.h=!0,o+=this.h.i.decode(T[d],{stream:!(q&&d==j-1)});T.length=0,this.h.g+=o,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=g==200,gc(this.i,this.u,this.A,this.l,this.R,we,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,Re=this.g;if((Ot=Re.g?Re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Et(Ot)){var Mt=Ot;break e}}Mt=null}if(g=Mt)sa(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$a(this,g);else{this.o=!1,this.s=3,ae(12),Le(this),ni(this);break t}}if(this.P){g=!0;let je;for(;!this.J&&this.C<W.length;)if(je=fo(this,W),je==js){we==4&&(this.s=4,ae(14),g=!1),sa(this.i,this.l,null,"[Incomplete Response]");break}else if(je==Pr){this.s=4,ae(15),sa(this.i,this.l,W,"[Invalid Chunk]"),g=!1;break}else sa(this.i,this.l,je,null),$a(this,je);if(co(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||W.length!=0||this.h.h||(this.s=1,ae(16),g=!1),this.o=this.o&&g,!g)sa(this.i,this.l,W,"[Invalid Chunked Response]"),Le(this),ni(this);else if(0<W.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),ls(De),De.M=!0,ae(11))}}else sa(this.i,this.l,W,null),$a(this,W);we==4&&Le(this),this.o&&!this.J&&(we==4?So(this.j,this):(this.o=!1,Ka(this)))}else Ec(this.g),g==400&&0<W.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),Le(this),ni(this)}}}catch{}finally{}};function co(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function fo(o,d){var g=o.C,T=d.indexOf(`
`,g);return T==-1?js:(g=Number(d.substring(g,T)),isNaN(g)?Pr:(T+=1,T+g>d.length?js:(d=d.slice(T,T+g),o.C=T+g,d)))}We.prototype.cancel=function(){this.J=!0,Le(this)};function Ka(o){o.S=Date.now()+o.I,ho(o,o.I)}function ho(o,d){if(o.B!=null)throw Error("WatchDog timer not null");o.B=_e(U(o.ba,o),d)}function la(o){o.B&&(p.clearTimeout(o.B),o.B=null)}We.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(uo(this.i,this.A),this.L!=2&&(Wn(),ae(17)),Le(this),this.s=2,ni(this)):ho(this,this.S-o)};function ni(o){o.j.G==0||o.J||So(o.j,o)}function Le(o){la(o);var d=o.M;d&&typeof d.ma=="function"&&d.ma(),o.M=null,Ai(o.U),o.g&&(d=o.g,o.g=null,d.abort(),d.ma())}function $a(o,d){try{var g=o.j;if(g.G!=0&&(g.g==o||Br(g.h,o))){if(!o.K&&Br(g.h,o)&&g.G==3){try{var T=g.Da.g.parse(d)}catch{T=null}if(Array.isArray(T)&&T.length==3){var j=T;if(j[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<o.F)Ks(g),Ys(g);else break t;$r(g),ae(18)}}else g.za=j[1],0<g.za-g.T&&37500>j[2]&&g.F&&g.v==0&&!g.C&&(g.C=_e(U(g.Za,g),6e3));if(1>=Ps(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Mi(g,11)}else if((o.K||g.g==o)&&Ks(g),!Et(d))for(j=g.Da.g.parse(d),d=0;d<j.length;d++){let Mt=j[d];if(g.T=Mt[0],Mt=Mt[1],g.G==2)if(Mt[0]=="c"){g.K=Mt[1],g.ia=Mt[2];const De=Mt[3];De!=null&&(g.la=De,g.j.info("VER="+g.la));const we=Mt[4];we!=null&&(g.Aa=we,g.j.info("SVER="+g.Aa));const Vi=Mt[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(T=1.5*Vi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const je=o.g;if(je){const ui=je.g?je.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ui){var q=T.h;q.g||ui.indexOf("spdy")==-1&&ui.indexOf("quic")==-1&&ui.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Bs(q,q.h),q.h=null))}if(T.D){const Jr=je.g?je.g.getResponseHeader("X-HTTP-Session-Id"):null;Jr&&(T.ya=Jr,Kt(T.I,T.D,Jr))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-o.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var W=o;if(T.qa=Ro(T,T.J?T.ia:null,T.W),W.K){tn(T.h,W);var Ot=W,Re=T.L;Re&&(Ot.I=Re),Ot.B&&(la(Ot),Ka(Ot)),T.g=W}else To(T);0<g.i.length&&Xs(g)}else Mt[0]!="stop"&&Mt[0]!="close"||Mi(g,7);else g.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?Mi(g,7):Xr(g):Mt[0]!="noop"&&g.l&&g.l.ta(Mt),g.v=0)}}Wn(4)}catch{}}var mo=class{constructor(o,d){this.g=o,this.map=d}};function Ci(o){this.l=o||10,p.PerformanceNavigationTiming?(o=p.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zs(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Ps(o){return o.h?1:o.g?o.g.size:0}function Br(o,d){return o.h?o.h==d:o.g?o.g.has(d):!1}function Bs(o,d){o.g?o.g.add(d):o.h=d}function tn(o,d){o.h&&o.h==d?o.h=null:o.g&&o.g.has(d)&&o.g.delete(d)}Ci.prototype.cancel=function(){if(this.i=kr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function kr(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let d=o.i;for(const g of o.g.values())d=d.concat(g.D);return d}return it(o.i)}function pc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(v(o)){for(var d=[],g=o.length,T=0;T<g;T++)d.push(o[T]);return d}d=[],g=0;for(T in o)d[g++]=o[T];return d}function ks(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(v(o)||typeof o=="string"){var d=[];o=o.length;for(var g=0;g<o;g++)d.push(g);return d}d=[],g=0;for(const T in o)d[g++]=T;return d}}}function qr(o,d){if(o.forEach&&typeof o.forEach=="function")o.forEach(d,void 0);else if(v(o)||typeof o=="string")Array.prototype.forEach.call(o,d,void 0);else for(var g=ks(o),T=pc(o),j=T.length,q=0;q<j;q++)d.call(void 0,T[q],g&&g[q],o)}var Za=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yc(o,d){if(o){o=o.split("&");for(var g=0;g<o.length;g++){var T=o[g].indexOf("="),j=null;if(0<=T){var q=o[g].substring(0,T);j=o[g].substring(T+1)}else q=o[g];d(q,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ve(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof ve){this.h=o.h,Ja(this,o.j),this.o=o.o,this.g=o.g,oa(this,o.s),this.l=o.l;var d=o.i,g=new Ni;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),Ii(this,g),this.m=o.m}else o&&(d=String(o).match(Za))?(this.h=!1,Ja(this,d[1]||"",!0),this.o=wn(d[2]||""),this.g=wn(d[3]||"",!0),oa(this,d[4]),this.l=wn(d[5]||"",!0),Ii(this,d[6]||"",!0),this.m=wn(d[7]||"")):(this.h=!1,this.i=new Ni(null,this.h))}ve.prototype.toString=function(){var o=[],d=this.j;d&&o.push(ts(d,Hr,!0),":");var g=this.g;return(g||d=="file")&&(o.push("//"),(d=this.o)&&o.push(ts(d,Hr,!0),"@"),o.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&o.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(ts(g,g.charAt(0)=="/"?_c:Gr,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",ts(g,qs)),o.join("")};function hn(o){return new ve(o)}function Ja(o,d,g){o.j=g?wn(d,!0):d,o.j&&(o.j=o.j.replace(/:$/,""))}function oa(o,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);o.s=d}else o.s=null}function Ii(o,d,g){d instanceof Ni?(o.i=d,po(o.i,o.h)):(g||(d=ts(d,vc)),o.i=new Ni(d,o.h))}function Kt(o,d,g){o.i.set(d,g)}function Wa(o){return Kt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function wn(o,d){return o?d?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function ts(o,d,g){return typeof o=="string"?(o=encodeURI(o).replace(d,go),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function go(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Hr=/[#\/\?@]/g,Gr=/[#\?:]/g,_c=/[#\?]/g,vc=/[#\?@]/g,qs=/#/g;function Ni(o,d){this.h=this.g=null,this.i=o||null,this.j=!!d}function Cn(o){o.g||(o.g=new Map,o.h=0,o.i&&yc(o.i,function(d,g){o.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}s=Ni.prototype,s.add=function(o,d){Cn(this),this.i=null,o=ii(this,o);var g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(d),this.h+=1,this};function Di(o,d){Cn(o),d=ii(o,d),o.g.has(d)&&(o.i=null,o.h-=o.g.get(d).length,o.g.delete(d))}function xi(o,d){return Cn(o),d=ii(o,d),o.g.has(d)}s.forEach=function(o,d){Cn(this),this.g.forEach(function(g,T){g.forEach(function(j){o.call(d,j,T,this)},this)},this)},s.na=function(){Cn(this);const o=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let T=0;T<d.length;T++){const j=o[T];for(let q=0;q<j.length;q++)g.push(d[T])}return g},s.V=function(o){Cn(this);let d=[];if(typeof o=="string")xi(this,o)&&(d=d.concat(this.g.get(ii(this,o))));else{o=Array.from(this.g.values());for(let g=0;g<o.length;g++)d=d.concat(o[g])}return d},s.set=function(o,d){return Cn(this),this.i=null,o=ii(this,o),xi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[d]),this.h+=1,this},s.get=function(o,d){return o?(o=this.V(o),0<o.length?String(o[0]):d):d};function Qr(o,d,g){Di(o,d),0<g.length&&(o.i=null,o.g.set(ii(o,d),it(g)),o.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var T=d[g];const q=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var j=q;W[T]!==""&&(j+="="+encodeURIComponent(String(W[T]))),o.push(j)}}return this.i=o.join("&")};function ii(o,d){return d=String(d),o.j&&(d=d.toLowerCase()),d}function po(o,d){d&&!o.j&&(Cn(o),o.i=null,o.g.forEach(function(g,T){var j=T.toLowerCase();T!=j&&(Di(this,T),Qr(this,j,g))},o)),o.j=d}function es(o,d){const g=new Rn;if(p.Image){const T=new Image;T.onload=$(In,g,"TestLoadImage: loaded",!0,d,T),T.onerror=$(In,g,"TestLoadImage: error",!1,d,T),T.onabort=$(In,g,"TestLoadImage: abort",!1,d,T),T.ontimeout=$(In,g,"TestLoadImage: timeout",!1,d,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else d(!1)}function Bn(o,d){const g=new Rn,T=new AbortController,j=setTimeout(()=>{T.abort(),In(g,"TestPingServer: timeout",!1,d)},1e4);fetch(o,{signal:T.signal}).then(q=>{clearTimeout(j),q.ok?In(g,"TestPingServer: ok",!0,d):In(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(j),In(g,"TestPingServer: error",!1,d)})}function In(o,d,g,T,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),T(g)}catch{}}function ns(){this.g=new Si}function ai(o,d,g){const T=g||"";try{qr(o,function(j,q){let W=j;_(j)&&(W=sn(j)),d.push(T+q+"="+encodeURIComponent(W))})}catch(j){throw d.push(T+"type="+encodeURIComponent("_badmap")),j}}function ua(o){this.l=o.Ub||null,this.j=o.eb||!1}J(ua,Qa),ua.prototype.g=function(){return new Oi(this.l,this.j)},ua.prototype.i=(function(o){return function(){return o}})({});function Oi(o,d){ie.call(this),this.D=o,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(Oi,ie),s=Oi.prototype,s.open=function(o,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=d,this.readyState=1,ri(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(d.body=o),(this.D||p).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fr(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fr(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var d=o.value?o.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!o.done}))&&(this.response=this.responseText+=d)}o.done?si(this):ri(this),this.readyState==3&&Fr(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,si(this))},s.Qa=function(o){this.g&&(this.response=o,si(this))},s.ga=function(){this.g&&si(this)};function si(o){o.readyState=4,o.l=null,o.j=null,o.v=null,ri(o)}s.setRequestHeader=function(o,d){this.u.append(o,d)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=d.next();return o.join(`\r
`)};function ri(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Yr(o){let d="";return xt(o,function(g,T){d+=T,d+=":",d+=g,d+=`\r
`}),d}function Ne(o,d,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=Yr(g),typeof o=="string"?g!=null&&encodeURIComponent(String(g)):Kt(o,d,g))}function Ht(o){ie.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(Ht,ie);var Hs=/^https?$/i,is=["POST","PUT"];s=Ht.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,d,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);d=d?d.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ti.g(),this.v=this.o?Fa(this.o):Fa(ti),this.g.onreadystatechange=U(this.Ea,this);try{this.B=!0,this.g.open(d,String(o),!0),this.B=!1}catch(q){yo(this,q);return}if(o=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var j in T)g.set(j,T[j]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())g.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(q=>q.toLowerCase()=="content-type"),j=p.FormData&&o instanceof p.FormData,!(0<=Array.prototype.indexOf.call(is,d,void 0))||T||j||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of g)this.g.setRequestHeader(q,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{as(this),this.u=!0,this.g.send(o),this.u=!1}catch(q){yo(this,q)}};function yo(o,d){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=d,o.m=5,Gs(o),li(o)}function Gs(o){o.A||(o.A=!0,jt(o,"complete"),jt(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,jt(this,"complete"),jt(this,"abort"),li(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),li(this,!0)),Ht.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Qs(this):this.bb())},s.bb=function(){Qs(this)};function Qs(o){if(o.h&&typeof m<"u"&&(!o.v[1]||Nn(o)!=4||o.Z()!=2)){if(o.u&&Nn(o)==4)ye(o.Ea,0,o);else if(jt(o,"readystatechange"),Nn(o)==4){o.h=!1;try{const W=o.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break t;default:d=!1}var g;if(!(g=d)){var T;if(T=W===0){var j=String(o.D).match(Za)[1]||null;!j&&p.self&&p.self.location&&(j=p.self.location.protocol.slice(0,-1)),T=!Hs.test(j?j.toLowerCase():"")}g=T}if(g)jt(o,"complete"),jt(o,"success");else{o.m=6;try{var q=2<Nn(o)?o.g.statusText:""}catch{q=""}o.l=q+" ["+o.Z()+"]",Gs(o)}}finally{li(o)}}}}function li(o,d){if(o.g){as(o);const g=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,d||jt(o,"ready");try{g.onreadystatechange=T}catch{}}}function as(o){o.I&&(p.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function Nn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var d=this.g.responseText;return o&&d.indexOf(o)==0&&(d=d.substring(o.length)),na(d)}};function _o(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ec(o){const d={};o=(o.g&&2<=Nn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(Et(o[T]))continue;var g=N(o[T]);const j=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const q=d[j]||[];d[j]=q,q.push(g)}M(d,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ss(o,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||d}function Fs(o){this.Aa=0,this.i=[],this.j=new Rn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ss("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ss("baseRetryDelayMs",5e3,o),this.cb=ss("retryDelaySeedMs",1e4,o),this.Wa=ss("forwardChannelMaxRetries",2,o),this.wa=ss("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Ci(o&&o.concurrentRequestLimit),this.Da=new ns,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Fs.prototype,s.la=8,s.G=1,s.connect=function(o,d,g,T){ae(0),this.W=o,this.H=d||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=Ro(this,null,this.W),Xs(this)};function Xr(o){if(vo(o),o.G==3){var d=o.U++,g=hn(o.I);if(Kt(g,"SID",o.K),Kt(g,"RID",d),Kt(g,"TYPE","terminate"),rs(o,g),d=new We(o,o.j,d),d.L=2,d.v=Wa(hn(g)),g=!1,p.navigator&&p.navigator.sendBeacon)try{g=p.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&p.Image&&(new Image().src=d.v,g=!0),g||(d.g=wo(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ka(d)}bo(o)}function Ys(o){o.g&&(ls(o),o.g.cancel(),o.g=null)}function vo(o){Ys(o),o.u&&(p.clearTimeout(o.u),o.u=null),Ks(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&p.clearTimeout(o.s),o.s=null)}function Xs(o){if(!zs(o.h)&&!o.s){o.s=!0;var d=o.Ga;tt||C(),rt||(tt(),rt=!0),gt.add(d,o),o.B=0}}function Tc(o,d){return Ps(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=d.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=_e(U(o.Ga,o,d),Zr(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const j=new We(this,this.j,o);let q=this.o;if(this.S&&(q?(q=S(q),D(q,this.S)):q=this.S),this.m!==null||this.O||(j.H=q,q=null),this.P)t:{for(var d=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(d+=T,4096<d){d=g;break t}if(d===4096||g===this.i.length-1){d=g+1;break t}}d=1e3}else d=1e3;d=Eo(this,j,d),g=hn(this.I),Kt(g,"RID",o),Kt(g,"CVER",22),this.D&&Kt(g,"X-HTTP-Session-Id",this.D),rs(this,g),q&&(this.O?d="headers="+encodeURIComponent(String(Yr(q)))+"&"+d:this.m&&Ne(g,this.m,q)),Bs(this.h,j),this.Ua&&Kt(g,"TYPE","init"),this.P?(Kt(g,"$req",d),Kt(g,"SID","null"),j.T=!0,Pn(j,g,null)):Pn(j,g,d),this.G=2}}else this.G==3&&(o?Kr(this,o):this.i.length==0||zs(this.h)||Kr(this))};function Kr(o,d){var g;d?g=d.l:g=o.U++;const T=hn(o.I);Kt(T,"SID",o.K),Kt(T,"RID",g),Kt(T,"AID",o.T),rs(o,T),o.m&&o.o&&Ne(T,o.m,o.o),g=new We(o,o.j,g,o.B+1),o.m===null&&(g.H=o.o),d&&(o.i=d.D.concat(o.i)),d=Eo(o,g,1e3),g.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Bs(o.h,g),Pn(g,T,d)}function rs(o,d){o.H&&xt(o.H,function(g,T){Kt(d,T,g)}),o.l&&qr({},function(g,T){Kt(d,T,g)})}function Eo(o,d,g){g=Math.min(o.i.length,g);var T=o.l?U(o.l.Na,o.l,o):null;t:{var j=o.i;let q=-1;for(;;){const W=["count="+g];q==-1?0<g?(q=j[0].g,W.push("ofs="+q)):q=0:W.push("ofs="+q);let Ot=!0;for(let Re=0;Re<g;Re++){let Mt=j[Re].g;const De=j[Re].map;if(Mt-=q,0>Mt)q=Math.max(0,j[Re].g-100),Ot=!1;else try{ai(De,W,"req"+Mt+"_")}catch{T&&T(De)}}if(Ot){T=W.join("&");break t}}}return o=o.i.splice(0,g),d.D=o,T}function To(o){if(!o.g&&!o.u){o.Y=1;var d=o.Fa;tt||C(),rt||(tt(),rt=!0),gt.add(d,o),o.v=0}}function $r(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=_e(U(o.Fa,o),Zr(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,Ao(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=_e(U(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),Ys(this),Ao(this))};function ls(o){o.A!=null&&(p.clearTimeout(o.A),o.A=null)}function Ao(o){o.g=new We(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var d=hn(o.qa);Kt(d,"RID","rpc"),Kt(d,"SID",o.K),Kt(d,"AID",o.T),Kt(d,"CI",o.F?"0":"1"),!o.F&&o.ja&&Kt(d,"TO",o.ja),Kt(d,"TYPE","xmlhttp"),rs(o,d),o.m&&o.o&&Ne(d,o.m,o.o),o.L&&(o.g.I=o.L);var g=o.g;o=o.ia,g.L=1,g.v=Wa(hn(d)),g.m=null,g.P=!0,wi(g,o)}s.Za=function(){this.C!=null&&(this.C=null,Ys(this),$r(this),ae(19))};function Ks(o){o.C!=null&&(p.clearTimeout(o.C),o.C=null)}function So(o,d){var g=null;if(o.g==d){Ks(o),ls(o),o.g=null;var T=2}else if(Br(o.h,d))g=d.D,tn(o.h,d),T=1;else return;if(o.G!=0){if(d.o)if(T==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var j=o.B;T=bi(),jt(T,new be(T,g)),Xs(o)}else To(o);else if(j=d.s,j==3||j==0&&0<d.X||!(T==1&&Tc(o,d)||T==2&&$r(o)))switch(g&&0<g.length&&(d=o.h,d.i=d.i.concat(g)),j){case 1:Mi(o,5);break;case 4:Mi(o,10);break;case 3:Mi(o,6);break;default:Mi(o,2)}}}function Zr(o,d){let g=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(g*=2),g*d}function Mi(o,d){if(o.j.info("Error code "+d),d==2){var g=U(o.fb,o),T=o.Xa;const j=!T;T=new ve(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ja(T,"https"),Wa(T),j?es(T.toString(),g):Bn(T.toString(),g)}else ae(2);o.G=0,o.l&&o.l.sa(d),bo(o),vo(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function bo(o){if(o.G=0,o.ka=[],o.l){const d=kr(o.h);(d.length!=0||o.i.length!=0)&&(nt(o.ka,d),nt(o.ka,o.i),o.h.i.length=0,it(o.i),o.i.length=0),o.l.ra()}}function Ro(o,d,g){var T=g instanceof ve?hn(g):new ve(g);if(T.g!="")d&&(T.g=d+"."+T.g),oa(T,T.s);else{var j=p.location;T=j.protocol,d=d?d+"."+j.hostname:j.hostname,j=+j.port;var q=new ve(null);T&&Ja(q,T),d&&(q.g=d),j&&oa(q,j),g&&(q.l=g),T=q}return g=o.D,d=o.ya,g&&d&&Kt(T,g,d),Kt(T,"VER",o.la),rs(o,T),T}function wo(o,d,g){if(d&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=o.Ca&&!o.pa?new Ht(new ua({eb:g})):new Ht(o.pa),d.Ha(o.J),d}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Co(){}s=Co.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function $s(){}$s.prototype.g=function(o,d){return new en(o,d)};function en(o,d){ie.call(this),this.g=new Fs(d),this.l=o,this.h=d&&d.messageUrlParams||null,o=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(o?o["X-WebChannel-Content-Type"]=d.messageContentType:o={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(o?o["X-WebChannel-Client-Profile"]=d.va:o={"X-WebChannel-Client-Profile":d.va}),this.g.S=o,(o=d&&d.Sb)&&!Et(o)&&(this.g.m=o),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Et(d)&&(this.g.D=d,o=this.h,o!==null&&d in o&&(o=this.h,d in o&&delete o[d])),this.j=new oi(this)}J(en,ie),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Xr(this.g)},en.prototype.o=function(o){var d=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.u&&(g={},g.__data__=sn(o),o=g);d.i.push(new mo(d.Ya++,o)),d.G==3&&Xs(d)},en.prototype.N=function(){this.g.l=null,delete this.j,Xr(this.g),delete this.g,en.aa.N.call(this)};function Io(o){ft.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var d=o.__sm__;if(d){t:{for(const g in d){o=g;break t}o=void 0}(this.i=o)&&(o=this.i,d=d!==null&&o in d?d[o]:void 0),this.data=d}else this.data=o}J(Io,ft);function No(){qt.call(this),this.status=1}J(No,qt);function oi(o){this.g=o}J(oi,Co),oi.prototype.ua=function(){jt(this.g,"a")},oi.prototype.ta=function(o){jt(this.g,new Io(o))},oi.prototype.sa=function(o){jt(this.g,new No)},oi.prototype.ra=function(){jt(this.g,"b")},$s.prototype.createWebChannel=$s.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,O_=function(){return new $s},x_=function(){return bi()},D_=Xt,Uh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ra.NO_ERROR=0,ra.TIMEOUT=8,ra.HTTP_ERROR=6,Lu=ra,Ri.COMPLETE="complete",N_=Ri,Ya.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",ie.prototype.listen=ie.prototype.K,kl=Ya,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,I_=Ht}).apply(typeof Du<"u"?Du:typeof self<"u"?self:typeof window<"u"?window:{});const uy="@firebase/firestore",cy="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(n){this.uid=n}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ur="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new Zh("@firebase/firestore");function Rr(){return Ns.logLevel}function st(s,...n){if(Ns.logLevel<=Lt.DEBUG){const a=n.map(ed);Ns.debug(`Firestore (${Ur}): ${s}`,...a)}}function Ds(s,...n){if(Ns.logLevel<=Lt.ERROR){const a=n.map(ed);Ns.error(`Firestore (${Ur}): ${s}`,...a)}}function ac(s,...n){if(Ns.logLevel<=Lt.WARN){const a=n.map(ed);Ns.warn(`Firestore (${Ur}): ${s}`,...a)}}function ed(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(a){return JSON.stringify(a)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(s,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,M_(s,l,a)}function M_(s,n,a){let l=`FIRESTORE (${Ur}) INTERNAL ASSERTION FAILED: ${n} (ID: ${s.toString(16)})`;if(a!==void 0)try{l+=" CONTEXT: "+JSON.stringify(a)}catch{l+=" CONTEXT: "+a}throw Ds(l),new Error(l)}function de(s,n,a,l){let u="Unexpected state";typeof a=="string"?u=a:l=a,s||M_(n,u,l)}function ne(s,n){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Pa{constructor(n,a){super(n,a),this.code=n,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.promise=new Promise(((n,a)=>{this.resolve=n,this.reject=a}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(n,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class O1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,a){n.enqueueRetryable((()=>a($e.UNAUTHENTICATED)))}shutdown(){}}class M1{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,a){this.changeListener=a,n.enqueueRetryable((()=>a(this.token.user)))}shutdown(){this.changeListener=null}}class V1{constructor(n){this.t=n,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,a){de(this.o===void 0,42304);let l=this.i;const u=v=>this.i!==l?(l=this.i,a(v)):Promise.resolve();let h=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ws,n.enqueueRetryable((()=>u(this.currentUser)))};const m=()=>{const v=h;n.enqueueRetryable((async()=>{await v.promise,await u(this.currentUser)}))},p=v=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ws)}}),0),m()}getToken(){const n=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then((l=>this.i!==n?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(de(typeof l.accessToken=="string",31837,{l}),new V_(l.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return de(n===null||typeof n=="string",2055,{h:n}),new $e(n)}}class U1{constructor(n,a,l){this.P=n,this.T=a,this.I=l,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const n=this.R();return n&&this.A.set("Authorization",n),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class L1{constructor(n,a,l){this.P=n,this.T=a,this.I=l}getToken(){return Promise.resolve(new U1(this.P,this.T,this.I))}start(n,a){n.enqueueRetryable((()=>a($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fy{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j1{constructor(n,a){this.V=a,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,p1(n)&&n.settings.appCheckToken&&(this.p=n.settings.appCheckToken)}start(n,a){de(this.o===void 0,3512);const l=h=>{h.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,st("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?a(h.token):Promise.resolve()};this.o=h=>{n.enqueueRetryable((()=>l(h)))};const u=h=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>u(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new fy(this.p));const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then((a=>a?(de(typeof a.token=="string",44558,{tokenResult:a}),this.m=a.token,new fy(a.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(s){const n=typeof self<"u"&&(self.crypto||self.msCrypto),a=new Uint8Array(s);if(n&&typeof n.getRandomValues=="function")n.getRandomValues(a);else for(let l=0;l<s;l++)a[l]=Math.floor(256*Math.random());return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{static newId(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=62*Math.floor(4.129032258064516);let l="";for(;l.length<20;){const u=z1(40);for(let h=0;h<u.length;++h)l.length<20&&u[h]<a&&(l+=n.charAt(u[h]%62))}return l}}function Gt(s,n){return s<n?-1:s>n?1:0}function Lh(s,n){const a=Math.min(s.length,n.length);for(let l=0;l<a;l++){const u=s.charAt(l),h=n.charAt(l);if(u!==h)return Sh(u)===Sh(h)?Gt(u,h):Sh(u)?1:-1}return Gt(s.length,n.length)}const P1=55296,B1=57343;function Sh(s){const n=s.charCodeAt(0);return n>=P1&&n<=B1}function Dr(s,n,a){return s.length===n.length&&s.every(((l,u)=>a(l,n[u])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="__name__";class gi{constructor(n,a,l){a===void 0?a=0:a>n.length&&wt(637,{offset:a,range:n.length}),l===void 0?l=n.length-a:l>n.length-a&&wt(1746,{length:l,range:n.length-a}),this.segments=n,this.offset=a,this.len=l}get length(){return this.len}isEqual(n){return gi.comparator(this,n)===0}child(n){const a=this.segments.slice(this.offset,this.limit());return n instanceof gi?n.forEach((l=>{a.push(l)})):a.push(n),this.construct(a)}limit(){return this.offset+this.length}popFirst(n){return n=n===void 0?1:n,this.construct(this.segments,this.offset+n,this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return this.length===0}isPrefixOf(n){if(n.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}forEach(n){for(let a=this.offset,l=this.limit();a<l;a++)n(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,a){const l=Math.min(n.length,a.length);for(let u=0;u<l;u++){const h=gi.compareSegments(n.get(u),a.get(u));if(h!==0)return h}return Gt(n.length,a.length)}static compareSegments(n,a){const l=gi.isNumericId(n),u=gi.isNumericId(a);return l&&!u?-1:!l&&u?1:l&&u?gi.extractNumericId(n).compare(gi.extractNumericId(a)):Lh(n,a)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return td.fromString(n.substring(4,n.length-2))}}class ue extends gi{construct(n,a,l){return new ue(n,a,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const a=[];for(const l of n){if(l.indexOf("//")>=0)throw new ct(K.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);a.push(...l.split("/").filter((u=>u.length>0)))}return new ue(a)}static emptyPath(){return new ue([])}}const k1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends gi{construct(n,a,l){return new He(n,a,l)}static isValidIdentifier(n){return k1.test(n)}canonicalString(){return this.toArray().map((n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(n)||(n="`"+n+"`"),n))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hy}static keyField(){return new He([hy])}static fromServerFormat(n){const a=[];let l="",u=0;const h=()=>{if(l.length===0)throw new ct(K.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(l),l=""};let m=!1;for(;u<n.length;){const p=n[u];if(p==="\\"){if(u+1===n.length)throw new ct(K.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const v=n[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ct(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);l+=v,u+=2}else p==="`"?(m=!m,u++):p!=="."||m?(l+=p,u++):(h(),u++)}if(h(),m)throw new ct(K.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new He(a)}static emptyPath(){return new He([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(n){this.path=n}static fromPath(n){return new St(ue.fromString(n))}static fromName(n){return new St(ue.fromString(n).popFirst(5))}static empty(){return new St(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return n!==null&&ue.comparator(this.path,n.path)===0}toString(){return this.path.toString()}static comparator(n,a){return ue.comparator(n.path,a.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new St(new ue(n.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(s,n,a){if(!a)throw new ct(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${n}.`)}function q1(s,n,a,l){if(n===!0&&l===!0)throw new ct(K.INVALID_ARGUMENT,`${s} and ${a} cannot be used together.`)}function dy(s){if(!St.isDocumentKey(s))throw new ct(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function my(s){if(St.isDocumentKey(s))throw new ct(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function L_(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function id(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const n=(function(l){return l.constructor?l.constructor.name:null})(s);return n?`a custom ${n} object`:"an object"}}return typeof s=="function"?"a function":wt(12329,{type:typeof s})}function j_(s,n){if("_delegate"in s&&(s=s._delegate),!(s instanceof n)){if(n.name===s.constructor.name)throw new ct(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=id(s);throw new ct(K.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${a}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(s,n){const a={typeString:s};return n&&(a.value=n),a}function io(s,n){if(!L_(s))throw new ct(K.INVALID_ARGUMENT,"JSON must be an object");let a;for(const l in n)if(n[l]){const u=n[l].typeString,h="value"in n[l]?{value:n[l].value}:void 0;if(!(l in s)){a=`JSON missing required field: '${l}'`;break}const m=s[l];if(u&&typeof m!==u){a=`JSON field '${l}' must be a ${u}.`;break}if(h!==void 0&&m!==h.value){a=`Expected '${l}' field to equal '${h.value}'`;break}}if(a)throw new ct(K.INVALID_ARGUMENT,a);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=-62135596800,py=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(n){return le.fromMillis(n.getTime())}static fromMillis(n){const a=Math.floor(n/1e3),l=Math.floor((n-1e3*a)*py);return new le(a,l)}constructor(n,a){if(this.seconds=n,this.nanoseconds=a,a<0)throw new ct(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new ct(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(n<gy)throw new ct(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new ct(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/py}_compareTo(n){return this.seconds===n.seconds?Gt(this.nanoseconds,n.nanoseconds):Gt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(n){if(io(n,le._jsonSchema))return new le(n.seconds,n.nanoseconds)}valueOf(){const n=this.seconds-gy;return String(n).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Se("string",le._jsonSchemaVersion),seconds:Se("number"),nanoseconds:Se("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{static fromTimestamp(n){return new re(n)}static min(){return new re(new le(0,0))}static max(){return new re(new le(253402300799,999999999))}constructor(n){this.timestamp=n}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=-1;function H1(s,n){const a=s.toTimestamp().seconds,l=s.toTimestamp().nanoseconds+1,u=re.fromTimestamp(l===1e9?new le(a+1,0):new le(a,l));return new Ua(u,St.empty(),n)}function G1(s){return new Ua(s.readTime,s.key,Zl)}class Ua{constructor(n,a,l){this.readTime=n,this.documentKey=a,this.largestBatchId=l}static min(){return new Ua(re.min(),St.empty(),Zl)}static max(){return new Ua(re.max(),St.empty(),Zl)}}function Q1(s,n){let a=s.readTime.compareTo(n.readTime);return a!==0?a:(a=St.comparator(s.documentKey,n.documentKey),a!==0?a:Gt(s.largestBatchId,n.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((n=>n()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ad(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==F1)throw s;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n((a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)}),(a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)}))}catch(n){return this.next(void 0,n)}next(n,a){return this.callbackAttached&&wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(n,this.result):new X(((l,u)=>{this.nextCallback=h=>{this.wrapSuccess(n,h).next(l,u)},this.catchCallback=h=>{this.wrapFailure(a,h).next(l,u)}}))}toPromise(){return new Promise(((n,a)=>{this.next(n,a)}))}wrapUserFunction(n){try{const a=n();return a instanceof X?a:X.resolve(a)}catch(a){return X.reject(a)}}wrapSuccess(n,a){return n?this.wrapUserFunction((()=>n(a))):X.resolve(a)}wrapFailure(n,a){return n?this.wrapUserFunction((()=>n(a))):X.reject(a)}static resolve(n){return new X(((a,l)=>{a(n)}))}static reject(n){return new X(((a,l)=>{l(n)}))}static waitFor(n){return new X(((a,l)=>{let u=0,h=0,m=!1;n.forEach((p=>{++u,p.next((()=>{++h,m&&h===u&&a()}),(v=>l(v)))})),m=!0,h===u&&a()}))}static or(n){let a=X.resolve(!1);for(const l of n)a=a.next((u=>u?X.resolve(u):l()));return a}static forEach(n,a){const l=[];return n.forEach(((u,h)=>{l.push(a.call(this,u,h))})),this.waitFor(l)}static mapArray(n,a){return new X(((l,u)=>{const h=n.length,m=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;a(n[_]).next((A=>{m[_]=A,++p,p===h&&l(m)}),(A=>u(A)))}}))}static doWhile(n,a){return new X(((l,u)=>{const h=()=>{n()===!0?a().next((()=>{h()}),u):l()};h()}))}}function X1(s){const n=s.match(/Android ([\d.]+)/i),a=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(a)}function ao(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(n,a){this.previousValue=n,a&&(a.sequenceNumberHandler=l=>this.ae(l),this.ue=l=>a.writeSequenceNumber(l))}ae(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ue&&this.ue(n),n}}sd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=-1;function ld(s){return s==null}function Hu(s){return s===0&&1/s==-1/0}function K1(s){return typeof s=="number"&&Number.isInteger(s)&&!Hu(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="";function $1(s){let n="";for(let a=0;a<s.length;a++)n.length>0&&(n=yy(n)),n=Z1(s.get(a),n);return yy(n)}function Z1(s,n){let a=n;const l=s.length;for(let u=0;u<l;u++){const h=s.charAt(u);switch(h){case"\0":a+="";break;case z_:a+="";break;default:a+=h}}return a}function yy(s){return s+z_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(s){let n=0;for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&n++;return n}function Lr(s,n){for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&n(a,s[a])}function P_(s){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(n,a){this.comparator=n,this.root=a||ke.EMPTY}insert(n,a){return new fn(this.comparator,this.root.insert(n,a,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(n){return new fn(this.comparator,this.root.remove(n,this.comparator).copy(null,null,ke.BLACK,null,null))}get(n){let a=this.root;for(;!a.isEmpty();){const l=this.comparator(n,a.key);if(l===0)return a.value;l<0?a=a.left:l>0&&(a=a.right)}return null}indexOf(n){let a=0,l=this.root;for(;!l.isEmpty();){const u=this.comparator(n,l.key);if(u===0)return a+l.left.size;u<0?l=l.left:(a+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal(((a,l)=>(n(a,l),!1)))}toString(){const n=[];return this.inorderTraversal(((a,l)=>(n.push(`${a}:${l}`),!1))),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new xu(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new xu(this.root,n,this.comparator,!1)}getReverseIterator(){return new xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new xu(this.root,n,this.comparator,!0)}}class xu{constructor(n,a,l,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!n.isEmpty();)if(h=a?l(n.key,a):1,a&&u&&(h*=-1),h<0)n=this.isReverse?n.left:n.right;else{if(h===0){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const a={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class ke{constructor(n,a,l,u,h){this.key=n,this.value=a,this.color=l??ke.RED,this.left=u??ke.EMPTY,this.right=h??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,a,l,u,h){return new ke(n??this.key,a??this.value,l??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,a,l){let u=this;const h=l(n,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(n,a,l),null):h===0?u.copy(null,a,null,null,null):u.copy(null,null,null,null,u.right.insert(n,a,l)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,a){let l,u=this;if(a(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,a),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),a(n,u.key)===0){if(u.right.isEmpty())return ke.EMPTY;l=u.right.min(),u=u.copy(l.key,l.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,a))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,a)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wt(14113,{key:this.key,value:this.value});const n=this.left.check();if(n!==this.right.check())throw wt(27949);return n+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw wt(57766)}get value(){throw wt(16141)}get color(){throw wt(16727)}get left(){throw wt(29726)}get right(){throw wt(36894)}copy(n,a,l,u,h){return this}insert(n,a,l){return new ke(n,a)}remove(n,a){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(n){this.comparator=n,this.data=new fn(this.comparator)}has(n){return this.data.get(n)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal(((a,l)=>(n(a),!1)))}forEachInRange(n,a){const l=this.data.getIteratorFrom(n[0]);for(;l.hasNext();){const u=l.getNext();if(this.comparator(u.key,n[1])>=0)return;a(u.key)}}forEachWhile(n,a){let l;for(l=a!==void 0?this.data.getIteratorFrom(a):this.data.getIterator();l.hasNext();)if(!n(l.getNext().key))return}firstAfterOrEqual(n){const a=this.data.getIteratorFrom(n);return a.hasNext()?a.getNext().key:null}getIterator(){return new vy(this.data.getIterator())}getIteratorFrom(n){return new vy(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let a=this;return a.size<n.size&&(a=n,n=this),n.forEach((l=>{a=a.add(l)})),a}isEqual(n){if(!(n instanceof Ge)||this.size!==n.size)return!1;const a=this.data.getIterator(),l=n.data.getIterator();for(;a.hasNext();){const u=a.getNext().key,h=l.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const n=[];return this.forEach((a=>{n.push(a)})),n}toString(){const n=[];return this.forEach((a=>n.push(a))),"SortedSet("+n.toString()+")"}copy(n){const a=new Ge(this.comparator);return a.data=n,a}}class vy{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(n){this.fields=n,n.sort(He.comparator)}static empty(){return new Yn([])}unionWith(n){let a=new Ge(He.comparator);for(const l of this.fields)a=a.add(l);for(const l of n)a=a.add(l);return new Yn(a.toArray())}covers(n){for(const a of this.fields)if(a.isPrefixOf(n))return!0;return!1}isEqual(n){return Dr(this.fields,n.fields,((a,l)=>a.isEqual(l)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(n){this.binaryString=n}static fromBase64String(n){const a=(function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new J1("Invalid base64 string: "+h):h}})(n);return new yi(a)}static fromUint8Array(n){const a=(function(u){let h="";for(let m=0;m<u.length;++m)h+=String.fromCharCode(u[m]);return h})(n);return new yi(a)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(a){return btoa(a)})(this.binaryString)}toUint8Array(){return(function(a){const l=new Uint8Array(a.length);for(let u=0;u<a.length;u++)l[u]=a.charCodeAt(u);return l})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Gt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}yi.EMPTY_BYTE_STRING=new yi("");const W1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xs(s){if(de(!!s,39018),typeof s=="string"){let n=0;const a=W1.exec(s);if(de(!!a,46558,{timestamp:s}),a[1]){let u=a[1];u=(u+"000000000").substr(0,9),n=Number(u)}const l=new Date(s);return{seconds:Math.floor(l.getTime()/1e3),nanos:n}}return{seconds:qe(s.seconds),nanos:qe(s.nanos)}}function qe(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function xr(s){return typeof s=="string"?yi.fromBase64String(s):yi.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="server_timestamp",k_="__type__",q_="__previous_value__",H_="__local_write_time__";function od(s){return(s?.mapValue?.fields||{})[k_]?.stringValue===B_}function ud(s){const n=s.mapValue.fields[q_];return od(n)?ud(n):n}function Gu(s){const n=xs(s.mapValue.fields[H_].timestampValue);return new le(n.seconds,n.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(n,a,l,u,h,m,p,v,_,A){this.databaseId=n,this.appId=a,this.persistenceKey=l,this.host=u,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Qu="(default)";class Fu{constructor(n,a){this.projectId=n,this.database=a||Qu}static empty(){return new Fu("","")}get isDefaultDatabase(){return this.database===Qu}isEqual(n){return n instanceof Fu&&n.projectId===this.projectId&&n.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="__type__",eA="__max__",Ou={mapValue:{}},Q_="__vector__",jh="value";function Os(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?od(s)?4:iA(s)?9007199254740991:nA(s)?10:11:wt(28295,{value:s})}function _i(s,n){if(s===n)return!0;const a=Os(s);if(a!==Os(n))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===n.booleanValue;case 4:return Gu(s).isEqual(Gu(n));case 3:return(function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const m=xs(u.timestampValue),p=xs(h.timestampValue);return m.seconds===p.seconds&&m.nanos===p.nanos})(s,n);case 5:return s.stringValue===n.stringValue;case 6:return(function(u,h){return xr(u.bytesValue).isEqual(xr(h.bytesValue))})(s,n);case 7:return s.referenceValue===n.referenceValue;case 8:return(function(u,h){return qe(u.geoPointValue.latitude)===qe(h.geoPointValue.latitude)&&qe(u.geoPointValue.longitude)===qe(h.geoPointValue.longitude)})(s,n);case 2:return(function(u,h){if("integerValue"in u&&"integerValue"in h)return qe(u.integerValue)===qe(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const m=qe(u.doubleValue),p=qe(h.doubleValue);return m===p?Hu(m)===Hu(p):isNaN(m)&&isNaN(p)}return!1})(s,n);case 9:return Dr(s.arrayValue.values||[],n.arrayValue.values||[],_i);case 10:case 11:return(function(u,h){const m=u.mapValue.fields||{},p=h.mapValue.fields||{};if(_y(m)!==_y(p))return!1;for(const v in m)if(m.hasOwnProperty(v)&&(p[v]===void 0||!_i(m[v],p[v])))return!1;return!0})(s,n);default:return wt(52216,{left:s})}}function Jl(s,n){return(s.values||[]).find((a=>_i(a,n)))!==void 0}function Or(s,n){if(s===n)return 0;const a=Os(s),l=Os(n);if(a!==l)return Gt(a,l);switch(a){case 0:case 9007199254740991:return 0;case 1:return Gt(s.booleanValue,n.booleanValue);case 2:return(function(h,m){const p=qe(h.integerValue||h.doubleValue),v=qe(m.integerValue||m.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(s,n);case 3:return Ey(s.timestampValue,n.timestampValue);case 4:return Ey(Gu(s),Gu(n));case 5:return Lh(s.stringValue,n.stringValue);case 6:return(function(h,m){const p=xr(h),v=xr(m);return p.compareTo(v)})(s.bytesValue,n.bytesValue);case 7:return(function(h,m){const p=h.split("/"),v=m.split("/");for(let _=0;_<p.length&&_<v.length;_++){const A=Gt(p[_],v[_]);if(A!==0)return A}return Gt(p.length,v.length)})(s.referenceValue,n.referenceValue);case 8:return(function(h,m){const p=Gt(qe(h.latitude),qe(m.latitude));return p!==0?p:Gt(qe(h.longitude),qe(m.longitude))})(s.geoPointValue,n.geoPointValue);case 9:return Ty(s.arrayValue,n.arrayValue);case 10:return(function(h,m){const p=h.fields||{},v=m.fields||{},_=p[jh]?.arrayValue,A=v[jh]?.arrayValue,O=Gt(_?.values?.length||0,A?.values?.length||0);return O!==0?O:Ty(_,A)})(s.mapValue,n.mapValue);case 11:return(function(h,m){if(h===Ou.mapValue&&m===Ou.mapValue)return 0;if(h===Ou.mapValue)return 1;if(m===Ou.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=m.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let O=0;O<v.length&&O<A.length;++O){const U=Lh(v[O],A[O]);if(U!==0)return U;const $=Or(p[v[O]],_[A[O]]);if($!==0)return $}return Gt(v.length,A.length)})(s.mapValue,n.mapValue);default:throw wt(23264,{he:a})}}function Ey(s,n){if(typeof s=="string"&&typeof n=="string"&&s.length===n.length)return Gt(s,n);const a=xs(s),l=xs(n),u=Gt(a.seconds,l.seconds);return u!==0?u:Gt(a.nanos,l.nanos)}function Ty(s,n){const a=s.values||[],l=n.values||[];for(let u=0;u<a.length&&u<l.length;++u){const h=Or(a[u],l[u]);if(h)return h}return Gt(a.length,l.length)}function Mr(s){return zh(s)}function zh(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(a){const l=xs(a);return`time(${l.seconds},${l.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(a){return xr(a).toBase64()})(s.bytesValue):"referenceValue"in s?(function(a){return St.fromName(a).toString()})(s.referenceValue):"geoPointValue"in s?(function(a){return`geo(${a.latitude},${a.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(a){let l="[",u=!0;for(const h of a.values||[])u?u=!1:l+=",",l+=zh(h);return l+"]"})(s.arrayValue):"mapValue"in s?(function(a){const l=Object.keys(a.fields||{}).sort();let u="{",h=!0;for(const m of l)h?h=!1:u+=",",u+=`${m}:${zh(a.fields[m])}`;return u+"}"})(s.mapValue):wt(61005,{value:s})}function ju(s){switch(Os(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=ud(s);return n?16+ju(n):16;case 5:return 2*s.stringValue.length;case 6:return xr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(l){return(l.values||[]).reduce(((u,h)=>u+ju(h)),0)})(s.arrayValue);case 10:case 11:return(function(l){let u=0;return Lr(l.fields,((h,m)=>{u+=h.length+ju(m)})),u})(s.mapValue);default:throw wt(13486,{value:s})}}function Ph(s){return!!s&&"integerValue"in s}function cd(s){return!!s&&"arrayValue"in s}function zu(s){return!!s&&"mapValue"in s}function nA(s){return(s?.mapValue?.fields||{})[G_]?.stringValue===Q_}function Hl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const n={mapValue:{fields:{}}};return Lr(s.mapValue.fields,((a,l)=>n.mapValue.fields[a]=Hl(l))),n}if(s.arrayValue){const n={arrayValue:{values:[]}};for(let a=0;a<(s.arrayValue.values||[]).length;++a)n.arrayValue.values[a]=Hl(s.arrayValue.values[a]);return n}return{...s}}function iA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===eA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(n){this.value=n}static empty(){return new Qn({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let a=this.value;for(let l=0;l<n.length-1;++l)if(a=(a.mapValue.fields||{})[n.get(l)],!zu(a))return null;return a=(a.mapValue.fields||{})[n.lastSegment()],a||null}}set(n,a){this.getFieldsMap(n.popLast())[n.lastSegment()]=Hl(a)}setAll(n){let a=He.emptyPath(),l={},u=[];n.forEach(((m,p)=>{if(!a.isImmediateParentOf(p)){const v=this.getFieldsMap(a);this.applyChanges(v,l,u),l={},u=[],a=p.popLast()}m?l[p.lastSegment()]=Hl(m):u.push(p.lastSegment())}));const h=this.getFieldsMap(a);this.applyChanges(h,l,u)}delete(n){const a=this.field(n.popLast());zu(a)&&a.mapValue.fields&&delete a.mapValue.fields[n.lastSegment()]}isEqual(n){return _i(this.value,n.value)}getFieldsMap(n){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let l=0;l<n.length;++l){let u=a.mapValue.fields[n.get(l)];zu(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},a.mapValue.fields[n.get(l)]=u),a=u}return a.mapValue.fields}applyChanges(n,a,l){Lr(a,((u,h)=>n[u]=h));for(const u of l)delete n[u]}clone(){return new Qn(Hl(this.value))}}function F_(s){const n=[];return Lr(s.fields,((a,l)=>{const u=new He([a]);if(zu(l)){const h=F_(l.mapValue).fields;if(h.length===0)n.push(u);else for(const m of h)n.push(u.child(m))}else n.push(u)})),new Yn(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(n,a,l,u,h,m,p){this.key=n,this.documentType=a,this.version=l,this.readTime=u,this.createTime=h,this.data=m,this.documentState=p}static newInvalidDocument(n){return new Gn(n,0,re.min(),re.min(),re.min(),Qn.empty(),0)}static newFoundDocument(n,a,l,u){return new Gn(n,1,a,re.min(),l,u,0)}static newNoDocument(n,a){return new Gn(n,2,a,re.min(),re.min(),Qn.empty(),0)}static newUnknownDocument(n,a){return new Gn(n,3,a,re.min(),re.min(),Qn.empty(),2)}convertToFoundDocument(n,a){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=n),this.version=n,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(n){return n instanceof Gn&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(n,a){this.position=n,this.inclusive=a}}function Ay(s,n,a){let l=0;for(let u=0;u<s.position.length;u++){const h=n[u],m=s.position[u];if(h.field.isKeyField()?l=St.comparator(St.fromName(m.referenceValue),a.key):l=Or(m,a.data.field(h.field)),h.dir==="desc"&&(l*=-1),l!==0)break}return l}function Sy(s,n){if(s===null)return n===null;if(n===null||s.inclusive!==n.inclusive||s.position.length!==n.position.length)return!1;for(let a=0;a<s.position.length;a++)if(!_i(s.position[a],n.position[a]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(n,a="asc"){this.field=n,this.dir=a}}function aA(s,n){return s.dir===n.dir&&s.field.isEqual(n.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{}class Ue extends Y_{constructor(n,a,l){super(),this.field=n,this.op=a,this.value=l}static create(n,a,l){return n.isKeyField()?a==="in"||a==="not-in"?this.createKeyFieldInFilter(n,a,l):new rA(n,a,l):a==="array-contains"?new uA(n,l):a==="in"?new cA(n,l):a==="not-in"?new fA(n,l):a==="array-contains-any"?new hA(n,l):new Ue(n,a,l)}static createKeyFieldInFilter(n,a,l){return a==="in"?new lA(n,l):new oA(n,l)}matches(n){const a=n.data.field(this.field);return this.op==="!="?a!==null&&a.nullValue===void 0&&this.matchesComparison(Or(a,this.value)):a!==null&&Os(this.value)===Os(a)&&this.matchesComparison(Or(a,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class La extends Y_{constructor(n,a){super(),this.filters=n,this.op=a,this.Pe=null}static create(n,a){return new La(n,a)}matches(n){return X_(this)?this.filters.find((a=>!a.matches(n)))===void 0:this.filters.find((a=>a.matches(n)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((n,a)=>n.concat(a.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function X_(s){return s.op==="and"}function K_(s){return sA(s)&&X_(s)}function sA(s){for(const n of s.filters)if(n instanceof La)return!1;return!0}function Bh(s){if(s instanceof Ue)return s.field.canonicalString()+s.op.toString()+Mr(s.value);if(K_(s))return s.filters.map((n=>Bh(n))).join(",");{const n=s.filters.map((a=>Bh(a))).join(",");return`${s.op}(${n})`}}function $_(s,n){return s instanceof Ue?(function(l,u){return u instanceof Ue&&l.op===u.op&&l.field.isEqual(u.field)&&_i(l.value,u.value)})(s,n):s instanceof La?(function(l,u){return u instanceof La&&l.op===u.op&&l.filters.length===u.filters.length?l.filters.reduce(((h,m,p)=>h&&$_(m,u.filters[p])),!0):!1})(s,n):void wt(19439)}function Z_(s){return s instanceof Ue?(function(a){return`${a.field.canonicalString()} ${a.op} ${Mr(a.value)}`})(s):s instanceof La?(function(a){return a.op.toString()+" {"+a.getFilters().map(Z_).join(" ,")+"}"})(s):"Filter"}class rA extends Ue{constructor(n,a,l){super(n,a,l),this.key=St.fromName(l.referenceValue)}matches(n){const a=St.comparator(n.key,this.key);return this.matchesComparison(a)}}class lA extends Ue{constructor(n,a){super(n,"in",a),this.keys=J_("in",a)}matches(n){return this.keys.some((a=>a.isEqual(n.key)))}}class oA extends Ue{constructor(n,a){super(n,"not-in",a),this.keys=J_("not-in",a)}matches(n){return!this.keys.some((a=>a.isEqual(n.key)))}}function J_(s,n){return(n.arrayValue?.values||[]).map((a=>St.fromName(a.referenceValue)))}class uA extends Ue{constructor(n,a){super(n,"array-contains",a)}matches(n){const a=n.data.field(this.field);return cd(a)&&Jl(a.arrayValue,this.value)}}class cA extends Ue{constructor(n,a){super(n,"in",a)}matches(n){const a=n.data.field(this.field);return a!==null&&Jl(this.value.arrayValue,a)}}class fA extends Ue{constructor(n,a){super(n,"not-in",a)}matches(n){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=n.data.field(this.field);return a!==null&&a.nullValue===void 0&&!Jl(this.value.arrayValue,a)}}class hA extends Ue{constructor(n,a){super(n,"array-contains-any",a)}matches(n){const a=n.data.field(this.field);return!(!cd(a)||!a.arrayValue.values)&&a.arrayValue.values.some((l=>Jl(this.value.arrayValue,l)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(n,a=null,l=[],u=[],h=null,m=null,p=null){this.path=n,this.collectionGroup=a,this.orderBy=l,this.filters=u,this.limit=h,this.startAt=m,this.endAt=p,this.Te=null}}function by(s,n=null,a=[],l=[],u=null,h=null,m=null){return new dA(s,n,a,l,u,h,m)}function fd(s){const n=ne(s);if(n.Te===null){let a=n.path.canonicalString();n.collectionGroup!==null&&(a+="|cg:"+n.collectionGroup),a+="|f:",a+=n.filters.map((l=>Bh(l))).join(","),a+="|ob:",a+=n.orderBy.map((l=>(function(h){return h.field.canonicalString()+h.dir})(l))).join(","),ld(n.limit)||(a+="|l:",a+=n.limit),n.startAt&&(a+="|lb:",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((l=>Mr(l))).join(",")),n.endAt&&(a+="|ub:",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((l=>Mr(l))).join(",")),n.Te=a}return n.Te}function hd(s,n){if(s.limit!==n.limit||s.orderBy.length!==n.orderBy.length)return!1;for(let a=0;a<s.orderBy.length;a++)if(!aA(s.orderBy[a],n.orderBy[a]))return!1;if(s.filters.length!==n.filters.length)return!1;for(let a=0;a<s.filters.length;a++)if(!$_(s.filters[a],n.filters[a]))return!1;return s.collectionGroup===n.collectionGroup&&!!s.path.isEqual(n.path)&&!!Sy(s.startAt,n.startAt)&&Sy(s.endAt,n.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(n,a=null,l=[],u=[],h=null,m="F",p=null,v=null){this.path=n,this.collectionGroup=a,this.explicitOrderBy=l,this.filters=u,this.limit=h,this.limitType=m,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mA(s,n,a,l,u,h,m,p){return new sc(s,n,a,l,u,h,m,p)}function gA(s){return new sc(s)}function Ry(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function pA(s){return s.collectionGroup!==null}function Gl(s){const n=ne(s);if(n.Ie===null){n.Ie=[];const a=new Set;for(const h of n.explicitOrderBy)n.Ie.push(h),a.add(h.field.canonicalString());const l=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(m){let p=new Ge(He.comparator);return m.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(n).forEach((h=>{a.has(h.canonicalString())||h.isKeyField()||n.Ie.push(new Xu(h,l))})),a.has(He.keyField().canonicalString())||n.Ie.push(new Xu(He.keyField(),l))}return n.Ie}function Cs(s){const n=ne(s);return n.Ee||(n.Ee=yA(n,Gl(s))),n.Ee}function yA(s,n){if(s.limitType==="F")return by(s.path,s.collectionGroup,n,s.filters,s.limit,s.startAt,s.endAt);{n=n.map((u=>{const h=u.dir==="desc"?"asc":"desc";return new Xu(u.field,h)}));const a=s.endAt?new Yu(s.endAt.position,s.endAt.inclusive):null,l=s.startAt?new Yu(s.startAt.position,s.startAt.inclusive):null;return by(s.path,s.collectionGroup,n,s.filters,s.limit,a,l)}}function kh(s,n,a){return new sc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),n,a,s.startAt,s.endAt)}function W_(s,n){return hd(Cs(s),Cs(n))&&s.limitType===n.limitType}function t0(s){return`${fd(Cs(s))}|lt:${s.limitType}`}function Bl(s){return`Query(target=${(function(a){let l=a.path.canonicalString();return a.collectionGroup!==null&&(l+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(l+=`, filters: [${a.filters.map((u=>Z_(u))).join(", ")}]`),ld(a.limit)||(l+=", limit: "+a.limit),a.orderBy.length>0&&(l+=`, orderBy: [${a.orderBy.map((u=>(function(m){return`${m.field.canonicalString()} (${m.dir})`})(u))).join(", ")}]`),a.startAt&&(l+=", startAt: ",l+=a.startAt.inclusive?"b:":"a:",l+=a.startAt.position.map((u=>Mr(u))).join(",")),a.endAt&&(l+=", endAt: ",l+=a.endAt.inclusive?"a:":"b:",l+=a.endAt.position.map((u=>Mr(u))).join(",")),`Target(${l})`})(Cs(s))}; limitType=${s.limitType})`}function dd(s,n){return n.isFoundDocument()&&(function(l,u){const h=u.key.path;return l.collectionGroup!==null?u.key.hasCollectionId(l.collectionGroup)&&l.path.isPrefixOf(h):St.isDocumentKey(l.path)?l.path.isEqual(h):l.path.isImmediateParentOf(h)})(s,n)&&(function(l,u){for(const h of Gl(l))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0})(s,n)&&(function(l,u){for(const h of l.filters)if(!h.matches(u))return!1;return!0})(s,n)&&(function(l,u){return!(l.startAt&&!(function(m,p,v){const _=Ay(m,p,v);return m.inclusive?_<=0:_<0})(l.startAt,Gl(l),u)||l.endAt&&!(function(m,p,v){const _=Ay(m,p,v);return m.inclusive?_>=0:_>0})(l.endAt,Gl(l),u))})(s,n)}function _A(s){return(n,a)=>{let l=!1;for(const u of Gl(s)){const h=vA(u,n,a);if(h!==0)return h;l=l||u.field.isKeyField()}return 0}}function vA(s,n,a){const l=s.field.isKeyField()?St.comparator(n.key,a.key):(function(h,m,p){const v=m.data.field(h),_=p.data.field(h);return v!==null&&_!==null?Or(v,_):wt(42886)})(s.field,n,a);switch(s.dir){case"asc":return l;case"desc":return-1*l;default:return wt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(n,a){this.mapKeyFn=n,this.equalsFn=a,this.inner={},this.innerSize=0}get(n){const a=this.mapKeyFn(n),l=this.inner[a];if(l!==void 0){for(const[u,h]of l)if(this.equalsFn(u,n))return h}}has(n){return this.get(n)!==void 0}set(n,a){const l=this.mapKeyFn(n),u=this.inner[l];if(u===void 0)return this.inner[l]=[[n,a]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],n))return void(u[h]=[n,a]);u.push([n,a]),this.innerSize++}delete(n){const a=this.mapKeyFn(n),l=this.inner[a];if(l===void 0)return!1;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],n))return l.length===1?delete this.inner[a]:l.splice(u,1),this.innerSize--,!0;return!1}forEach(n){Lr(this.inner,((a,l)=>{for(const[u,h]of l)n(u,h)}))}isEmpty(){return P_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=new fn(St.comparator);function Ku(){return EA}const e0=new fn(St.comparator);function Mu(...s){let n=e0;for(const a of s)n=n.insert(a.key,a);return n}function n0(s){let n=e0;return s.forEach(((a,l)=>n=n.insert(a,l.overlayedDocument))),n}function bs(){return Ql()}function i0(){return Ql()}function Ql(){return new Us((s=>s.toString()),((s,n)=>s.isEqual(n)))}const TA=new fn(St.comparator),AA=new Ge(St.comparator);function Ze(...s){let n=AA;for(const a of s)n=n.add(a);return n}const SA=new Ge(Gt);function bA(){return SA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(s,n){if(s.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hu(n)?"-0":n}}function a0(s){return{integerValue:""+s}}function RA(s,n){return K1(n)?a0(n):md(s,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this._=void 0}}function wA(s,n,a){return s instanceof Wl?(function(u,h){const m={fields:{[k_]:{stringValue:B_},[H_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&od(h)&&(h=ud(h)),h&&(m.fields[q_]=h),{mapValue:m}})(a,n):s instanceof to?r0(s,n):s instanceof eo?l0(s,n):(function(u,h){const m=s0(u,h),p=wy(m)+wy(u.Ae);return Ph(m)&&Ph(u.Ae)?a0(p):md(u.serializer,p)})(s,n)}function CA(s,n,a){return s instanceof to?r0(s,n):s instanceof eo?l0(s,n):a}function s0(s,n){return s instanceof $u?(function(l){return Ph(l)||(function(h){return!!h&&"doubleValue"in h})(l)})(n)?n:{integerValue:0}:null}class Wl extends rc{}class to extends rc{constructor(n){super(),this.elements=n}}function r0(s,n){const a=o0(n);for(const l of s.elements)a.some((u=>_i(u,l)))||a.push(l);return{arrayValue:{values:a}}}class eo extends rc{constructor(n){super(),this.elements=n}}function l0(s,n){let a=o0(n);for(const l of s.elements)a=a.filter((u=>!_i(u,l)));return{arrayValue:{values:a}}}class $u extends rc{constructor(n,a){super(),this.serializer=n,this.Ae=a}}function wy(s){return qe(s.integerValue||s.doubleValue)}function o0(s){return cd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(n,a){this.field=n,this.transform=a}}function NA(s,n){return s.field.isEqual(n.field)&&(function(l,u){return l instanceof to&&u instanceof to||l instanceof eo&&u instanceof eo?Dr(l.elements,u.elements,_i):l instanceof $u&&u instanceof $u?_i(l.Ae,u.Ae):l instanceof Wl&&u instanceof Wl})(s.transform,n.transform)}class DA{constructor(n,a){this.version=n,this.transformResults=a}}class Xi{constructor(n,a){this.updateTime=n,this.exists=a}static none(){return new Xi}static exists(n){return new Xi(void 0,n)}static updateTime(n){return new Xi(n)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Pu(s,n){return s.updateTime!==void 0?n.isFoundDocument()&&n.version.isEqual(s.updateTime):s.exists===void 0||s.exists===n.isFoundDocument()}class lc{}function u0(s,n){if(!s.hasLocalMutations||n&&n.fields.length===0)return null;if(n===null)return s.isNoDocument()?new f0(s.key,Xi.none()):new so(s.key,s.data,Xi.none());{const a=s.data,l=Qn.empty();let u=new Ge(He.comparator);for(let h of n.fields)if(!u.has(h)){let m=a.field(h);m===null&&h.length>1&&(h=h.popLast(),m=a.field(h)),m===null?l.delete(h):l.set(h,m),u=u.add(h)}return new Ls(s.key,l,new Yn(u.toArray()),Xi.none())}}function xA(s,n,a){s instanceof so?(function(u,h,m){const p=u.value.clone(),v=Iy(u.fieldTransforms,h,m.transformResults);p.setAll(v),h.convertToFoundDocument(m.version,p).setHasCommittedMutations()})(s,n,a):s instanceof Ls?(function(u,h,m){if(!Pu(u.precondition,h))return void h.convertToUnknownDocument(m.version);const p=Iy(u.fieldTransforms,h,m.transformResults),v=h.data;v.setAll(c0(u)),v.setAll(p),h.convertToFoundDocument(m.version,v).setHasCommittedMutations()})(s,n,a):(function(u,h,m){h.convertToNoDocument(m.version).setHasCommittedMutations()})(0,n,a)}function Fl(s,n,a,l){return s instanceof so?(function(h,m,p,v){if(!Pu(h.precondition,m))return p;const _=h.value.clone(),A=Ny(h.fieldTransforms,v,m);return _.setAll(A),m.convertToFoundDocument(m.version,_).setHasLocalMutations(),null})(s,n,a,l):s instanceof Ls?(function(h,m,p,v){if(!Pu(h.precondition,m))return p;const _=Ny(h.fieldTransforms,v,m),A=m.data;return A.setAll(c0(h)),A.setAll(_),m.convertToFoundDocument(m.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((O=>O.field)))})(s,n,a,l):(function(h,m,p){return Pu(h.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):p})(s,n,a)}function OA(s,n){let a=null;for(const l of s.fieldTransforms){const u=n.data.field(l.field),h=s0(l.transform,u||null);h!=null&&(a===null&&(a=Qn.empty()),a.set(l.field,h))}return a||null}function Cy(s,n){return s.type===n.type&&!!s.key.isEqual(n.key)&&!!s.precondition.isEqual(n.precondition)&&!!(function(l,u){return l===void 0&&u===void 0||!(!l||!u)&&Dr(l,u,((h,m)=>NA(h,m)))})(s.fieldTransforms,n.fieldTransforms)&&(s.type===0?s.value.isEqual(n.value):s.type!==1||s.data.isEqual(n.data)&&s.fieldMask.isEqual(n.fieldMask))}class so extends lc{constructor(n,a,l,u=[]){super(),this.key=n,this.value=a,this.precondition=l,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ls extends lc{constructor(n,a,l,u,h=[]){super(),this.key=n,this.data=a,this.fieldMask=l,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function c0(s){const n=new Map;return s.fieldMask.fields.forEach((a=>{if(!a.isEmpty()){const l=s.data.field(a);n.set(a,l)}})),n}function Iy(s,n,a){const l=new Map;de(s.length===a.length,32656,{Re:a.length,Ve:s.length});for(let u=0;u<a.length;u++){const h=s[u],m=h.transform,p=n.data.field(h.field);l.set(h.field,CA(m,p,a[u]))}return l}function Ny(s,n,a){const l=new Map;for(const u of s){const h=u.transform,m=a.data.field(u.field);l.set(u.field,wA(h,m,n))}return l}class f0 extends lc{constructor(n,a){super(),this.key=n,this.precondition=a,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MA extends lc{constructor(n,a){super(),this.key=n,this.precondition=a,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(n,a,l,u){this.batchId=n,this.localWriteTime=a,this.baseMutations=l,this.mutations=u}applyToRemoteDocument(n,a){const l=a.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(n.key)&&xA(h,n,l[u])}}applyToLocalView(n,a){for(const l of this.baseMutations)l.key.isEqual(n.key)&&(a=Fl(l,n,a,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(n.key)&&(a=Fl(l,n,a,this.localWriteTime));return a}applyToLocalDocumentSet(n,a){const l=i0();return this.mutations.forEach((u=>{const h=n.get(u.key),m=h.overlayedDocument;let p=this.applyToLocalView(m,h.mutatedFields);p=a.has(u.key)?null:p;const v=u0(m,p);v!==null&&l.set(u.key,v),m.isValidDocument()||m.convertToNoDocument(re.min())})),l}keys(){return this.mutations.reduce(((n,a)=>n.add(a.key)),Ze())}isEqual(n){return this.batchId===n.batchId&&Dr(this.mutations,n.mutations,((a,l)=>Cy(a,l)))&&Dr(this.baseMutations,n.baseMutations,((a,l)=>Cy(a,l)))}}class gd{constructor(n,a,l,u){this.batch=n,this.commitVersion=a,this.mutationResults=l,this.docVersions=u}static from(n,a,l){de(n.mutations.length===l.length,58842,{me:n.mutations.length,fe:l.length});let u=(function(){return TA})();const h=n.mutations;for(let m=0;m<h.length;m++)u=u.insert(h[m].key,l[m].version);return new gd(n,a,l,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(n,a){this.largestBatchId=n,this.mutation=a}getKey(){return this.mutation.key}isEqual(n){return n!==null&&this.mutation===n.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,Ut;function LA(s){switch(s){case K.OK:return wt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return wt(15467,{code:s})}}function jA(s){if(s===void 0)return Ds("GRPC error has no .code"),K.UNKNOWN;switch(s){case Ae.OK:return K.OK;case Ae.CANCELLED:return K.CANCELLED;case Ae.UNKNOWN:return K.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return K.INTERNAL;case Ae.UNAVAILABLE:return K.UNAVAILABLE;case Ae.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Ae.NOT_FOUND:return K.NOT_FOUND;case Ae.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Ae.ABORTED:return K.ABORTED;case Ae.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Ae.DATA_LOSS:return K.DATA_LOSS;default:return wt(39323,{code:s})}}(Ut=Ae||(Ae={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new td([4294967295,4294967295],0);class zA{constructor(n,a){this.databaseId=n,this.useProto3Json=a}}function qh(s,n){return s.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function PA(s,n){return s.useProto3Json?n.toBase64():n.toUint8Array()}function BA(s,n){return qh(s,n.toTimestamp())}function Ir(s){return de(!!s,49232),re.fromTimestamp((function(a){const l=xs(a);return new le(l.seconds,l.nanos)})(s))}function h0(s,n){return Hh(s,n).canonicalString()}function Hh(s,n){const a=(function(u){return new ue(["projects",u.projectId,"databases",u.database])})(s).child("documents");return n===void 0?a:a.child(n)}function kA(s){const n=ue.fromString(s);return de(KA(n),10190,{key:n.toString()}),n}function Gh(s,n){return h0(s.databaseId,n.path)}function qA(s){const n=kA(s);return n.length===4?ue.emptyPath():GA(n)}function HA(s){return new ue(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function GA(s){return de(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Dy(s,n,a){return{name:Gh(s,n),fields:a.value.mapValue.fields}}function QA(s,n){let a;if(n instanceof so)a={update:Dy(s,n.key,n.value)};else if(n instanceof f0)a={delete:Gh(s,n.key)};else if(n instanceof Ls)a={update:Dy(s,n.key,n.data),updateMask:XA(n.fieldMask)};else{if(!(n instanceof MA))return wt(16599,{Vt:n.type});a={verify:Gh(s,n.key)}}return n.fieldTransforms.length>0&&(a.updateTransforms=n.fieldTransforms.map((l=>(function(h,m){const p=m.transform;if(p instanceof Wl)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof to)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof eo)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof $u)return{fieldPath:m.field.canonicalString(),increment:p.Ae};throw wt(20930,{transform:m.transform})})(0,l)))),n.precondition.isNone||(a.currentDocument=(function(u,h){return h.updateTime!==void 0?{updateTime:BA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:wt(27497)})(s,n.precondition)),a}function FA(s,n){return s&&s.length>0?(de(n!==void 0,14353),s.map((a=>(function(u,h){let m=u.updateTime?Ir(u.updateTime):Ir(h);return m.isEqual(re.min())&&(m=Ir(h)),new DA(m,u.transformResults||[])})(a,n)))):[]}function YA(s){let n=qA(s.parent);const a=s.structuredQuery,l=a.from?a.from.length:0;let u=null;if(l>0){de(l===1,65062);const A=a.from[0];A.allDescendants?u=A.collectionId:n=n.child(A.collectionId)}let h=[];a.where&&(h=(function(O){const U=d0(O);return U instanceof La&&K_(U)?U.getFilters():[U]})(a.where));let m=[];a.orderBy&&(m=(function(O){return O.map((U=>(function(J){return new Xu(wr(J.field),(function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(U)))})(a.orderBy));let p=null;a.limit&&(p=(function(O){let U;return U=typeof O=="object"?O.value:O,ld(U)?null:U})(a.limit));let v=null;a.startAt&&(v=(function(O){const U=!!O.before,$=O.values||[];return new Yu($,U)})(a.startAt));let _=null;return a.endAt&&(_=(function(O){const U=!O.before,$=O.values||[];return new Yu($,U)})(a.endAt)),mA(n,u,m,h,p,"F",v,_)}function d0(s){return s.unaryFilter!==void 0?(function(a){switch(a.unaryFilter.op){case"IS_NAN":const l=wr(a.unaryFilter.field);return Ue.create(l,"==",{doubleValue:NaN});case"IS_NULL":const u=wr(a.unaryFilter.field);return Ue.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=wr(a.unaryFilter.field);return Ue.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=wr(a.unaryFilter.field);return Ue.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wt(61313);default:return wt(60726)}})(s):s.fieldFilter!==void 0?(function(a){return Ue.create(wr(a.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wt(58110);default:return wt(50506)}})(a.fieldFilter.op),a.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(a){return La.create(a.compositeFilter.filters.map((l=>d0(l))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return wt(1026)}})(a.compositeFilter.op))})(s):wt(30097,{filter:s})}function wr(s){return He.fromServerFormat(s.fieldPath)}function XA(s){const n=[];return s.fields.forEach((a=>n.push(a.canonicalString()))),{fieldPaths:n}}function KA(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(n){this.yt=n}}function ZA(s){const n=YA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?kh(n,n.limit,"L"):n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.Cn=new WA}addToCollectionParentIndex(n,a){return this.Cn.add(a),X.resolve()}getCollectionParents(n,a){return X.resolve(this.Cn.getEntries(a))}addFieldIndex(n,a){return X.resolve()}deleteFieldIndex(n,a){return X.resolve()}deleteAllFieldIndexes(n){return X.resolve()}createTargetIndexes(n,a){return X.resolve()}getDocumentsMatchingTarget(n,a){return X.resolve(null)}getIndexType(n,a){return X.resolve(0)}getFieldIndexes(n,a){return X.resolve([])}getNextCollectionGroupToUpdate(n){return X.resolve(null)}getMinOffset(n,a){return X.resolve(Ua.min())}getMinOffsetFromCollectionGroup(n,a){return X.resolve(Ua.min())}updateCollectionGroup(n,a,l){return X.resolve()}updateIndexEntries(n,a){return X.resolve()}}class WA{constructor(){this.index={}}add(n){const a=n.lastSegment(),l=n.popLast(),u=this.index[a]||new Ge(ue.comparator),h=!u.has(l);return this.index[a]=u.add(l),h}has(n){const a=n.lastSegment(),l=n.popLast(),u=this.index[a];return u&&u.has(l)}getEntries(n){return(this.index[n]||new Ge(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},m0=41943040;class un{static withCacheSize(n){return new un(n,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,a,l){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(m0,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(n){this.ar=n}next(){return this.ar+=2,this.ar}static ur(){return new Vr(0)}static cr(){return new Vr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="LruGarbageCollector",tS=1048576;function My([s,n],[a,l]){const u=Gt(s,a);return u===0?Gt(n,l):u}class eS{constructor(n){this.Ir=n,this.buffer=new Ge(My),this.Er=0}dr(){return++this.Er}Ar(n){const a=[n,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(a);else{const l=this.buffer.last();My(a,l)<0&&(this.buffer=this.buffer.delete(l).add(a))}}get maxValue(){return this.buffer.last()[0]}}class nS{constructor(n,a,l){this.garbageCollector=n,this.asyncQueue=a,this.localStore=l,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(n){st(Oy,`Garbage collection scheduled in ${n}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(a){ao(a)?st(Oy,"Ignoring IndexedDB error during garbage collection: ",a):await ad(a)}await this.Vr(3e5)}))}}class iS{constructor(n,a){this.mr=n,this.params=a}calculateTargetCount(n,a){return this.mr.gr(n).next((l=>Math.floor(a/100*l)))}nthSequenceNumber(n,a){if(a===0)return X.resolve(sd.ce);const l=new eS(a);return this.mr.forEachTarget(n,(u=>l.Ar(u.sequenceNumber))).next((()=>this.mr.pr(n,(u=>l.Ar(u))))).next((()=>l.maxValue))}removeTargets(n,a,l){return this.mr.removeTargets(n,a,l)}removeOrphanedDocuments(n,a){return this.mr.removeOrphanedDocuments(n,a)}collect(n,a){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(xy)):this.getCacheSize(n).next((l=>l<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xy):this.yr(n,a)))}getCacheSize(n){return this.mr.getCacheSize(n)}yr(n,a){let l,u,h,m,p,v,_;const A=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next((O=>(O>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),u=this.params.maximumSequenceNumbersToCollect):u=O,m=Date.now(),this.nthSequenceNumber(n,u)))).next((O=>(l=O,p=Date.now(),this.removeTargets(n,l,a)))).next((O=>(h=O,v=Date.now(),this.removeOrphanedDocuments(n,l)))).next((O=>(_=Date.now(),Rr()<=Lt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-A}ms
	Determined least recently used ${u} in `+(p-m)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${O} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:O}))))}}function aS(s,n){return new iS(s,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.changes=new Us((n=>n.toString()),((n,a)=>n.isEqual(a))),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,a){this.assertNotApplied(),this.changes.set(n,Gn.newInvalidDocument(n).setReadTime(a))}getEntry(n,a){this.assertNotApplied();const l=this.changes.get(a);return l!==void 0?X.resolve(l):this.getFromCache(n,a)}getEntries(n,a){return this.getAllFromCache(n,a)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(n,a){this.overlayedDocument=n,this.mutatedFields=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(n,a,l,u){this.remoteDocumentCache=n,this.mutationQueue=a,this.documentOverlayCache=l,this.indexManager=u}getDocument(n,a){let l=null;return this.documentOverlayCache.getOverlay(n,a).next((u=>(l=u,this.remoteDocumentCache.getEntry(n,a)))).next((u=>(l!==null&&Fl(l.mutation,u,Yn.empty(),le.now()),u)))}getDocuments(n,a){return this.remoteDocumentCache.getEntries(n,a).next((l=>this.getLocalViewOfDocuments(n,l,Ze()).next((()=>l))))}getLocalViewOfDocuments(n,a,l=Ze()){const u=bs();return this.populateOverlays(n,u,a).next((()=>this.computeViews(n,a,u,l).next((h=>{let m=Mu();return h.forEach(((p,v)=>{m=m.insert(p,v.overlayedDocument)})),m}))))}getOverlayedDocuments(n,a){const l=bs();return this.populateOverlays(n,l,a).next((()=>this.computeViews(n,a,l,Ze())))}populateOverlays(n,a,l){const u=[];return l.forEach((h=>{a.has(h)||u.push(h)})),this.documentOverlayCache.getOverlays(n,u).next((h=>{h.forEach(((m,p)=>{a.set(m,p)}))}))}computeViews(n,a,l,u){let h=Ku();const m=Ql(),p=(function(){return Ql()})();return a.forEach(((v,_)=>{const A=l.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof Ls)?h=h.insert(_.key,_):A!==void 0?(m.set(_.key,A.mutation.getFieldMask()),Fl(A.mutation,_,A.mutation.getFieldMask(),le.now())):m.set(_.key,Yn.empty())})),this.recalculateAndSaveOverlays(n,h).next((v=>(v.forEach(((_,A)=>m.set(_,A))),a.forEach(((_,A)=>p.set(_,new rS(A,m.get(_)??null)))),p)))}recalculateAndSaveOverlays(n,a){const l=Ql();let u=new fn(((m,p)=>m-p)),h=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,a).next((m=>{for(const p of m)p.keys().forEach((v=>{const _=a.get(v);if(_===null)return;let A=l.get(v)||Yn.empty();A=p.applyToLocalView(_,A),l.set(v,A);const O=(u.get(p.batchId)||Ze()).add(v);u=u.insert(p.batchId,O)}))})).next((()=>{const m=[],p=u.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,A=v.value,O=i0();A.forEach((U=>{if(!h.has(U)){const $=u0(a.get(U),l.get(U));$!==null&&O.set(U,$),h=h.add(U)}})),m.push(this.documentOverlayCache.saveOverlays(n,_,O))}return X.waitFor(m)})).next((()=>l))}recalculateAndSaveOverlaysForDocumentKeys(n,a){return this.remoteDocumentCache.getEntries(n,a).next((l=>this.recalculateAndSaveOverlays(n,l)))}getDocumentsMatchingQuery(n,a,l,u){return(function(m){return St.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0})(a)?this.getDocumentsMatchingDocumentQuery(n,a.path):pA(a)?this.getDocumentsMatchingCollectionGroupQuery(n,a,l,u):this.getDocumentsMatchingCollectionQuery(n,a,l,u)}getNextDocuments(n,a,l,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,a,l,u).next((h=>{const m=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,a,l.largestBatchId,u-h.size):X.resolve(bs());let p=Zl,v=h;return m.next((_=>X.forEach(_,((A,O)=>(p<O.largestBatchId&&(p=O.largestBatchId),h.get(A)?X.resolve():this.remoteDocumentCache.getEntry(n,A).next((U=>{v=v.insert(A,U)}))))).next((()=>this.populateOverlays(n,_,h))).next((()=>this.computeViews(n,v,_,Ze()))).next((A=>({batchId:p,changes:n0(A)})))))}))}getDocumentsMatchingDocumentQuery(n,a){return this.getDocument(n,new St(a)).next((l=>{let u=Mu();return l.isFoundDocument()&&(u=u.insert(l.key,l)),u}))}getDocumentsMatchingCollectionGroupQuery(n,a,l,u){const h=a.collectionGroup;let m=Mu();return this.indexManager.getCollectionParents(n,h).next((p=>X.forEach(p,(v=>{const _=(function(O,U){return new sc(U,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)})(a,v.child(h));return this.getDocumentsMatchingCollectionQuery(n,_,l,u).next((A=>{A.forEach(((O,U)=>{m=m.insert(O,U)}))}))})).next((()=>m))))}getDocumentsMatchingCollectionQuery(n,a,l,u){let h;return this.documentOverlayCache.getOverlaysForCollection(n,a.path,l.largestBatchId).next((m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(n,a,l,h,u)))).next((m=>{h.forEach(((v,_)=>{const A=_.getKey();m.get(A)===null&&(m=m.insert(A,Gn.newInvalidDocument(A)))}));let p=Mu();return m.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&Fl(A.mutation,_,Yn.empty(),le.now()),dd(a,_)&&(p=p.insert(v,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(n){this.serializer=n,this.Lr=new Map,this.kr=new Map}getBundleMetadata(n,a){return X.resolve(this.Lr.get(a))}saveBundleMetadata(n,a){return this.Lr.set(a.id,(function(u){return{id:u.id,version:u.version,createTime:Ir(u.createTime)}})(a)),X.resolve()}getNamedQuery(n,a){return X.resolve(this.kr.get(a))}saveNamedQuery(n,a){return this.kr.set(a.name,(function(u){return{name:u.name,query:ZA(u.bundledQuery),readTime:Ir(u.readTime)}})(a)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.overlays=new fn(St.comparator),this.qr=new Map}getOverlay(n,a){return X.resolve(this.overlays.get(a))}getOverlays(n,a){const l=bs();return X.forEach(a,(u=>this.getOverlay(n,u).next((h=>{h!==null&&l.set(u,h)})))).next((()=>l))}saveOverlays(n,a,l){return l.forEach(((u,h)=>{this.St(n,a,h)})),X.resolve()}removeOverlaysForBatchId(n,a,l){const u=this.qr.get(l);return u!==void 0&&(u.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(l)),X.resolve()}getOverlaysForCollection(n,a,l){const u=bs(),h=a.length+1,m=new St(a.child("")),p=this.overlays.getIteratorFrom(m);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!a.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>l&&u.set(v.getKey(),v)}return X.resolve(u)}getOverlaysForCollectionGroup(n,a,l,u){let h=new fn(((_,A)=>_-A));const m=this.overlays.getIterator();for(;m.hasNext();){const _=m.getNext().value;if(_.getKey().getCollectionGroup()===a&&_.largestBatchId>l){let A=h.get(_.largestBatchId);A===null&&(A=bs(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=bs(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=u)););return X.resolve(p)}St(n,a,l){const u=this.overlays.get(l.key);if(u!==null){const m=this.qr.get(u.largestBatchId).delete(l.key);this.qr.set(u.largestBatchId,m)}this.overlays=this.overlays.insert(l.key,new UA(a,l));let h=this.qr.get(a);h===void 0&&(h=Ze(),this.qr.set(a,h)),this.qr.set(a,h.add(l.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.sessionToken=yi.EMPTY_BYTE_STRING}getSessionToken(n){return X.resolve(this.sessionToken)}setSessionToken(n,a){return this.sessionToken=a,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(){this.Qr=new Ge(Ve.$r),this.Ur=new Ge(Ve.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(n,a){const l=new Ve(n,a);this.Qr=this.Qr.add(l),this.Ur=this.Ur.add(l)}Wr(n,a){n.forEach((l=>this.addReference(l,a)))}removeReference(n,a){this.Gr(new Ve(n,a))}zr(n,a){n.forEach((l=>this.removeReference(l,a)))}jr(n){const a=new St(new ue([])),l=new Ve(a,n),u=new Ve(a,n+1),h=[];return this.Ur.forEachInRange([l,u],(m=>{this.Gr(m),h.push(m.key)})),h}Jr(){this.Qr.forEach((n=>this.Gr(n)))}Gr(n){this.Qr=this.Qr.delete(n),this.Ur=this.Ur.delete(n)}Hr(n){const a=new St(new ue([])),l=new Ve(a,n),u=new Ve(a,n+1);let h=Ze();return this.Ur.forEachInRange([l,u],(m=>{h=h.add(m.key)})),h}containsKey(n){const a=new Ve(n,0),l=this.Qr.firstAfterOrEqual(a);return l!==null&&n.isEqual(l.key)}}class Ve{constructor(n,a){this.key=n,this.Yr=a}static $r(n,a){return St.comparator(n.key,a.key)||Gt(n.Yr,a.Yr)}static Kr(n,a){return Gt(n.Yr,a.Yr)||St.comparator(n.key,a.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(n,a){this.indexManager=n,this.referenceDelegate=a,this.mutationQueue=[],this.tr=1,this.Zr=new Ge(Ve.$r)}checkEmpty(n){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(n,a,l,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new VA(h,a,l,u);this.mutationQueue.push(m);for(const p of u)this.Zr=this.Zr.add(new Ve(p.key,h)),this.indexManager.addToCollectionParentIndex(n,p.key.path.popLast());return X.resolve(m)}lookupMutationBatch(n,a){return X.resolve(this.Xr(a))}getNextMutationBatchAfterBatchId(n,a){const l=a+1,u=this.ei(l),h=u<0?0:u;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?rd:this.tr-1)}getAllMutationBatches(n){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,a){const l=new Ve(a,0),u=new Ve(a,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([l,u],(m=>{const p=this.Xr(m.Yr);h.push(p)})),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(n,a){let l=new Ge(Gt);return a.forEach((u=>{const h=new Ve(u,0),m=new Ve(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,m],(p=>{l=l.add(p.Yr)}))})),X.resolve(this.ti(l))}getAllMutationBatchesAffectingQuery(n,a){const l=a.path,u=l.length+1;let h=l;St.isDocumentKey(h)||(h=h.child(""));const m=new Ve(new St(h),0);let p=new Ge(Gt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!l.isPrefixOf(_)&&(_.length===u&&(p=p.add(v.Yr)),!0)}),m),X.resolve(this.ti(p))}ti(n){const a=[];return n.forEach((l=>{const u=this.Xr(l);u!==null&&a.push(u)})),a}removeMutationBatch(n,a){de(this.ni(a.batchId,"removed")===0,55003),this.mutationQueue.shift();let l=this.Zr;return X.forEach(a.mutations,(u=>{const h=new Ve(u.key,a.batchId);return l=l.delete(h),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)})).next((()=>{this.Zr=l}))}ir(n){}containsKey(n,a){const l=new Ve(a,0),u=this.Zr.firstAfterOrEqual(l);return X.resolve(a.isEqual(u&&u.key))}performConsistencyCheck(n){return this.mutationQueue.length,X.resolve()}ni(n,a){return this.ei(n)}ei(n){return this.mutationQueue.length===0?0:n-this.mutationQueue[0].batchId}Xr(n){const a=this.ei(n);return a<0||a>=this.mutationQueue.length?null:this.mutationQueue[a]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(n){this.ri=n,this.docs=(function(){return new fn(St.comparator)})(),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,a){const l=a.key,u=this.docs.get(l),h=u?u.size:0,m=this.ri(a);return this.docs=this.docs.insert(l,{document:a.mutableCopy(),size:m}),this.size+=m-h,this.indexManager.addToCollectionParentIndex(n,l.path.popLast())}removeEntry(n){const a=this.docs.get(n);a&&(this.docs=this.docs.remove(n),this.size-=a.size)}getEntry(n,a){const l=this.docs.get(a);return X.resolve(l?l.document.mutableCopy():Gn.newInvalidDocument(a))}getEntries(n,a){let l=Ku();return a.forEach((u=>{const h=this.docs.get(u);l=l.insert(u,h?h.document.mutableCopy():Gn.newInvalidDocument(u))})),X.resolve(l)}getDocumentsMatchingQuery(n,a,l,u){let h=Ku();const m=a.path,p=new St(m.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!m.isPrefixOf(_.path))break;_.path.length>m.length+1||Q1(G1(A),l)<=0||(u.has(A.key)||dd(a,A))&&(h=h.insert(A.key,A.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(n,a,l,u){wt(9500)}ii(n,a){return X.forEach(this.docs,(l=>a(l)))}newChangeBuffer(n){return new dS(this)}getSize(n){return X.resolve(this.size)}}class dS extends sS{constructor(n){super(),this.Nr=n}applyChanges(n){const a=[];return this.changes.forEach(((l,u)=>{u.isValidDocument()?a.push(this.Nr.addEntry(n,u)):this.Nr.removeEntry(l)})),X.waitFor(a)}getFromCache(n,a){return this.Nr.getEntry(n,a)}getAllFromCache(n,a){return this.Nr.getEntries(n,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(n){this.persistence=n,this.si=new Us((a=>fd(a)),hd),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.oi=0,this._i=new pd,this.targetCount=0,this.ai=Vr.ur()}forEachTarget(n,a){return this.si.forEach(((l,u)=>a(u))),X.resolve()}getLastRemoteSnapshotVersion(n){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return X.resolve(this.oi)}allocateTargetId(n){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(n,a,l){return l&&(this.lastRemoteSnapshotVersion=l),a>this.oi&&(this.oi=a),X.resolve()}Pr(n){this.si.set(n.target,n);const a=n.targetId;a>this.highestTargetId&&(this.ai=new Vr(a),this.highestTargetId=a),n.sequenceNumber>this.oi&&(this.oi=n.sequenceNumber)}addTargetData(n,a){return this.Pr(a),this.targetCount+=1,X.resolve()}updateTargetData(n,a){return this.Pr(a),X.resolve()}removeTargetData(n,a){return this.si.delete(a.target),this._i.jr(a.targetId),this.targetCount-=1,X.resolve()}removeTargets(n,a,l){let u=0;const h=[];return this.si.forEach(((m,p)=>{p.sequenceNumber<=a&&l.get(p.targetId)===null&&(this.si.delete(m),h.push(this.removeMatchingKeysForTargetId(n,p.targetId)),u++)})),X.waitFor(h).next((()=>u))}getTargetCount(n){return X.resolve(this.targetCount)}getTargetData(n,a){const l=this.si.get(a)||null;return X.resolve(l)}addMatchingKeys(n,a,l){return this._i.Wr(a,l),X.resolve()}removeMatchingKeys(n,a,l){this._i.zr(a,l);const u=this.persistence.referenceDelegate,h=[];return u&&a.forEach((m=>{h.push(u.markPotentiallyOrphaned(n,m))})),X.waitFor(h)}removeMatchingKeysForTargetId(n,a){return this._i.jr(a),X.resolve()}getMatchingKeysForTargetId(n,a){const l=this._i.Hr(a);return X.resolve(l)}containsKey(n,a){return X.resolve(this._i.containsKey(a))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(n,a){this.ui={},this.overlays={},this.ci=new sd(0),this.li=!1,this.li=!0,this.hi=new cS,this.referenceDelegate=n(this),this.Pi=new mS(this),this.indexManager=new JA,this.remoteDocumentCache=(function(u){return new hS(u)})((l=>this.referenceDelegate.Ti(l))),this.serializer=new $A(a),this.Ii=new oS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let a=this.overlays[n.toKey()];return a||(a=new uS,this.overlays[n.toKey()]=a),a}getMutationQueue(n,a){let l=this.ui[n.toKey()];return l||(l=new fS(a,this.referenceDelegate),this.ui[n.toKey()]=l),l}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(n,a,l){st("MemoryPersistence","Starting transaction:",n);const u=new gS(this.ci.next());return this.referenceDelegate.Ei(),l(u).next((h=>this.referenceDelegate.di(u).next((()=>h)))).toPromise().then((h=>(u.raiseOnCommittedEvent(),h)))}Ai(n,a){return X.or(Object.values(this.ui).map((l=>()=>l.containsKey(n,a))))}}class gS extends Y1{constructor(n){super(),this.currentSequenceNumber=n}}class yd{constructor(n){this.persistence=n,this.Ri=new pd,this.Vi=null}static mi(n){return new yd(n)}get fi(){if(this.Vi)return this.Vi;throw wt(60996)}addReference(n,a,l){return this.Ri.addReference(l,a),this.fi.delete(l.toString()),X.resolve()}removeReference(n,a,l){return this.Ri.removeReference(l,a),this.fi.add(l.toString()),X.resolve()}markPotentiallyOrphaned(n,a){return this.fi.add(a.toString()),X.resolve()}removeTarget(n,a){this.Ri.jr(a.targetId).forEach((u=>this.fi.add(u.toString())));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(n,a.targetId).next((u=>{u.forEach((h=>this.fi.add(h.toString())))})).next((()=>l.removeTargetData(n,a)))}Ei(){this.Vi=new Set}di(n){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(l=>{const u=St.fromPath(l);return this.gi(n,u).next((h=>{h||a.removeEntry(u,re.min())}))})).next((()=>(this.Vi=null,a.apply(n))))}updateLimboDocument(n,a){return this.gi(n,a).next((l=>{l?this.fi.delete(a.toString()):this.fi.add(a.toString())}))}Ti(n){return 0}gi(n,a){return X.or([()=>X.resolve(this.Ri.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(n,a),()=>this.persistence.Ai(n,a)])}}class Zu{constructor(n,a){this.persistence=n,this.pi=new Us((l=>$1(l.path)),((l,u)=>l.isEqual(u))),this.garbageCollector=aS(this,a)}static mi(n,a){return new Zu(n,a)}Ei(){}di(n){return X.resolve()}forEachTarget(n,a){return this.persistence.getTargetCache().forEachTarget(n,a)}gr(n){const a=this.wr(n);return this.persistence.getTargetCache().getTargetCount(n).next((l=>a.next((u=>l+u))))}wr(n){let a=0;return this.pr(n,(l=>{a++})).next((()=>a))}pr(n,a){return X.forEach(this.pi,((l,u)=>this.br(n,l,u).next((h=>h?X.resolve():a(u)))))}removeTargets(n,a,l){return this.persistence.getTargetCache().removeTargets(n,a,l)}removeOrphanedDocuments(n,a){let l=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(n,(m=>this.br(n,m,a).next((p=>{p||(l++,h.removeEntry(m,re.min()))})))).next((()=>h.apply(n))).next((()=>l))}markPotentiallyOrphaned(n,a){return this.pi.set(a,n.currentSequenceNumber),X.resolve()}removeTarget(n,a){const l=a.withSequenceNumber(n.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(n,l)}addReference(n,a,l){return this.pi.set(l,n.currentSequenceNumber),X.resolve()}removeReference(n,a,l){return this.pi.set(l,n.currentSequenceNumber),X.resolve()}updateLimboDocument(n,a){return this.pi.set(a,n.currentSequenceNumber),X.resolve()}Ti(n){let a=n.key.toString().length;return n.isFoundDocument()&&(a+=ju(n.data.value)),a}br(n,a,l){return X.or([()=>this.persistence.Ai(n,a),()=>this.persistence.getTargetCache().containsKey(n,a),()=>{const u=this.pi.get(a);return X.resolve(u!==void 0&&u>l)}])}getCacheSize(n){return this.persistence.getRemoteDocumentCache().getSize(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(n,a,l,u){this.targetId=n,this.fromCache=a,this.Es=l,this.ds=u}static As(n,a){let l=Ze(),u=Ze();for(const h of a.docChanges)switch(h.type){case 0:l=l.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new _d(n,a.fromCache,l,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return hT()?8:X1(uT())>0?6:4})()}initialize(n,a){this.ps=n,this.indexManager=a,this.Rs=!0}getDocumentsMatchingQuery(n,a,l,u){const h={result:null};return this.ys(n,a).next((m=>{h.result=m})).next((()=>{if(!h.result)return this.ws(n,a,u,l).next((m=>{h.result=m}))})).next((()=>{if(h.result)return;const m=new pS;return this.Ss(n,a,m).next((p=>{if(h.result=p,this.Vs)return this.bs(n,a,m,p.size)}))})).next((()=>h.result))}bs(n,a,l,u){return l.documentReadCount<this.fs?(Rr()<=Lt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Bl(a),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Rr()<=Lt.DEBUG&&st("QueryEngine","Query:",Bl(a),"scans",l.documentReadCount,"local documents and returns",u,"documents as results."),l.documentReadCount>this.gs*u?(Rr()<=Lt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Bl(a),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,Cs(a))):X.resolve())}ys(n,a){if(Ry(a))return X.resolve(null);let l=Cs(a);return this.indexManager.getIndexType(n,l).next((u=>u===0?null:(a.limit!==null&&u===1&&(a=kh(a,null,"F"),l=Cs(a)),this.indexManager.getDocumentsMatchingTarget(n,l).next((h=>{const m=Ze(...h);return this.ps.getDocuments(n,m).next((p=>this.indexManager.getMinOffset(n,l).next((v=>{const _=this.Ds(a,p);return this.Cs(a,_,m,v.readTime)?this.ys(n,kh(a,null,"F")):this.vs(n,_,a,v)}))))})))))}ws(n,a,l,u){return Ry(a)||u.isEqual(re.min())?X.resolve(null):this.ps.getDocuments(n,l).next((h=>{const m=this.Ds(a,h);return this.Cs(a,m,l,u)?X.resolve(null):(Rr()<=Lt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Bl(a)),this.vs(n,m,a,H1(u,Zl)).next((p=>p)))}))}Ds(n,a){let l=new Ge(_A(n));return a.forEach(((u,h)=>{dd(n,h)&&(l=l.add(h))})),l}Cs(n,a,l,u){if(n.limit===null)return!1;if(l.size!==a.size)return!0;const h=n.limitType==="F"?a.last():a.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(n,a,l){return Rr()<=Lt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Bl(a)),this.ps.getDocumentsMatchingQuery(n,a,Ua.min(),l)}vs(n,a,l,u){return this.ps.getDocumentsMatchingQuery(n,l,u).next((h=>(a.forEach((m=>{h=h.insert(m.key,m)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="LocalStore";class vS{constructor(n,a,l,u){this.persistence=n,this.Fs=a,this.serializer=u,this.Ms=new fn(Gt),this.xs=new Us((h=>fd(h)),hd),this.Os=new Map,this.Ns=n.getRemoteDocumentCache(),this.Pi=n.getTargetCache(),this.Ii=n.getBundleCache(),this.Bs(l)}Bs(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new lS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(a=>n.collect(a,this.Ms)))}}function ES(s,n,a,l){return new vS(s,n,a,l)}async function p0(s,n){const a=ne(s);return await a.persistence.runTransaction("Handle user change","readonly",(l=>{let u;return a.mutationQueue.getAllMutationBatches(l).next((h=>(u=h,a.Bs(n),a.mutationQueue.getAllMutationBatches(l)))).next((h=>{const m=[],p=[];let v=Ze();for(const _ of u){m.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){p.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return a.localDocuments.getDocuments(l,v).next((_=>({Ls:_,removedBatchIds:m,addedBatchIds:p})))}))}))}function TS(s,n){const a=ne(s);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",(l=>{const u=n.batch.keys(),h=a.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,A){const O=_.batch,U=O.keys();let $=X.resolve();return U.forEach((J=>{$=$.next((()=>A.getEntry(v,J))).next((it=>{const nt=_.docVersions.get(J);de(nt!==null,48541),it.version.compareTo(nt)<0&&(O.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),A.addEntry(it)))}))})),$.next((()=>p.mutationQueue.removeMutationBatch(v,O)))})(a,l,n,h).next((()=>h.apply(l))).next((()=>a.mutationQueue.performConsistencyCheck(l))).next((()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,n.batch.batchId))).next((()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,(function(p){let v=Ze();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(n)))).next((()=>a.localDocuments.getDocuments(l,u)))}))}function AS(s){const n=ne(s);return n.persistence.runTransaction("Get last remote snapshot version","readonly",(a=>n.Pi.getLastRemoteSnapshotVersion(a)))}function SS(s,n){const a=ne(s);return a.persistence.runTransaction("Get next mutation batch","readonly",(l=>(n===void 0&&(n=rd),a.mutationQueue.getNextMutationBatchAfterBatchId(l,n))))}class Vy{constructor(){this.activeTargetIds=bA()}zs(n){this.activeTargetIds=this.activeTargetIds.add(n)}js(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Gs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class bS{constructor(){this.Mo=new Vy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,a,l){}addLocalQueryTarget(n,a=!0){return a&&this.Mo.zs(n),this.xo[n]||"not-current"}updateQueryState(n,a,l){this.xo[n]=a}removeLocalQueryTarget(n){this.Mo.js(n)}isLocalQueryTarget(n){return this.Mo.activeTargetIds.has(n)}clearQueryState(n){delete this.xo[n]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(n){return this.Mo.activeTargetIds.has(n)}start(){return this.Mo=new Vy,Promise.resolve()}handleUserChange(n,a,l){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{Oo(n){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="ConnectivityMonitor";class Ly{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(n){this.qo.push(n)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(Uy,"Network connectivity changed: AVAILABLE");for(const n of this.qo)n(0)}ko(){st(Uy,"Network connectivity changed: UNAVAILABLE");for(const n of this.qo)n(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vu=null;function Qh(){return Vu===null?Vu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vu++,"0x"+Vu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh="RestConnection",wS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CS{get $o(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const a=n.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=a+"://"+n.host,this.Ko=`projects/${l}/databases/${u}`,this.Wo=this.databaseId.database===Qu?`project_id=${l}`:`project_id=${l}&database_id=${u}`}Go(n,a,l,u,h){const m=Qh(),p=this.zo(n,a.toUriEncodedString());st(bh,`Sending RPC '${n}' ${m}:`,p,l);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,u,h);const{host:_}=new URL(p),A=$h(_);return this.Jo(n,p,v,l,A).then((O=>(st(bh,`Received RPC '${n}' ${m}: `,O),O)),(O=>{throw ac(bh,`RPC '${n}' ${m} failed with error: `,O,"url: ",p,"request:",l),O}))}Ho(n,a,l,u,h,m){return this.Go(n,a,l,u,h)}jo(n,a,l){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ur})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((u,h)=>n[h]=u)),l&&l.headers.forEach(((u,h)=>n[h]=u))}zo(n,a){const l=wS[n];return`${this.Uo}/v1/${a}:${l}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(n){this.Yo=n.Yo,this.Zo=n.Zo}Xo(n){this.e_=n}t_(n){this.n_=n}r_(n){this.i_=n}onMessage(n){this.s_=n}close(){this.Zo()}send(n){this.Yo(n)}o_(){this.e_()}__(){this.n_()}a_(n){this.i_(n)}u_(n){this.s_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class NS extends CS{constructor(n){super(n),this.c_=[],this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Jo(n,a,l,u,h){const m=Qh();return new Promise(((p,v)=>{const _=new I_;_.setWithCredentials(!0),_.listenOnce(N_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Lu.NO_ERROR:const O=_.getResponseJson();st(Xe,`XHR for RPC '${n}' ${m} received:`,JSON.stringify(O)),p(O);break;case Lu.TIMEOUT:st(Xe,`RPC '${n}' ${m} timed out`),v(new ct(K.DEADLINE_EXCEEDED,"Request time out"));break;case Lu.HTTP_ERROR:const U=_.getStatus();if(st(Xe,`RPC '${n}' ${m} failed with status:`,U,"response text:",_.getResponseText()),U>0){let $=_.getResponseJson();Array.isArray($)&&($=$[0]);const J=$?.error;if(J&&J.status&&J.message){const it=(function(bt){const Et=bt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(Et)>=0?Et:K.UNKNOWN})(J.status);v(new ct(it,J.message))}else v(new ct(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ct(K.UNAVAILABLE,"Connection failed."));break;default:wt(9055,{l_:n,streamId:m,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st(Xe,`RPC '${n}' ${m} completed.`)}}));const A=JSON.stringify(u);st(Xe,`RPC '${n}' ${m} sending request:`,u),_.send(a,"POST",A,l,15)}))}T_(n,a,l){const u=Qh(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",n,"/channel"],m=O_(),p=x_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,a,l),v.encodeInitMessageHeaders=!0;const A=h.join("");st(Xe,`Creating RPC '${n}' stream ${u}: ${A}`,v);const O=m.createWebChannel(A,v);this.I_(O);let U=!1,$=!1;const J=new IS({Yo:nt=>{$?st(Xe,`Not sending because RPC '${n}' stream ${u} is closed:`,nt):(U||(st(Xe,`Opening RPC '${n}' stream ${u} transport.`),O.open(),U=!0),st(Xe,`RPC '${n}' stream ${u} sending:`,nt),O.send(nt))},Zo:()=>O.close()}),it=(nt,bt,Et)=>{nt.listen(bt,(mt=>{try{Et(mt)}catch(Dt){setTimeout((()=>{throw Dt}),0)}}))};return it(O,kl.EventType.OPEN,(()=>{$||(st(Xe,`RPC '${n}' stream ${u} transport opened.`),J.o_())})),it(O,kl.EventType.CLOSE,(()=>{$||($=!0,st(Xe,`RPC '${n}' stream ${u} transport closed`),J.a_(),this.E_(O))})),it(O,kl.EventType.ERROR,(nt=>{$||($=!0,ac(Xe,`RPC '${n}' stream ${u} transport errored. Name:`,nt.name,"Message:",nt.message),J.a_(new ct(K.UNAVAILABLE,"The operation could not be completed")))})),it(O,kl.EventType.MESSAGE,(nt=>{if(!$){const bt=nt.data[0];de(!!bt,16349);const Et=bt,mt=Et?.error||Et[0]?.error;if(mt){st(Xe,`RPC '${n}' stream ${u} received error:`,mt);const Dt=mt.status;let vt=(function(S){const w=Ae[S];if(w!==void 0)return jA(w)})(Dt),xt=mt.message;vt===void 0&&(vt=K.INTERNAL,xt="Unknown error status: "+Dt+" with message "+mt.message),$=!0,J.a_(new ct(vt,xt)),O.close()}else st(Xe,`RPC '${n}' stream ${u} received:`,bt),J.u_(bt)}})),it(p,D_.STAT_EVENT,(nt=>{nt.stat===Uh.PROXY?st(Xe,`RPC '${n}' stream ${u} detected buffering proxy`):nt.stat===Uh.NOPROXY&&st(Xe,`RPC '${n}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((n=>n.close())),this.c_=[]}I_(n){this.c_.push(n)}E_(n){this.c_=this.c_.filter((a=>a===n))}}function Rh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(s){return new zA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(n,a,l=1e3,u=1.5,h=6e4){this.Mi=n,this.timerId=a,this.d_=l,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(n){this.cancel();const a=Math.floor(this.V_+this.y_()),l=Math.max(0,Date.now()-this.f_),u=Math.max(0,a-l);u>0&&st("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${a} ms, last attempt: ${l} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),n()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="PersistentStream";class DS{constructor(n,a,l,u,h,m,p,v){this.Mi=n,this.S_=l,this.b_=u,this.connection=h,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new y0(n,a)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(n){this.Q_(),this.stream.send(n)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(n,a){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,n!==4?this.M_.reset():a&&a.code===K.RESOURCE_EXHAUSTED?(Ds(a.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):a&&a.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=n,await this.listener.r_(a)}K_(){}auth(){this.state=1;const n=this.W_(this.D_),a=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([l,u])=>{this.D_===a&&this.G_(l,u)}),(l=>{n((()=>{const u=new ct(K.UNKNOWN,"Fetching auth token failed: "+l.message);return this.z_(u)}))}))}G_(n,a){const l=this.W_(this.D_);this.stream=this.j_(n,a),this.stream.Xo((()=>{l((()=>this.listener.Xo()))})),this.stream.t_((()=>{l((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{l((()=>this.z_(u)))})),this.stream.onMessage((u=>{l((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(n){return st(jy,`close with error: ${n}`),this.stream=null,this.close(4,n)}W_(n){return a=>{this.Mi.enqueueAndForget((()=>this.D_===n?a():(st(jy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xS extends DS{constructor(n,a,l,u,h,m){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",a,l,u,m),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(n,a){return this.connection.T_("Write",n,a)}J_(n){return de(!!n.streamToken,31322),this.lastStreamToken=n.streamToken,de(!n.writeResults||n.writeResults.length===0,55816),this.listener.ta()}onNext(n){de(!!n.streamToken,12678),this.lastStreamToken=n.streamToken,this.M_.reset();const a=FA(n.writeResults,n.commitTime),l=Ir(n.commitTime);return this.listener.na(l,a)}ra(){const n={};n.database=HA(this.serializer),this.q_(n)}ea(n){const a={streamToken:this.lastStreamToken,writes:n.map((l=>QA(this.serializer,l)))};this.q_(a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{}class MS extends OS{constructor(n,a,l,u){super(),this.authCredentials=n,this.appCheckCredentials=a,this.connection=l,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new ct(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(n,a,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Go(n,Hh(a,l),u,h,m))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ct(K.UNKNOWN,h.toString())}))}Ho(n,a,l,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([m,p])=>this.connection.Ho(n,Hh(a,l),u,m,p,h))).catch((m=>{throw m.name==="FirebaseError"?(m.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new ct(K.UNKNOWN,m.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class VS{constructor(n,a){this.asyncQueue=n,this.onlineStateHandler=a,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(n){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.ca("Offline")))}set(n){this.Pa(),this.oa=0,n==="Online"&&(this.aa=!1),this.ca(n)}ca(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}la(n){const a=`Could not reach Cloud Firestore backend. ${n}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ds(a),this.aa=!1):st("OnlineStateTracker",a)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="RemoteStore";class US{constructor(n,a,l,u,h){this.localStore=n,this.datastore=a,this.asyncQueue=l,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((m=>{l.enqueueAndForget((async()=>{oo(this)&&(st(ro,"Restarting streams for network reachability change."),await(async function(v){const _=ne(v);_.Ea.add(4),await lo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await uc(_)})(this))}))})),this.Ra=new VS(l,u)}}async function uc(s){if(oo(s))for(const n of s.da)await n(!0)}async function lo(s){for(const n of s.da)await n(!1)}function oo(s){return ne(s).Ea.size===0}async function _0(s,n,a){if(!ao(n))throw n;s.Ea.add(1),await lo(s),s.Ra.set("Offline"),a||(a=()=>AS(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{st(ro,"Retrying IndexedDB access"),await a(),s.Ea.delete(1),await uc(s)}))}function v0(s,n){return n().catch((a=>_0(s,a,n)))}async function cc(s){const n=ne(s),a=ja(n);let l=n.Ta.length>0?n.Ta[n.Ta.length-1].batchId:rd;for(;LS(n);)try{const u=await SS(n.localStore,l);if(u===null){n.Ta.length===0&&a.L_();break}l=u.batchId,jS(n,u)}catch(u){await _0(n,u)}E0(n)&&T0(n)}function LS(s){return oo(s)&&s.Ta.length<10}function jS(s,n){s.Ta.push(n);const a=ja(s);a.O_()&&a.X_&&a.ea(n.mutations)}function E0(s){return oo(s)&&!ja(s).x_()&&s.Ta.length>0}function T0(s){ja(s).start()}async function zS(s){ja(s).ra()}async function PS(s){const n=ja(s);for(const a of s.Ta)n.ea(a.mutations)}async function BS(s,n,a){const l=s.Ta.shift(),u=gd.from(l,n,a);await v0(s,(()=>s.remoteSyncer.applySuccessfulWrite(u))),await cc(s)}async function kS(s,n){n&&ja(s).X_&&await(async function(l,u){if((function(m){return LA(m)&&m!==K.ABORTED})(u.code)){const h=l.Ta.shift();ja(l).B_(),await v0(l,(()=>l.remoteSyncer.rejectFailedWrite(h.batchId,u))),await cc(l)}})(s,n),E0(s)&&T0(s)}async function zy(s,n){const a=ne(s);a.asyncQueue.verifyOperationInProgress(),st(ro,"RemoteStore received new credentials");const l=oo(a);a.Ea.add(3),await lo(a),l&&a.Ra.set("Unknown"),await a.remoteSyncer.handleCredentialChange(n),a.Ea.delete(3),await uc(a)}async function qS(s,n){const a=ne(s);n?(a.Ea.delete(2),await uc(a)):n||(a.Ea.add(2),await lo(a),a.Ra.set("Unknown"))}function ja(s){return s.fa||(s.fa=(function(a,l,u){const h=ne(a);return h.sa(),new xS(l,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:zS.bind(null,s),r_:kS.bind(null,s),ta:PS.bind(null,s),na:BS.bind(null,s)}),s.da.push((async n=>{n?(s.fa.B_(),await cc(s)):(await s.fa.stop(),s.Ta.length>0&&(st(ro,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(n,a,l,u,h){this.asyncQueue=n,this.timerId=a,this.targetTimeMs=l,this.op=u,this.removalCallback=h,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(n,a,l,u,h){const m=Date.now()+l,p=new vd(n,a,m,u,h);return p.start(l),p}start(n){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(K.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((n=>this.deferred.resolve(n)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function A0(s,n){if(Ds("AsyncQueue",`${n}: ${s}`),ao(s))return new ct(K.UNAVAILABLE,`${n}: ${s}`);throw s}class HS{constructor(){this.queries=Py(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(a,l){const u=ne(a),h=u.queries;u.queries=Py(),h.forEach(((m,p)=>{for(const v of p.Sa)v.onError(l)}))})(this,new ct(K.ABORTED,"Firestore shutting down"))}}function Py(){return new Us((s=>t0(s)),W_)}function GS(s){s.Ca.forEach((n=>{n.next()}))}var By,ky;(ky=By||(By={})).Ma="default",ky.Cache="cache";const QS="SyncEngine";class FS{constructor(n,a,l,u,h,m){this.localStore=n,this.remoteStore=a,this.eventManager=l,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new Us((p=>t0(p)),W_),this.Iu=new Map,this.Eu=new Set,this.du=new fn(St.comparator),this.Au=new Map,this.Ru=new pd,this.Vu={},this.mu=new Map,this.fu=Vr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YS(s,n,a){const l=ZS(s);try{const u=await(function(m,p){const v=ne(m),_=le.now(),A=p.reduce((($,J)=>$.add(J.key)),Ze());let O,U;return v.persistence.runTransaction("Locally write mutations","readwrite",($=>{let J=Ku(),it=Ze();return v.Ns.getEntries($,A).next((nt=>{J=nt,J.forEach(((bt,Et)=>{Et.isValidDocument()||(it=it.add(bt))}))})).next((()=>v.localDocuments.getOverlayedDocuments($,J))).next((nt=>{O=nt;const bt=[];for(const Et of p){const mt=OA(Et,O.get(Et.key).overlayedDocument);mt!=null&&bt.push(new Ls(Et.key,mt,F_(mt.value.mapValue),Xi.exists(!0)))}return v.mutationQueue.addMutationBatch($,_,bt,p)})).next((nt=>{U=nt;const bt=nt.applyToLocalDocumentSet(O,it);return v.documentOverlayCache.saveOverlays($,nt.batchId,bt)}))})).then((()=>({batchId:U.batchId,changes:n0(O)})))})(l.localStore,n);l.sharedClientState.addPendingMutation(u.batchId),(function(m,p,v){let _=m.Vu[m.currentUser.toKey()];_||(_=new fn(Gt)),_=_.insert(p,v),m.Vu[m.currentUser.toKey()]=_})(l,u.batchId,a),await fc(l,u.changes),await cc(l.remoteStore)}catch(u){const h=A0(u,"Failed to persist write");a.reject(h)}}function qy(s,n,a){const l=ne(s);if(l.isPrimaryClient&&a===0||!l.isPrimaryClient&&a===1){const u=[];l.Tu.forEach(((h,m)=>{const p=m.view.va(n);p.snapshot&&u.push(p.snapshot)})),(function(m,p){const v=ne(m);v.onlineState=p;let _=!1;v.queries.forEach(((A,O)=>{for(const U of O.Sa)U.va(p)&&(_=!0)})),_&&GS(v)})(l.eventManager,n),u.length&&l.Pu.H_(u),l.onlineState=n,l.isPrimaryClient&&l.sharedClientState.setOnlineState(n)}}async function XS(s,n){const a=ne(s),l=n.batch.batchId;try{const u=await TS(a.localStore,n);b0(a,l,null),S0(a,l),a.sharedClientState.updateMutationState(l,"acknowledged"),await fc(a,u)}catch(u){await ad(u)}}async function KS(s,n,a){const l=ne(s);try{const u=await(function(m,p){const v=ne(m);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,p).next((O=>(de(O!==null,37113),A=O.keys(),v.mutationQueue.removeMutationBatch(_,O)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(l.localStore,n);b0(l,n,a),S0(l,n),l.sharedClientState.updateMutationState(n,"rejected",a),await fc(l,u)}catch(u){await ad(u)}}function S0(s,n){(s.mu.get(n)||[]).forEach((a=>{a.resolve()})),s.mu.delete(n)}function b0(s,n,a){const l=ne(s);let u=l.Vu[l.currentUser.toKey()];if(u){const h=u.get(n);h&&(a?h.reject(a):h.resolve(),u=u.remove(n)),l.Vu[l.currentUser.toKey()]=u}}async function fc(s,n,a){const l=ne(s),u=[],h=[],m=[];l.Tu.isEmpty()||(l.Tu.forEach(((p,v)=>{m.push(l.pu(v,n,a).then((_=>{if((_||a)&&l.isPrimaryClient){const A=_?!_.fromCache:a?.targetChanges.get(v.targetId)?.current;l.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){u.push(_);const A=_d.As(v.targetId,_);h.push(A)}})))})),await Promise.all(m),l.Pu.H_(u),await(async function(v,_){const A=ne(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(O=>X.forEach(_,(U=>X.forEach(U.Es,($=>A.persistence.referenceDelegate.addReference(O,U.targetId,$))).next((()=>X.forEach(U.ds,($=>A.persistence.referenceDelegate.removeReference(O,U.targetId,$)))))))))}catch(O){if(!ao(O))throw O;st(_S,"Failed to update sequence numbers: "+O)}for(const O of _){const U=O.targetId;if(!O.fromCache){const $=A.Ms.get(U),J=$.snapshotVersion,it=$.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(U,it)}}})(l.localStore,h))}async function $S(s,n){const a=ne(s);if(!a.currentUser.isEqual(n)){st(QS,"User change. New user:",n.toKey());const l=await p0(a.localStore,n);a.currentUser=n,(function(h,m){h.mu.forEach((p=>{p.forEach((v=>{v.reject(new ct(K.CANCELLED,m))}))})),h.mu.clear()})(a,"'waitForPendingWrites' promise is rejected due to a user change."),a.sharedClientState.handleUserChange(n,l.removedBatchIds,l.addedBatchIds),await fc(a,l.Ls)}}function ZS(s){const n=ne(s);return n.remoteStore.remoteSyncer.applySuccessfulWrite=XS.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=KS.bind(null,n),n}class Ju{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=oc(n.databaseInfo.databaseId),this.sharedClientState=this.Du(n),this.persistence=this.Cu(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Fu(n,this.localStore),this.indexBackfillerScheduler=this.Mu(n,this.localStore)}Fu(n,a){return null}Mu(n,a){return null}vu(n){return ES(this.persistence,new yS,n.initialUser,this.serializer)}Cu(n){return new g0(yd.mi,this.serializer)}Du(n){return new bS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ju.provider={build:()=>new Ju};class JS extends Ju{constructor(n){super(),this.cacheSizeBytes=n}Fu(n,a){de(this.persistence.referenceDelegate instanceof Zu,46915);const l=this.persistence.referenceDelegate.garbageCollector;return new nS(l,n.asyncQueue,a)}Cu(n){const a=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new g0((l=>Zu.mi(l,a)),this.serializer)}}class Fh{async initialize(n,a){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(a),this.remoteStore=this.createRemoteStore(a),this.eventManager=this.createEventManager(a),this.syncEngine=this.createSyncEngine(a,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=l=>qy(this.syncEngine,l,1),this.remoteStore.remoteSyncer.handleCredentialChange=$S.bind(null,this.syncEngine),await qS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new HS})()}createDatastore(n){const a=oc(n.databaseInfo.databaseId),l=(function(h){return new NS(h)})(n.databaseInfo);return(function(h,m,p,v){return new MS(h,m,p,v)})(n.authCredentials,n.appCheckCredentials,l,a)}createRemoteStore(n){return(function(l,u,h,m,p){return new US(l,u,h,m,p)})(this.localStore,this.datastore,n.asyncQueue,(a=>qy(this.syncEngine,a,0)),(function(){return Ly.v()?new Ly:new RS})())}createSyncEngine(n,a){return(function(u,h,m,p,v,_,A){const O=new FS(u,h,m,p,v,_);return A&&(O.gu=!0),O})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,a)}async terminate(){await(async function(a){const l=ne(a);st(ro,"RemoteStore shutting down."),l.Ea.add(5),await lo(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Fh.provider={build:()=>new Fh};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="FirestoreClient";class WS{constructor(n,a,l,u,h){this.authCredentials=n,this.appCheckCredentials=a,this.asyncQueue=l,this.databaseInfo=u,this.user=$e.UNAUTHENTICATED,this.clientId=nd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(l,(async m=>{st(za,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m})),this.appCheckCredentials.start(l,(m=>(st(za,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){this.asyncQueue.enterRestrictedMode();const n=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),n.resolve()}catch(a){const l=A0(a,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}async function wh(s,n){s.asyncQueue.verifyOperationInProgress(),st(za,"Initializing OfflineComponentProvider");const a=s.configuration;await n.initialize(a);let l=a.initialUser;s.setCredentialChangeListener((async u=>{l.isEqual(u)||(await p0(n.localStore,u),l=u)})),n.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=n}async function Hy(s,n){s.asyncQueue.verifyOperationInProgress();const a=await tb(s);st(za,"Initializing OnlineComponentProvider"),await n.initialize(a,s.configuration),s.setCredentialChangeListener((l=>zy(n.remoteStore,l))),s.setAppCheckTokenChangeListener(((l,u)=>zy(n.remoteStore,u))),s._onlineComponents=n}async function tb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(za,"Using user provided OfflineComponentProvider");try{await wh(s,s._uninitializedComponentsProvider._offline)}catch(n){const a=n;if(!(function(u){return u.name==="FirebaseError"?u.code===K.FAILED_PRECONDITION||u.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(a))throw a;ac("Error using user provided cache. Falling back to memory cache: "+a),await wh(s,new Ju)}}else st(za,"Using default OfflineComponentProvider"),await wh(s,new JS(void 0));return s._offlineComponents}async function eb(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(za,"Using user provided OnlineComponentProvider"),await Hy(s,s._uninitializedComponentsProvider._online)):(st(za,"Using default OnlineComponentProvider"),await Hy(s,new Fh))),s._onlineComponents}function nb(s){return eb(s).then((n=>n.syncEngine))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(s){const n={};return s.timeoutSeconds!==void 0&&(n.timeoutSeconds=s.timeoutSeconds),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="firestore.googleapis.com",Qy=!0;class Fy{constructor(n){if(n.host===void 0){if(n.ssl!==void 0)throw new ct(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=w0,this.ssl=Qy}else this.host=n.host,this.ssl=n.ssl??Qy;if(this.isUsingEmulator=n.emulatorOptions!==void 0,this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,n.cacheSizeBytes===void 0)this.cacheSizeBytes=m0;else{if(n.cacheSizeBytes!==-1&&n.cacheSizeBytes<tS)throw new ct(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}q1("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:n.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=R0(n.experimentalLongPollingOptions??{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ct(K.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ct(K.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ct(K.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&(function(l,u){return l.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,n.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class hc{constructor(n,a,l,u){this._authCredentials=n,this._appCheckCredentials=a,this._databaseId=l,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(n){if(this._settingsFrozen)throw new ct(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fy(n),this._emulatorOptions=n.emulatorOptions||{},n.credentials!==void 0&&(this._authCredentials=(function(l){if(!l)return new O1;switch(l.type){case"firstParty":return new L1(l.sessionIndex||"0",l.iamToken||null,l.authTokenFactory||null);case"provider":return l.client;default:throw new ct(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(a){const l=Gy.get(a);l&&(st("ComponentProvider","Removing Datastore"),Gy.delete(a),l.terminate())})(this),Promise.resolve()}}function ib(s,n,a,l={}){s=j_(s,hc);const u=$h(n),h=s._getSettings(),m={...h,emulatorOptions:s._getEmulatorOptions()},p=`${n}:${a}`;u&&(aT(`https://${p}`),oT("Firestore",!0)),h.host!==w0&&h.host!==p&&ac("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:p,ssl:u,emulatorOptions:l};if(!Kl(v,m)&&(s._setSettings(v),l.mockUserToken)){let _,A;if(typeof l.mockUserToken=="string")_=l.mockUserToken,A=$e.MOCK_USER;else{_=sT(l.mockUserToken,s._app?.options.projectId);const O=l.mockUserToken.sub||l.mockUserToken.user_id;if(!O)throw new ct(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new $e(O)}s._authCredentials=new M1(new V_(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(n,a,l){this.converter=a,this._query=l,this.type="query",this.firestore=n}withConverter(n){return new Ed(this.firestore,n,this._query)}}class Je{constructor(n,a,l){this.converter=a,this._key=l,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Je(this.firestore,n,this._key)}toJSON(){return{type:Je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(n,a,l){if(io(a,Je._jsonSchema))return new Je(n,l||null,new St(ue.fromString(a.referencePath)))}}Je._jsonSchemaVersion="firestore/documentReference/1.0",Je._jsonSchema={type:Se("string",Je._jsonSchemaVersion),referencePath:Se("string")};class Ma extends Ed{constructor(n,a,l){super(n,a,gA(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Je(this.firestore,null,new St(n))}withConverter(n){return new Ma(this.firestore,n,this._path)}}function ab(s,n,...a){if(s=Is(s),U_("collection","path",n),s instanceof hc){const l=ue.fromString(n,...a);return my(l),new Ma(s,null,l)}{if(!(s instanceof Je||s instanceof Ma))throw new ct(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=s._path.child(ue.fromString(n,...a));return my(l),new Ma(s.firestore,null,l)}}function sb(s,n,...a){if(s=Is(s),arguments.length===1&&(n=nd.newId()),U_("doc","path",n),s instanceof hc){const l=ue.fromString(n,...a);return dy(l),new Je(s,null,new St(l))}{if(!(s instanceof Je||s instanceof Ma))throw new ct(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=s._path.child(ue.fromString(n,...a));return dy(l),new Je(s.firestore,s instanceof Ma?s.converter:null,new St(l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="AsyncQueue";class Xy{constructor(n=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new y0(this,"async_queue_retry"),this._c=()=>{const l=Rh();l&&st(Yy,"Visibility state changed to "+l.visibilityState),this.M_.w_()},this.ac=n;const a=Rh();a&&typeof a.addEventListener=="function"&&a.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.uc(),this.cc(n)}enterRestrictedMode(n){if(!this.ec){this.ec=!0,this.sc=n||!1;const a=Rh();a&&typeof a.removeEventListener=="function"&&a.removeEventListener("visibilitychange",this._c)}}enqueue(n){if(this.uc(),this.ec)return new Promise((()=>{}));const a=new ws;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(n().then(a.resolve,a.reject),a.promise))).then((()=>a.promise))}enqueueRetryable(n){this.enqueueAndForget((()=>(this.Xu.push(n),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(n){if(!ao(n))throw n;st(Yy,"Operation failed with retryable error: "+n)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(n){const a=this.ac.then((()=>(this.rc=!0,n().catch((l=>{throw this.nc=l,this.rc=!1,Ds("INTERNAL UNHANDLED ERROR: ",Ky(l)),l})).then((l=>(this.rc=!1,l))))));return this.ac=a,a}enqueueAfterDelay(n,a,l){this.uc(),this.oc.indexOf(n)>-1&&(a=0);const u=vd.createAndSchedule(this,n,a,l,(h=>this.hc(h)));return this.tc.push(u),u}uc(){this.nc&&wt(47125,{Pc:Ky(this.nc)})}verifyOperationInProgress(){}async Tc(){let n;do n=this.ac,await n;while(n!==this.ac)}Ic(n){for(const a of this.tc)if(a.timerId===n)return!0;return!1}Ec(n){return this.Tc().then((()=>{this.tc.sort(((a,l)=>a.targetTimeMs-l.targetTimeMs));for(const a of this.tc)if(a.skipDelay(),n!=="all"&&a.timerId===n)break;return this.Tc()}))}dc(n){this.oc.push(n)}hc(n){const a=this.tc.indexOf(n);this.tc.splice(a,1)}}function Ky(s){let n=s.message||"";return s.stack&&(n=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),n}class C0 extends hc{constructor(n,a,l,u){super(n,a,l,u),this.type="firestore",this._queue=new Xy,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const n=this._firestoreClient.terminate();this._queue=new Xy(n),this._firestoreClient=void 0,await n}}}function rb(s,n){const a=typeof s=="object"?s:R_(),l=typeof s=="string"?s:Qu,u=no(a,"firestore").getImmediate({identifier:l});if(!u._initialized){const h=nT("firestore");h&&ib(u,...h)}return u}function lb(s){if(s._terminated)throw new ct(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||ob(s),s._firestoreClient}function ob(s){const n=s._freezeSettings(),a=(function(u,h,m,p){return new tA(u,h,m,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,R0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,n);s._componentsProvider||n.localCache?._offlineComponentProvider&&n.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:n.localCache._offlineComponentProvider,_online:n.localCache._onlineComponentProvider}),s._firestoreClient=new WS(s._authCredentials,s._appCheckCredentials,s._queue,a,s._componentsProvider&&(function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(n){this._byteString=n}static fromBase64String(n){try{return new Fn(yi.fromBase64String(n))}catch(a){throw new ct(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(n){return new Fn(yi.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(n){if(io(n,Fn._jsonSchema))return Fn.fromBase64String(n.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Se("string",Fn._jsonSchemaVersion),bytes:Se("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(...n){for(let a=0;a<n.length;++a)if(n[a].length===0)throw new ct(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(n){this._methodName=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(n,a){if(!isFinite(n)||n<-90||n>90)throw new ct(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(a)||a<-180||a>180)throw new ct(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=n,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}_compareTo(n){return Gt(this._lat,n._lat)||Gt(this._long,n._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ki._jsonSchemaVersion}}static fromJSON(n){if(io(n,Ki._jsonSchema))return new Ki(n.latitude,n.longitude)}}Ki._jsonSchemaVersion="firestore/geoPoint/1.0",Ki._jsonSchema={type:Se("string",Ki._jsonSchemaVersion),latitude:Se("number"),longitude:Se("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(n){this._values=(n||[]).map((a=>a))}toArray(){return this._values.map((n=>n))}isEqual(n){return(function(l,u){if(l.length!==u.length)return!1;for(let h=0;h<l.length;++h)if(l[h]!==u[h])return!1;return!0})(this._values,n._values)}toJSON(){return{type:$i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(n){if(io(n,$i._jsonSchema)){if(Array.isArray(n.vectorValues)&&n.vectorValues.every((a=>typeof a=="number")))return new $i(n.vectorValues);throw new ct(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$i._jsonSchemaVersion="firestore/vectorValue/1.0",$i._jsonSchema={type:Se("string",$i._jsonSchemaVersion),vectorValues:Se("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=/^__.*__$/;class cb{constructor(n,a,l){this.data=n,this.fieldMask=a,this.fieldTransforms=l}toMutation(n,a){return this.fieldMask!==null?new Ls(n,this.data,this.fieldMask,a,this.fieldTransforms):new so(n,this.data,a,this.fieldTransforms)}}function I0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt(40011,{Ac:s})}}class Sd{constructor(n,a,l,u,h,m){this.settings=n,this.databaseId=a,this.serializer=l,this.ignoreUndefinedProperties=u,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(n){return new Sd({...this.settings,...n},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(n){const a=this.path?.child(n),l=this.Vc({path:a,fc:!1});return l.gc(n),l}yc(n){const a=this.path?.child(n),l=this.Vc({path:a,fc:!1});return l.Rc(),l}wc(n){return this.Vc({path:void 0,fc:!0})}Sc(n){return Wu(n,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(n){return this.fieldMask.find((a=>n.isPrefixOf(a)))!==void 0||this.fieldTransforms.find((a=>n.isPrefixOf(a.field)))!==void 0}Rc(){if(this.path)for(let n=0;n<this.path.length;n++)this.gc(this.path.get(n))}gc(n){if(n.length===0)throw this.Sc("Document fields must not be empty");if(I0(this.Ac)&&ub.test(n))throw this.Sc('Document fields cannot begin and end with "__"')}}class fb{constructor(n,a,l){this.databaseId=n,this.ignoreUndefinedProperties=a,this.serializer=l||oc(n)}Cc(n,a,l,u=!1){return new Sd({Ac:n,methodName:a,Dc:l,path:He.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hb(s){const n=s._freezeSettings(),a=oc(s._databaseId);return new fb(s._databaseId,!!n.ignoreUndefinedProperties,a)}function db(s,n,a,l,u,h={}){const m=s.Cc(h.merge||h.mergeFields?2:0,n,a,u);O0("Data must be an object, but it was:",m,l);const p=D0(l,m);let v,_;if(h.merge)v=new Yn(m.fieldMask),_=m.fieldTransforms;else if(h.mergeFields){const A=[];for(const O of h.mergeFields){const U=mb(n,O,a);if(!m.contains(U))throw new ct(K.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);pb(A,U)||A.push(U)}v=new Yn(A),_=m.fieldTransforms.filter((O=>v.covers(O.field)))}else v=null,_=m.fieldTransforms;return new cb(new Qn(p),v,_)}class bd extends Ad{_toFieldTransform(n){return new IA(n.path,new Wl)}isEqual(n){return n instanceof bd}}function N0(s,n){if(x0(s=Is(s)))return O0("Unsupported field value:",n,s),D0(s,n);if(s instanceof Ad)return(function(l,u){if(!I0(u.Ac))throw u.Sc(`${l._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${l._methodName}() is not currently supported inside arrays`);const h=l._toFieldTransform(u);h&&u.fieldTransforms.push(h)})(s,n),null;if(s===void 0&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),s instanceof Array){if(n.settings.fc&&n.Ac!==4)throw n.Sc("Nested arrays are not supported");return(function(l,u){const h=[];let m=0;for(const p of l){let v=N0(p,u.wc(m));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),m++}return{arrayValue:{values:h}}})(s,n)}return(function(l,u){if((l=Is(l))===null)return{nullValue:"NULL_VALUE"};if(typeof l=="number")return RA(u.serializer,l);if(typeof l=="boolean")return{booleanValue:l};if(typeof l=="string")return{stringValue:l};if(l instanceof Date){const h=le.fromDate(l);return{timestampValue:qh(u.serializer,h)}}if(l instanceof le){const h=new le(l.seconds,1e3*Math.floor(l.nanoseconds/1e3));return{timestampValue:qh(u.serializer,h)}}if(l instanceof Ki)return{geoPointValue:{latitude:l.latitude,longitude:l.longitude}};if(l instanceof Fn)return{bytesValue:PA(u.serializer,l._byteString)};if(l instanceof Je){const h=u.databaseId,m=l.firestore._databaseId;if(!m.isEqual(h))throw u.Sc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:h0(l.firestore._databaseId||u.databaseId,l._key.path)}}if(l instanceof $i)return(function(m,p){return{mapValue:{fields:{[G_]:{stringValue:Q_},[jh]:{arrayValue:{values:m.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return md(p.serializer,_)}))}}}}}})(l,u);throw u.Sc(`Unsupported field value: ${id(l)}`)})(s,n)}function D0(s,n){const a={};return P_(s)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Lr(s,((l,u)=>{const h=N0(u,n.mc(l));h!=null&&(a[l]=h)})),{mapValue:{fields:a}}}function x0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof le||s instanceof Ki||s instanceof Fn||s instanceof Je||s instanceof Ad||s instanceof $i)}function O0(s,n,a){if(!x0(a)||!L_(a)){const l=id(a);throw l==="an object"?n.Sc(s+" a custom object"):n.Sc(s+" "+l)}}function mb(s,n,a){if((n=Is(n))instanceof Td)return n._internalPath;if(typeof n=="string")return M0(s,n);throw Wu("Field path arguments must be of type string or ",s,!1,void 0,a)}const gb=new RegExp("[~\\*/\\[\\]]");function M0(s,n,a){if(n.search(gb)>=0)throw Wu(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,a);try{return new Td(...n.split("."))._internalPath}catch{throw Wu(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,a)}}function Wu(s,n,a,l,u){const h=l&&!l.isEmpty(),m=u!==void 0;let p=`Function ${n}() called with invalid data`;a&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||m)&&(v+=" (found",h&&(v+=` in field ${l}`),m&&(v+=` in document ${u}`),v+=")"),new ct(K.INVALID_ARGUMENT,p+s+v)}function pb(s,n){return s.some((a=>a.isEqual(n)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(n,a,l,u,h){this._firestore=n,this._userDataWriter=a,this._key=l,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const n=new yb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const a=this._document.data.field(U0("DocumentSnapshot.get",n));if(a!==null)return this._userDataWriter.convertValue(a)}}}class yb extends V0{data(){return super.data()}}function U0(s,n){return typeof n=="string"?M0(s,n):n instanceof Td?n._internalPath:n._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(s,n,a){let l;return l=s?s.toFirestore(n):n,l}class Uu{constructor(n,a){this.hasPendingWrites=n,this.fromCache=a}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Nr extends V0{constructor(n,a,l,u,h,m){super(n,a,l,u,m),this._firestore=n,this._firestoreImpl=n,this.metadata=h}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const a=new Bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,a={}){if(this._document){const l=this._document.data.field(U0("DocumentSnapshot.get",n));if(l!==null)return this._userDataWriter.convertValue(l,a.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n=this._document,a={};return a.type=Nr._jsonSchemaVersion,a.bundle="",a.bundleSource="DocumentSnapshot",a.bundleName=this._key.toString(),!n||!n.isValidDocument()||!n.isFoundDocument()?a:(this._userDataWriter.convertObjectMap(n.data.value.mapValue.fields,"previous"),a.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),a)}}Nr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Nr._jsonSchema={type:Se("string",Nr._jsonSchemaVersion),bundleSource:Se("string","DocumentSnapshot"),bundleName:Se("string"),bundle:Se("string")};class Bu extends Nr{data(n={}){return super.data(n)}}class Yl{constructor(n,a,l,u){this._firestore=n,this._userDataWriter=a,this._snapshot=u,this.metadata=new Uu(u.hasPendingWrites,u.fromCache),this.query=l}get docs(){const n=[];return this.forEach((a=>n.push(a))),n}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(n,a){this._snapshot.docs.forEach((l=>{n.call(a,new Bu(this._firestore,this._userDataWriter,l.key,l,new Uu(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(n={}){const a=!!n.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new ct(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=(function(u,h){if(u._snapshot.oldDocs.isEmpty()){let m=0;return u._snapshot.docChanges.map((p=>{const v=new Bu(u._firestore,u._userDataWriter,p.doc.key,p.doc,new Uu(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:m++}}))}{let m=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const v=new Bu(u._firestore,u._userDataWriter,p.doc.key,p.doc,new Uu(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return p.type!==0&&(_=m.indexOf(p.doc.key),m=m.delete(p.doc.key)),p.type!==1&&(m=m.add(p.doc),A=m.indexOf(p.doc.key)),{type:vb(p.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n={};n.type=Yl._jsonSchemaVersion,n.bundleSource="QuerySnapshot",n.bundleName=nd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const a=[],l=[],u=[];return this.docs.forEach((h=>{h._document!==null&&(a.push(h._document),l.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))})),n.bundle=(this._firestore,this.query._query,n.bundleName,"NOT SUPPORTED"),n}}function vb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt(61501,{type:s})}}Yl._jsonSchemaVersion="firestore/querySnapshot/1.0",Yl._jsonSchema={type:Se("string",Yl._jsonSchemaVersion),bundleSource:Se("string","QuerySnapshot"),bundleName:Se("string"),bundle:Se("string")};function Eb(s,n){const a=j_(s.firestore,C0),l=sb(s),u=_b(s.converter,n);return Tb(a,[db(hb(s.firestore),"addDoc",l._key,u,s.converter!==null,{}).toMutation(l._key,Xi.exists(!1))]).then((()=>l))}function Tb(s,n){return(function(l,u){const h=new ws;return l.asyncQueue.enqueueAndForget((async()=>YS(await nb(l),u,h))),h.promise})(lb(s),n)}function Ab(){return new bd("serverTimestamp")}(function(n,a=!0){(function(u){Ur=u})(v1),Va(new Zi("firestore",((l,{instanceIdentifier:u,options:h})=>{const m=l.getProvider("app").getImmediate(),p=new C0(new V1(l.getProvider("auth-internal")),new j1(m,l.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ct(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fu(_.options.projectId,A)})(m,u),m);return h={useFetchStreams:a,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),pi(uy,cy,n),pi(uy,cy,"esm2020")})();const L0="@firebase/installations",Rd="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=1e4,z0=`w:${Rd}`,P0="FIS_v2",Sb="https://firebaseinstallations.googleapis.com/v1",bb=3600*1e3,Rb="installations",wb="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ms=new ic(Rb,wb,Cb);function B0(s){return s instanceof Pa&&s.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0({projectId:s}){return`${Sb}/projects/${s}/installations`}function q0(s){return{token:s.token,requestStatus:2,expiresIn:Nb(s.expiresIn),creationTime:Date.now()}}async function H0(s,n){const l=(await n.json()).error;return Ms.create("request-failed",{requestName:s,serverCode:l.code,serverMessage:l.message,serverStatus:l.status})}function G0({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function Ib(s,{refreshToken:n}){const a=G0(s);return a.append("Authorization",Db(n)),a}async function Q0(s){const n=await s();return n.status>=500&&n.status<600?s():n}function Nb(s){return Number(s.replace("s","000"))}function Db(s){return`${P0} ${s}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xb({appConfig:s,heartbeatServiceProvider:n},{fid:a}){const l=k0(s),u=G0(s),h=n.getImmediate({optional:!0});if(h){const _=await h.getHeartbeatsHeader();_&&u.append("x-firebase-client",_)}const m={fid:a,authVersion:P0,appId:s.appId,sdkVersion:z0},p={method:"POST",headers:u,body:JSON.stringify(m)},v=await Q0(()=>fetch(l,p));if(v.ok){const _=await v.json();return{fid:_.fid||a,registrationStatus:2,refreshToken:_.refreshToken,authToken:q0(_.authToken)}}else throw await H0("Create Installation",v)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(s){return new Promise(n=>{setTimeout(n,s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=/^[cdef][\w-]{21}$/,Yh="";function Vb(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const a=Ub(s);return Mb.test(a)?a:Yh}catch{return Yh}}function Ub(s){return Ob(s).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(s){return`${s.appName}!${s.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=new Map;function X0(s,n){const a=dc(s);K0(a,n),Lb(a,n)}function K0(s,n){const a=Y0.get(s);if(a)for(const l of a)l(n)}function Lb(s,n){const a=jb();a&&a.postMessage({key:s,fid:n}),zb()}let Rs=null;function jb(){return!Rs&&"BroadcastChannel"in self&&(Rs=new BroadcastChannel("[Firebase] FID Change"),Rs.onmessage=s=>{K0(s.data.key,s.data.fid)}),Rs}function zb(){Y0.size===0&&Rs&&(Rs.close(),Rs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="firebase-installations-database",Bb=1,Vs="firebase-installations-store";let Ch=null;function wd(){return Ch||(Ch=b_(Pb,Bb,{upgrade:(s,n)=>{switch(n){case 0:s.createObjectStore(Vs)}}})),Ch}async function tc(s,n){const a=dc(s),u=(await wd()).transaction(Vs,"readwrite"),h=u.objectStore(Vs),m=await h.get(a);return await h.put(n,a),await u.done,(!m||m.fid!==n.fid)&&X0(s,n.fid),n}async function $0(s){const n=dc(s),l=(await wd()).transaction(Vs,"readwrite");await l.objectStore(Vs).delete(n),await l.done}async function mc(s,n){const a=dc(s),u=(await wd()).transaction(Vs,"readwrite"),h=u.objectStore(Vs),m=await h.get(a),p=n(m);return p===void 0?await h.delete(a):await h.put(p,a),await u.done,p&&(!m||m.fid!==p.fid)&&X0(s,p.fid),p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cd(s){let n;const a=await mc(s.appConfig,l=>{const u=kb(l),h=qb(s,u);return n=h.registrationPromise,h.installationEntry});return a.fid===Yh?{installationEntry:await n}:{installationEntry:a,registrationPromise:n}}function kb(s){const n=s||{fid:Vb(),registrationStatus:0};return Z0(n)}function qb(s,n){if(n.registrationStatus===0){if(!navigator.onLine){const u=Promise.reject(Ms.create("app-offline"));return{installationEntry:n,registrationPromise:u}}const a={fid:n.fid,registrationStatus:1,registrationTime:Date.now()},l=Hb(s,a);return{installationEntry:a,registrationPromise:l}}else return n.registrationStatus===1?{installationEntry:n,registrationPromise:Gb(s)}:{installationEntry:n}}async function Hb(s,n){try{const a=await xb(s,n);return tc(s.appConfig,a)}catch(a){throw B0(a)&&a.customData.serverCode===409?await $0(s.appConfig):await tc(s.appConfig,{fid:n.fid,registrationStatus:0}),a}}async function Gb(s){let n=await $y(s.appConfig);for(;n.registrationStatus===1;)await F0(100),n=await $y(s.appConfig);if(n.registrationStatus===0){const{installationEntry:a,registrationPromise:l}=await Cd(s);return l||a}return n}function $y(s){return mc(s,n=>{if(!n)throw Ms.create("installation-not-found");return Z0(n)})}function Z0(s){return Qb(s)?{fid:s.fid,registrationStatus:0}:s}function Qb(s){return s.registrationStatus===1&&s.registrationTime+j0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fb({appConfig:s,heartbeatServiceProvider:n},a){const l=Yb(s,a),u=Ib(s,a),h=n.getImmediate({optional:!0});if(h){const _=await h.getHeartbeatsHeader();_&&u.append("x-firebase-client",_)}const m={installation:{sdkVersion:z0,appId:s.appId}},p={method:"POST",headers:u,body:JSON.stringify(m)},v=await Q0(()=>fetch(l,p));if(v.ok){const _=await v.json();return q0(_)}else throw await H0("Generate Auth Token",v)}function Yb(s,{fid:n}){return`${k0(s)}/${n}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Id(s,n=!1){let a;const l=await mc(s.appConfig,h=>{if(!J0(h))throw Ms.create("not-registered");const m=h.authToken;if(!n&&$b(m))return h;if(m.requestStatus===1)return a=Xb(s,n),h;{if(!navigator.onLine)throw Ms.create("app-offline");const p=Jb(h);return a=Kb(s,p),p}});return a?await a:l.authToken}async function Xb(s,n){let a=await Zy(s.appConfig);for(;a.authToken.requestStatus===1;)await F0(100),a=await Zy(s.appConfig);const l=a.authToken;return l.requestStatus===0?Id(s,n):l}function Zy(s){return mc(s,n=>{if(!J0(n))throw Ms.create("not-registered");const a=n.authToken;return Wb(a)?{...n,authToken:{requestStatus:0}}:n})}async function Kb(s,n){try{const a=await Fb(s,n),l={...n,authToken:a};return await tc(s.appConfig,l),a}catch(a){if(B0(a)&&(a.customData.serverCode===401||a.customData.serverCode===404))await $0(s.appConfig);else{const l={...n,authToken:{requestStatus:0}};await tc(s.appConfig,l)}throw a}}function J0(s){return s!==void 0&&s.registrationStatus===2}function $b(s){return s.requestStatus===2&&!Zb(s)}function Zb(s){const n=Date.now();return n<s.creationTime||s.creationTime+s.expiresIn<n+bb}function Jb(s){const n={requestStatus:1,requestTime:Date.now()};return{...s,authToken:n}}function Wb(s){return s.requestStatus===1&&s.requestTime+j0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(s){const n=s,{installationEntry:a,registrationPromise:l}=await Cd(n);return l?l.catch(console.error):Id(n).catch(console.error),a.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(s,n=!1){const a=s;return await n2(a),(await Id(a,n)).token}async function n2(s){const{registrationPromise:n}=await Cd(s);n&&await n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(s){if(!s||!s.options)throw Ih("App Configuration");if(!s.name)throw Ih("App Name");const n=["projectId","apiKey","appId"];for(const a of n)if(!s.options[a])throw Ih(a);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function Ih(s){return Ms.create("missing-app-config-values",{valueName:s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="installations",a2="installations-internal",s2=s=>{const n=s.getProvider("app").getImmediate(),a=i2(n),l=no(n,"heartbeat");return{app:n,appConfig:a,heartbeatServiceProvider:l,_delete:()=>Promise.resolve()}},r2=s=>{const n=s.getProvider("app").getImmediate(),a=no(n,W0).getImmediate();return{getId:()=>t2(a),getToken:u=>e2(a,u)}};function l2(){Va(new Zi(W0,s2,"PUBLIC")),Va(new Zi(a2,r2,"PRIVATE"))}l2();pi(L0,Rd);pi(L0,Rd,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec="analytics",o2="firebase_id",u2="origin",c2=60*1e3,f2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Nd="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn=new Zh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},En=new ic("analytics","Analytics",h2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(s){if(!s.startsWith(Nd)){const n=En.create("invalid-gtag-resource",{gtagURL:s});return cn.warn(n.message),""}return s}function tv(s){return Promise.all(s.map(n=>n.catch(a=>a)))}function m2(s,n){let a;return window.trustedTypes&&(a=window.trustedTypes.createPolicy(s,n)),a}function g2(s,n){const a=m2("firebase-js-sdk-policy",{createScriptURL:d2}),l=document.createElement("script"),u=`${Nd}?l=${s}&id=${n}`;l.src=a?a?.createScriptURL(u):u,l.async=!0,document.head.appendChild(l)}function p2(s){let n=[];return Array.isArray(window[s])?n=window[s]:window[s]=n,n}async function y2(s,n,a,l,u,h){const m=l[u];try{if(m)await n[m];else{const v=(await tv(a)).find(_=>_.measurementId===u);v&&await n[v.appId]}}catch(p){cn.error(p)}s("config",u,h)}async function _2(s,n,a,l,u){try{let h=[];if(u&&u.send_to){let m=u.send_to;Array.isArray(m)||(m=[m]);const p=await tv(a);for(const v of m){const _=p.find(O=>O.measurementId===v),A=_&&n[_.appId];if(A)h.push(A);else{h=[];break}}}h.length===0&&(h=Object.values(n)),await Promise.all(h),s("event",l,u||{})}catch(h){cn.error(h)}}function v2(s,n,a,l){async function u(h,...m){try{if(h==="event"){const[p,v]=m;await _2(s,n,a,p,v)}else if(h==="config"){const[p,v]=m;await y2(s,n,a,l,p,v)}else if(h==="consent"){const[p,v]=m;s("consent",p,v)}else if(h==="get"){const[p,v,_]=m;s("get",p,v,_)}else if(h==="set"){const[p]=m;s("set",p)}else s(h,...m)}catch(p){cn.error(p)}}return u}function E2(s,n,a,l,u){let h=function(...m){window[l].push(arguments)};return window[u]&&typeof window[u]=="function"&&(h=window[u]),window[u]=v2(h,s,n,a),{gtagCore:h,wrappedGtag:window[u]}}function T2(s){const n=window.document.getElementsByTagName("script");for(const a of Object.values(n))if(a.src&&a.src.includes(Nd)&&a.src.includes(s))return a;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=30,S2=1e3;class b2{constructor(n={},a=S2){this.throttleMetadata=n,this.intervalMillis=a}getThrottleMetadata(n){return this.throttleMetadata[n]}setThrottleMetadata(n,a){this.throttleMetadata[n]=a}deleteThrottleMetadata(n){delete this.throttleMetadata[n]}}const ev=new b2;function R2(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function w2(s){const{appId:n,apiKey:a}=s,l={method:"GET",headers:R2(a)},u=f2.replace("{app-id}",n),h=await fetch(u,l);if(h.status!==200&&h.status!==304){let m="";try{const p=await h.json();p.error?.message&&(m=p.error.message)}catch{}throw En.create("config-fetch-failed",{httpStatus:h.status,responseMessage:m})}return h.json()}async function C2(s,n=ev,a){const{appId:l,apiKey:u,measurementId:h}=s.options;if(!l)throw En.create("no-app-id");if(!u){if(h)return{measurementId:h,appId:l};throw En.create("no-api-key")}const m=n.getThrottleMetadata(l)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new D2;return setTimeout(async()=>{p.abort()},c2),nv({appId:l,apiKey:u,measurementId:h},m,p,n)}async function nv(s,{throttleEndTimeMillis:n,backoffCount:a},l,u=ev){const{appId:h,measurementId:m}=s;try{await I2(l,n)}catch(p){if(m)return cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:h,measurementId:m};throw p}try{const p=await w2(s);return u.deleteThrottleMetadata(h),p}catch(p){const v=p;if(!N2(v)){if(u.deleteThrottleMetadata(h),m)return cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:h,measurementId:m};throw p}const _=Number(v?.customData?.httpStatus)===503?Wp(a,u.intervalMillis,A2):Wp(a,u.intervalMillis),A={throttleEndTimeMillis:Date.now()+_,backoffCount:a+1};return u.setThrottleMetadata(h,A),cn.debug(`Calling attemptFetch again in ${_} millis`),nv(s,A,l,u)}}function I2(s,n){return new Promise((a,l)=>{const u=Math.max(n-Date.now(),0),h=setTimeout(a,u);s.addEventListener(()=>{clearTimeout(h),l(En.create("fetch-throttle",{throttleEndTimeMillis:n}))})})}function N2(s){if(!(s instanceof Pa)||!s.customData)return!1;const n=Number(s.customData.httpStatus);return n===429||n===500||n===503||n===504}class D2{constructor(){this.listeners=[]}addEventListener(n){this.listeners.push(n)}abort(){this.listeners.forEach(n=>n())}}async function x2(s,n,a,l,u){if(u&&u.global){s("event",a,l);return}else{const h=await n,m={...l,send_to:h};s("event",a,m)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(){if(E_())try{await T_()}catch(s){return cn.warn(En.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return cn.warn(En.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function M2(s,n,a,l,u,h,m){const p=C2(s);p.then(U=>{a[U.measurementId]=U.appId,s.options.measurementId&&U.measurementId!==s.options.measurementId&&cn.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${U.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(U=>cn.error(U)),n.push(p);const v=O2().then(U=>{if(U)return l.getId()}),[_,A]=await Promise.all([p,v]);T2(h)||g2(h,_.measurementId),u("js",new Date);const O=m?.config??{};return O[u2]="firebase",O.update=!0,A!=null&&(O[o2]=A),u("config",_.measurementId,O),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(n){this.app=n}_delete(){return delete Xl[this.app.options.appId],Promise.resolve()}}let Xl={},Jy=[];const Wy={};let Nh="dataLayer",U2="gtag",t_,iv,e_=!1;function L2(){const s=[];if(fT()&&s.push("This is a browser extension environment."),dT()||s.push("Cookies are not available."),s.length>0){const n=s.map((l,u)=>`(${u+1}) ${l}`).join(" "),a=En.create("invalid-analytics-context",{errorInfo:n});cn.warn(a.message)}}function j2(s,n,a){L2();const l=s.options.appId;if(!l)throw En.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw En.create("no-api-key");if(Xl[l]!=null)throw En.create("already-exists",{id:l});if(!e_){p2(Nh);const{wrappedGtag:h,gtagCore:m}=E2(Xl,Jy,Wy,Nh,U2);iv=h,t_=m,e_=!0}return Xl[l]=M2(s,Jy,Wy,n,t_,Nh,a),new V2(s)}function z2(s=R_()){s=Is(s);const n=no(s,ec);return n.isInitialized()?n.getImmediate():P2(s)}function P2(s,n={}){const a=no(s,ec);if(a.isInitialized()){const u=a.getImmediate();if(Kl(n,a.getOptions()))return u;throw En.create("already-initialized")}return a.initialize({options:n})}function B2(s,n,a,l){s=Is(s),x2(iv,Xl[s.app.options.appId],n,a,l).catch(u=>cn.error(u))}const n_="@firebase/analytics",i_="0.10.18";function k2(){Va(new Zi(ec,(n,{options:a})=>{const l=n.getProvider("app").getImmediate(),u=n.getProvider("installations-internal").getImmediate();return j2(l,u,a)},"PUBLIC")),Va(new Zi("analytics-internal",s,"PRIVATE")),pi(n_,i_),pi(n_,i_,"esm2020");function s(n){try{const a=n.getProvider(ec).getImmediate();return{logEvent:(l,u,h)=>B2(a,l,u,h)}}catch(a){throw En.create("interop-component-reg-failed",{reason:a})}}}k2();const nc={apiKey:"AIzaSyDwst-4J5unX773oOfXHfjdOymh02yH_fU",authDomain:"steering-experiment.firebaseapp.com",projectId:"steering-experiment",storageBucket:"steering-experiment.firebasestorage.app",messagingSenderId:"773443415350",appId:"1:773443415350:web:f95e4d189b16ebb76d9797",measurementId:"G-RFZQQVCF7C"},q2=Wh(nc);z2(q2);const H2=Wh(nc),G2=rb(H2);async function Q2(s){try{const n={...s,uploadedAt:Ab(),version:"2.0"},a=await Eb(ab(G2,"experiments"),n);return console.log("Data uploaded successfully with ID:",a.id),a.id}catch(n){throw console.error("Error uploading data to Firebase:",n),n}}async function F2(s,n=3){let a;for(let l=1;l<=n;l++)try{return await Q2(s)}catch(u){if(a=u,console.warn(`Upload attempt ${l} failed:`,u.message),l<n){const h=Math.pow(2,l)*1e3;await new Promise(m=>setTimeout(m,h))}}throw new Error(`Failed to upload data after ${n} attempts. Last error: ${a.message}`)}function Y2(){return nc.apiKey!=="your-api-key-here"&&nc.projectId!=="your-project-id"}const a_=(s,n,a)=>{const l={participantId:s,prolificData:n,trialData:a,summary:{totalTrials:a.length,averageCompletionTime:a.reduce((p,v)=>p+v.completionTime,0)/a.length}},u=new Blob([JSON.stringify(l,null,2)],{type:"application/json"}),h=URL.createObjectURL(u),m=document.createElement("a");m.href=h,m.download=`steering_experiment_${s}_${Date.now()}.json`,m.click(),URL.revokeObjectURL(h)},X2=async(s,n,a)=>{if(!Y2())throw new Error("Firebase not configured. Please check your configuration.");const l={participantId:s,prolificData:n,trialData:a,summary:{totalTrials:a.length,averageCompletionTime:a.reduce((h,m)=>h+m.completionTime,0)/a.length},experimentVersion:"3.0",completedAt:new Date().toISOString()};return await F2(l)},s_=(s,n)=>s===ut.MAIN_TRIALS?n+1:s===ut.SEQUENTIAL_TRIALS?Cr.length+n+1:0,r_=()=>Cr.length+kE.length,l_=(s,n)=>s===ut.TIME_TRIALS?n+1:s===ut.SEQUENTIAL_TIME_TRIALS?f_.length+n+1:0,o_=()=>f_.length+qE.length,K2=({phase:s,currentTrial:n,currentConditions:a,practicedConditions:l,setPhase:u,setCurrentTrial:h,setCurrentConditions:m,setCurrentPracticeCondition:p,setIsPractice:v,setupTrial:_})=>{const A=n+1;if(h(A),A>=a.length){s===ut.MAIN_TRIALS&&u(ut.COMPLETE);return}_(a[A])},$2=(s,n,a,l,u)=>{if(s.strokeStyle="#666666",s.lineWidth=2,a==="sequential"){const h=n.length/2;for(let p=0;p<2;p++){const v=Math.floor(p*h),_=Math.floor((p+1)*h),A=u[p]/2;s.beginPath();for(let O=v;O<_&&O<n.length;O++){const U=n[O],$=U.x*te,J=(U.y-A)*te;O===v?s.moveTo($,J):s.lineTo($,J)}s.stroke(),s.beginPath();for(let O=v;O<_&&O<n.length;O++){const U=n[O],$=U.x*te,J=(U.y+A)*te;O===v?s.moveTo($,J):s.lineTo($,J)}s.stroke()}s.strokeStyle="#666666",s.lineWidth=2;const m=Math.floor(h);if(m<n.length){const p=n[m],v=p.x*te,_=u[0]/2,A=u[1]/2;s.beginPath(),s.moveTo(v,(p.y-_)*te),s.lineTo(v,(p.y-A)*te),s.stroke(),s.beginPath(),s.moveTo(v,(p.y+_)*te),s.lineTo(v,(p.y+A)*te),s.stroke()}}else{const h=l/2;s.beginPath(),n.forEach((m,p)=>{const v=m.x*te,_=(m.y-h)*te;p===0?s.moveTo(v,_):s.lineTo(v,_)}),s.stroke(),s.beginPath(),n.forEach((m,p)=>{const v=m.x*te,_=(m.y+h)*te;p===0?s.moveTo(v,_):s.lineTo(v,_)}),s.stroke()}},Z2=(s,n)=>{n.forEach(a=>{s.fillStyle="#FF6B6B",s.strokeStyle="#DC2626",s.lineWidth=2;const l=a.x*te,u=a.y*te,h=4;s.beginPath(),s.moveTo(l-h,u-h),s.lineTo(l+h,u+h),s.moveTo(l-h,u+h),s.lineTo(l+h,u-h),s.stroke(),s.beginPath(),s.arc(l,u,h+2,0,2*Math.PI),s.stroke()})},J2=(s,n)=>{s.fillStyle="#0000FF",s.beginPath(),s.arc(n.x*te,n.y*te,3,0,2*Math.PI),s.fill()},W2=(s,n)=>{const a=n.x*te,l=n.y*te,u=m_*te;s.fillStyle="#00FF00",s.beginPath(),s.arc(a,l,u,0,2*Math.PI),s.fill(),s.strokeStyle="#009900",s.lineWidth=3,s.stroke(),s.fillStyle="#000000",s.font="12px Arial",s.textAlign="center"},tR=(s,n)=>{const a=n.x*te,l=n.y*te,u=g_*te;s.fillStyle="#FF0000",s.beginPath(),s.arc(a,l,u,0,2*Math.PI),s.fill(),s.strokeStyle="#990000",s.lineWidth=2,s.stroke()},eR=(s,n,a,l,u,h,m,p,v,_,A)=>{s.clearRect(0,0,h_,d_),n.length>0&&$2(s,n,a,l,u),m&&h.length>0&&Z2(s,h),J2(s,p),v==="waiting_for_start"&&W2(s,_),tR(s,A)},nR=({phase:s,setPhase:n,currentTrial:a,setCurrentTrial:l,currentConditions:u,setCurrentConditions:h,currentPracticeCondition:m,setCurrentPracticeCondition:p,practicedConditions:v,setPracticedConditions:_,participantId:A,setParticipantId:O,setIsPractice:U,setupTrial:$})=>{dt.useEffect(()=>{const J=it=>{switch(s){case ut.WELCOME:it.key==="Enter"&&n(ut.ENVIRONMENT_SETUP);break;case ut.ENVIRONMENT_SETUP:it.key===" "&&n(ut.SCREEN_CALIBRATION);break;case ut.SCREEN_CALIBRATION:it.key===" "&&n(ut.INSTRUCTIONS);break;case ut.INSTRUCTIONS:it.key===" "&&(n(ut.PRACTICE),U(!0),$(Cr[0]));break;case ut.PRACTICE:it.key==="r"?$(Cr[0]):it.key==="n"&&(n(ut.MAIN_TRIALS),l(0),h([...Cr]),U(!1),A||O(`P${new Date().toTimeString().slice(0,8).replace(/:/g,"")}`),$(Cr[0]));break;case ut.MAIN_TRIALS:it.key==="r"&&$(u[a]);break}};return window.addEventListener("keydown",J),()=>window.removeEventListener("keydown",J)},[s,a,u,m,A,$,n,l,h,p,_,O,U])},iR=(s,n,a,l,u,h)=>{if(!a.length)return{isExcursion:!1};let m=1/0,p=null,v=-1;a.forEach((A,O)=>{const U=Math.sqrt((s-A.x)**2+(n-A.y)**2);U<m&&(m=U,p=A,v=O)});let _;if(l==="sequential"){const A=a.length/2,O=Math.floor(v/A);_=h[Math.min(O,h.length-1)]/2}else _=u/2;if(m>_){const A=(s-p.x)/m,O=(n-p.y)/m;return{isExcursion:!0,boundaryPoint:{x:p.x+A*_,y:p.y+O*_},distanceOutside:m-_}}return{isExcursion:!1}},aR=({phase:s,trialState:n,setTrialState:a,setCursorPos:l,setCursorVel:u,setTrajectoryPoints:h,setSpeedHistory:m,setTimestampHistory:p,startButtonPos:v,targetPos:_,tunnelPath:A,tunnelType:O,tunnelWidth:U,segmentWidths:$,shouldMarkBoundaries:J,shouldEnforceBoundaries:it,setExcursionEvents:nt,setExcursionMarkers:bt,hasExcursionMarker:Et,setHasExcursionMarker:mt,onTrialComplete:Dt,onStartTrial:vt})=>{const xt=dt.useRef(0),M=dt.useRef(null),S=dt.useRef(0),w=dt.useCallback(N=>{if(![ut.PRACTICE,ut.MAIN_TRIALS,ut.SEQUENTIAL_TRIALS,ut.TIME_TRIAL_PRACTICE,ut.TIME_TRIALS,ut.SEQUENTIAL_TIME_TRIALS].includes(s)||n!==Ke.WAITING_FOR_START)return;const V=N.currentTarget.getBoundingClientRect(),b=(N.clientX-V.left)/te,Qt=(N.clientY-V.top)/te;Math.sqrt((b-v.x)**2+(Qt-v.y)**2)<=m_&&vt()},[s,n,v,vt]),D=dt.useCallback(N=>{if(![ut.PRACTICE,ut.MAIN_TRIALS,ut.SEQUENTIAL_TRIALS,ut.TIME_TRIAL_PRACTICE,ut.TIME_TRIALS,ut.SEQUENTIAL_TIME_TRIALS].includes(s)||n!==Ke.IN_PROGRESS)return;const V=N.currentTarget.getBoundingClientRect(),b=(N.clientX-V.left)/te,Qt=(N.clientY-V.top)/te,Pt=Date.now();let H={x:0,y:0};if(M.current&&xt.current){const gt=(Pt-xt.current)/1e3;if(gt>0){const C=b-M.current.x,Y=Qt-M.current.y;H={x:C/gt,y:Y/gt}}}l({x:b,y:Qt}),u(H);const tt=Math.sqrt(H.x**2+H.y**2);if(h(gt=>{const C=[...gt,{x:b,y:Qt}];return S.current=C.length,C}),m(gt=>[...gt,tt]),p(gt=>[...gt,Pt]),J()){const gt=iR(b,Qt,A,O,U,$);if(gt.isExcursion&&!Et){bt([gt.boundaryPoint]),mt(!0);const C={timeIndex:S.current-1,position:{x:b,y:Qt},distanceOutside:gt.distanceOutside,timestamp:Pt,boundaryPoint:gt.boundaryPoint};if(nt(Y=>[...Y,C]),it()){a(Ke.FAILED);return}}}Math.sqrt((b-_.x)**2+(Qt-_.y)**2)<g_&&Dt(!0),M.current={x:b,y:Qt},xt.current=Pt},[s,n,l,u,h,m,p,v,_,A,O,U,$,J,it,nt,bt,Et,mt,a,Dt]);return{handleMouseClick:w,handleMouseMove:D,lastTimeRef:xt}},sR=()=>x.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center",children:[x.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Human Steering Experiment"}),x.jsx("p",{className:"mb-6 text-gray-600",children:"Press ENTER to continue"})]})});/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lR=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,a,l)=>l?l.toUpperCase():a.toLowerCase()),u_=s=>{const n=lR(s);return n.charAt(0).toUpperCase()+n.slice(1)},av=(...s)=>s.filter((n,a,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===a).join(" ").trim(),oR=s=>{for(const n in s)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=dt.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:u="",children:h,iconNode:m,...p},v)=>dt.createElement("svg",{ref:v,...uR,width:n,height:n,stroke:s,strokeWidth:l?Number(a)*24/Number(n):a,className:av("lucide",u),...!h&&!oR(p)&&{"aria-hidden":"true"},...p},[...m.map(([_,A])=>dt.createElement(_,A)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=(s,n)=>{const a=dt.forwardRef(({className:l,...u},h)=>dt.createElement(cR,{ref:h,iconNode:n,className:av(`lucide-${rR(u_(s))}`,`lucide-${s}`,l),...u}));return a.displayName=u_(s),a};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],hR=Ba("circle-check-big",fR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],mR=Ba("credit-card",dR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pR=Ba("eye",gR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],_R=Ba("monitor",yR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=[["rect",{x:"5",y:"2",width:"14",height:"20",rx:"7",key:"11ol66"}],["path",{d:"M12 6v4",key:"16clxf"}]],ER=Ba("mouse",vR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],AR=Ba("settings",TR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],bR=Ba("triangle-alert",SR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],wR=Ba("users",RR),CR=()=>x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full mx-auto",children:[x.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-6 text-center rounded-t-2xl",children:[x.jsxs("div",{className:"flex items-center justify-center mb-2",children:[x.jsx(AR,{className:"w-8 h-8 mr-3"}),x.jsx("h1",{className:"text-2xl font-bold",children:"Environment Setup Instructions"})]}),x.jsx("p",{className:"text-blue-100",children:"Thank you for joining our study!"})]}),x.jsxs("div",{className:"p-8",children:[x.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-2",children:[x.jsx(bR,{className:"w-5 h-5 text-yellow-600 mr-2"}),x.jsx("span",{className:"font-semibold text-gray-800",children:"Important"})]}),x.jsx("p",{className:"text-sm text-gray-700",children:"Please configure your setup correctly to ensure consistent and usable data."})]}),x.jsxs("div",{className:"space-y-5",children:[x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-3",children:[x.jsx("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm mr-3",children:"1"}),x.jsx(_R,{className:"w-6 h-6 text-blue-600 mr-2"}),x.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Device Requirements"})]}),x.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[x.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[x.jsx("span",{className:"text-green-600",children:""})," Use a ",x.jsx("strong",{children:"desktop/laptop"})," with a ",x.jsx("strong",{children:"physical mouse"})," on a flat surface"]}),x.jsxs("p",{className:"text-sm text-gray-700",children:[x.jsx("span",{className:"text-red-600",children:""})," Do not use trackpad, touchscreen, or drawing tablet"]})]})]}),x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-3",children:[x.jsx("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm mr-3",children:"2"}),x.jsx(ER,{className:"w-6 h-6 text-blue-600 mr-2"}),x.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Mouse Settings"})]}),x.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:["Set your mouse to ",x.jsx("strong",{children:"default sensitivity"}),":"]}),x.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[x.jsx("h3",{className:"font-semibold text-gray-800 mb-2 text-sm",children:"Windows"}),x.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[x.jsx("p",{children:" Open Control Panel  Hardware and Sound  Devices and Printers  Mouse"}),x.jsx("p",{children:' Go to the "Pointer Options" tab'}),x.jsx("p",{children:' Uncheck "Enhance pointer precision"'}),x.jsx("p",{children:" Set the pointer speed slider to the middle position"})]})]}),x.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[x.jsx("h3",{className:"font-semibold text-gray-800 mb-2 text-sm",children:"Mac (macOS)"}),x.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[x.jsx("p",{children:" System Preferences  Mouse"}),x.jsx("p",{children:" Set Tracking Speed to middle (4th from left)"}),x.jsx("p",{children:" Click on advanced  disable Pointer acceleration"})]})]})]})]}),x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-3",children:[x.jsx("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm mr-3",children:"3"}),x.jsx(pR,{className:"w-6 h-6 text-blue-600 mr-2"}),x.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Screen Setup"})]}),x.jsx("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:x.jsxs("p",{className:"text-sm text-gray-700",children:[x.jsx("strong",{})," Make browser full screen: ",x.jsx("kbd",{className:"bg-gray-200 px-1 py-0.5 rounded text-xs",children:"F11"})," (Windows) or ",x.jsx("kbd",{className:"bg-gray-200 px-1 py-0.5 rounded text-xs",children:"F"})," (Mac)"]})})]}),x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-3",children:[x.jsx("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm mr-3",children:"4"}),x.jsx(wR,{className:"w-6 h-6 text-blue-600 mr-2"}),x.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Positioning"})]}),x.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[x.jsx("p",{className:"text-sm text-gray-700",children:"Sit about one arm's length away from the monitor and try to keep the same position during the experiment."}),x.jsx("p",{children:"At the start of each trial, adjust your posture so you are comfortable."})]})]}),x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-3",children:[x.jsx("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm mr-3",children:"5"}),x.jsx(hR,{className:"w-6 h-6 text-blue-600 mr-2"}),x.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"During the Experiment"})]}),x.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:x.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[x.jsxs("p",{children:[x.jsx("span",{className:"text-green-600",children:""})," Follow instructions carefully and try your best"]}),x.jsxs("p",{children:[x.jsx("span",{className:"text-red-600",children:""})," Do not change mouse settings once you start"]})]})})]})]}),x.jsx("div",{className:"mt-12 text-center",children:x.jsxs("div",{className:"bg-white border-4 border-blue-600 px-12 py-8 rounded-2xl inline-block shadow-2xl hover:shadow-3xl transition-all duration-300 transform hover:scale-105",children:[x.jsx("div",{className:"flex items-center justify-center space-x-4",children:x.jsx("span",{className:"text-3xl font-black text-gray-800",children:"Ready to continue?"})}),x.jsxs("div",{className:"mt-4 text-lg font-semibold text-gray-600",children:["Press ",x.jsx("kbd",{className:"bg-gray-200 text-gray-800 px-3 py-1 rounded text-lg font-bold",children:"SPACEBAR"})," to proceed"]})]})})]})]})}),IR=()=>x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-4",children:x.jsx("div",{className:"max-w-4xl mx-auto",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden border border-gray-100",children:[x.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white p-6 text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-2",children:[x.jsx(mR,{className:"w-8 h-8 mr-3"}),x.jsx("h1",{className:"text-3xl font-bold",children:"Screen Calibration"})]}),x.jsx("p",{className:"text-lg text-blue-100",children:"Calibrate your screen using a credit card"})]}),x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"text-center mb-6",children:[x.jsx("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:x.jsxs("p",{className:"text-gray-700",children:["Hold your ",x.jsx("strong",{children:"credit card"})," against the window below and adjust browser zoom until they match"]})}),x.jsx("div",{className:"space-y-2 text-sm text-gray-600 max-w-lg mx-auto",children:x.jsx("p",{children:'Use Ctrl/ + "+" or "" to adjust zoom'})})]}),x.jsx("div",{className:"flex justify-center mb-6",children:x.jsx("div",{className:"bg-gray-100 border-2 border-dashed border-gray-400 rounded-lg p-6",children:x.jsx("div",{className:"bg-blue-200 border-2 border-blue-400 rounded",style:{width:"340px",height:"200px",position:"relative"},children:x.jsx("div",{className:"absolute inset-0 flex items-center justify-center"})})})}),x.jsx("div",{className:"text-center",children:x.jsx("div",{className:"bg-white border-4 border-blue-600 px-8 py-4 rounded-2xl inline-block shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105",children:x.jsxs("div",{className:"text-lg font-semibold text-gray-600",children:["Press ",x.jsx("kbd",{className:"bg-gray-200 text-gray-800 px-2 py-1 rounded text-lg font-bold",children:"SPACEBAR"})," when done"]})})})]})]})})}),NR=()=>x.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-6",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-3xl",children:[x.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-6",children:"Task Instructions (Please read carefully):"}),x.jsxs("ul",{className:"space-y-3 mb-6",children:[x.jsx("li",{children:"Click the green START button to begin each trial"}),x.jsx("li",{children:"Navigate through the tunnel to reach the red target"}),x.jsx("li",{children:"Do NOT stop once you begin the trial"}),x.jsx("li",{children:"Move as smoothly and accurately as possible"}),x.jsx("li",{children:"Press R to restart the current trial at anytime if needed"})]}),x.jsx("p",{className:"mb-4",children:"You will start with a practice trial to get familiar with the controls and task."}),x.jsx("p",{className:"font-semibold",children:"Press 'SPACEBAR' to start practice"})]})}),DR=()=>x.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-6",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-3xl",children:[x.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-6",children:"Time-Constrained Trials (Please read carefully):"}),x.jsx("p",{className:"mb-4",children:"In this part of the experiment, you must complete each task within a set time limit."}),x.jsxs("ul",{className:"space-y-3 mb-6",children:[x.jsx("li",{children:"Each trial has a different time limit."}),x.jsx("li",{children:"Before each new type of timed trial, you'll complete one practice round with a visible timer."}),x.jsx("li",{children:"During practice, learn the timing; in the actual trial, the timer won't be shown but the limit will still apply."}),x.jsx("li",{children:"You may cross the boundary in these trials, but aim to follow the tunnel as closely as possible."}),x.jsx("li",{children:"Balance speed and accuracy  the goal is to finish right as the time runs out."})]}),x.jsx("p",{className:"font-semibold",children:"Press SPACEBAR to begin time-constrained trials."})]})}),xR=({uploadStatus:s,uploadError:n,onCompleteExperiment:a,onRetryUpload:l,onDownloadData:u})=>x.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center max-w-md",children:[x.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-6",children:"Experiment Complete!"}),x.jsx("p",{className:"mb-6",children:"All trials completed successfully!"}),s==="idle"&&x.jsx("div",{className:"mb-6",children:x.jsx("button",{onClick:a,className:"bg-green-500 hover:bg-green-700 text-white font-bold py-3 px-6 rounded mb-4 w-full",children:"Upload Data"})}),s==="uploading"&&x.jsxs("div",{className:"mb-6",children:[x.jsxs("div",{className:"flex items-center justify-center mb-4",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),x.jsx("span",{className:"ml-3 text-blue-600",children:"Uploading data..."})]}),x.jsx("p",{className:"text-sm text-gray-600",children:"Please wait while we save your data"})]}),s==="success"&&x.jsx("div",{className:"mb-6",children:x.jsxs("div",{className:"text-green-600 mb-4",children:[x.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),x.jsx("p",{className:"font-semibold",children:"Data uploaded successfully!"})]})}),s==="error"&&x.jsxs("div",{className:"mb-6",children:[x.jsxs("div",{className:"text-red-600 mb-4",children:[x.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),x.jsx("p",{className:"font-semibold",children:"Upload failed"})]}),x.jsx("p",{className:"text-sm text-red-600 mb-4",children:n}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("button",{onClick:l,className:"bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded w-full",children:"Retry Upload"}),x.jsx("button",{onClick:u,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-full",children:"Download Data Only"})]})]}),x.jsx("p",{className:"text-gray-600",children:"Thank you for participating!"})]})}),OR=({canvasRef:s,phase:n,trialState:a,timeLimit:l,timeRemaining:u,failedDueToTimeout:h,shouldEnforceBoundaries:m,onMouseClick:p,onMouseMove:v,renderStatus:_,renderControls:A})=>x.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-4",children:[x.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[x.jsx("div",{className:"mb-4 w-full max-w-md mx-auto",children:n===ut.TIME_TRIAL_PRACTICE&&l&&x.jsx("div",{style:{width:"100%"},children:x.jsx("div",{style:{width:"100%",height:"32px",backgroundColor:"#d1d5db",borderRadius:"8px",overflow:"hidden",marginBottom:"8px",position:"relative"},children:x.jsx("div",{style:{height:"100%",position:"absolute",top:"0",left:"0",transition:"all 0.1s",backgroundColor:a!==Ke.IN_PROGRESS?"#10b981":u/l>.2?"#f59e0b":"#ef4444",width:`${a!==Ke.IN_PROGRESS?100:Math.max(0,u/l*100)}%`}})})})}),x.jsx("canvas",{ref:s,width:h_,height:d_,onClick:p,onMouseMove:v,className:"border border-gray-300 cursor-crosshair"}),x.jsxs("div",{className:"mt-4 text-center",children:[_(),A()]})]}),a===Ke.FAILED&&(n===ut.TIME_TRIALS||n===ut.SEQUENTIAL_TIME_TRIALS||n===ut.TIME_TRIAL_PRACTICE)&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:x.jsxs("div",{className:"bg-gray-100 rounded-lg p-8 text-center",children:[x.jsx("h3",{className:"text-xl font-bold mb-4 text-red-600",children:h?"TIME'S UP!":"TRIAL FAILED"}),x.jsx("p",{className:"mb-4",children:h?"You ran out of time. Try to move faster.":m()?"You went outside the tunnel boundary, please retry the trial.":"Complete the task to advance."}),x.jsx("p",{className:"text-sm text-gray-600",children:"Press R to restart trial"})]})})]}),MR=()=>{const s=dt.useRef(null),n=dt.useRef(null),[a,l]=dt.useState(ut.WELCOME),[u,h]=dt.useState(Ke.WAITING_FOR_START),[m,p]=dt.useState(""),[v,_]=dt.useState({}),[A,O]=dt.useState(0),[U,$]=dt.useState([]),[J,it]=dt.useState(!1),[nt,bt]=dt.useState(null),[Et,mt]=dt.useState(new Set),[Dt,vt]=dt.useState([]),[xt,M]=dt.useState([]),[S,w]=dt.useState([]),[D,N]=dt.useState([]),[V,b]=dt.useState("idle"),[Qt,Pt]=dt.useState(null),[H,tt]=dt.useState(null),[rt,gt]=dt.useState([]),[C,Y]=dt.useState([]),[et,Z]=dt.useState(!1),[ot,Tt]=dt.useState({x:0,y:0}),[_t,ce]=dt.useState({x:0,y:0}),[kt,Tn]=dt.useState([]),[An,Sn]=dt.useState(.015),[jn,Xn]=dt.useState("curved"),[zn,ka]=dt.useState([.015,.025,.015]),[Wi,an]=dt.useState({x:0,y:0}),[vi,qa]=dt.useState({x:0,y:0}),[Kn,$n]=dt.useState(0),[Zn,ta]=dt.useState(null),[Ha,ea]=dt.useState(0),[ie,jt]=dt.useState(!1),Qe=dt.useCallback(()=>a===ut.PRACTICE||a===ut.MAIN_TRIALS||a===ut.SEQUENTIAL_TRIALS,[a]),ye=dt.useCallback(()=>a===ut.PRACTICE||a===ut.MAIN_TRIALS||a===ut.SEQUENTIAL_TRIALS,[a]);dt.useEffect(()=>{const ft=HE();_(ft),ft.prolificPid?p(`P${ft.prolificPid}`):p(`P${new Date().toTimeString().slice(0,8).replace(/:/g,"")}`)},[]);const Ga=dt.useCallback(ft=>{let qt;ft.tunnelType==="sequential"?(qt=QE(ft),Xn("sequential"),ka([ft.segment1Width,ft.segment2Width]),Sn(ft.segment1Width)):(qt=GE(ft.curvature),Xn("curved"),Sn(ft.tunnelWidth)),Tn(qt),ta(ft.timeLimit);const Xt=qt[0],bn=qt[qt.length-1];qa(Xt),an(bn),Tt(Xt),ce({x:0,y:0}),h(Ke.WAITING_FOR_START),M([]),w([]),N([]),gt([]),Y([]),Z(!1),$n(0),ea(ft.timeLimit||0),jt(!1)},[]),jr=()=>{h(Ke.IN_PROGRESS);const ft=Date.now();$n(ft),jt(!1),Zn&&ea(Zn);const qt={x:vi.x,y:vi.y};Tt(qt),ce({x:0,y:0}),M([qt]),w([0]),N([ft]),gt([])},Ei=ft=>{const Xt=(Date.now()-Kn)/1e3;if(J||a===ut.TIME_TRIAL_PRACTICE){if(ft){const aa=a===ut.PRACTICE?"Practice":"Individual practice";console.log(`${aa} completed! Time: ${Xt.toFixed(2)}s`)}h(ft?Ke.WAITING_FOR_START:Ke.FAILED);return}if(!ft){h(Ke.FAILED);return}const bn=U[A],{id:bi,...ia}=bn,Wn={participantId:m,completionTime:Xt,condition:ia,trial_id:bn.id,timestamps:[...D],trajectory:[...xt],speeds:[...S]};vt(aa=>[...aa,Wn]),K2({phase:a,currentTrial:A,currentConditions:U,practicedConditions:Et,setPhase:l,setCurrentTrial:O,setCurrentConditions:$,setCurrentPracticeCondition:bt,setIsPractice:it,setupTrial:Ga})};dt.useEffect(()=>{if(u!==Ke.IN_PROGRESS||!Zn)return;const ft=setInterval(()=>{const Xt=(Date.now()-Kn)/1e3,bn=Math.max(0,Zn-Xt);ea(bn)},50);return()=>clearInterval(ft)},[u,Zn,Kn]),nR({phase:a,setPhase:l,currentTrial:A,setCurrentTrial:O,currentConditions:U,setCurrentConditions:$,currentPracticeCondition:nt,setCurrentPracticeCondition:bt,practicedConditions:Et,setPracticedConditions:mt,participantId:m,setParticipantId:p,setIsPractice:it,setupTrial:Ga});const{handleMouseClick:Ti,handleMouseMove:Ai}=aR({phase:a,trialState:u,setTrialState:h,setCursorPos:Tt,setCursorVel:ce,setTrajectoryPoints:M,setSpeedHistory:w,setTimestampHistory:N,startButtonPos:vi,targetPos:Wi,tunnelPath:kt,tunnelType:jn,tunnelWidth:An,segmentWidths:zn,shouldMarkBoundaries:ye,shouldEnforceBoundaries:Qe,setExcursionEvents:gt,setExcursionMarkers:Y,hasExcursionMarker:et,setHasExcursionMarker:Z,onTrialComplete:Ei,onStartTrial:jr});dt.useEffect(()=>{const ft=()=>{const qt=s.current;if(!qt)return;const Xt=qt.getContext("2d");eR(Xt,kt,jn,An,zn,C,ye(),ot,u,vi,Wi),n.current=requestAnimationFrame(ft)};return n.current=requestAnimationFrame(ft),()=>{n.current&&cancelAnimationFrame(n.current)}},[ot,u,kt,vi,Wi,An,C,ye,et,jn,zn]);const sn=async()=>{b("uploading"),Pt(null);try{const ft=await X2(m,v,Dt);tt(ft),b("success")}catch(ft){console.error("Upload failed:",ft),Pt(ft.message),b("error")}},na=async()=>{await sn(),a_(m,v,Dt)},Si=()=>{sn()},Qa=()=>{a_(m,v,Dt)},Fa=()=>{let ft="",qt="text-gray-600";a===ut.PRACTICE?(ft="[Practice Round]",qt="text-green-600"):a===ut.MAIN_TRIALS&&A<U.length?(ft=`Trial ${s_(a,A)}/${r_()}`,qt="text-blue-600"):a===ut.SEQUENTIAL_TRIALS&&A<U.length?(ft=`Trial ${s_(a,A)}/${r_()}`,qt="text-indigo-600"):a===ut.TIME_TRIAL_PRACTICE&&nt?(ft="PRACTICE ROUND",qt="text-purple-600"):a===ut.TIME_TRIALS&&A<U.length?(ft=`Timed Trial ${l_(a,A)}/${o_()}`,qt="text-red-600"):a===ut.SEQUENTIAL_TIME_TRIALS&&A<U.length&&(ft=`Timed Trial ${l_(a,A)}/${o_()}`,qt="text-pink-600");let Xt="";return u===Ke.WAITING_FOR_START?Xt="Click the green button to begin":u===Ke.IN_PROGRESS?Xt="Navigate to the red target":u===Ke.FAILED&&(Xt="Trial failed, please try again"),x.jsxs("div",{className:"space-y-1",children:[ft&&x.jsx("p",{className:`text-sm ${qt}`,children:ft}),Xt&&x.jsx("p",{className:"text-lg font-bold gray-red-900",children:Xt})]})},Ya=()=>{const ft=[];return ft.push(x.jsxs(x.Fragment,{children:["Press ",x.jsx("span",{className:"font-bold text-blue-600",children:"'R'"})," to restart trial at any time"]})),(a===ut.PRACTICE||a===ut.TIME_TRIAL_PRACTICE)&&ft.push(x.jsxs(x.Fragment,{children:["Press ",x.jsx("span",{className:"font-bold text-blue-600",children:"'N'"})," to continue to real trial"]})),x.jsx("div",{className:"mt-2 text-sm text-gray-600",children:ft.map((qt,Xt)=>x.jsx("p",{children:qt},Xt))})};return(()=>{switch(a){case ut.WELCOME:return x.jsx(sR,{});case ut.ENVIRONMENT_SETUP:return x.jsx(CR,{});case ut.SCREEN_CALIBRATION:return x.jsx(IR,{});case ut.INSTRUCTIONS:return x.jsx(NR,{});case ut.TIME_CONSTRAINT_INTRO:return x.jsx(DR,{});case ut.COMPLETE:return x.jsx(xR,{uploadStatus:V,uploadError:Qt,onCompleteExperiment:na,onRetryUpload:Si,onDownloadData:Qa});default:return x.jsx(OR,{canvasRef:s,phase:a,trialState:u,timeLimit:Zn,timeRemaining:Ha,failedDueToTimeout:ie,shouldEnforceBoundaries:Qe,onMouseClick:Ti,onMouseMove:Ai,renderStatus:Fa,renderControls:Ya})}})()};BE.createRoot(document.getElementById("root")).render(x.jsx(OE.StrictMode,{children:x.jsx(MR,{})}));
