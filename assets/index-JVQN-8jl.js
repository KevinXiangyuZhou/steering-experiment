(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function a(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(c){if(c.ep)return;c.ep=!0;const h=a(c);fetch(c.href,h)}})();function l0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var hh={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function TT(){if(qp)return ql;qp=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(l,c,h){var m=null;if(h!==void 0&&(m=""+h),c.key!==void 0&&(m=""+c.key),"key"in c){h={};for(var y in c)y!=="key"&&(h[y]=c[y])}else h=c;return c=h.ref,{$$typeof:s,type:l,key:m,ref:c!==void 0?c:null,props:h}}return ql.Fragment=n,ql.jsx=a,ql.jsxs=a,ql}var Hp;function ET(){return Hp||(Hp=1,hh.exports=TT()),hh.exports}var x=ET(),dh={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function AT(){if(Gp)return Ct;Gp=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),P=Symbol.iterator;function L(C){return C===null||typeof C!="object"?null:(C=P&&C[P]||C["@@iterator"],typeof C=="function"?C:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,ct={};function lt(C,K,at){this.props=C,this.context=K,this.refs=ct,this.updater=at||et}lt.prototype.isReactComponent={},lt.prototype.setState=function(C,K){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,K,"setState")},lt.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function bt(){}bt.prototype=lt.prototype;function ft(C,K,at){this.props=C,this.context=K,this.refs=ct,this.updater=at||et}var yt=ft.prototype=new bt;yt.constructor=ft,J(yt,lt.prototype),yt.isPureReactComponent=!0;var Qt=Array.isArray,Rt={H:null,A:null,T:null,S:null,V:null},Vt=Object.prototype.hasOwnProperty;function M(C,K,at,tt,mt,wt){return at=wt.ref,{$$typeof:s,type:C,key:K,ref:at!==void 0?at:null,props:wt}}function A(C,K){return M(C.type,K,void 0,void 0,void 0,C.props)}function R(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function N(C){var K={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(at){return K[at]})}var D=/\/+/g;function V(C,K){return typeof C=="object"&&C!==null&&C.key!=null?N(""+C.key):K.toString(36)}function b(){}function pe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(b,b):(C.status="pending",C.then(function(K){C.status==="pending"&&(C.status="fulfilled",C.value=K)},function(K){C.status==="pending"&&(C.status="rejected",C.reason=K)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ie(C,K,at,tt,mt){var wt=typeof C;(wt==="undefined"||wt==="boolean")&&(C=null);var _t=!1;if(C===null)_t=!0;else switch(wt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(C.$$typeof){case s:case n:_t=!0;break;case w:return _t=C._init,ie(_t(C._payload),K,at,tt,mt)}}if(_t)return mt=mt(C),_t=tt===""?"."+V(C,0):tt,Qt(mt)?(at="",_t!=null&&(at=_t.replace(D,"$&/")+"/"),ie(mt,K,at,"",function(dn){return dn})):mt!=null&&(R(mt)&&(mt=A(mt,at+(mt.key==null||C&&C.key===mt.key?"":(""+mt.key).replace(D,"$&/")+"/")+_t)),K.push(mt)),1;_t=0;var ye=tt===""?".":tt+":";if(Qt(C))for(var ae=0;ae<C.length;ae++)tt=C[ae],wt=ye+V(tt,ae),_t+=ie(tt,K,at,wt,mt);else if(ae=L(C),typeof ae=="function")for(C=ae.call(C),ae=0;!(tt=C.next()).done;)tt=tt.value,wt=ye+V(tt,ae++),_t+=ie(tt,K,at,wt,mt);else if(wt==="object"){if(typeof C.then=="function")return ie(pe(C),K,at,tt,mt);throw K=String(C),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return _t}function Q(C,K,at){if(C==null)return C;var tt=[],mt=0;return ie(C,tt,"","",function(wt){return K.call(at,wt,mt++)}),tt}function it(C){if(C._status===-1){var K=C._result;K=K(),K.then(function(at){(C._status===0||C._status===-1)&&(C._status=1,C._result=at)},function(at){(C._status===0||C._status===-1)&&(C._status=2,C._result=at)}),C._status===-1&&(C._status=0,C._result=K)}if(C._status===1)return C._result.default;throw C._result}var dt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function qt(){}return Ct.Children={map:Q,forEach:function(C,K,at){Q(C,function(){K.apply(this,arguments)},at)},count:function(C){var K=0;return Q(C,function(){K++}),K},toArray:function(C){return Q(C,function(K){return K})||[]},only:function(C){if(!R(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ct.Component=lt,Ct.Fragment=a,Ct.Profiler=c,Ct.PureComponent=ft,Ct.StrictMode=l,Ct.Suspense=T,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Rt,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(C){return Rt.H.useMemoCache(C)}},Ct.cache=function(C){return function(){return C.apply(null,arguments)}},Ct.cloneElement=function(C,K,at){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var tt=J({},C.props),mt=C.key,wt=void 0;if(K!=null)for(_t in K.ref!==void 0&&(wt=void 0),K.key!==void 0&&(mt=""+K.key),K)!Vt.call(K,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&K.ref===void 0||(tt[_t]=K[_t]);var _t=arguments.length-2;if(_t===1)tt.children=at;else if(1<_t){for(var ye=Array(_t),ae=0;ae<_t;ae++)ye[ae]=arguments[ae+2];tt.children=ye}return M(C.type,mt,void 0,void 0,wt,tt)},Ct.createContext=function(C){return C={$$typeof:m,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},Ct.createElement=function(C,K,at){var tt,mt={},wt=null;if(K!=null)for(tt in K.key!==void 0&&(wt=""+K.key),K)Vt.call(K,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(mt[tt]=K[tt]);var _t=arguments.length-2;if(_t===1)mt.children=at;else if(1<_t){for(var ye=Array(_t),ae=0;ae<_t;ae++)ye[ae]=arguments[ae+2];mt.children=ye}if(C&&C.defaultProps)for(tt in _t=C.defaultProps,_t)mt[tt]===void 0&&(mt[tt]=_t[tt]);return M(C,wt,void 0,void 0,null,mt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(C){return{$$typeof:y,render:C}},Ct.isValidElement=R,Ct.lazy=function(C){return{$$typeof:w,_payload:{_status:-1,_result:C},_init:it}},Ct.memo=function(C,K){return{$$typeof:_,type:C,compare:K===void 0?null:K}},Ct.startTransition=function(C){var K=Rt.T,at={};Rt.T=at;try{var tt=C(),mt=Rt.S;mt!==null&&mt(at,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(qt,dt)}catch(wt){dt(wt)}finally{Rt.T=K}},Ct.unstable_useCacheRefresh=function(){return Rt.H.useCacheRefresh()},Ct.use=function(C){return Rt.H.use(C)},Ct.useActionState=function(C,K,at){return Rt.H.useActionState(C,K,at)},Ct.useCallback=function(C,K){return Rt.H.useCallback(C,K)},Ct.useContext=function(C){return Rt.H.useContext(C)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(C,K){return Rt.H.useDeferredValue(C,K)},Ct.useEffect=function(C,K,at){var tt=Rt.H;if(typeof at=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return tt.useEffect(C,K)},Ct.useId=function(){return Rt.H.useId()},Ct.useImperativeHandle=function(C,K,at){return Rt.H.useImperativeHandle(C,K,at)},Ct.useInsertionEffect=function(C,K){return Rt.H.useInsertionEffect(C,K)},Ct.useLayoutEffect=function(C,K){return Rt.H.useLayoutEffect(C,K)},Ct.useMemo=function(C,K){return Rt.H.useMemo(C,K)},Ct.useOptimistic=function(C,K){return Rt.H.useOptimistic(C,K)},Ct.useReducer=function(C,K,at){return Rt.H.useReducer(C,K,at)},Ct.useRef=function(C){return Rt.H.useRef(C)},Ct.useState=function(C){return Rt.H.useState(C)},Ct.useSyncExternalStore=function(C,K,at){return Rt.H.useSyncExternalStore(C,K,at)},Ct.useTransition=function(){return Rt.H.useTransition()},Ct.version="19.1.1",Ct}var Qp;function $h(){return Qp||(Qp=1,dh.exports=AT()),dh.exports}var Et=$h();const ST=l0(Et);var mh={exports:{}},Hl={},gh={exports:{}},ph={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function bT(){return Fp||(Fp=1,(function(s){function n(Q,it){var dt=Q.length;Q.push(it);t:for(;0<dt;){var qt=dt-1>>>1,C=Q[qt];if(0<c(C,it))Q[qt]=it,Q[dt]=C,dt=qt;else break t}}function a(Q){return Q.length===0?null:Q[0]}function l(Q){if(Q.length===0)return null;var it=Q[0],dt=Q.pop();if(dt!==it){Q[0]=dt;t:for(var qt=0,C=Q.length,K=C>>>1;qt<K;){var at=2*(qt+1)-1,tt=Q[at],mt=at+1,wt=Q[mt];if(0>c(tt,dt))mt<C&&0>c(wt,tt)?(Q[qt]=wt,Q[mt]=dt,qt=mt):(Q[qt]=tt,Q[at]=dt,qt=at);else if(mt<C&&0>c(wt,dt))Q[qt]=wt,Q[mt]=dt,qt=mt;else break t}}return it}function c(Q,it){var dt=Q.sortIndex-it.sortIndex;return dt!==0?dt:Q.id-it.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var m=Date,y=m.now();s.unstable_now=function(){return m.now()-y}}var T=[],_=[],w=1,P=null,L=3,et=!1,J=!1,ct=!1,lt=!1,bt=typeof setTimeout=="function"?setTimeout:null,ft=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;function Qt(Q){for(var it=a(_);it!==null;){if(it.callback===null)l(_);else if(it.startTime<=Q)l(_),it.sortIndex=it.expirationTime,n(T,it);else break;it=a(_)}}function Rt(Q){if(ct=!1,Qt(Q),!J)if(a(T)!==null)J=!0,Vt||(Vt=!0,V());else{var it=a(_);it!==null&&ie(Rt,it.startTime-Q)}}var Vt=!1,M=-1,A=5,R=-1;function N(){return lt?!0:!(s.unstable_now()-R<A)}function D(){if(lt=!1,Vt){var Q=s.unstable_now();R=Q;var it=!0;try{t:{J=!1,ct&&(ct=!1,ft(M),M=-1),et=!0;var dt=L;try{e:{for(Qt(Q),P=a(T);P!==null&&!(P.expirationTime>Q&&N());){var qt=P.callback;if(typeof qt=="function"){P.callback=null,L=P.priorityLevel;var C=qt(P.expirationTime<=Q);if(Q=s.unstable_now(),typeof C=="function"){P.callback=C,Qt(Q),it=!0;break e}P===a(T)&&l(T),Qt(Q)}else l(T);P=a(T)}if(P!==null)it=!0;else{var K=a(_);K!==null&&ie(Rt,K.startTime-Q),it=!1}}break t}finally{P=null,L=dt,et=!1}it=void 0}}finally{it?V():Vt=!1}}}var V;if(typeof yt=="function")V=function(){yt(D)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,pe=b.port2;b.port1.onmessage=D,V=function(){pe.postMessage(null)}}else V=function(){bt(D,0)};function ie(Q,it){M=bt(function(){Q(s.unstable_now())},it)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return L},s.unstable_next=function(Q){switch(L){case 1:case 2:case 3:var it=3;break;default:it=L}var dt=L;L=it;try{return Q()}finally{L=dt}},s.unstable_requestPaint=function(){lt=!0},s.unstable_runWithPriority=function(Q,it){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var dt=L;L=Q;try{return it()}finally{L=dt}},s.unstable_scheduleCallback=function(Q,it,dt){var qt=s.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?qt+dt:qt):dt=qt,Q){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=dt+C,Q={id:w++,callback:it,priorityLevel:Q,startTime:dt,expirationTime:C,sortIndex:-1},dt>qt?(Q.sortIndex=dt,n(_,Q),a(T)===null&&Q===a(_)&&(ct?(ft(M),M=-1):ct=!0,ie(Rt,dt-qt))):(Q.sortIndex=C,n(T,Q),J||et||(J=!0,Vt||(Vt=!0,V()))),Q},s.unstable_shouldYield=N,s.unstable_wrapCallback=function(Q){var it=L;return function(){var dt=L;L=it;try{return Q.apply(this,arguments)}finally{L=dt}}}})(ph)),ph}var Yp;function RT(){return Yp||(Yp=1,gh.exports=bT()),gh.exports}var yh={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function wT(){if(Xp)return en;Xp=1;var s=$h();function n(T){var _="https://react.dev/errors/"+T;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)_+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+T+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var l={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},c=Symbol.for("react.portal");function h(T,_,w){var P=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:P==null?null:""+P,children:T,containerInfo:_,implementation:w}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(T,_){if(T==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,en.createPortal=function(T,_){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(n(299));return h(T,_,null,w)},en.flushSync=function(T){var _=m.T,w=l.p;try{if(m.T=null,l.p=2,T)return T()}finally{m.T=_,l.p=w,l.d.f()}},en.preconnect=function(T,_){typeof T=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,l.d.C(T,_))},en.prefetchDNS=function(T){typeof T=="string"&&l.d.D(T)},en.preinit=function(T,_){if(typeof T=="string"&&_&&typeof _.as=="string"){var w=_.as,P=y(w,_.crossOrigin),L=typeof _.integrity=="string"?_.integrity:void 0,et=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;w==="style"?l.d.S(T,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:P,integrity:L,fetchPriority:et}):w==="script"&&l.d.X(T,{crossOrigin:P,integrity:L,fetchPriority:et,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},en.preinitModule=function(T,_){if(typeof T=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var w=y(_.as,_.crossOrigin);l.d.M(T,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&l.d.M(T)},en.preload=function(T,_){if(typeof T=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var w=_.as,P=y(w,_.crossOrigin);l.d.L(T,w,{crossOrigin:P,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},en.preloadModule=function(T,_){if(typeof T=="string")if(_){var w=y(_.as,_.crossOrigin);l.d.m(T,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else l.d.m(T)},en.requestFormReset=function(T){l.d.r(T)},en.unstable_batchedUpdates=function(T,_){return T(_)},en.useFormState=function(T,_,w){return m.H.useFormState(T,_,w)},en.useFormStatus=function(){return m.H.useHostTransitionStatus()},en.version="19.1.1",en}var Kp;function CT(){if(Kp)return yh.exports;Kp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),yh.exports=wT(),yh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function IT(){if($p)return Hl;$p=1;var s=RT(),n=$h(),a=CT();function l(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function m(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y(t){if(h(t)!==t)throw Error(l(188))}function T(t){var e=t.alternate;if(!e){if(e=h(t),e===null)throw Error(l(188));return e!==t?null:t}for(var i=t,r=e;;){var u=i.return;if(u===null)break;var f=u.alternate;if(f===null){if(r=u.return,r!==null){i=r;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===i)return y(u),t;if(f===r)return y(u),e;f=f.sibling}throw Error(l(188))}if(i.return!==r.return)i=u,r=f;else{for(var p=!1,v=u.child;v;){if(v===i){p=!0,i=u,r=f;break}if(v===r){p=!0,r=u,i=f;break}v=v.sibling}if(!p){for(v=f.child;v;){if(v===i){p=!0,i=f,r=u;break}if(v===r){p=!0,r=f,i=u;break}v=v.sibling}if(!p)throw Error(l(189))}}if(i.alternate!==r)throw Error(l(190))}if(i.tag!==3)throw Error(l(188));return i.stateNode.current===i?t:e}function _(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=_(t),e!==null)return e;t=t.sibling}return null}var w=Object.assign,P=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),ct=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),bt=Symbol.for("react.provider"),ft=Symbol.for("react.consumer"),yt=Symbol.for("react.context"),Qt=Symbol.for("react.forward_ref"),Rt=Symbol.for("react.suspense"),Vt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var b=Symbol.for("react.client.reference");function pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===b?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case lt:return"Profiler";case ct:return"StrictMode";case Rt:return"Suspense";case Vt:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case et:return"Portal";case yt:return(t.displayName||"Context")+".Provider";case ft:return(t._context.displayName||"Context")+".Consumer";case Qt:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return e=t.displayName||null,e!==null?e:pe(t.type)||"Memo";case A:e=t._payload,t=t._init;try{return pe(t(e))}catch{}}return null}var ie=Array.isArray,Q=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},qt=[],C=-1;function K(t){return{current:t}}function at(t){0>C||(t.current=qt[C],qt[C]=null,C--)}function tt(t,e){C++,qt[C]=t.current,t.current=e}var mt=K(null),wt=K(null),_t=K(null),ye=K(null);function ae(t,e){switch(tt(_t,e),tt(wt,t),tt(mt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?pp(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=pp(e),t=yp(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}at(mt),tt(mt,t)}function dn(){at(mt),at(wt),at(_t)}function Mn(t){t.memoizedState!==null&&tt(ye,t);var e=mt.current,i=yp(e,t.type);e!==i&&(tt(wt,t),tt(mt,i))}function En(t){wt.current===t&&(at(mt),at(wt)),ye.current===t&&(at(ye),jl._currentValue=dt)}var _e=Object.prototype.hasOwnProperty,Vi=s.unstable_scheduleCallback,Fn=s.unstable_cancelCallback,ua=s.unstable_shouldYield,Ya=s.unstable_requestPaint,ln=s.unstable_now,Li=s.unstable_getCurrentPriorityLevel,Xa=s.unstable_ImmediatePriority,On=s.unstable_UserBlockingPriority,Ui=s.unstable_NormalPriority,Yn=s.unstable_LowPriority,ca=s.unstable_IdlePriority,li=s.log,Ka=s.unstable_setDisableYieldValue,Ft=null,Yt=null;function Je(t){if(typeof li=="function"&&Ka(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(Ft,t)}catch{}}var Re=Math.clz32?Math.clz32:oi,fa=Math.log,$a=Math.LN2;function oi(t){return t>>>=0,t===0?32:31-(fa(t)/$a|0)|0}var ui=256,ci=4194304;function mn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fi(t,e,i){var r=t.pendingLanes;if(r===0)return 0;var u=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var v=r&134217727;return v!==0?(r=v&~f,r!==0?u=mn(r):(p&=v,p!==0?u=mn(p):i||(i=v&~t,i!==0&&(u=mn(i))))):(v=r&~f,v!==0?u=mn(v):p!==0?u=mn(p):i||(i=r&~t,i!==0&&(u=mn(i)))),u===0?0:e!==0&&e!==u&&(e&f)===0&&(f=u&-u,i=e&-e,f>=i||f===32&&(i&4194048)!==0)?e:u}function hi(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function ha(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ue(){var t=ui;return ui<<=1,(ui&4194048)===0&&(ui=256),t}function Za(){var t=ci;return ci<<=1,(ci&62914560)===0&&(ci=4194304),t}function Xn(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function Kn(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Wa(t,e,i,r,u,f){var p=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var v=t.entanglements,S=t.expirationTimes,z=t.hiddenUpdates;for(i=p&~i;0<i;){var F=31-Re(i),X=1<<F;v[F]=0,S[F]=-1;var B=z[F];if(B!==null)for(z[F]=null,F=0;F<B.length;F++){var k=B[F];k!==null&&(k.lane&=-536870913)}i&=~X}r!==0&&An(t,r,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~e))}function An(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Re(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|i&4194090}function Ja(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var r=31-Re(i),u=1<<r;u&e|t[r]&e&&(t[r]|=e),i&=~u}}function di(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function da(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function mi(){var t=it.p;return t!==0?t:(t=window.event,t===void 0?32:Up(t.type))}function Hs(t,e){var i=it.p;try{return it.p=t,e()}finally{it.p=i}}var re=Math.random().toString(36).slice(2),Ae="__reactFiber$"+re,de="__reactProps$"+re,on="__reactContainer$"+re,ts="__reactEvents$"+re,Hr="__reactListeners$"+re,$n="__reactHandles$"+re,es="__reactResources$"+re,gi="__reactMarker$"+re;function Zn(t){delete t[Ae],delete t[de],delete t[ts],delete t[Hr],delete t[$n]}function Wn(t){var e=t[Ae];if(e)return e;for(var i=t.parentNode;i;){if(e=i[on]||i[Ae]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=Ep(t);t!==null;){if(i=t[Ae])return i;t=Ep(t)}return e}t=i,i=t.parentNode}return null}function Vn(t){if(t=t[Ae]||t[on]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function q(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(l(33))}function G(t){var e=t[es];return e||(e=t[es]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Z(t){t[gi]=!0}var rt=new Set,At={};function St(t,e){Lt(t,e),Lt(t+"Capture",e)}function Lt(t,e){for(At[t]=e,t=0;t<e.length;t++)rt.add(e[t])}var Ht=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ut={},we={};function un(t){return _e.call(we,t)?!0:_e.call(Ut,t)?!1:Ht.test(t)?we[t]=!0:(Ut[t]=!0,!1)}function pi(t,e,i){if(un(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function yi(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function He(t,e,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+r)}}var ns,mo;function ji(t){if(ns===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);ns=e&&e[1]||"",mo=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ns+t+mo}var Gs=!1;function Qs(t,e){if(!t||Gs)return"";Gs=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(k){var B=k}Reflect.construct(t,[],X)}else{try{X.call()}catch(k){B=k}t.call(X.prototype)}}else{try{throw Error()}catch(k){B=k}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),p=f[0],v=f[1];if(p&&v){var S=p.split(`
`),z=v.split(`
`);for(u=r=0;r<S.length&&!S[r].includes("DetermineComponentFrameRoot");)r++;for(;u<z.length&&!z[u].includes("DetermineComponentFrameRoot");)u++;if(r===S.length||u===z.length)for(r=S.length-1,u=z.length-1;1<=r&&0<=u&&S[r]!==z[u];)u--;for(;1<=r&&0<=u;r--,u--)if(S[r]!==z[u]){if(r!==1||u!==1)do if(r--,u--,0>u||S[r]!==z[u]){var F=`
`+S[r].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=r&&0<=u);break}}}finally{Gs=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?ji(i):""}function Gr(t){switch(t.tag){case 26:case 27:case 5:return ji(t.type);case 16:return ji("Lazy");case 13:return ji("Suspense");case 19:return ji("SuspenseList");case 0:case 15:return Qs(t.type,!1);case 11:return Qs(t.type.render,!1);case 1:return Qs(t.type,!0);case 31:return ji("Activity");default:return""}}function Fs(t){try{var e="";do e+=Gr(t),t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function cn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qr(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gc(t){var e=Qr(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,f=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return u.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ys(t){t._valueTracker||(t._valueTracker=gc(t))}function Fr(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),r="";return t&&(r=Qr(t)?t.checked?"true":"false":t.value),t=r,t!==i?(e.setValue(t),!0):!1}function is(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var pc=/[\n"\\]/g;function Ce(t){return t.replace(pc,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Sn(t,e,i,r,u,f,p,v){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),e!=null?p==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+cn(e)):t.value!==""+cn(e)&&(t.value=""+cn(e)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),e!=null?ma(t,p,cn(e)):i!=null?ma(t,p,cn(i)):r!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.name=""+cn(v):t.removeAttribute("name")}function as(t,e,i,r,u,f,p,v){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),e!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||e!=null))return;i=i!=null?""+cn(i):"",e=e!=null?""+cn(e):i,v||e===t.value||(t.value=e),t.defaultValue=e}r=r??u,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=v?t.checked:!!r,t.defaultChecked=!!r,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p)}function ma(t,e,i){e==="number"&&is(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Pi(t,e,i,r){if(t=t.options,e){e={};for(var u=0;u<i.length;u++)e["$"+i[u]]=!0;for(i=0;i<t.length;i++)u=e.hasOwnProperty("$"+t[i].value),t[i].selected!==u&&(t[i].selected=u),u&&r&&(t[i].defaultSelected=!0)}else{for(i=""+cn(i),e=null,u=0;u<t.length;u++){if(t[u].value===i){t[u].selected=!0,r&&(t[u].defaultSelected=!0);return}e!==null||t[u].disabled||(e=t[u])}e!==null&&(e.selected=!0)}}function Jt(t,e,i){if(e!=null&&(e=""+cn(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+cn(i):""}function ss(t,e,i,r){if(e==null){if(r!=null){if(i!=null)throw Error(l(92));if(ie(r)){if(1<r.length)throw Error(l(93));r=r[0]}i=r}i==null&&(i=""),e=i}i=cn(e),t.defaultValue=i,r=t.textContent,r===i&&r!==""&&r!==null&&(t.value=r)}function Ln(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var rs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function go(t,e,i){var r=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,i):typeof i!="number"||i===0||rs.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function Yr(t,e,i){if(e!=null&&typeof e!="object")throw Error(l(62));if(t=t.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var u in e)r=e[u],e.hasOwnProperty(u)&&i[u]!==r&&go(t,u,r)}else for(var f in e)e.hasOwnProperty(f)&&go(t,f,e[f])}function Xr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_c=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xs(t){return _c.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var zi=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bi=null,ki=null;function Kr(t){var e=Vn(t);if(e&&(t=e.stateNode)){var i=t[de]||null;t:switch(t=e.stateNode,e.type){case"input":if(Sn(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Ce(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var r=i[e];if(r!==t&&r.form===t.form){var u=r[de]||null;if(!u)throw Error(l(90));Sn(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(e=0;e<i.length;e++)r=i[e],r.form===t.form&&Fr(r)}break t;case"textarea":Jt(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&Pi(t,!!i.multiple,e,!1)}}}var _i=!1;function po(t,e,i){if(_i)return t(e,i);_i=!0;try{var r=t(e);return r}finally{if(_i=!1,(Bi!==null||ki!==null)&&(uu(),Bi&&(e=Bi,t=ki,ki=Bi=null,Kr(e),t)))for(e=0;e<t.length;e++)Kr(t[e])}}function ls(t,e){var i=t.stateNode;if(i===null)return null;var r=i[de]||null;if(r===null)return null;i=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(l(231,e,typeof i));return i}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jn=!1;if(Jn)try{var os={};Object.defineProperty(os,"passive",{get:function(){jn=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{jn=!1}var vi=null,ga=null,qi=null;function $r(){if(qi)return qi;var t,e=ga,i=e.length,r,u="value"in vi?vi.value:vi.textContent,f=u.length;for(t=0;t<i&&e[t]===u[t];t++);var p=i-t;for(r=1;r<=p&&e[i-r]===u[f-r];r++);return qi=u.slice(t,1<r?1-r:void 0)}function Ti(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ei(){return!0}function Zr(){return!1}function Ue(t){function e(i,r,u,f,p){this._reactName=i,this._targetInst=u,this.type=r,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(i=t[v],this[v]=i?i(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ei:Zr,this.isPropagationStopped=Zr,this}return w(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),e}var Kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ks=Ue(Kt),us=w({},Kt,{view:0,detail:0}),yo=Ue(us),$s,Zs,Ai,cs=w({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ai&&(Ai&&t.type==="mousemove"?($s=t.screenX-Ai.screenX,Zs=t.screenY-Ai.screenY):Zs=$s=0,Ai=t),$s)},movementY:function(t){return"movementY"in t?t.movementY:Zs}}),Pn=Ue(cs),_o=w({},cs,{dataTransfer:0}),vc=Ue(_o),fs=w({},us,{relatedTarget:0}),Ws=Ue(fs),Wr=w({},Kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Js=Ue(Wr),vo=w({},Kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tr=Ue(vo),Tc=w({},Kt,{data:0}),Jr=Ue(Tc),hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},To={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tl(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Eo[t])?!!e[t]:!1}function ds(){return tl}var Ao=w({},us,{key:function(t){if(t.key){var e=hs[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ti(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?To[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(t){return t.type==="keypress"?Ti(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ti(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),er=Ue(Ao),So=w({},cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=Ue(So),Hi=w({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),bo=Ue(Hi),Ro=w({},Kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),wo=Ue(Ro),Co=w({},cs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nr=Ue(Co),fn=w({},Kt,{newState:0,oldState:0}),Io=Ue(fn),No=[9,13,27,32],Si=Jn&&"CompositionEvent"in window,o=null;Jn&&"documentMode"in document&&(o=document.documentMode);var d=Jn&&"TextEvent"in window&&!o,g=Jn&&(!Si||o&&8<o&&11>=o),E=" ",U=!1;function H(t,e){switch(t){case"keyup":return No.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jt=!1;function Me(t,e){switch(t){case"compositionend":return nt(e);case"keypress":return e.which!==32?null:(U=!0,E);case"textInput":return t=e.data,t===E&&U?null:t;default:return null}}function Pt(t,e){if(jt)return t==="compositionend"||!Si&&H(t,e)?(t=$r(),qi=ga=vi=null,jt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return g&&e.locale!=="ko"?null:e.data;default:return null}}var je={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oe(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!je[t.type]:e==="textarea"}function Gi(t,e,i,r){Bi?ki?ki.push(r):ki=[r]:Bi=r,e=gu(e,"onChange"),0<e.length&&(i=new Ks("onChange","change",null,i,r),t.push({event:i,listeners:e}))}var Ge=null,bi=null;function nl(t){fp(t,0)}function Do(t){var e=q(t);if(Fr(e))return t}function Md(t,e){if(t==="change")return e}var Od=!1;if(Jn){var Ec;if(Jn){var Ac="oninput"in document;if(!Ac){var Vd=document.createElement("div");Vd.setAttribute("oninput","return;"),Ac=typeof Vd.oninput=="function"}Ec=Ac}else Ec=!1;Od=Ec&&(!document.documentMode||9<document.documentMode)}function Ld(){Ge&&(Ge.detachEvent("onpropertychange",Ud),bi=Ge=null)}function Ud(t){if(t.propertyName==="value"&&Do(bi)){var e=[];Gi(e,bi,t,Un(t)),po(nl,e)}}function $_(t,e,i){t==="focusin"?(Ld(),Ge=e,bi=i,Ge.attachEvent("onpropertychange",Ud)):t==="focusout"&&Ld()}function Z_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Do(bi)}function W_(t,e){if(t==="click")return Do(e)}function J_(t,e){if(t==="input"||t==="change")return Do(e)}function tv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bn=typeof Object.is=="function"?Object.is:tv;function il(t,e){if(bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var u=i[r];if(!_e.call(e,u)||!bn(t[u],e[u]))return!1}return!0}function jd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pd(t,e){var i=jd(t);t=0;for(var r;i;){if(i.nodeType===3){if(r=t+i.textContent.length,t<=e&&r>=e)return{node:i,offset:e-t};t=r}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=jd(i)}}function zd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Bd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=is(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=is(t.document)}return e}function Sc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var ev=Jn&&"documentMode"in document&&11>=document.documentMode,ir=null,bc=null,al=null,Rc=!1;function kd(t,e,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Rc||ir==null||ir!==is(r)||(r=ir,"selectionStart"in r&&Sc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),al&&il(al,r)||(al=r,r=gu(bc,"onSelect"),0<r.length&&(e=new Ks("onSelect","select",null,e,i),t.push({event:e,listeners:r}),e.target=ir)))}function ms(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var ar={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionrun:ms("Transition","TransitionRun"),transitionstart:ms("Transition","TransitionStart"),transitioncancel:ms("Transition","TransitionCancel"),transitionend:ms("Transition","TransitionEnd")},wc={},qd={};Jn&&(qd=document.createElement("div").style,"AnimationEvent"in window||(delete ar.animationend.animation,delete ar.animationiteration.animation,delete ar.animationstart.animation),"TransitionEvent"in window||delete ar.transitionend.transition);function gs(t){if(wc[t])return wc[t];if(!ar[t])return t;var e=ar[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in qd)return wc[t]=e[i];return t}var Hd=gs("animationend"),Gd=gs("animationiteration"),Qd=gs("animationstart"),nv=gs("transitionrun"),iv=gs("transitionstart"),av=gs("transitioncancel"),Fd=gs("transitionend"),Yd=new Map,Cc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cc.push("scrollEnd");function ti(t,e){Yd.set(t,e),St(e,[t])}var Xd=new WeakMap;function zn(t,e){if(typeof t=="object"&&t!==null){var i=Xd.get(t);return i!==void 0?i:(e={value:t,source:e,stack:Fs(e)},Xd.set(t,e),e)}return{value:t,source:e,stack:Fs(e)}}var Bn=[],sr=0,Ic=0;function xo(){for(var t=sr,e=Ic=sr=0;e<t;){var i=Bn[e];Bn[e++]=null;var r=Bn[e];Bn[e++]=null;var u=Bn[e];Bn[e++]=null;var f=Bn[e];if(Bn[e++]=null,r!==null&&u!==null){var p=r.pending;p===null?u.next=u:(u.next=p.next,p.next=u),r.pending=u}f!==0&&Kd(i,u,f)}}function Mo(t,e,i,r){Bn[sr++]=t,Bn[sr++]=e,Bn[sr++]=i,Bn[sr++]=r,Ic|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Nc(t,e,i,r){return Mo(t,e,i,r),Oo(t)}function rr(t,e){return Mo(t,null,null,e),Oo(t)}function Kd(t,e,i){t.lanes|=i;var r=t.alternate;r!==null&&(r.lanes|=i);for(var u=!1,f=t.return;f!==null;)f.childLanes|=i,r=f.alternate,r!==null&&(r.childLanes|=i),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&e!==null&&(u=31-Re(i),t=f.hiddenUpdates,r=t[u],r===null?t[u]=[e]:r.push(e),e.lane=i|536870912),f):null}function Oo(t){if(50<Nl)throw Nl=0,Uf=null,Error(l(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var lr={};function sv(t,e,i,r){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,e,i,r){return new sv(t,e,i,r)}function Dc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qi(t,e){var i=t.alternate;return i===null?(i=Rn(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function $d(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Vo(t,e,i,r,u,f){var p=0;if(r=t,typeof t=="function")Dc(t)&&(p=1);else if(typeof t=="string")p=lT(t,i,mt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=Rn(31,i,e,u),t.elementType=R,t.lanes=f,t;case J:return ps(i.children,u,f,e);case ct:p=8,u|=24;break;case lt:return t=Rn(12,i,e,u|2),t.elementType=lt,t.lanes=f,t;case Rt:return t=Rn(13,i,e,u),t.elementType=Rt,t.lanes=f,t;case Vt:return t=Rn(19,i,e,u),t.elementType=Vt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bt:case yt:p=10;break t;case ft:p=9;break t;case Qt:p=11;break t;case M:p=14;break t;case A:p=16,r=null;break t}p=29,i=Error(l(130,t===null?"null":typeof t,"")),r=null}return e=Rn(p,i,e,u),e.elementType=t,e.type=r,e.lanes=f,e}function ps(t,e,i,r){return t=Rn(7,t,r,e),t.lanes=i,t}function xc(t,e,i){return t=Rn(6,t,null,e),t.lanes=i,t}function Mc(t,e,i){return e=Rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var or=[],ur=0,Lo=null,Uo=0,kn=[],qn=0,ys=null,Fi=1,Yi="";function _s(t,e){or[ur++]=Uo,or[ur++]=Lo,Lo=t,Uo=e}function Zd(t,e,i){kn[qn++]=Fi,kn[qn++]=Yi,kn[qn++]=ys,ys=t;var r=Fi;t=Yi;var u=32-Re(r)-1;r&=~(1<<u),i+=1;var f=32-Re(e)+u;if(30<f){var p=u-u%5;f=(r&(1<<p)-1).toString(32),r>>=p,u-=p,Fi=1<<32-Re(e)+u|i<<u|r,Yi=f+t}else Fi=1<<f|i<<u|r,Yi=t}function Oc(t){t.return!==null&&(_s(t,1),Zd(t,1,0))}function Vc(t){for(;t===Lo;)Lo=or[--ur],or[ur]=null,Uo=or[--ur],or[ur]=null;for(;t===ys;)ys=kn[--qn],kn[qn]=null,Yi=kn[--qn],kn[qn]=null,Fi=kn[--qn],kn[qn]=null}var hn=null,ve=null,Xt=!1,vs=null,Ri=!1,Lc=Error(l(519));function Ts(t){var e=Error(l(418,""));throw ll(zn(e,t)),Lc}function Wd(t){var e=t.stateNode,i=t.type,r=t.memoizedProps;switch(e[Ae]=t,e[de]=r,i){case"dialog":Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":case"embed":Ot("load",e);break;case"video":case"audio":for(i=0;i<xl.length;i++)Ot(xl[i],e);break;case"source":Ot("error",e);break;case"img":case"image":case"link":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"input":Ot("invalid",e),as(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Ys(e);break;case"select":Ot("invalid",e);break;case"textarea":Ot("invalid",e),ss(e,r.value,r.defaultValue,r.children),Ys(e)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||r.suppressHydrationWarning===!0||gp(e.textContent,i)?(r.popover!=null&&(Ot("beforetoggle",e),Ot("toggle",e)),r.onScroll!=null&&Ot("scroll",e),r.onScrollEnd!=null&&Ot("scrollend",e),r.onClick!=null&&(e.onclick=pu),e=!0):e=!1,e||Ts(t)}function Jd(t){for(hn=t.return;hn;)switch(hn.tag){case 5:case 13:Ri=!1;return;case 27:case 3:Ri=!0;return;default:hn=hn.return}}function sl(t){if(t!==hn)return!1;if(!Xt)return Jd(t),Xt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Wf(t.type,t.memoizedProps)),i=!i),i&&ve&&Ts(t),Jd(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(e===0){ve=ni(t.nextSibling);break t}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++;t=t.nextSibling}ve=null}}else e===27?(e=ve,xa(t.type)?(t=nh,nh=null,ve=t):ve=e):ve=hn?ni(t.stateNode.nextSibling):null;return!0}function rl(){ve=hn=null,Xt=!1}function tm(){var t=vs;return t!==null&&(yn===null?yn=t:yn.push.apply(yn,t),vs=null),t}function ll(t){vs===null?vs=[t]:vs.push(t)}var Uc=K(null),Es=null,Xi=null;function pa(t,e,i){tt(Uc,e._currentValue),e._currentValue=i}function Ki(t){t._currentValue=Uc.current,at(Uc)}function jc(t,e,i){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===i)break;t=t.return}}function Pc(t,e,i,r){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var p=u.child;f=f.firstContext;t:for(;f!==null;){var v=f;f=u;for(var S=0;S<e.length;S++)if(v.context===e[S]){f.lanes|=i,v=f.alternate,v!==null&&(v.lanes|=i),jc(f.return,i,t),r||(p=null);break t}f=v.next}}else if(u.tag===18){if(p=u.return,p===null)throw Error(l(341));p.lanes|=i,f=p.alternate,f!==null&&(f.lanes|=i),jc(p,i,t),p=null}else p=u.child;if(p!==null)p.return=u;else for(p=u;p!==null;){if(p===t){p=null;break}if(u=p.sibling,u!==null){u.return=p.return,p=u;break}p=p.return}u=p}}function ol(t,e,i,r){t=null;for(var u=e,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var p=u.alternate;if(p===null)throw Error(l(387));if(p=p.memoizedProps,p!==null){var v=u.type;bn(u.pendingProps.value,p.value)||(t!==null?t.push(v):t=[v])}}else if(u===ye.current){if(p=u.alternate,p===null)throw Error(l(387));p.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(jl):t=[jl])}u=u.return}t!==null&&Pc(e,t,i,r),e.flags|=262144}function jo(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function As(t){Es=t,Xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function tn(t){return em(Es,t)}function Po(t,e){return Es===null&&As(t),em(t,e)}function em(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},Xi===null){if(t===null)throw Error(l(308));Xi=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Xi=Xi.next=e;return i}var rv=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},lv=s.unstable_scheduleCallback,ov=s.unstable_NormalPriority,Ve={$$typeof:yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zc(){return{controller:new rv,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&lv(ov,function(){t.controller.abort()})}var cl=null,Bc=0,cr=0,fr=null;function uv(t,e){if(cl===null){var i=cl=[];Bc=0,cr=Hf(),fr={status:"pending",value:void 0,then:function(r){i.push(r)}}}return Bc++,e.then(nm,nm),e}function nm(){if(--Bc===0&&cl!==null){fr!==null&&(fr.status="fulfilled");var t=cl;cl=null,cr=0,fr=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function cv(t,e){var i=[],r={status:"pending",value:null,reason:null,then:function(u){i.push(u)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var u=0;u<i.length;u++)(0,i[u])(e)},function(u){for(r.status="rejected",r.reason=u,u=0;u<i.length;u++)(0,i[u])(void 0)}),r}var im=Q.S;Q.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&uv(t,e),im!==null&&im(t,e)};var Ss=K(null);function kc(){var t=Ss.current;return t!==null?t:le.pooledCache}function zo(t,e){e===null?tt(Ss,Ss.current):tt(Ss,e.pool)}function am(){var t=kc();return t===null?null:{parent:Ve._currentValue,pool:t}}var fl=Error(l(460)),sm=Error(l(474)),Bo=Error(l(542)),qc={then:function(){}};function rm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ko(){}function lm(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(ko,ko),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,um(t),t;default:if(typeof e.status=="string")e.then(ko,ko);else{if(t=le,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var u=e;u.status="fulfilled",u.value=r}},function(r){if(e.status==="pending"){var u=e;u.status="rejected",u.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,um(t),t}throw hl=e,fl}}var hl=null;function om(){if(hl===null)throw Error(l(459));var t=hl;return hl=null,t}function um(t){if(t===fl||t===Bo)throw Error(l(483))}var ya=!1;function Hc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function _a(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function va(t,e,i){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Zt&2)!==0){var u=r.pending;return u===null?e.next=e:(e.next=u.next,u.next=e),r.pending=e,e=Oo(t),Kd(t,null,i),e}return Mo(t,r,e,i),Oo(t)}function dl(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,Ja(t,i)}}function Qc(t,e){var i=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var u=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var p={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?u=f=p:f=f.next=p,i=i.next}while(i!==null);f===null?u=f=e:f=f.next=e}else u=f=e;i={baseState:r.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var Fc=!1;function ml(){if(Fc){var t=fr;if(t!==null)throw t}}function gl(t,e,i,r){Fc=!1;var u=t.updateQueue;ya=!1;var f=u.firstBaseUpdate,p=u.lastBaseUpdate,v=u.shared.pending;if(v!==null){u.shared.pending=null;var S=v,z=S.next;S.next=null,p===null?f=z:p.next=z,p=S;var F=t.alternate;F!==null&&(F=F.updateQueue,v=F.lastBaseUpdate,v!==p&&(v===null?F.firstBaseUpdate=z:v.next=z,F.lastBaseUpdate=S))}if(f!==null){var X=u.baseState;p=0,F=z=S=null,v=f;do{var B=v.lane&-536870913,k=B!==v.lane;if(k?(zt&B)===B:(r&B)===B){B!==0&&B===cr&&(Fc=!0),F!==null&&(F=F.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});t:{var Tt=t,pt=v;B=e;var ne=i;switch(pt.tag){case 1:if(Tt=pt.payload,typeof Tt=="function"){X=Tt.call(ne,X,B);break t}X=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=pt.payload,B=typeof Tt=="function"?Tt.call(ne,X,B):Tt,B==null)break t;X=w({},X,B);break t;case 2:ya=!0}}B=v.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=u.callbacks,k===null?u.callbacks=[B]:k.push(B))}else k={lane:B,tag:v.tag,payload:v.payload,callback:v.callback,next:null},F===null?(z=F=k,S=X):F=F.next=k,p|=B;if(v=v.next,v===null){if(v=u.shared.pending,v===null)break;k=v,v=k.next,k.next=null,u.lastBaseUpdate=k,u.shared.pending=null}}while(!0);F===null&&(S=X),u.baseState=S,u.firstBaseUpdate=z,u.lastBaseUpdate=F,f===null&&(u.shared.lanes=0),Ca|=p,t.lanes=p,t.memoizedState=X}}function cm(t,e){if(typeof t!="function")throw Error(l(191,t));t.call(e)}function fm(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)cm(i[t],e)}var hr=K(null),qo=K(0);function hm(t,e){t=na,tt(qo,t),tt(hr,e),na=t|e.baseLanes}function Yc(){tt(qo,na),tt(hr,hr.current)}function Xc(){na=qo.current,at(hr),at(qo)}var Ta=0,Nt=null,te=null,Ie=null,Ho=!1,dr=!1,bs=!1,Go=0,pl=0,mr=null,fv=0;function Se(){throw Error(l(321))}function Kc(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!bn(t[i],e[i]))return!1;return!0}function $c(t,e,i,r,u,f){return Ta=f,Nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Q.H=t===null||t.memoizedState===null?Km:$m,bs=!1,f=i(r,u),bs=!1,dr&&(f=mm(e,i,r,u)),dm(t),f}function dm(t){Q.H=$o;var e=te!==null&&te.next!==null;if(Ta=0,Ie=te=Nt=null,Ho=!1,pl=0,mr=null,e)throw Error(l(300));t===null||Pe||(t=t.dependencies,t!==null&&jo(t)&&(Pe=!0))}function mm(t,e,i,r){Nt=t;var u=0;do{if(dr&&(mr=null),pl=0,dr=!1,25<=u)throw Error(l(301));if(u+=1,Ie=te=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=_v,f=e(i,r)}while(dr);return f}function hv(){var t=Q.H,e=t.useState()[0];return e=typeof e.then=="function"?yl(e):e,t=t.useState()[0],(te!==null?te.memoizedState:null)!==t&&(Nt.flags|=1024),e}function Zc(){var t=Go!==0;return Go=0,t}function Wc(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function Jc(t){if(Ho){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ho=!1}Ta=0,Ie=te=Nt=null,dr=!1,pl=Go=0,mr=null}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?Nt.memoizedState=Ie=t:Ie=Ie.next=t,Ie}function Ne(){if(te===null){var t=Nt.alternate;t=t!==null?t.memoizedState:null}else t=te.next;var e=Ie===null?Nt.memoizedState:Ie.next;if(e!==null)Ie=e,te=t;else{if(t===null)throw Nt.alternate===null?Error(l(467)):Error(l(310));te=t,t={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Ie===null?Nt.memoizedState=Ie=t:Ie=Ie.next=t}return Ie}function tf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var e=pl;return pl+=1,mr===null&&(mr=[]),t=lm(mr,t,e),e=Nt,(Ie===null?e.memoizedState:Ie.next)===null&&(e=e.alternate,Q.H=e===null||e.memoizedState===null?Km:$m),t}function Qo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===yt)return tn(t)}throw Error(l(438,String(t)))}function ef(t){var e=null,i=Nt.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var r=Nt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(u){return u.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=tf(),Nt.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),r=0;r<t;r++)i[r]=N;return e.index++,i}function $i(t,e){return typeof e=="function"?e(t):e}function Fo(t){var e=Ne();return nf(e,te,t)}function nf(t,e,i){var r=t.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=i;var u=t.baseQueue,f=r.pending;if(f!==null){if(u!==null){var p=u.next;u.next=f.next,f.next=p}e.baseQueue=u=f,r.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{e=u.next;var v=p=null,S=null,z=e,F=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(zt&X)===X:(Ta&X)===X){var B=z.revertLane;if(B===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===cr&&(F=!0);else if((Ta&B)===B){z=z.next,B===cr&&(F=!0);continue}else X={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},S===null?(v=S=X,p=f):S=S.next=X,Nt.lanes|=B,Ca|=B;X=z.action,bs&&i(f,X),f=z.hasEagerState?z.eagerState:i(f,X)}else B={lane:X,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},S===null?(v=S=B,p=f):S=S.next=B,Nt.lanes|=X,Ca|=X;z=z.next}while(z!==null&&z!==e);if(S===null?p=f:S.next=v,!bn(f,t.memoizedState)&&(Pe=!0,F&&(i=fr,i!==null)))throw i;t.memoizedState=f,t.baseState=p,t.baseQueue=S,r.lastRenderedState=f}return u===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function af(t){var e=Ne(),i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=t;var r=i.dispatch,u=i.pending,f=e.memoizedState;if(u!==null){i.pending=null;var p=u=u.next;do f=t(f,p.action),p=p.next;while(p!==u);bn(f,e.memoizedState)||(Pe=!0),e.memoizedState=f,e.baseQueue===null&&(e.baseState=f),i.lastRenderedState=f}return[f,r]}function gm(t,e,i){var r=Nt,u=Ne(),f=Xt;if(f){if(i===void 0)throw Error(l(407));i=i()}else i=e();var p=!bn((te||u).memoizedState,i);p&&(u.memoizedState=i,Pe=!0),u=u.queue;var v=_m.bind(null,r,u,t);if(_l(2048,8,v,[t]),u.getSnapshot!==e||p||Ie!==null&&Ie.memoizedState.tag&1){if(r.flags|=2048,gr(9,Yo(),ym.bind(null,r,u,i,e),null),le===null)throw Error(l(349));f||(Ta&124)!==0||pm(r,e,i)}return i}function pm(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=Nt.updateQueue,e===null?(e=tf(),Nt.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function ym(t,e,i,r){e.value=i,e.getSnapshot=r,vm(e)&&Tm(t)}function _m(t,e,i){return i(function(){vm(e)&&Tm(t)})}function vm(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!bn(t,i)}catch{return!0}}function Tm(t){var e=rr(t,2);e!==null&&Dn(e,t,2)}function sf(t){var e=gn();if(typeof t=="function"){var i=t;if(t=i(),bs){Je(!0);try{i()}finally{Je(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:t},e}function Em(t,e,i,r){return t.baseState=i,nf(t,te,typeof r=="function"?r:$i)}function dv(t,e,i,r,u){if(Ko(t))throw Error(l(485));if(t=e.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};Q.T!==null?i(!0):f.isTransition=!1,r(f),i=e.pending,i===null?(f.next=e.pending=f,Am(e,f)):(f.next=i.next,e.pending=i.next=f)}}function Am(t,e){var i=e.action,r=e.payload,u=t.state;if(e.isTransition){var f=Q.T,p={};Q.T=p;try{var v=i(u,r),S=Q.S;S!==null&&S(p,v),Sm(t,e,v)}catch(z){rf(t,e,z)}finally{Q.T=f}}else try{f=i(u,r),Sm(t,e,f)}catch(z){rf(t,e,z)}}function Sm(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){bm(t,e,r)},function(r){return rf(t,e,r)}):bm(t,e,i)}function bm(t,e,i){e.status="fulfilled",e.value=i,Rm(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,Am(t,i)))}function rf(t,e,i){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=i,Rm(e),e=e.next;while(e!==r)}t.action=null}function Rm(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function wm(t,e){return e}function Cm(t,e){if(Xt){var i=le.formState;if(i!==null){t:{var r=Nt;if(Xt){if(ve){e:{for(var u=ve,f=Ri;u.nodeType!==8;){if(!f){u=null;break e}if(u=ni(u.nextSibling),u===null){u=null;break e}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){ve=ni(u.nextSibling),r=u.data==="F!";break t}}Ts(r)}r=!1}r&&(e=i[0])}}return i=gn(),i.memoizedState=i.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wm,lastRenderedState:e},i.queue=r,i=Fm.bind(null,Nt,r),r.dispatch=i,r=sf(!1),f=ff.bind(null,Nt,!1,r.queue),r=gn(),u={state:e,dispatch:null,action:t,pending:null},r.queue=u,i=dv.bind(null,Nt,u,f,i),u.dispatch=i,r.memoizedState=t,[e,i,!1]}function Im(t){var e=Ne();return Nm(e,te,t)}function Nm(t,e,i){if(e=nf(t,e,wm)[0],t=Fo($i)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=yl(e)}catch(p){throw p===fl?Bo:p}else r=e;e=Ne();var u=e.queue,f=u.dispatch;return i!==e.memoizedState&&(Nt.flags|=2048,gr(9,Yo(),mv.bind(null,u,i),null)),[r,f,t]}function mv(t,e){t.action=e}function Dm(t){var e=Ne(),i=te;if(i!==null)return Nm(e,i,t);Ne(),e=e.memoizedState,i=Ne();var r=i.queue.dispatch;return i.memoizedState=t,[e,r,!1]}function gr(t,e,i,r){return t={tag:t,create:i,deps:r,inst:e,next:null},e=Nt.updateQueue,e===null&&(e=tf(),Nt.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(r=i.next,i.next=t,t.next=r,e.lastEffect=t),t}function Yo(){return{destroy:void 0,resource:void 0}}function xm(){return Ne().memoizedState}function Xo(t,e,i,r){var u=gn();r=r===void 0?null:r,Nt.flags|=t,u.memoizedState=gr(1|e,Yo(),i,r)}function _l(t,e,i,r){var u=Ne();r=r===void 0?null:r;var f=u.memoizedState.inst;te!==null&&r!==null&&Kc(r,te.memoizedState.deps)?u.memoizedState=gr(e,f,i,r):(Nt.flags|=t,u.memoizedState=gr(1|e,f,i,r))}function Mm(t,e){Xo(8390656,8,t,e)}function Om(t,e){_l(2048,8,t,e)}function Vm(t,e){return _l(4,2,t,e)}function Lm(t,e){return _l(4,4,t,e)}function Um(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jm(t,e,i){i=i!=null?i.concat([t]):null,_l(4,4,Um.bind(null,e,t),i)}function lf(){}function Pm(t,e){var i=Ne();e=e===void 0?null:e;var r=i.memoizedState;return e!==null&&Kc(e,r[1])?r[0]:(i.memoizedState=[t,e],t)}function zm(t,e){var i=Ne();e=e===void 0?null:e;var r=i.memoizedState;if(e!==null&&Kc(e,r[1]))return r[0];if(r=t(),bs){Je(!0);try{t()}finally{Je(!1)}}return i.memoizedState=[r,e],r}function of(t,e,i){return i===void 0||(Ta&1073741824)!==0?t.memoizedState=e:(t.memoizedState=i,t=qg(),Nt.lanes|=t,Ca|=t,i)}function Bm(t,e,i,r){return bn(i,e)?i:hr.current!==null?(t=of(t,i,r),bn(t,e)||(Pe=!0),t):(Ta&42)===0?(Pe=!0,t.memoizedState=i):(t=qg(),Nt.lanes|=t,Ca|=t,e)}function km(t,e,i,r,u){var f=it.p;it.p=f!==0&&8>f?f:8;var p=Q.T,v={};Q.T=v,ff(t,!1,e,i);try{var S=u(),z=Q.S;if(z!==null&&z(v,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var F=cv(S,r);vl(t,e,F,Nn(t))}else vl(t,e,r,Nn(t))}catch(X){vl(t,e,{then:function(){},status:"rejected",reason:X},Nn())}finally{it.p=f,Q.T=p}}function gv(){}function uf(t,e,i,r){if(t.tag!==5)throw Error(l(476));var u=qm(t).queue;km(t,u,e,dt,i===null?gv:function(){return Hm(t),i(r)})}function qm(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:dt},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Hm(t){var e=qm(t).next.queue;vl(t,e,{},Nn())}function cf(){return tn(jl)}function Gm(){return Ne().memoizedState}function Qm(){return Ne().memoizedState}function pv(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=Nn();t=_a(i);var r=va(e,t,i);r!==null&&(Dn(r,e,i),dl(r,e,i)),e={cache:zc()},t.payload=e;return}e=e.return}}function yv(t,e,i){var r=Nn();i={lane:r,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Ko(t)?Ym(e,i):(i=Nc(t,e,i,r),i!==null&&(Dn(i,t,r),Xm(i,e,r)))}function Fm(t,e,i){var r=Nn();vl(t,e,i,r)}function vl(t,e,i,r){var u={lane:r,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ko(t))Ym(e,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=e.lastRenderedReducer,f!==null))try{var p=e.lastRenderedState,v=f(p,i);if(u.hasEagerState=!0,u.eagerState=v,bn(v,p))return Mo(t,e,u,0),le===null&&xo(),!1}catch{}finally{}if(i=Nc(t,e,u,r),i!==null)return Dn(i,t,r),Xm(i,e,r),!0}return!1}function ff(t,e,i,r){if(r={lane:2,revertLane:Hf(),action:r,hasEagerState:!1,eagerState:null,next:null},Ko(t)){if(e)throw Error(l(479))}else e=Nc(t,i,r,2),e!==null&&Dn(e,t,2)}function Ko(t){var e=t.alternate;return t===Nt||e!==null&&e===Nt}function Ym(t,e){dr=Ho=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Xm(t,e,i){if((i&4194048)!==0){var r=e.lanes;r&=t.pendingLanes,i|=r,e.lanes=i,Ja(t,i)}}var $o={readContext:tn,use:Qo,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useLayoutEffect:Se,useInsertionEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useSyncExternalStore:Se,useId:Se,useHostTransitionStatus:Se,useFormState:Se,useActionState:Se,useOptimistic:Se,useMemoCache:Se,useCacheRefresh:Se},Km={readContext:tn,use:Qo,useCallback:function(t,e){return gn().memoizedState=[t,e===void 0?null:e],t},useContext:tn,useEffect:Mm,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,Xo(4194308,4,Um.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Xo(4194308,4,t,e)},useInsertionEffect:function(t,e){Xo(4,2,t,e)},useMemo:function(t,e){var i=gn();e=e===void 0?null:e;var r=t();if(bs){Je(!0);try{t()}finally{Je(!1)}}return i.memoizedState=[r,e],r},useReducer:function(t,e,i){var r=gn();if(i!==void 0){var u=i(e);if(bs){Je(!0);try{i(e)}finally{Je(!1)}}}else u=e;return r.memoizedState=r.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},r.queue=t,t=t.dispatch=yv.bind(null,Nt,t),[r.memoizedState,t]},useRef:function(t){var e=gn();return t={current:t},e.memoizedState=t},useState:function(t){t=sf(t);var e=t.queue,i=Fm.bind(null,Nt,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:lf,useDeferredValue:function(t,e){var i=gn();return of(i,t,e)},useTransition:function(){var t=sf(!1);return t=km.bind(null,Nt,t.queue,!0,!1),gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var r=Nt,u=gn();if(Xt){if(i===void 0)throw Error(l(407));i=i()}else{if(i=e(),le===null)throw Error(l(349));(zt&124)!==0||pm(r,e,i)}u.memoizedState=i;var f={value:i,getSnapshot:e};return u.queue=f,Mm(_m.bind(null,r,f,t),[t]),r.flags|=2048,gr(9,Yo(),ym.bind(null,r,f,i,e),null),i},useId:function(){var t=gn(),e=le.identifierPrefix;if(Xt){var i=Yi,r=Fi;i=(r&~(1<<32-Re(r)-1)).toString(32)+i,e=""+e+"R"+i,i=Go++,0<i&&(e+="H"+i.toString(32)),e+=""}else i=fv++,e=""+e+"r"+i.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:cf,useFormState:Cm,useActionState:Cm,useOptimistic:function(t){var e=gn();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=ff.bind(null,Nt,!0,i),i.dispatch=e,[t,e]},useMemoCache:ef,useCacheRefresh:function(){return gn().memoizedState=pv.bind(null,Nt)}},$m={readContext:tn,use:Qo,useCallback:Pm,useContext:tn,useEffect:Om,useImperativeHandle:jm,useInsertionEffect:Vm,useLayoutEffect:Lm,useMemo:zm,useReducer:Fo,useRef:xm,useState:function(){return Fo($i)},useDebugValue:lf,useDeferredValue:function(t,e){var i=Ne();return Bm(i,te.memoizedState,t,e)},useTransition:function(){var t=Fo($i)[0],e=Ne().memoizedState;return[typeof t=="boolean"?t:yl(t),e]},useSyncExternalStore:gm,useId:Gm,useHostTransitionStatus:cf,useFormState:Im,useActionState:Im,useOptimistic:function(t,e){var i=Ne();return Em(i,te,t,e)},useMemoCache:ef,useCacheRefresh:Qm},_v={readContext:tn,use:Qo,useCallback:Pm,useContext:tn,useEffect:Om,useImperativeHandle:jm,useInsertionEffect:Vm,useLayoutEffect:Lm,useMemo:zm,useReducer:af,useRef:xm,useState:function(){return af($i)},useDebugValue:lf,useDeferredValue:function(t,e){var i=Ne();return te===null?of(i,t,e):Bm(i,te.memoizedState,t,e)},useTransition:function(){var t=af($i)[0],e=Ne().memoizedState;return[typeof t=="boolean"?t:yl(t),e]},useSyncExternalStore:gm,useId:Gm,useHostTransitionStatus:cf,useFormState:Dm,useActionState:Dm,useOptimistic:function(t,e){var i=Ne();return te!==null?Em(i,te,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:ef,useCacheRefresh:Qm},pr=null,Tl=0;function Zo(t){var e=Tl;return Tl+=1,pr===null&&(pr=[]),lm(pr,t,e)}function El(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Wo(t,e){throw e.$$typeof===P?Error(l(525)):(t=Object.prototype.toString.call(e),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Zm(t){var e=t._init;return e(t._payload)}function Wm(t){function e(O,I){if(t){var j=O.deletions;j===null?(O.deletions=[I],O.flags|=16):j.push(I)}}function i(O,I){if(!t)return null;for(;I!==null;)e(O,I),I=I.sibling;return null}function r(O){for(var I=new Map;O!==null;)O.key!==null?I.set(O.key,O):I.set(O.index,O),O=O.sibling;return I}function u(O,I){return O=Qi(O,I),O.index=0,O.sibling=null,O}function f(O,I,j){return O.index=j,t?(j=O.alternate,j!==null?(j=j.index,j<I?(O.flags|=67108866,I):j):(O.flags|=67108866,I)):(O.flags|=1048576,I)}function p(O){return t&&O.alternate===null&&(O.flags|=67108866),O}function v(O,I,j,Y){return I===null||I.tag!==6?(I=xc(j,O.mode,Y),I.return=O,I):(I=u(I,j),I.return=O,I)}function S(O,I,j,Y){var ot=j.type;return ot===J?F(O,I,j.props.children,Y,j.key):I!==null&&(I.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===A&&Zm(ot)===I.type)?(I=u(I,j.props),El(I,j),I.return=O,I):(I=Vo(j.type,j.key,j.props,null,O.mode,Y),El(I,j),I.return=O,I)}function z(O,I,j,Y){return I===null||I.tag!==4||I.stateNode.containerInfo!==j.containerInfo||I.stateNode.implementation!==j.implementation?(I=Mc(j,O.mode,Y),I.return=O,I):(I=u(I,j.children||[]),I.return=O,I)}function F(O,I,j,Y,ot){return I===null||I.tag!==7?(I=ps(j,O.mode,Y,ot),I.return=O,I):(I=u(I,j),I.return=O,I)}function X(O,I,j){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=xc(""+I,O.mode,j),I.return=O,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case L:return j=Vo(I.type,I.key,I.props,null,O.mode,j),El(j,I),j.return=O,j;case et:return I=Mc(I,O.mode,j),I.return=O,I;case A:var Y=I._init;return I=Y(I._payload),X(O,I,j)}if(ie(I)||V(I))return I=ps(I,O.mode,j,null),I.return=O,I;if(typeof I.then=="function")return X(O,Zo(I),j);if(I.$$typeof===yt)return X(O,Po(O,I),j);Wo(O,I)}return null}function B(O,I,j,Y){var ot=I!==null?I.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ot!==null?null:v(O,I,""+j,Y);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case L:return j.key===ot?S(O,I,j,Y):null;case et:return j.key===ot?z(O,I,j,Y):null;case A:return ot=j._init,j=ot(j._payload),B(O,I,j,Y)}if(ie(j)||V(j))return ot!==null?null:F(O,I,j,Y,null);if(typeof j.then=="function")return B(O,I,Zo(j),Y);if(j.$$typeof===yt)return B(O,I,Po(O,j),Y);Wo(O,j)}return null}function k(O,I,j,Y,ot){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return O=O.get(j)||null,v(I,O,""+Y,ot);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case L:return O=O.get(Y.key===null?j:Y.key)||null,S(I,O,Y,ot);case et:return O=O.get(Y.key===null?j:Y.key)||null,z(I,O,Y,ot);case A:var xt=Y._init;return Y=xt(Y._payload),k(O,I,j,Y,ot)}if(ie(Y)||V(Y))return O=O.get(j)||null,F(I,O,Y,ot,null);if(typeof Y.then=="function")return k(O,I,j,Zo(Y),ot);if(Y.$$typeof===yt)return k(O,I,j,Po(I,Y),ot);Wo(I,Y)}return null}function Tt(O,I,j,Y){for(var ot=null,xt=null,ht=I,vt=I=0,Be=null;ht!==null&&vt<j.length;vt++){ht.index>vt?(Be=ht,ht=null):Be=ht.sibling;var Gt=B(O,ht,j[vt],Y);if(Gt===null){ht===null&&(ht=Be);break}t&&ht&&Gt.alternate===null&&e(O,ht),I=f(Gt,I,vt),xt===null?ot=Gt:xt.sibling=Gt,xt=Gt,ht=Be}if(vt===j.length)return i(O,ht),Xt&&_s(O,vt),ot;if(ht===null){for(;vt<j.length;vt++)ht=X(O,j[vt],Y),ht!==null&&(I=f(ht,I,vt),xt===null?ot=ht:xt.sibling=ht,xt=ht);return Xt&&_s(O,vt),ot}for(ht=r(ht);vt<j.length;vt++)Be=k(ht,O,vt,j[vt],Y),Be!==null&&(t&&Be.alternate!==null&&ht.delete(Be.key===null?vt:Be.key),I=f(Be,I,vt),xt===null?ot=Be:xt.sibling=Be,xt=Be);return t&&ht.forEach(function(Ua){return e(O,Ua)}),Xt&&_s(O,vt),ot}function pt(O,I,j,Y){if(j==null)throw Error(l(151));for(var ot=null,xt=null,ht=I,vt=I=0,Be=null,Gt=j.next();ht!==null&&!Gt.done;vt++,Gt=j.next()){ht.index>vt?(Be=ht,ht=null):Be=ht.sibling;var Ua=B(O,ht,Gt.value,Y);if(Ua===null){ht===null&&(ht=Be);break}t&&ht&&Ua.alternate===null&&e(O,ht),I=f(Ua,I,vt),xt===null?ot=Ua:xt.sibling=Ua,xt=Ua,ht=Be}if(Gt.done)return i(O,ht),Xt&&_s(O,vt),ot;if(ht===null){for(;!Gt.done;vt++,Gt=j.next())Gt=X(O,Gt.value,Y),Gt!==null&&(I=f(Gt,I,vt),xt===null?ot=Gt:xt.sibling=Gt,xt=Gt);return Xt&&_s(O,vt),ot}for(ht=r(ht);!Gt.done;vt++,Gt=j.next())Gt=k(ht,O,vt,Gt.value,Y),Gt!==null&&(t&&Gt.alternate!==null&&ht.delete(Gt.key===null?vt:Gt.key),I=f(Gt,I,vt),xt===null?ot=Gt:xt.sibling=Gt,xt=Gt);return t&&ht.forEach(function(vT){return e(O,vT)}),Xt&&_s(O,vt),ot}function ne(O,I,j,Y){if(typeof j=="object"&&j!==null&&j.type===J&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case L:t:{for(var ot=j.key;I!==null;){if(I.key===ot){if(ot=j.type,ot===J){if(I.tag===7){i(O,I.sibling),Y=u(I,j.props.children),Y.return=O,O=Y;break t}}else if(I.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===A&&Zm(ot)===I.type){i(O,I.sibling),Y=u(I,j.props),El(Y,j),Y.return=O,O=Y;break t}i(O,I);break}else e(O,I);I=I.sibling}j.type===J?(Y=ps(j.props.children,O.mode,Y,j.key),Y.return=O,O=Y):(Y=Vo(j.type,j.key,j.props,null,O.mode,Y),El(Y,j),Y.return=O,O=Y)}return p(O);case et:t:{for(ot=j.key;I!==null;){if(I.key===ot)if(I.tag===4&&I.stateNode.containerInfo===j.containerInfo&&I.stateNode.implementation===j.implementation){i(O,I.sibling),Y=u(I,j.children||[]),Y.return=O,O=Y;break t}else{i(O,I);break}else e(O,I);I=I.sibling}Y=Mc(j,O.mode,Y),Y.return=O,O=Y}return p(O);case A:return ot=j._init,j=ot(j._payload),ne(O,I,j,Y)}if(ie(j))return Tt(O,I,j,Y);if(V(j)){if(ot=V(j),typeof ot!="function")throw Error(l(150));return j=ot.call(j),pt(O,I,j,Y)}if(typeof j.then=="function")return ne(O,I,Zo(j),Y);if(j.$$typeof===yt)return ne(O,I,Po(O,j),Y);Wo(O,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,I!==null&&I.tag===6?(i(O,I.sibling),Y=u(I,j),Y.return=O,O=Y):(i(O,I),Y=xc(j,O.mode,Y),Y.return=O,O=Y),p(O)):i(O,I)}return function(O,I,j,Y){try{Tl=0;var ot=ne(O,I,j,Y);return pr=null,ot}catch(ht){if(ht===fl||ht===Bo)throw ht;var xt=Rn(29,ht,null,O.mode);return xt.lanes=Y,xt.return=O,xt}finally{}}}var yr=Wm(!0),Jm=Wm(!1),Hn=K(null),wi=null;function Ea(t){var e=t.alternate;tt(Le,Le.current&1),tt(Hn,t),wi===null&&(e===null||hr.current!==null||e.memoizedState!==null)&&(wi=t)}function tg(t){if(t.tag===22){if(tt(Le,Le.current),tt(Hn,t),wi===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(wi=t)}}else Aa()}function Aa(){tt(Le,Le.current),tt(Hn,Hn.current)}function Zi(t){at(Hn),wi===t&&(wi=null),at(Le)}var Le=K(0);function Jo(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||eh(i)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function hf(t,e,i,r){e=t.memoizedState,i=i(r,e),i=i==null?e:w({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var df={enqueueSetState:function(t,e,i){t=t._reactInternals;var r=Nn(),u=_a(r);u.payload=e,i!=null&&(u.callback=i),e=va(t,u,r),e!==null&&(Dn(e,t,r),dl(e,t,r))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var r=Nn(),u=_a(r);u.tag=1,u.payload=e,i!=null&&(u.callback=i),e=va(t,u,r),e!==null&&(Dn(e,t,r),dl(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=Nn(),r=_a(i);r.tag=2,e!=null&&(r.callback=e),e=va(t,r,i),e!==null&&(Dn(e,t,i),dl(e,t,i))}};function eg(t,e,i,r,u,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,f,p):e.prototype&&e.prototype.isPureReactComponent?!il(i,r)||!il(u,f):!0}function ng(t,e,i,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,r),e.state!==t&&df.enqueueReplaceState(e,e.state,null)}function Rs(t,e){var i=e;if("ref"in e){i={};for(var r in e)r!=="ref"&&(i[r]=e[r])}if(t=t.defaultProps){i===e&&(i=w({},i));for(var u in t)i[u]===void 0&&(i[u]=t[u])}return i}var tu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ig(t){tu(t)}function ag(t){console.error(t)}function sg(t){tu(t)}function eu(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function rg(t,e,i){try{var r=t.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function mf(t,e,i){return i=_a(i),i.tag=3,i.payload={element:null},i.callback=function(){eu(t,e)},i}function lg(t){return t=_a(t),t.tag=3,t}function og(t,e,i,r){var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var f=r.value;t.payload=function(){return u(f)},t.callback=function(){rg(e,i,r)}}var p=i.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){rg(e,i,r),typeof u!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})})}function vv(t,e,i,r,u){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=i.alternate,e!==null&&ol(e,i,u,!0),i=Hn.current,i!==null){switch(i.tag){case 13:return wi===null?Pf():i.alternate===null&&Te===0&&(Te=3),i.flags&=-257,i.flags|=65536,i.lanes=u,r===qc?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([r]):e.add(r),Bf(t,r,u)),!1;case 22:return i.flags|=65536,r===qc?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([r]):i.add(r)),Bf(t,r,u)),!1}throw Error(l(435,i.tag))}return Bf(t,r,u),Pf(),!1}if(Xt)return e=Hn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=u,r!==Lc&&(t=Error(l(422),{cause:r}),ll(zn(t,i)))):(r!==Lc&&(e=Error(l(423),{cause:r}),ll(zn(e,i))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,r=zn(r,i),u=mf(t.stateNode,r,u),Qc(t,u),Te!==4&&(Te=2)),!1;var f=Error(l(520),{cause:r});if(f=zn(f,i),Il===null?Il=[f]:Il.push(f),Te!==4&&(Te=2),e===null)return!0;r=zn(r,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=u&-u,i.lanes|=t,t=mf(i.stateNode,r,t),Qc(i,t),!1;case 1:if(e=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ia===null||!Ia.has(f))))return i.flags|=65536,u&=-u,i.lanes|=u,u=lg(u),og(u,t,i,r),Qc(i,u),!1}i=i.return}while(i!==null);return!1}var ug=Error(l(461)),Pe=!1;function Qe(t,e,i,r){e.child=t===null?Jm(e,null,i,r):yr(e,t.child,i,r)}function cg(t,e,i,r,u){i=i.render;var f=e.ref;if("ref"in r){var p={};for(var v in r)v!=="ref"&&(p[v]=r[v])}else p=r;return As(e),r=$c(t,e,i,p,f,u),v=Zc(),t!==null&&!Pe?(Wc(t,e,u),Wi(t,e,u)):(Xt&&v&&Oc(e),e.flags|=1,Qe(t,e,r,u),e.child)}function fg(t,e,i,r,u){if(t===null){var f=i.type;return typeof f=="function"&&!Dc(f)&&f.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=f,hg(t,e,f,r,u)):(t=Vo(i.type,null,r,e,e.mode,u),t.ref=e.ref,t.return=e,e.child=t)}if(f=t.child,!Af(t,u)){var p=f.memoizedProps;if(i=i.compare,i=i!==null?i:il,i(p,r)&&t.ref===e.ref)return Wi(t,e,u)}return e.flags|=1,t=Qi(f,r),t.ref=e.ref,t.return=e,e.child=t}function hg(t,e,i,r,u){if(t!==null){var f=t.memoizedProps;if(il(f,r)&&t.ref===e.ref)if(Pe=!1,e.pendingProps=r=f,Af(t,u))(t.flags&131072)!==0&&(Pe=!0);else return e.lanes=t.lanes,Wi(t,e,u)}return gf(t,e,i,r,u)}function dg(t,e,i){var r=e.pendingProps,u=r.children,f=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if((e.flags&128)!==0){if(r=f!==null?f.baseLanes|i:i,t!==null){for(u=e.child=t.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;e.childLanes=f&~r}else e.childLanes=0,e.child=null;return mg(t,e,r,i)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&zo(e,f!==null?f.cachePool:null),f!==null?hm(e,f):Yc(),tg(e);else return e.lanes=e.childLanes=536870912,mg(t,e,f!==null?f.baseLanes|i:i,i)}else f!==null?(zo(e,f.cachePool),hm(e,f),Aa(),e.memoizedState=null):(t!==null&&zo(e,null),Yc(),Aa());return Qe(t,e,u,i),e.child}function mg(t,e,i,r){var u=kc();return u=u===null?null:{parent:Ve._currentValue,pool:u},e.memoizedState={baseLanes:i,cachePool:u},t!==null&&zo(e,null),Yc(),tg(e),t!==null&&ol(t,e,r,!0),null}function nu(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(l(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function gf(t,e,i,r,u){return As(e),i=$c(t,e,i,r,void 0,u),r=Zc(),t!==null&&!Pe?(Wc(t,e,u),Wi(t,e,u)):(Xt&&r&&Oc(e),e.flags|=1,Qe(t,e,i,u),e.child)}function gg(t,e,i,r,u,f){return As(e),e.updateQueue=null,i=mm(e,r,i,u),dm(t),r=Zc(),t!==null&&!Pe?(Wc(t,e,f),Wi(t,e,f)):(Xt&&r&&Oc(e),e.flags|=1,Qe(t,e,i,f),e.child)}function pg(t,e,i,r,u){if(As(e),e.stateNode===null){var f=lr,p=i.contextType;typeof p=="object"&&p!==null&&(f=tn(p)),f=new i(r,f),e.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=df,e.stateNode=f,f._reactInternals=e,f=e.stateNode,f.props=r,f.state=e.memoizedState,f.refs={},Hc(e),p=i.contextType,f.context=typeof p=="object"&&p!==null?tn(p):lr,f.state=e.memoizedState,p=i.getDerivedStateFromProps,typeof p=="function"&&(hf(e,i,p,r),f.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&df.enqueueReplaceState(f,f.state,null),gl(e,r,f,u),ml(),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){f=e.stateNode;var v=e.memoizedProps,S=Rs(i,v);f.props=S;var z=f.context,F=i.contextType;p=lr,typeof F=="object"&&F!==null&&(p=tn(F));var X=i.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",v=e.pendingProps!==v,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v||z!==p)&&ng(e,f,r,p),ya=!1;var B=e.memoizedState;f.state=B,gl(e,r,f,u),ml(),z=e.memoizedState,v||B!==z||ya?(typeof X=="function"&&(hf(e,i,X,r),z=e.memoizedState),(S=ya||eg(e,i,S,r,B,z,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(e.flags|=4194308)):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=z),f.props=r,f.state=z,f.context=p,r=S):(typeof f.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{f=e.stateNode,Gc(t,e),p=e.memoizedProps,F=Rs(i,p),f.props=F,X=e.pendingProps,B=f.context,z=i.contextType,S=lr,typeof z=="object"&&z!==null&&(S=tn(z)),v=i.getDerivedStateFromProps,(z=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||B!==S)&&ng(e,f,r,S),ya=!1,B=e.memoizedState,f.state=B,gl(e,r,f,u),ml();var k=e.memoizedState;p!==X||B!==k||ya||t!==null&&t.dependencies!==null&&jo(t.dependencies)?(typeof v=="function"&&(hf(e,i,v,r),k=e.memoizedState),(F=ya||eg(e,i,F,r,B,k,S)||t!==null&&t.dependencies!==null&&jo(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,k,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,k,S)),typeof f.componentDidUpdate=="function"&&(e.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),f.props=r,f.state=k,f.context=S,r=F):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(e.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&B===t.memoizedState||(e.flags|=1024),r=!1)}return f=r,nu(t,e),r=(e.flags&128)!==0,f||r?(f=e.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:f.render(),e.flags|=1,t!==null&&r?(e.child=yr(e,t.child,null,u),e.child=yr(e,null,i,u)):Qe(t,e,i,u),e.memoizedState=f.state,t=e.child):t=Wi(t,e,u),t}function yg(t,e,i,r){return rl(),e.flags|=256,Qe(t,e,i,r),e.child}var pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yf(t){return{baseLanes:t,cachePool:am()}}function _f(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=Gn),t}function _g(t,e,i){var r=e.pendingProps,u=!1,f=(e.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Le.current&2)!==0),p&&(u=!0,e.flags&=-129),p=(e.flags&32)!==0,e.flags&=-33,t===null){if(Xt){if(u?Ea(e):Aa(),Xt){var v=ve,S;if(S=v){t:{for(S=v,v=Ri;S.nodeType!==8;){if(!v){v=null;break t}if(S=ni(S.nextSibling),S===null){v=null;break t}}v=S}v!==null?(e.memoizedState={dehydrated:v,treeContext:ys!==null?{id:Fi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},S=Rn(18,null,null,0),S.stateNode=v,S.return=e,e.child=S,hn=e,ve=null,S=!0):S=!1}S||Ts(e)}if(v=e.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return eh(v)?e.lanes=32:e.lanes=536870912,null;Zi(e)}return v=r.children,r=r.fallback,u?(Aa(),u=e.mode,v=iu({mode:"hidden",children:v},u),r=ps(r,u,i,null),v.return=e,r.return=e,v.sibling=r,e.child=v,u=e.child,u.memoizedState=yf(i),u.childLanes=_f(t,p,i),e.memoizedState=pf,r):(Ea(e),vf(e,v))}if(S=t.memoizedState,S!==null&&(v=S.dehydrated,v!==null)){if(f)e.flags&256?(Ea(e),e.flags&=-257,e=Tf(t,e,i)):e.memoizedState!==null?(Aa(),e.child=t.child,e.flags|=128,e=null):(Aa(),u=r.fallback,v=e.mode,r=iu({mode:"visible",children:r.children},v),u=ps(u,v,i,null),u.flags|=2,r.return=e,u.return=e,r.sibling=u,e.child=r,yr(e,t.child,null,i),r=e.child,r.memoizedState=yf(i),r.childLanes=_f(t,p,i),e.memoizedState=pf,e=u);else if(Ea(e),eh(v)){if(p=v.nextSibling&&v.nextSibling.dataset,p)var z=p.dgst;p=z,r=Error(l(419)),r.stack="",r.digest=p,ll({value:r,source:null,stack:null}),e=Tf(t,e,i)}else if(Pe||ol(t,e,i,!1),p=(i&t.childLanes)!==0,Pe||p){if(p=le,p!==null&&(r=i&-i,r=(r&42)!==0?1:di(r),r=(r&(p.suspendedLanes|i))!==0?0:r,r!==0&&r!==S.retryLane))throw S.retryLane=r,rr(t,r),Dn(p,t,r),ug;v.data==="$?"||Pf(),e=Tf(t,e,i)}else v.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=S.treeContext,ve=ni(v.nextSibling),hn=e,Xt=!0,vs=null,Ri=!1,t!==null&&(kn[qn++]=Fi,kn[qn++]=Yi,kn[qn++]=ys,Fi=t.id,Yi=t.overflow,ys=e),e=vf(e,r.children),e.flags|=4096);return e}return u?(Aa(),u=r.fallback,v=e.mode,S=t.child,z=S.sibling,r=Qi(S,{mode:"hidden",children:r.children}),r.subtreeFlags=S.subtreeFlags&65011712,z!==null?u=Qi(z,u):(u=ps(u,v,i,null),u.flags|=2),u.return=e,r.return=e,r.sibling=u,e.child=r,r=u,u=e.child,v=t.child.memoizedState,v===null?v=yf(i):(S=v.cachePool,S!==null?(z=Ve._currentValue,S=S.parent!==z?{parent:z,pool:z}:S):S=am(),v={baseLanes:v.baseLanes|i,cachePool:S}),u.memoizedState=v,u.childLanes=_f(t,p,i),e.memoizedState=pf,r):(Ea(e),i=t.child,t=i.sibling,i=Qi(i,{mode:"visible",children:r.children}),i.return=e,i.sibling=null,t!==null&&(p=e.deletions,p===null?(e.deletions=[t],e.flags|=16):p.push(t)),e.child=i,e.memoizedState=null,i)}function vf(t,e){return e=iu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function iu(t,e){return t=Rn(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Tf(t,e,i){return yr(e,t.child,null,i),t=vf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vg(t,e,i){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),jc(t.return,e,i)}function Ef(t,e,i,r,u){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:u}:(f.isBackwards=e,f.rendering=null,f.renderingStartTime=0,f.last=r,f.tail=i,f.tailMode=u)}function Tg(t,e,i){var r=e.pendingProps,u=r.revealOrder,f=r.tail;if(Qe(t,e,r.children,i),r=Le.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vg(t,i,e);else if(t.tag===19)vg(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(tt(Le,r),u){case"forwards":for(i=e.child,u=null;i!==null;)t=i.alternate,t!==null&&Jo(t)===null&&(u=i),i=i.sibling;i=u,i===null?(u=e.child,e.child=null):(u=i.sibling,i.sibling=null),Ef(e,!1,u,i,f);break;case"backwards":for(i=null,u=e.child,e.child=null;u!==null;){if(t=u.alternate,t!==null&&Jo(t)===null){e.child=u;break}t=u.sibling,u.sibling=i,i=u,u=t}Ef(e,!0,i,null,f);break;case"together":Ef(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wi(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),Ca|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(ol(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(l(153));if(e.child!==null){for(t=e.child,i=Qi(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=Qi(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function Af(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&jo(t)))}function Tv(t,e,i){switch(e.tag){case 3:ae(e,e.stateNode.containerInfo),pa(e,Ve,t.memoizedState.cache),rl();break;case 27:case 5:Mn(e);break;case 4:ae(e,e.stateNode.containerInfo);break;case 10:pa(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Ea(e),e.flags|=128,null):(i&e.child.childLanes)!==0?_g(t,e,i):(Ea(e),t=Wi(t,e,i),t!==null?t.sibling:null);Ea(e);break;case 19:var u=(t.flags&128)!==0;if(r=(i&e.childLanes)!==0,r||(ol(t,e,i,!1),r=(i&e.childLanes)!==0),u){if(r)return Tg(t,e,i);e.flags|=128}if(u=e.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),tt(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,dg(t,e,i);case 24:pa(e,Ve,t.memoizedState.cache)}return Wi(t,e,i)}function Eg(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)Pe=!0;else{if(!Af(t,i)&&(e.flags&128)===0)return Pe=!1,Tv(t,e,i);Pe=(t.flags&131072)!==0}else Pe=!1,Xt&&(e.flags&1048576)!==0&&Zd(e,Uo,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var r=e.elementType,u=r._init;if(r=u(r._payload),e.type=r,typeof r=="function")Dc(r)?(t=Rs(r,t),e.tag=1,e=pg(null,e,r,t,i)):(e.tag=0,e=gf(null,e,r,t,i));else{if(r!=null){if(u=r.$$typeof,u===Qt){e.tag=11,e=cg(null,e,r,t,i);break t}else if(u===M){e.tag=14,e=fg(null,e,r,t,i);break t}}throw e=pe(r)||r,Error(l(306,e,""))}}return e;case 0:return gf(t,e,e.type,e.pendingProps,i);case 1:return r=e.type,u=Rs(r,e.pendingProps),pg(t,e,r,u,i);case 3:t:{if(ae(e,e.stateNode.containerInfo),t===null)throw Error(l(387));r=e.pendingProps;var f=e.memoizedState;u=f.element,Gc(t,e),gl(e,r,null,i);var p=e.memoizedState;if(r=p.cache,pa(e,Ve,r),r!==f.cache&&Pc(e,[Ve],i,!0),ml(),r=p.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:p.cache},e.updateQueue.baseState=f,e.memoizedState=f,e.flags&256){e=yg(t,e,r,i);break t}else if(r!==u){u=zn(Error(l(424)),e),ll(u),e=yg(t,e,r,i);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ve=ni(t.firstChild),hn=e,Xt=!0,vs=null,Ri=!0,i=Jm(e,null,r,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(rl(),r===u){e=Wi(t,e,i);break t}Qe(t,e,r,i)}e=e.child}return e;case 26:return nu(t,e),t===null?(i=Rp(e.type,null,e.pendingProps,null))?e.memoizedState=i:Xt||(i=e.type,t=e.pendingProps,r=yu(_t.current).createElement(i),r[Ae]=e,r[de]=t,Ye(r,i,t),Z(r),e.stateNode=r):e.memoizedState=Rp(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Mn(e),t===null&&Xt&&(r=e.stateNode=Ap(e.type,e.pendingProps,_t.current),hn=e,Ri=!0,u=ve,xa(e.type)?(nh=u,ve=ni(r.firstChild)):ve=u),Qe(t,e,e.pendingProps.children,i),nu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Xt&&((u=r=ve)&&(r=Xv(r,e.type,e.pendingProps,Ri),r!==null?(e.stateNode=r,hn=e,ve=ni(r.firstChild),Ri=!1,u=!0):u=!1),u||Ts(e)),Mn(e),u=e.type,f=e.pendingProps,p=t!==null?t.memoizedProps:null,r=f.children,Wf(u,f)?r=null:p!==null&&Wf(u,p)&&(e.flags|=32),e.memoizedState!==null&&(u=$c(t,e,hv,null,null,i),jl._currentValue=u),nu(t,e),Qe(t,e,r,i),e.child;case 6:return t===null&&Xt&&((t=i=ve)&&(i=Kv(i,e.pendingProps,Ri),i!==null?(e.stateNode=i,hn=e,ve=null,t=!0):t=!1),t||Ts(e)),null;case 13:return _g(t,e,i);case 4:return ae(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=yr(e,null,r,i):Qe(t,e,r,i),e.child;case 11:return cg(t,e,e.type,e.pendingProps,i);case 7:return Qe(t,e,e.pendingProps,i),e.child;case 8:return Qe(t,e,e.pendingProps.children,i),e.child;case 12:return Qe(t,e,e.pendingProps.children,i),e.child;case 10:return r=e.pendingProps,pa(e,e.type,r.value),Qe(t,e,r.children,i),e.child;case 9:return u=e.type._context,r=e.pendingProps.children,As(e),u=tn(u),r=r(u),e.flags|=1,Qe(t,e,r,i),e.child;case 14:return fg(t,e,e.type,e.pendingProps,i);case 15:return hg(t,e,e.type,e.pendingProps,i);case 19:return Tg(t,e,i);case 31:return r=e.pendingProps,i=e.mode,r={mode:r.mode,children:r.children},t===null?(i=iu(r,i),i.ref=e.ref,e.child=i,i.return=e,e=i):(i=Qi(t.child,r),i.ref=e.ref,e.child=i,i.return=e,e=i),e;case 22:return dg(t,e,i);case 24:return As(e),r=tn(Ve),t===null?(u=kc(),u===null&&(u=le,f=zc(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=i),u=f),e.memoizedState={parent:r,cache:u},Hc(e),pa(e,Ve,u)):((t.lanes&i)!==0&&(Gc(t,e),gl(e,null,null,i),ml()),u=t.memoizedState,f=e.memoizedState,u.parent!==r?(u={parent:r,cache:r},e.memoizedState=u,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=u),pa(e,Ve,r)):(r=f.cache,pa(e,Ve,r),r!==u.cache&&Pc(e,[Ve],i,!0))),Qe(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(l(156,e.tag))}function Ji(t){t.flags|=4}function Ag(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Dp(e)){if(e=Hn.current,e!==null&&((zt&4194048)===zt?wi!==null:(zt&62914560)!==zt&&(zt&536870912)===0||e!==wi))throw hl=qc,sm;t.flags|=8192}}function au(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Za():536870912,t.lanes|=e,Er|=e)}function Al(t,e){if(!Xt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function me(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,r=0;if(e)for(var u=t.child;u!==null;)i|=u.lanes|u.childLanes,r|=u.subtreeFlags&65011712,r|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)i|=u.lanes|u.childLanes,r|=u.subtreeFlags,r|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=r,t.childLanes=i,e}function Ev(t,e,i){var r=e.pendingProps;switch(Vc(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(e),null;case 1:return me(e),null;case 3:return i=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Ki(Ve),dn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(sl(e)?Ji(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,tm())),me(e),null;case 26:return i=e.memoizedState,t===null?(Ji(e),i!==null?(me(e),Ag(e,i)):(me(e),e.flags&=-16777217)):i?i!==t.memoizedState?(Ji(e),me(e),Ag(e,i)):(me(e),e.flags&=-16777217):(t.memoizedProps!==r&&Ji(e),me(e),e.flags&=-16777217),null;case 27:En(e),i=_t.current;var u=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ji(e);else{if(!r){if(e.stateNode===null)throw Error(l(166));return me(e),null}t=mt.current,sl(e)?Wd(e):(t=Ap(u,r,i),e.stateNode=t,Ji(e))}return me(e),null;case 5:if(En(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ji(e);else{if(!r){if(e.stateNode===null)throw Error(l(166));return me(e),null}if(t=mt.current,sl(e))Wd(e);else{switch(u=yu(_t.current),t){case 1:t=u.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=u.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=u.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=u.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?u.createElement("select",{is:r.is}):u.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?u.createElement(i,{is:r.is}):u.createElement(i)}}t[Ae]=e,t[de]=r;t:for(u=e.child;u!==null;){if(u.tag===5||u.tag===6)t.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break t;for(;u.sibling===null;){if(u.return===null||u.return===e)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}e.stateNode=t;t:switch(Ye(t,i,r),i){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ji(e)}}return me(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Ji(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(l(166));if(t=_t.current,sl(e)){if(t=e.stateNode,i=e.memoizedProps,r=null,u=hn,u!==null)switch(u.tag){case 27:case 5:r=u.memoizedProps}t[Ae]=e,t=!!(t.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||gp(t.nodeValue,i)),t||Ts(e)}else t=yu(t).createTextNode(r),t[Ae]=e,e.stateNode=t}return me(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=sl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!u)throw Error(l(318));if(u=e.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[Ae]=e}else rl(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;me(e),u=!1}else u=tm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return e.flags&256?(Zi(e),e):(Zi(e),null)}if(Zi(e),(e.flags&128)!==0)return e.lanes=i,e;if(i=r!==null,t=t!==null&&t.memoizedState!==null,i){r=e.child,u=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(u=r.alternate.memoizedState.cachePool.pool);var f=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==u&&(r.flags|=2048)}return i!==t&&i&&(e.child.flags|=8192),au(e,e.updateQueue),me(e),null;case 4:return dn(),t===null&&Yf(e.stateNode.containerInfo),me(e),null;case 10:return Ki(e.type),me(e),null;case 19:if(at(Le),u=e.memoizedState,u===null)return me(e),null;if(r=(e.flags&128)!==0,f=u.rendering,f===null)if(r)Al(u,!1);else{if(Te!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(f=Jo(t),f!==null){for(e.flags|=128,Al(u,!1),t=f.updateQueue,e.updateQueue=t,au(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)$d(i,t),i=i.sibling;return tt(Le,Le.current&1|2),e.child}t=t.sibling}u.tail!==null&&ln()>lu&&(e.flags|=128,r=!0,Al(u,!1),e.lanes=4194304)}else{if(!r)if(t=Jo(f),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,au(e,t),Al(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!Xt)return me(e),null}else 2*ln()-u.renderingStartTime>lu&&i!==536870912&&(e.flags|=128,r=!0,Al(u,!1),e.lanes=4194304);u.isBackwards?(f.sibling=e.child,e.child=f):(t=u.last,t!==null?t.sibling=f:e.child=f,u.last=f)}return u.tail!==null?(e=u.tail,u.rendering=e,u.tail=e.sibling,u.renderingStartTime=ln(),e.sibling=null,t=Le.current,tt(Le,r?t&1|2:t&1),e):(me(e),null);case 22:case 23:return Zi(e),Xc(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?(i&536870912)!==0&&(e.flags&128)===0&&(me(e),e.subtreeFlags&6&&(e.flags|=8192)):me(e),i=e.updateQueue,i!==null&&au(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==i&&(e.flags|=2048),t!==null&&at(Ss),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Ki(Ve),me(e),null;case 25:return null;case 30:return null}throw Error(l(156,e.tag))}function Av(t,e){switch(Vc(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ki(Ve),dn(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return En(e),null;case 13:if(Zi(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(l(340));rl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return at(Le),null;case 4:return dn(),null;case 10:return Ki(e.type),null;case 22:case 23:return Zi(e),Xc(),t!==null&&at(Ss),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ki(Ve),null;case 25:return null;default:return null}}function Sg(t,e){switch(Vc(e),e.tag){case 3:Ki(Ve),dn();break;case 26:case 27:case 5:En(e);break;case 4:dn();break;case 13:Zi(e);break;case 19:at(Le);break;case 10:Ki(e.type);break;case 22:case 23:Zi(e),Xc(),t!==null&&at(Ss);break;case 24:Ki(Ve)}}function Sl(t,e){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var u=r.next;i=u;do{if((i.tag&t)===t){r=void 0;var f=i.create,p=i.inst;r=f(),p.destroy=r}i=i.next}while(i!==u)}}catch(v){se(e,e.return,v)}}function Sa(t,e,i){try{var r=e.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var f=u.next;r=f;do{if((r.tag&t)===t){var p=r.inst,v=p.destroy;if(v!==void 0){p.destroy=void 0,u=e;var S=i,z=v;try{z()}catch(F){se(u,S,F)}}}r=r.next}while(r!==f)}}catch(F){se(e,e.return,F)}}function bg(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{fm(e,i)}catch(r){se(t,t.return,r)}}}function Rg(t,e,i){i.props=Rs(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(r){se(t,e,r)}}function bl(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof i=="function"?t.refCleanup=i(r):i.current=r}}catch(u){se(t,e,u)}}function Ci(t,e){var i=t.ref,r=t.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(u){se(t,e,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(u){se(t,e,u)}else i.current=null}function wg(t){var e=t.type,i=t.memoizedProps,r=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break t;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(u){se(t,t.return,u)}}function Sf(t,e,i){try{var r=t.stateNode;Hv(r,t.type,i,e),r[de]=e}catch(u){se(t,t.return,u)}}function Cg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&xa(t.type)||t.tag===4}function bf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Cg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&xa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rf(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=pu));else if(r!==4&&(r===27&&xa(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(Rf(t,e,i),t=t.sibling;t!==null;)Rf(t,e,i),t=t.sibling}function su(t,e,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(r!==4&&(r===27&&xa(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(su(t,e,i),t=t.sibling;t!==null;)su(t,e,i),t=t.sibling}function Ig(t){var e=t.stateNode,i=t.memoizedProps;try{for(var r=t.type,u=e.attributes;u.length;)e.removeAttributeNode(u[0]);Ye(e,r,i),e[Ae]=t,e[de]=i}catch(f){se(t,t.return,f)}}var ta=!1,be=!1,wf=!1,Ng=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Sv(t,e){if(t=t.containerInfo,$f=Su,t=Bd(t),Sc(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var u=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break t}var p=0,v=-1,S=-1,z=0,F=0,X=t,B=null;e:for(;;){for(var k;X!==i||u!==0&&X.nodeType!==3||(v=p+u),X!==f||r!==0&&X.nodeType!==3||(S=p+r),X.nodeType===3&&(p+=X.nodeValue.length),(k=X.firstChild)!==null;)B=X,X=k;for(;;){if(X===t)break e;if(B===i&&++z===u&&(v=p),B===f&&++F===r&&(S=p),(k=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=k}i=v===-1||S===-1?null:{start:v,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(Zf={focusedElem:t,selectionRange:i},Su=!1,ze=e;ze!==null;)if(e=ze,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,ze=t;else for(;ze!==null;){switch(e=ze,f=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,i=e,u=f.memoizedProps,f=f.memoizedState,r=i.stateNode;try{var Tt=Rs(i.type,u,i.elementType===i.type);t=r.getSnapshotBeforeUpdate(Tt,f),r.__reactInternalSnapshotBeforeUpdate=t}catch(pt){se(i,i.return,pt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)th(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":th(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=e.sibling,t!==null){t.return=e.return,ze=t;break}ze=e.return}}function Dg(t,e,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:ba(t,i),r&4&&Sl(5,i);break;case 1:if(ba(t,i),r&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(p){se(i,i.return,p)}else{var u=Rs(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(u,e,t.__reactInternalSnapshotBeforeUpdate)}catch(p){se(i,i.return,p)}}r&64&&bg(i),r&512&&bl(i,i.return);break;case 3:if(ba(t,i),r&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{fm(t,e)}catch(p){se(i,i.return,p)}}break;case 27:e===null&&r&4&&Ig(i);case 26:case 5:ba(t,i),e===null&&r&4&&wg(i),r&512&&bl(i,i.return);break;case 12:ba(t,i);break;case 13:ba(t,i),r&4&&Og(t,i),r&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=Mv.bind(null,i),$v(t,i))));break;case 22:if(r=i.memoizedState!==null||ta,!r){e=e!==null&&e.memoizedState!==null||be,u=ta;var f=be;ta=r,(be=e)&&!f?Ra(t,i,(i.subtreeFlags&8772)!==0):ba(t,i),ta=u,be=f}break;case 30:break;default:ba(t,i)}}function xg(t){var e=t.alternate;e!==null&&(t.alternate=null,xg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Zn(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ce=null,pn=!1;function ea(t,e,i){for(i=i.child;i!==null;)Mg(t,e,i),i=i.sibling}function Mg(t,e,i){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Ft,i)}catch{}switch(i.tag){case 26:be||Ci(i,e),ea(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:be||Ci(i,e);var r=ce,u=pn;xa(i.type)&&(ce=i.stateNode,pn=!1),ea(t,e,i),Ol(i.stateNode),ce=r,pn=u;break;case 5:be||Ci(i,e);case 6:if(r=ce,u=pn,ce=null,ea(t,e,i),ce=r,pn=u,ce!==null)if(pn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(i.stateNode)}catch(f){se(i,e,f)}else try{ce.removeChild(i.stateNode)}catch(f){se(i,e,f)}break;case 18:ce!==null&&(pn?(t=ce,Tp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),kl(t)):Tp(ce,i.stateNode));break;case 4:r=ce,u=pn,ce=i.stateNode.containerInfo,pn=!0,ea(t,e,i),ce=r,pn=u;break;case 0:case 11:case 14:case 15:be||Sa(2,i,e),be||Sa(4,i,e),ea(t,e,i);break;case 1:be||(Ci(i,e),r=i.stateNode,typeof r.componentWillUnmount=="function"&&Rg(i,e,r)),ea(t,e,i);break;case 21:ea(t,e,i);break;case 22:be=(r=be)||i.memoizedState!==null,ea(t,e,i),be=r;break;default:ea(t,e,i)}}function Og(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{kl(t)}catch(i){se(e,e.return,i)}}function bv(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Ng),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Ng),e;default:throw Error(l(435,t.tag))}}function Cf(t,e){var i=bv(t);e.forEach(function(r){var u=Ov.bind(null,t,r);i.has(r)||(i.add(r),r.then(u,u))})}function wn(t,e){var i=e.deletions;if(i!==null)for(var r=0;r<i.length;r++){var u=i[r],f=t,p=e,v=p;t:for(;v!==null;){switch(v.tag){case 27:if(xa(v.type)){ce=v.stateNode,pn=!1;break t}break;case 5:ce=v.stateNode,pn=!1;break t;case 3:case 4:ce=v.stateNode.containerInfo,pn=!0;break t}v=v.return}if(ce===null)throw Error(l(160));Mg(f,p,u),ce=null,pn=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)Vg(e,t),e=e.sibling}var ei=null;function Vg(t,e){var i=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wn(e,t),Cn(t),r&4&&(Sa(3,t,t.return),Sl(3,t),Sa(5,t,t.return));break;case 1:wn(e,t),Cn(t),r&512&&(be||i===null||Ci(i,i.return)),r&64&&ta&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var u=ei;if(wn(e,t),Cn(t),r&512&&(be||i===null||Ci(i,i.return)),r&4){var f=i!==null?i.memoizedState:null;if(r=t.memoizedState,i===null)if(r===null)if(t.stateNode===null){t:{r=t.type,i=t.memoizedProps,u=u.ownerDocument||u;e:switch(r){case"title":f=u.getElementsByTagName("title")[0],(!f||f[gi]||f[Ae]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(r),u.head.insertBefore(f,u.querySelector("head > title"))),Ye(f,r,i),f[Ae]=t,Z(f),r=f;break t;case"link":var p=Ip("link","href",u).get(r+(i.href||""));if(p){for(var v=0;v<p.length;v++)if(f=p[v],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){p.splice(v,1);break e}}f=u.createElement(r),Ye(f,r,i),u.head.appendChild(f);break;case"meta":if(p=Ip("meta","content",u).get(r+(i.content||""))){for(v=0;v<p.length;v++)if(f=p[v],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){p.splice(v,1);break e}}f=u.createElement(r),Ye(f,r,i),u.head.appendChild(f);break;default:throw Error(l(468,r))}f[Ae]=t,Z(f),r=f}t.stateNode=r}else Np(u,t.type,t.stateNode);else t.stateNode=Cp(u,r,t.memoizedProps);else f!==r?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,r===null?Np(u,t.type,t.stateNode):Cp(u,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Sf(t,t.memoizedProps,i.memoizedProps)}break;case 27:wn(e,t),Cn(t),r&512&&(be||i===null||Ci(i,i.return)),i!==null&&r&4&&Sf(t,t.memoizedProps,i.memoizedProps);break;case 5:if(wn(e,t),Cn(t),r&512&&(be||i===null||Ci(i,i.return)),t.flags&32){u=t.stateNode;try{Ln(u,"")}catch(k){se(t,t.return,k)}}r&4&&t.stateNode!=null&&(u=t.memoizedProps,Sf(t,u,i!==null?i.memoizedProps:u)),r&1024&&(wf=!0);break;case 6:if(wn(e,t),Cn(t),r&4){if(t.stateNode===null)throw Error(l(162));r=t.memoizedProps,i=t.stateNode;try{i.nodeValue=r}catch(k){se(t,t.return,k)}}break;case 3:if(Tu=null,u=ei,ei=_u(e.containerInfo),wn(e,t),ei=u,Cn(t),r&4&&i!==null&&i.memoizedState.isDehydrated)try{kl(e.containerInfo)}catch(k){se(t,t.return,k)}wf&&(wf=!1,Lg(t));break;case 4:r=ei,ei=_u(t.stateNode.containerInfo),wn(e,t),Cn(t),ei=r;break;case 12:wn(e,t),Cn(t);break;case 13:wn(e,t),Cn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Of=ln()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Cf(t,r)));break;case 22:u=t.memoizedState!==null;var S=i!==null&&i.memoizedState!==null,z=ta,F=be;if(ta=z||u,be=F||S,wn(e,t),be=F,ta=z,Cn(t),r&8192)t:for(e=t.stateNode,e._visibility=u?e._visibility&-2:e._visibility|1,u&&(i===null||S||ta||be||ws(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){S=i=e;try{if(f=S.stateNode,u)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{v=S.stateNode;var X=S.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;v.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(k){se(S,S.return,k)}}}else if(e.tag===6){if(i===null){S=e;try{S.stateNode.nodeValue=u?"":S.memoizedProps}catch(k){se(S,S.return,k)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,Cf(t,i))));break;case 19:wn(e,t),Cn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Cf(t,r)));break;case 30:break;case 21:break;default:wn(e,t),Cn(t)}}function Cn(t){var e=t.flags;if(e&2){try{for(var i,r=t.return;r!==null;){if(Cg(r)){i=r;break}r=r.return}if(i==null)throw Error(l(160));switch(i.tag){case 27:var u=i.stateNode,f=bf(t);su(t,f,u);break;case 5:var p=i.stateNode;i.flags&32&&(Ln(p,""),i.flags&=-33);var v=bf(t);su(t,v,p);break;case 3:case 4:var S=i.stateNode.containerInfo,z=bf(t);Rf(t,z,S);break;default:throw Error(l(161))}}catch(F){se(t,t.return,F)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Lg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Lg(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ba(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Dg(t,e.alternate,e),e=e.sibling}function ws(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Sa(4,e,e.return),ws(e);break;case 1:Ci(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&Rg(e,e.return,i),ws(e);break;case 27:Ol(e.stateNode);case 26:case 5:Ci(e,e.return),ws(e);break;case 22:e.memoizedState===null&&ws(e);break;case 30:ws(e);break;default:ws(e)}t=t.sibling}}function Ra(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,u=t,f=e,p=f.flags;switch(f.tag){case 0:case 11:case 15:Ra(u,f,i),Sl(4,f);break;case 1:if(Ra(u,f,i),r=f,u=r.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(z){se(r,r.return,z)}if(r=f,u=r.updateQueue,u!==null){var v=r.stateNode;try{var S=u.shared.hiddenCallbacks;if(S!==null)for(u.shared.hiddenCallbacks=null,u=0;u<S.length;u++)cm(S[u],v)}catch(z){se(r,r.return,z)}}i&&p&64&&bg(f),bl(f,f.return);break;case 27:Ig(f);case 26:case 5:Ra(u,f,i),i&&r===null&&p&4&&wg(f),bl(f,f.return);break;case 12:Ra(u,f,i);break;case 13:Ra(u,f,i),i&&p&4&&Og(u,f);break;case 22:f.memoizedState===null&&Ra(u,f,i),bl(f,f.return);break;case 30:break;default:Ra(u,f,i)}e=e.sibling}}function If(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&ul(i))}function Nf(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ul(t))}function Ii(t,e,i,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ug(t,e,i,r),e=e.sibling}function Ug(t,e,i,r){var u=e.flags;switch(e.tag){case 0:case 11:case 15:Ii(t,e,i,r),u&2048&&Sl(9,e);break;case 1:Ii(t,e,i,r);break;case 3:Ii(t,e,i,r),u&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ul(t)));break;case 12:if(u&2048){Ii(t,e,i,r),t=e.stateNode;try{var f=e.memoizedProps,p=f.id,v=f.onPostCommit;typeof v=="function"&&v(p,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){se(e,e.return,S)}}else Ii(t,e,i,r);break;case 13:Ii(t,e,i,r);break;case 23:break;case 22:f=e.stateNode,p=e.alternate,e.memoizedState!==null?f._visibility&2?Ii(t,e,i,r):Rl(t,e):f._visibility&2?Ii(t,e,i,r):(f._visibility|=2,_r(t,e,i,r,(e.subtreeFlags&10256)!==0)),u&2048&&If(p,e);break;case 24:Ii(t,e,i,r),u&2048&&Nf(e.alternate,e);break;default:Ii(t,e,i,r)}}function _r(t,e,i,r,u){for(u=u&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var f=t,p=e,v=i,S=r,z=p.flags;switch(p.tag){case 0:case 11:case 15:_r(f,p,v,S,u),Sl(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?_r(f,p,v,S,u):Rl(f,p):(F._visibility|=2,_r(f,p,v,S,u)),u&&z&2048&&If(p.alternate,p);break;case 24:_r(f,p,v,S,u),u&&z&2048&&Nf(p.alternate,p);break;default:_r(f,p,v,S,u)}e=e.sibling}}function Rl(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,r=e,u=r.flags;switch(r.tag){case 22:Rl(i,r),u&2048&&If(r.alternate,r);break;case 24:Rl(i,r),u&2048&&Nf(r.alternate,r);break;default:Rl(i,r)}e=e.sibling}}var wl=8192;function vr(t){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)jg(t),t=t.sibling}function jg(t){switch(t.tag){case 26:vr(t),t.flags&wl&&t.memoizedState!==null&&uT(ei,t.memoizedState,t.memoizedProps);break;case 5:vr(t);break;case 3:case 4:var e=ei;ei=_u(t.stateNode.containerInfo),vr(t),ei=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=wl,wl=16777216,vr(t),wl=e):vr(t));break;default:vr(t)}}function Pg(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Cl(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];ze=r,Bg(r,t)}Pg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zg(t),t=t.sibling}function zg(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&Sa(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,ru(t)):Cl(t);break;default:Cl(t)}}function ru(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var r=e[i];ze=r,Bg(r,t)}Pg(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Sa(8,e,e.return),ru(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,ru(e));break;default:ru(e)}t=t.sibling}}function Bg(t,e){for(;ze!==null;){var i=ze;switch(i.tag){case 0:case 11:case 15:Sa(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ul(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,ze=r;else t:for(i=t;ze!==null;){r=ze;var u=r.sibling,f=r.return;if(xg(r),r===i){ze=null;break t}if(u!==null){u.return=f,ze=u;break t}ze=f}}}var Rv={getCacheForType:function(t){var e=tn(Ve),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i}},wv=typeof WeakMap=="function"?WeakMap:Map,Zt=0,le=null,Mt=null,zt=0,Wt=0,In=null,wa=!1,Tr=!1,Df=!1,na=0,Te=0,Ca=0,Cs=0,xf=0,Gn=0,Er=0,Il=null,yn=null,Mf=!1,Of=0,lu=1/0,ou=null,Ia=null,Fe=0,Na=null,Ar=null,Sr=0,Vf=0,Lf=null,kg=null,Nl=0,Uf=null;function Nn(){if((Zt&2)!==0&&zt!==0)return zt&-zt;if(Q.T!==null){var t=cr;return t!==0?t:Hf()}return mi()}function qg(){Gn===0&&(Gn=(zt&536870912)===0||Xt?ue():536870912);var t=Hn.current;return t!==null&&(t.flags|=32),Gn}function Dn(t,e,i){(t===le&&(Wt===2||Wt===9)||t.cancelPendingCommit!==null)&&(br(t,0),Da(t,zt,Gn,!1)),Kn(t,i),((Zt&2)===0||t!==le)&&(t===le&&((Zt&2)===0&&(Cs|=i),Te===4&&Da(t,zt,Gn,!1)),Ni(t))}function Hg(t,e,i){if((Zt&6)!==0)throw Error(l(327));var r=!i&&(e&124)===0&&(e&t.expiredLanes)===0||hi(t,e),u=r?Nv(t,e):zf(t,e,!0),f=r;do{if(u===0){Tr&&!r&&Da(t,e,0,!1);break}else{if(i=t.current.alternate,f&&!Cv(i)){u=zf(t,e,!1),f=!1;continue}if(u===2){if(f=e,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){e=p;t:{var v=t;u=Il;var S=v.current.memoizedState.isDehydrated;if(S&&(br(v,p).flags|=256),p=zf(v,p,!1),p!==2){if(Df&&!S){v.errorRecoveryDisabledLanes|=f,Cs|=f,u=4;break t}f=yn,yn=u,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}u=p}if(f=!1,u!==2)continue}}if(u===1){br(t,0),Da(t,e,0,!0);break}t:{switch(r=t,f=u,f){case 0:case 1:throw Error(l(345));case 4:if((e&4194048)!==e)break;case 6:Da(r,e,Gn,!wa);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((e&62914560)===e&&(u=Of+300-ln(),10<u)){if(Da(r,e,Gn,!wa),fi(r,0,!0)!==0)break t;r.timeoutHandle=_p(Gg.bind(null,r,i,yn,ou,Mf,e,Gn,Cs,Er,wa,f,2,-0,0),u);break t}Gg(r,i,yn,ou,Mf,e,Gn,Cs,Er,wa,f,0,-0,0)}}break}while(!0);Ni(t)}function Gg(t,e,i,r,u,f,p,v,S,z,F,X,B,k){if(t.timeoutHandle=-1,X=e.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(Ul={stylesheets:null,count:0,unsuspend:oT},jg(e),X=cT(),X!==null)){t.cancelPendingCommit=X(Zg.bind(null,t,e,f,i,r,u,p,v,S,F,1,B,k)),Da(t,f,p,!z);return}Zg(t,e,f,i,r,u,p,v,S)}function Cv(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var u=i[r],f=u.getSnapshot;u=u.value;try{if(!bn(f(),u))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Da(t,e,i,r){e&=~xf,e&=~Cs,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var u=e;0<u;){var f=31-Re(u),p=1<<f;r[f]=-1,u&=~p}i!==0&&An(t,i,e)}function uu(){return(Zt&6)===0?(Dl(0),!1):!0}function jf(){if(Mt!==null){if(Wt===0)var t=Mt.return;else t=Mt,Xi=Es=null,Jc(t),pr=null,Tl=0,t=Mt;for(;t!==null;)Sg(t.alternate,t),t=t.return;Mt=null}}function br(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,Qv(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),jf(),le=t,Mt=i=Qi(t.current,null),zt=e,Wt=0,In=null,wa=!1,Tr=hi(t,e),Df=!1,Er=Gn=xf=Cs=Ca=Te=0,yn=Il=null,Mf=!1,(e&8)!==0&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var u=31-Re(r),f=1<<u;e|=t[u],r&=~f}return na=e,xo(),i}function Qg(t,e){Nt=null,Q.H=$o,e===fl||e===Bo?(e=om(),Wt=3):e===sm?(e=om(),Wt=4):Wt=e===ug?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,In=e,Mt===null&&(Te=1,eu(t,zn(e,t.current)))}function Fg(){var t=Q.H;return Q.H=$o,t===null?$o:t}function Yg(){var t=Q.A;return Q.A=Rv,t}function Pf(){Te=4,wa||(zt&4194048)!==zt&&Hn.current!==null||(Tr=!0),(Ca&134217727)===0&&(Cs&134217727)===0||le===null||Da(le,zt,Gn,!1)}function zf(t,e,i){var r=Zt;Zt|=2;var u=Fg(),f=Yg();(le!==t||zt!==e)&&(ou=null,br(t,e)),e=!1;var p=Te;t:do try{if(Wt!==0&&Mt!==null){var v=Mt,S=In;switch(Wt){case 8:jf(),p=6;break t;case 3:case 2:case 9:case 6:Hn.current===null&&(e=!0);var z=Wt;if(Wt=0,In=null,Rr(t,v,S,z),i&&Tr){p=0;break t}break;default:z=Wt,Wt=0,In=null,Rr(t,v,S,z)}}Iv(),p=Te;break}catch(F){Qg(t,F)}while(!0);return e&&t.shellSuspendCounter++,Xi=Es=null,Zt=r,Q.H=u,Q.A=f,Mt===null&&(le=null,zt=0,xo()),p}function Iv(){for(;Mt!==null;)Xg(Mt)}function Nv(t,e){var i=Zt;Zt|=2;var r=Fg(),u=Yg();le!==t||zt!==e?(ou=null,lu=ln()+500,br(t,e)):Tr=hi(t,e);t:do try{if(Wt!==0&&Mt!==null){e=Mt;var f=In;e:switch(Wt){case 1:Wt=0,In=null,Rr(t,e,f,1);break;case 2:case 9:if(rm(f)){Wt=0,In=null,Kg(e);break}e=function(){Wt!==2&&Wt!==9||le!==t||(Wt=7),Ni(t)},f.then(e,e);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:rm(f)?(Wt=0,In=null,Kg(e)):(Wt=0,In=null,Rr(t,e,f,7));break;case 5:var p=null;switch(Mt.tag){case 26:p=Mt.memoizedState;case 5:case 27:var v=Mt;if(!p||Dp(p)){Wt=0,In=null;var S=v.sibling;if(S!==null)Mt=S;else{var z=v.return;z!==null?(Mt=z,cu(z)):Mt=null}break e}}Wt=0,In=null,Rr(t,e,f,5);break;case 6:Wt=0,In=null,Rr(t,e,f,6);break;case 8:jf(),Te=6;break t;default:throw Error(l(462))}}Dv();break}catch(F){Qg(t,F)}while(!0);return Xi=Es=null,Q.H=r,Q.A=u,Zt=i,Mt!==null?0:(le=null,zt=0,xo(),Te)}function Dv(){for(;Mt!==null&&!ua();)Xg(Mt)}function Xg(t){var e=Eg(t.alternate,t,na);t.memoizedProps=t.pendingProps,e===null?cu(t):Mt=e}function Kg(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=gg(i,e,e.pendingProps,e.type,void 0,zt);break;case 11:e=gg(i,e,e.pendingProps,e.type.render,e.ref,zt);break;case 5:Jc(e);default:Sg(i,e),e=Mt=$d(e,na),e=Eg(i,e,na)}t.memoizedProps=t.pendingProps,e===null?cu(t):Mt=e}function Rr(t,e,i,r){Xi=Es=null,Jc(e),pr=null,Tl=0;var u=e.return;try{if(vv(t,u,e,i,zt)){Te=1,eu(t,zn(i,t.current)),Mt=null;return}}catch(f){if(u!==null)throw Mt=u,f;Te=1,eu(t,zn(i,t.current)),Mt=null;return}e.flags&32768?(Xt||r===1?t=!0:Tr||(zt&536870912)!==0?t=!1:(wa=t=!0,(r===2||r===9||r===3||r===6)&&(r=Hn.current,r!==null&&r.tag===13&&(r.flags|=16384))),$g(e,t)):cu(e)}function cu(t){var e=t;do{if((e.flags&32768)!==0){$g(e,wa);return}t=e.return;var i=Ev(e.alternate,e,na);if(i!==null){Mt=i;return}if(e=e.sibling,e!==null){Mt=e;return}Mt=e=t}while(e!==null);Te===0&&(Te=5)}function $g(t,e){do{var i=Av(t.alternate,t);if(i!==null){i.flags&=32767,Mt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){Mt=t;return}Mt=t=i}while(t!==null);Te=6,Mt=null}function Zg(t,e,i,r,u,f,p,v,S){t.cancelPendingCommit=null;do fu();while(Fe!==0);if((Zt&6)!==0)throw Error(l(327));if(e!==null){if(e===t.current)throw Error(l(177));if(f=e.lanes|e.childLanes,f|=Ic,Wa(t,i,f,p,v,S),t===le&&(Mt=le=null,zt=0),Ar=e,Na=t,Sr=i,Vf=f,Lf=u,kg=r,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Vv(Ui,function(){return np(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||r){r=Q.T,Q.T=null,u=it.p,it.p=2,p=Zt,Zt|=4;try{Sv(t,e,i)}finally{Zt=p,it.p=u,Q.T=r}}Fe=1,Wg(),Jg(),tp()}}function Wg(){if(Fe===1){Fe=0;var t=Na,e=Ar,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=Q.T,Q.T=null;var r=it.p;it.p=2;var u=Zt;Zt|=4;try{Vg(e,t);var f=Zf,p=Bd(t.containerInfo),v=f.focusedElem,S=f.selectionRange;if(p!==v&&v&&v.ownerDocument&&zd(v.ownerDocument.documentElement,v)){if(S!==null&&Sc(v)){var z=S.start,F=S.end;if(F===void 0&&(F=z),"selectionStart"in v)v.selectionStart=z,v.selectionEnd=Math.min(F,v.value.length);else{var X=v.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var k=B.getSelection(),Tt=v.textContent.length,pt=Math.min(S.start,Tt),ne=S.end===void 0?pt:Math.min(S.end,Tt);!k.extend&&pt>ne&&(p=ne,ne=pt,pt=p);var O=Pd(v,pt),I=Pd(v,ne);if(O&&I&&(k.rangeCount!==1||k.anchorNode!==O.node||k.anchorOffset!==O.offset||k.focusNode!==I.node||k.focusOffset!==I.offset)){var j=X.createRange();j.setStart(O.node,O.offset),k.removeAllRanges(),pt>ne?(k.addRange(j),k.extend(I.node,I.offset)):(j.setEnd(I.node,I.offset),k.addRange(j))}}}}for(X=[],k=v;k=k.parentNode;)k.nodeType===1&&X.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<X.length;v++){var Y=X[v];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Su=!!$f,Zf=$f=null}finally{Zt=u,it.p=r,Q.T=i}}t.current=e,Fe=2}}function Jg(){if(Fe===2){Fe=0;var t=Na,e=Ar,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=Q.T,Q.T=null;var r=it.p;it.p=2;var u=Zt;Zt|=4;try{Dg(t,e.alternate,e)}finally{Zt=u,it.p=r,Q.T=i}}Fe=3}}function tp(){if(Fe===4||Fe===3){Fe=0,Ya();var t=Na,e=Ar,i=Sr,r=kg;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Fe=5:(Fe=0,Ar=Na=null,ep(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(Ia=null),da(i),e=e.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Ft,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=Q.T,u=it.p,it.p=2,Q.T=null;try{for(var f=t.onRecoverableError,p=0;p<r.length;p++){var v=r[p];f(v.value,{componentStack:v.stack})}}finally{Q.T=e,it.p=u}}(Sr&3)!==0&&fu(),Ni(t),u=t.pendingLanes,(i&4194090)!==0&&(u&42)!==0?t===Uf?Nl++:(Nl=0,Uf=t):Nl=0,Dl(0)}}function ep(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,ul(e)))}function fu(t){return Wg(),Jg(),tp(),np()}function np(){if(Fe!==5)return!1;var t=Na,e=Vf;Vf=0;var i=da(Sr),r=Q.T,u=it.p;try{it.p=32>i?32:i,Q.T=null,i=Lf,Lf=null;var f=Na,p=Sr;if(Fe=0,Ar=Na=null,Sr=0,(Zt&6)!==0)throw Error(l(331));var v=Zt;if(Zt|=4,zg(f.current),Ug(f,f.current,p,i),Zt=v,Dl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Ft,f)}catch{}return!0}finally{it.p=u,Q.T=r,ep(t,e)}}function ip(t,e,i){e=zn(i,e),e=mf(t.stateNode,e,2),t=va(t,e,2),t!==null&&(Kn(t,2),Ni(t))}function se(t,e,i){if(t.tag===3)ip(t,t,i);else for(;e!==null;){if(e.tag===3){ip(e,t,i);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ia===null||!Ia.has(r))){t=zn(i,t),i=lg(2),r=va(e,i,2),r!==null&&(og(i,r,e,t),Kn(r,2),Ni(r));break}}e=e.return}}function Bf(t,e,i){var r=t.pingCache;if(r===null){r=t.pingCache=new wv;var u=new Set;r.set(e,u)}else u=r.get(e),u===void 0&&(u=new Set,r.set(e,u));u.has(i)||(Df=!0,u.add(i),t=xv.bind(null,t,e,i),e.then(t,t))}function xv(t,e,i){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,le===t&&(zt&i)===i&&(Te===4||Te===3&&(zt&62914560)===zt&&300>ln()-Of?(Zt&2)===0&&br(t,0):xf|=i,Er===zt&&(Er=0)),Ni(t)}function ap(t,e){e===0&&(e=Za()),t=rr(t,e),t!==null&&(Kn(t,e),Ni(t))}function Mv(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),ap(t,i)}function Ov(t,e){var i=0;switch(t.tag){case 13:var r=t.stateNode,u=t.memoizedState;u!==null&&(i=u.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(e),ap(t,i)}function Vv(t,e){return Vi(t,e)}var hu=null,wr=null,kf=!1,du=!1,qf=!1,Is=0;function Ni(t){t!==wr&&t.next===null&&(wr===null?hu=wr=t:wr=wr.next=t),du=!0,kf||(kf=!0,Uv())}function Dl(t,e){if(!qf&&du){qf=!0;do for(var i=!1,r=hu;r!==null;){if(t!==0){var u=r.pendingLanes;if(u===0)var f=0;else{var p=r.suspendedLanes,v=r.pingedLanes;f=(1<<31-Re(42|t)+1)-1,f&=u&~(p&~v),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,op(r,f))}else f=zt,f=fi(r,r===le?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||hi(r,f)||(i=!0,op(r,f));r=r.next}while(i);qf=!1}}function Lv(){sp()}function sp(){du=kf=!1;var t=0;Is!==0&&(Gv()&&(t=Is),Is=0);for(var e=ln(),i=null,r=hu;r!==null;){var u=r.next,f=rp(r,e);f===0?(r.next=null,i===null?hu=u:i.next=u,u===null&&(wr=i)):(i=r,(t!==0||(f&3)!==0)&&(du=!0)),r=u}Dl(t)}function rp(t,e){for(var i=t.suspendedLanes,r=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Re(f),v=1<<p,S=u[p];S===-1?((v&i)===0||(v&r)!==0)&&(u[p]=ha(v,e)):S<=e&&(t.expiredLanes|=v),f&=~v}if(e=le,i=zt,i=fi(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,i===0||t===e&&(Wt===2||Wt===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Fn(r),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||hi(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(r!==null&&Fn(r),da(i)){case 2:case 8:i=On;break;case 32:i=Ui;break;case 268435456:i=ca;break;default:i=Ui}return r=lp.bind(null,t),i=Vi(i,r),t.callbackPriority=e,t.callbackNode=i,e}return r!==null&&r!==null&&Fn(r),t.callbackPriority=2,t.callbackNode=null,2}function lp(t,e){if(Fe!==0&&Fe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(fu()&&t.callbackNode!==i)return null;var r=zt;return r=fi(t,t===le?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(Hg(t,r,e),rp(t,ln()),t.callbackNode!=null&&t.callbackNode===i?lp.bind(null,t):null)}function op(t,e){if(fu())return null;Hg(t,e,!0)}function Uv(){Fv(function(){(Zt&6)!==0?Vi(Xa,Lv):sp()})}function Hf(){return Is===0&&(Is=ue()),Is}function up(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Xs(""+t)}function cp(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function jv(t,e,i,r,u){if(e==="submit"&&i&&i.stateNode===u){var f=up((u[de]||null).action),p=r.submitter;p&&(e=(e=p[de]||null)?up(e.formAction):p.getAttribute("formAction"),e!==null&&(f=e,p=null));var v=new Ks("action","action",null,r,u);t.push({event:v,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Is!==0){var S=p?cp(u,p):new FormData(u);uf(i,{pending:!0,data:S,method:u.method,action:f},null,S)}}else typeof f=="function"&&(v.preventDefault(),S=p?cp(u,p):new FormData(u),uf(i,{pending:!0,data:S,method:u.method,action:f},f,S))},currentTarget:u}]})}}for(var Gf=0;Gf<Cc.length;Gf++){var Qf=Cc[Gf],Pv=Qf.toLowerCase(),zv=Qf[0].toUpperCase()+Qf.slice(1);ti(Pv,"on"+zv)}ti(Hd,"onAnimationEnd"),ti(Gd,"onAnimationIteration"),ti(Qd,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(nv,"onTransitionRun"),ti(iv,"onTransitionStart"),ti(av,"onTransitionCancel"),ti(Fd,"onTransitionEnd"),Lt("onMouseEnter",["mouseout","mouseover"]),Lt("onMouseLeave",["mouseout","mouseover"]),Lt("onPointerEnter",["pointerout","pointerover"]),Lt("onPointerLeave",["pointerout","pointerover"]),St("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),St("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),St("onBeforeInput",["compositionend","keypress","textInput","paste"]),St("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),St("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),St("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function fp(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var r=t[i],u=r.event;r=r.listeners;t:{var f=void 0;if(e)for(var p=r.length-1;0<=p;p--){var v=r[p],S=v.instance,z=v.currentTarget;if(v=v.listener,S!==f&&u.isPropagationStopped())break t;f=v,u.currentTarget=z;try{f(u)}catch(F){tu(F)}u.currentTarget=null,f=S}else for(p=0;p<r.length;p++){if(v=r[p],S=v.instance,z=v.currentTarget,v=v.listener,S!==f&&u.isPropagationStopped())break t;f=v,u.currentTarget=z;try{f(u)}catch(F){tu(F)}u.currentTarget=null,f=S}}}}function Ot(t,e){var i=e[ts];i===void 0&&(i=e[ts]=new Set);var r=t+"__bubble";i.has(r)||(hp(e,t,2,!1),i.add(r))}function Ff(t,e,i){var r=0;e&&(r|=4),hp(i,t,r,e)}var mu="_reactListening"+Math.random().toString(36).slice(2);function Yf(t){if(!t[mu]){t[mu]=!0,rt.forEach(function(i){i!=="selectionchange"&&(Bv.has(i)||Ff(i,!1,t),Ff(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mu]||(e[mu]=!0,Ff("selectionchange",!1,e))}}function hp(t,e,i,r){switch(Up(e)){case 2:var u=dT;break;case 8:u=mT;break;default:u=lh}i=u.bind(null,e,i,t),u=void 0,!jn||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(u=!0),r?u!==void 0?t.addEventListener(e,i,{capture:!0,passive:u}):t.addEventListener(e,i,!0):u!==void 0?t.addEventListener(e,i,{passive:u}):t.addEventListener(e,i,!1)}function Xf(t,e,i,r,u){var f=r;if((e&1)===0&&(e&2)===0&&r!==null)t:for(;;){if(r===null)return;var p=r.tag;if(p===3||p===4){var v=r.stateNode.containerInfo;if(v===u)break;if(p===4)for(p=r.return;p!==null;){var S=p.tag;if((S===3||S===4)&&p.stateNode.containerInfo===u)return;p=p.return}for(;v!==null;){if(p=Wn(v),p===null)return;if(S=p.tag,S===5||S===6||S===26||S===27){r=f=p;continue t}v=v.parentNode}}r=r.return}po(function(){var z=f,F=Un(i),X=[];t:{var B=Yd.get(t);if(B!==void 0){var k=Ks,Tt=t;switch(t){case"keypress":if(Ti(i)===0)break t;case"keydown":case"keyup":k=er;break;case"focusin":Tt="focus",k=Ws;break;case"focusout":Tt="blur",k=Ws;break;case"beforeblur":case"afterblur":k=Ws;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=bo;break;case Hd:case Gd:case Qd:k=Js;break;case Fd:k=wo;break;case"scroll":case"scrollend":k=yo;break;case"wheel":k=nr;break;case"copy":case"cut":case"paste":k=tr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=el;break;case"toggle":case"beforetoggle":k=Io}var pt=(e&4)!==0,ne=!pt&&(t==="scroll"||t==="scrollend"),O=pt?B!==null?B+"Capture":null:B;pt=[];for(var I=z,j;I!==null;){var Y=I;if(j=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||j===null||O===null||(Y=ls(I,O),Y!=null&&pt.push(Ml(I,Y,j))),ne)break;I=I.return}0<pt.length&&(B=new k(B,Tt,null,i,F),X.push({event:B,listeners:pt}))}}if((e&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&i!==zi&&(Tt=i.relatedTarget||i.fromElement)&&(Wn(Tt)||Tt[on]))break t;if((k||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,k?(Tt=i.relatedTarget||i.toElement,k=z,Tt=Tt?Wn(Tt):null,Tt!==null&&(ne=h(Tt),pt=Tt.tag,Tt!==ne||pt!==5&&pt!==27&&pt!==6)&&(Tt=null)):(k=null,Tt=z),k!==Tt)){if(pt=Pn,Y="onMouseLeave",O="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(pt=el,Y="onPointerLeave",O="onPointerEnter",I="pointer"),ne=k==null?B:q(k),j=Tt==null?B:q(Tt),B=new pt(Y,I+"leave",k,i,F),B.target=ne,B.relatedTarget=j,Y=null,Wn(F)===z&&(pt=new pt(O,I+"enter",Tt,i,F),pt.target=j,pt.relatedTarget=ne,Y=pt),ne=Y,k&&Tt)e:{for(pt=k,O=Tt,I=0,j=pt;j;j=Cr(j))I++;for(j=0,Y=O;Y;Y=Cr(Y))j++;for(;0<I-j;)pt=Cr(pt),I--;for(;0<j-I;)O=Cr(O),j--;for(;I--;){if(pt===O||O!==null&&pt===O.alternate)break e;pt=Cr(pt),O=Cr(O)}pt=null}else pt=null;k!==null&&dp(X,B,k,pt,!1),Tt!==null&&ne!==null&&dp(X,ne,Tt,pt,!0)}}t:{if(B=z?q(z):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var ot=Md;else if(Oe(B))if(Od)ot=J_;else{ot=Z_;var xt=$_}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Xr(z.elementType)&&(ot=Md):ot=W_;if(ot&&(ot=ot(t,z))){Gi(X,ot,i,F);break t}xt&&xt(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&ma(B,"number",B.value)}switch(xt=z?q(z):window,t){case"focusin":(Oe(xt)||xt.contentEditable==="true")&&(ir=xt,bc=z,al=null);break;case"focusout":al=bc=ir=null;break;case"mousedown":Rc=!0;break;case"contextmenu":case"mouseup":case"dragend":Rc=!1,kd(X,i,F);break;case"selectionchange":if(ev)break;case"keydown":case"keyup":kd(X,i,F)}var ht;if(Si)t:{switch(t){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else jt?H(t,i)&&(vt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(vt="onCompositionStart");vt&&(g&&i.locale!=="ko"&&(jt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&jt&&(ht=$r()):(vi=F,ga="value"in vi?vi.value:vi.textContent,jt=!0)),xt=gu(z,vt),0<xt.length&&(vt=new Jr(vt,t,null,i,F),X.push({event:vt,listeners:xt}),ht?vt.data=ht:(ht=nt(i),ht!==null&&(vt.data=ht)))),(ht=d?Me(t,i):Pt(t,i))&&(vt=gu(z,"onBeforeInput"),0<vt.length&&(xt=new Jr("onBeforeInput","beforeinput",null,i,F),X.push({event:xt,listeners:vt}),xt.data=ht)),jv(X,t,z,i,F)}fp(X,e)})}function Ml(t,e,i){return{instance:t,listener:e,currentTarget:i}}function gu(t,e){for(var i=e+"Capture",r=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=ls(t,i),u!=null&&r.unshift(Ml(t,u,f)),u=ls(t,e),u!=null&&r.push(Ml(t,u,f))),t.tag===3)return r;t=t.return}return[]}function Cr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function dp(t,e,i,r,u){for(var f=e._reactName,p=[];i!==null&&i!==r;){var v=i,S=v.alternate,z=v.stateNode;if(v=v.tag,S!==null&&S===r)break;v!==5&&v!==26&&v!==27||z===null||(S=z,u?(z=ls(i,f),z!=null&&p.unshift(Ml(i,z,S))):u||(z=ls(i,f),z!=null&&p.push(Ml(i,z,S)))),i=i.return}p.length!==0&&t.push({event:e,listeners:p})}var kv=/\r\n?/g,qv=/\u0000|\uFFFD/g;function mp(t){return(typeof t=="string"?t:""+t).replace(kv,`
`).replace(qv,"")}function gp(t,e){return e=mp(e),mp(t)===e}function pu(){}function ee(t,e,i,r,u,f){switch(i){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Ln(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Ln(t,""+r);break;case"className":yi(t,"class",r);break;case"tabIndex":yi(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":yi(t,i,r);break;case"style":Yr(t,r,f);break;case"data":if(e!=="object"){yi(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=Xs(""+r),t.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(e!=="input"&&ee(t,e,"name",u.name,u,null),ee(t,e,"formEncType",u.formEncType,u,null),ee(t,e,"formMethod",u.formMethod,u,null),ee(t,e,"formTarget",u.formTarget,u,null)):(ee(t,e,"encType",u.encType,u,null),ee(t,e,"method",u.method,u,null),ee(t,e,"target",u.target,u,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=Xs(""+r),t.setAttribute(i,r);break;case"onClick":r!=null&&(t.onclick=pu);break;case"onScroll":r!=null&&Ot("scroll",t);break;case"onScrollEnd":r!=null&&Ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(i=r.__html,i!=null){if(u.children!=null)throw Error(l(60));t.innerHTML=i}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}i=Xs(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""+r):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":r===!0?t.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,r):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(i,r):t.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(i):t.setAttribute(i,r);break;case"popover":Ot("beforetoggle",t),Ot("toggle",t),pi(t,"popover",r);break;case"xlinkActuate":He(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":He(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":He(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":He(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":He(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":He(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":He(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":He(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":He(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":pi(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=yc.get(i)||i,pi(t,i,r))}}function Kf(t,e,i,r,u,f){switch(i){case"style":Yr(t,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(i=r.__html,i!=null){if(u.children!=null)throw Error(l(60));t.innerHTML=i}}break;case"children":typeof r=="string"?Ln(t,r):(typeof r=="number"||typeof r=="bigint")&&Ln(t,""+r);break;case"onScroll":r!=null&&Ot("scroll",t);break;case"onScrollEnd":r!=null&&Ot("scrollend",t);break;case"onClick":r!=null&&(t.onclick=pu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!At.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(u=i.endsWith("Capture"),e=i.slice(2,u?i.length-7:void 0),f=t[de]||null,f=f!=null?f[i]:null,typeof f=="function"&&t.removeEventListener(e,f,u),typeof r=="function")){typeof f!="function"&&f!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,r,u);break t}i in t?t[i]=r:r===!0?t.setAttribute(i,""):pi(t,i,r)}}}function Ye(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",t),Ot("load",t);var r=!1,u=!1,f;for(f in i)if(i.hasOwnProperty(f)){var p=i[f];if(p!=null)switch(f){case"src":r=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,e));default:ee(t,e,f,p,i,null)}}u&&ee(t,e,"srcSet",i.srcSet,i,null),r&&ee(t,e,"src",i.src,i,null);return;case"input":Ot("invalid",t);var v=f=p=u=null,S=null,z=null;for(r in i)if(i.hasOwnProperty(r)){var F=i[r];if(F!=null)switch(r){case"name":u=F;break;case"type":p=F;break;case"checked":S=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":v=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(l(137,e));break;default:ee(t,e,r,F,i,null)}}as(t,f,v,S,z,p,u,!1),Ys(t);return;case"select":Ot("invalid",t),r=p=f=null;for(u in i)if(i.hasOwnProperty(u)&&(v=i[u],v!=null))switch(u){case"value":f=v;break;case"defaultValue":p=v;break;case"multiple":r=v;default:ee(t,e,u,v,i,null)}e=f,i=p,t.multiple=!!r,e!=null?Pi(t,!!r,e,!1):i!=null&&Pi(t,!!r,i,!0);return;case"textarea":Ot("invalid",t),f=u=r=null;for(p in i)if(i.hasOwnProperty(p)&&(v=i[p],v!=null))switch(p){case"value":r=v;break;case"defaultValue":u=v;break;case"children":f=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(l(91));break;default:ee(t,e,p,v,i,null)}ss(t,r,u,f),Ys(t);return;case"option":for(S in i)if(i.hasOwnProperty(S)&&(r=i[S],r!=null))switch(S){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:ee(t,e,S,r,i,null)}return;case"dialog":Ot("beforetoggle",t),Ot("toggle",t),Ot("cancel",t),Ot("close",t);break;case"iframe":case"object":Ot("load",t);break;case"video":case"audio":for(r=0;r<xl.length;r++)Ot(xl[r],t);break;case"image":Ot("error",t),Ot("load",t);break;case"details":Ot("toggle",t);break;case"embed":case"source":case"link":Ot("error",t),Ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in i)if(i.hasOwnProperty(z)&&(r=i[z],r!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,e));default:ee(t,e,z,r,i,null)}return;default:if(Xr(e)){for(F in i)i.hasOwnProperty(F)&&(r=i[F],r!==void 0&&Kf(t,e,F,r,i,void 0));return}}for(v in i)i.hasOwnProperty(v)&&(r=i[v],r!=null&&ee(t,e,v,r,i,null))}function Hv(t,e,i,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,p=null,v=null,S=null,z=null,F=null;for(k in i){var X=i[k];if(i.hasOwnProperty(k)&&X!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":S=X;default:r.hasOwnProperty(k)||ee(t,e,k,null,r,X)}}for(var B in r){var k=r[B];if(X=i[B],r.hasOwnProperty(B)&&(k!=null||X!=null))switch(B){case"type":f=k;break;case"name":u=k;break;case"checked":z=k;break;case"defaultChecked":F=k;break;case"value":p=k;break;case"defaultValue":v=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(l(137,e));break;default:k!==X&&ee(t,e,B,k,r,X)}}Sn(t,p,v,S,z,F,f,u);return;case"select":k=p=v=B=null;for(f in i)if(S=i[f],i.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":k=S;default:r.hasOwnProperty(f)||ee(t,e,f,null,r,S)}for(u in r)if(f=r[u],S=i[u],r.hasOwnProperty(u)&&(f!=null||S!=null))switch(u){case"value":B=f;break;case"defaultValue":v=f;break;case"multiple":p=f;default:f!==S&&ee(t,e,u,f,r,S)}e=v,i=p,r=k,B!=null?Pi(t,!!i,B,!1):!!r!=!!i&&(e!=null?Pi(t,!!i,e,!0):Pi(t,!!i,i?[]:"",!1));return;case"textarea":k=B=null;for(v in i)if(u=i[v],i.hasOwnProperty(v)&&u!=null&&!r.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:ee(t,e,v,null,r,u)}for(p in r)if(u=r[p],f=i[p],r.hasOwnProperty(p)&&(u!=null||f!=null))switch(p){case"value":B=u;break;case"defaultValue":k=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==f&&ee(t,e,p,u,r,f)}Jt(t,B,k);return;case"option":for(var Tt in i)if(B=i[Tt],i.hasOwnProperty(Tt)&&B!=null&&!r.hasOwnProperty(Tt))switch(Tt){case"selected":t.selected=!1;break;default:ee(t,e,Tt,null,r,B)}for(S in r)if(B=r[S],k=i[S],r.hasOwnProperty(S)&&B!==k&&(B!=null||k!=null))switch(S){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ee(t,e,S,B,r,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in i)B=i[pt],i.hasOwnProperty(pt)&&B!=null&&!r.hasOwnProperty(pt)&&ee(t,e,pt,null,r,B);for(z in r)if(B=r[z],k=i[z],r.hasOwnProperty(z)&&B!==k&&(B!=null||k!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(l(137,e));break;default:ee(t,e,z,B,r,k)}return;default:if(Xr(e)){for(var ne in i)B=i[ne],i.hasOwnProperty(ne)&&B!==void 0&&!r.hasOwnProperty(ne)&&Kf(t,e,ne,void 0,r,B);for(F in r)B=r[F],k=i[F],!r.hasOwnProperty(F)||B===k||B===void 0&&k===void 0||Kf(t,e,F,B,r,k);return}}for(var O in i)B=i[O],i.hasOwnProperty(O)&&B!=null&&!r.hasOwnProperty(O)&&ee(t,e,O,null,r,B);for(X in r)B=r[X],k=i[X],!r.hasOwnProperty(X)||B===k||B==null&&k==null||ee(t,e,X,B,r,k)}var $f=null,Zf=null;function yu(t){return t.nodeType===9?t:t.ownerDocument}function pp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yp(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Wf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jf=null;function Gv(){var t=window.event;return t&&t.type==="popstate"?t===Jf?!1:(Jf=t,!0):(Jf=null,!1)}var _p=typeof setTimeout=="function"?setTimeout:void 0,Qv=typeof clearTimeout=="function"?clearTimeout:void 0,vp=typeof Promise=="function"?Promise:void 0,Fv=typeof queueMicrotask=="function"?queueMicrotask:typeof vp<"u"?function(t){return vp.resolve(null).then(t).catch(Yv)}:_p;function Yv(t){setTimeout(function(){throw t})}function xa(t){return t==="head"}function Tp(t,e){var i=e,r=0,u=0;do{var f=i.nextSibling;if(t.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"){if(0<r&&8>r){i=r;var p=t.ownerDocument;if(i&1&&Ol(p.documentElement),i&2&&Ol(p.body),i&4)for(i=p.head,Ol(i),p=i.firstChild;p;){var v=p.nextSibling,S=p.nodeName;p[gi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||i.removeChild(p),p=v}}if(u===0){t.removeChild(f),kl(e);return}u--}else i==="$"||i==="$?"||i==="$!"?u++:r=i.charCodeAt(0)-48;else r=0;i=f}while(i);kl(e)}function th(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":th(i),Zn(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function Xv(t,e,i,r){for(;t.nodeType===1;){var u=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[gi])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ni(t.nextSibling),t===null)break}return null}function Kv(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=ni(t.nextSibling),t===null))return null;return t}function eh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function $v(t,e){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")e();else{var r=function(){e(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function ni(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var nh=null;function Ep(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}function Ap(t,e,i){switch(e=yu(i),t){case"html":if(t=e.documentElement,!t)throw Error(l(452));return t;case"head":if(t=e.head,!t)throw Error(l(453));return t;case"body":if(t=e.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function Ol(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Zn(t)}var Qn=new Map,Sp=new Set;function _u(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ia=it.d;it.d={f:Zv,r:Wv,D:Jv,C:tT,L:eT,m:nT,X:aT,S:iT,M:sT};function Zv(){var t=ia.f(),e=uu();return t||e}function Wv(t){var e=Vn(t);e!==null&&e.tag===5&&e.type==="form"?Hm(e):ia.r(t)}var Ir=typeof document>"u"?null:document;function bp(t,e,i){var r=Ir;if(r&&typeof e=="string"&&e){var u=Ce(e);u='link[rel="'+t+'"][href="'+u+'"]',typeof i=="string"&&(u+='[crossorigin="'+i+'"]'),Sp.has(u)||(Sp.add(u),t={rel:t,crossOrigin:i,href:e},r.querySelector(u)===null&&(e=r.createElement("link"),Ye(e,"link",t),Z(e),r.head.appendChild(e)))}}function Jv(t){ia.D(t),bp("dns-prefetch",t,null)}function tT(t,e){ia.C(t,e),bp("preconnect",t,e)}function eT(t,e,i){ia.L(t,e,i);var r=Ir;if(r&&t&&e){var u='link[rel="preload"][as="'+Ce(e)+'"]';e==="image"&&i&&i.imageSrcSet?(u+='[imagesrcset="'+Ce(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(u+='[imagesizes="'+Ce(i.imageSizes)+'"]')):u+='[href="'+Ce(t)+'"]';var f=u;switch(e){case"style":f=Nr(t);break;case"script":f=Dr(t)}Qn.has(f)||(t=w({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),Qn.set(f,t),r.querySelector(u)!==null||e==="style"&&r.querySelector(Vl(f))||e==="script"&&r.querySelector(Ll(f))||(e=r.createElement("link"),Ye(e,"link",t),Z(e),r.head.appendChild(e)))}}function nT(t,e){ia.m(t,e);var i=Ir;if(i&&t){var r=e&&typeof e.as=="string"?e.as:"script",u='link[rel="modulepreload"][as="'+Ce(r)+'"][href="'+Ce(t)+'"]',f=u;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Dr(t)}if(!Qn.has(f)&&(t=w({rel:"modulepreload",href:t},e),Qn.set(f,t),i.querySelector(u)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ll(f)))return}r=i.createElement("link"),Ye(r,"link",t),Z(r),i.head.appendChild(r)}}}function iT(t,e,i){ia.S(t,e,i);var r=Ir;if(r&&t){var u=G(r).hoistableStyles,f=Nr(t);e=e||"default";var p=u.get(f);if(!p){var v={loading:0,preload:null};if(p=r.querySelector(Vl(f)))v.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":e},i),(i=Qn.get(f))&&ih(t,i);var S=p=r.createElement("link");Z(S),Ye(S,"link",t),S._p=new Promise(function(z,F){S.onload=z,S.onerror=F}),S.addEventListener("load",function(){v.loading|=1}),S.addEventListener("error",function(){v.loading|=2}),v.loading|=4,vu(p,e,r)}p={type:"stylesheet",instance:p,count:1,state:v},u.set(f,p)}}}function aT(t,e){ia.X(t,e);var i=Ir;if(i&&t){var r=G(i).hoistableScripts,u=Dr(t),f=r.get(u);f||(f=i.querySelector(Ll(u)),f||(t=w({src:t,async:!0},e),(e=Qn.get(u))&&ah(t,e),f=i.createElement("script"),Z(f),Ye(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(u,f))}}function sT(t,e){ia.M(t,e);var i=Ir;if(i&&t){var r=G(i).hoistableScripts,u=Dr(t),f=r.get(u);f||(f=i.querySelector(Ll(u)),f||(t=w({src:t,async:!0,type:"module"},e),(e=Qn.get(u))&&ah(t,e),f=i.createElement("script"),Z(f),Ye(f,"link",t),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(u,f))}}function Rp(t,e,i,r){var u=(u=_t.current)?_u(u):null;if(!u)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=Nr(i.href),i=G(u).hoistableStyles,r=i.get(e),r||(r={type:"style",instance:null,count:0,state:null},i.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=Nr(i.href);var f=G(u).hoistableStyles,p=f.get(t);if(p||(u=u.ownerDocument||u,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=u.querySelector(Vl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Qn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Qn.set(t,i),f||rT(u,t,i,p.state))),e&&r===null)throw Error(l(528,""));return p}if(e&&r!==null)throw Error(l(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Dr(i),i=G(u).hoistableScripts,r=i.get(e),r||(r={type:"script",instance:null,count:0,state:null},i.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function Nr(t){return'href="'+Ce(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function wp(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function rT(t,e,i,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Ye(e,"link",i),Z(e),t.head.appendChild(e))}function Dr(t){return'[src="'+Ce(t)+'"]'}function Ll(t){return"script[async]"+t}function Cp(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Ce(i.href)+'"]');if(r)return e.instance=r,Z(r),r;var u=w({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Z(r),Ye(r,"style",u),vu(r,i.precedence,t),e.instance=r;case"stylesheet":u=Nr(i.href);var f=t.querySelector(Vl(u));if(f)return e.state.loading|=4,e.instance=f,Z(f),f;r=wp(i),(u=Qn.get(u))&&ih(r,u),f=(t.ownerDocument||t).createElement("link"),Z(f);var p=f;return p._p=new Promise(function(v,S){p.onload=v,p.onerror=S}),Ye(f,"link",r),e.state.loading|=4,vu(f,i.precedence,t),e.instance=f;case"script":return f=Dr(i.src),(u=t.querySelector(Ll(f)))?(e.instance=u,Z(u),u):(r=i,(u=Qn.get(f))&&(r=w({},i),ah(r,u)),t=t.ownerDocument||t,u=t.createElement("script"),Z(u),Ye(u,"link",r),t.head.appendChild(u),e.instance=u);case"void":return null;default:throw Error(l(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(r=e.instance,e.state.loading|=4,vu(r,i.precedence,t));return e.instance}function vu(t,e,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=r.length?r[r.length-1]:null,f=u,p=0;p<r.length;p++){var v=r[p];if(v.dataset.precedence===e)f=v;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function ih(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function ah(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Tu=null;function Ip(t,e,i){if(Tu===null){var r=new Map,u=Tu=new Map;u.set(i,r)}else u=Tu,r=u.get(i),r||(r=new Map,u.set(i,r));if(r.has(t))return r;for(r.set(t,null),i=i.getElementsByTagName(t),u=0;u<i.length;u++){var f=i[u];if(!(f[gi]||f[Ae]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(e)||"";p=t+p;var v=r.get(p);v?v.push(f):r.set(p,[f])}}return r}function Np(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function lT(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Dp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ul=null;function oT(){}function uT(t,e,i){if(Ul===null)throw Error(l(475));var r=Ul;if(e.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var u=Nr(i.href),f=t.querySelector(Vl(u));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=Eu.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=f,Z(f);return}f=t.ownerDocument||t,i=wp(i),(u=Qn.get(u))&&ih(i,u),f=f.createElement("link"),Z(f);var p=f;p._p=new Promise(function(v,S){p.onload=v,p.onerror=S}),Ye(f,"link",i),e.instance=f}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(r.count++,e=Eu.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function cT(){if(Ul===null)throw Error(l(475));var t=Ul;return t.stylesheets&&t.count===0&&sh(t,t.stylesheets),0<t.count?function(e){var i=setTimeout(function(){if(t.stylesheets&&sh(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(i)}}:null}function Eu(){if(this.count--,this.count===0){if(this.stylesheets)sh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Au=null;function sh(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Au=new Map,e.forEach(fT,t),Au=null,Eu.call(t))}function fT(t,e){if(!(e.state.loading&4)){var i=Au.get(t);if(i)var r=i.get(null);else{i=new Map,Au.set(t,i);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var p=u[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(i.set(p.dataset.precedence,p),r=p)}r&&i.set(null,r)}u=e.instance,p=u.getAttribute("data-precedence"),f=i.get(p)||r,f===r&&i.set(null,u),i.set(p,u),this.count++,r=Eu.bind(this),u.addEventListener("load",r),u.addEventListener("error",r),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),e.state.loading|=4}}var jl={$$typeof:yt,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function hT(t,e,i,r,u,f,p,v){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xn(0),this.hiddenUpdates=Xn(null),this.identifierPrefix=r,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function xp(t,e,i,r,u,f,p,v,S,z,F,X){return t=new hT(t,e,i,p,v,S,z,X),e=1,f===!0&&(e|=24),f=Rn(3,null,null,e),t.current=f,f.stateNode=t,e=zc(),e.refCount++,t.pooledCache=e,e.refCount++,f.memoizedState={element:r,isDehydrated:i,cache:e},Hc(f),t}function Mp(t){return t?(t=lr,t):lr}function Op(t,e,i,r,u,f){u=Mp(u),r.context===null?r.context=u:r.pendingContext=u,r=_a(e),r.payload={element:i},f=f===void 0?null:f,f!==null&&(r.callback=f),i=va(t,r,e),i!==null&&(Dn(i,t,e),dl(i,t,e))}function Vp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function rh(t,e){Vp(t,e),(t=t.alternate)&&Vp(t,e)}function Lp(t){if(t.tag===13){var e=rr(t,67108864);e!==null&&Dn(e,t,67108864),rh(t,67108864)}}var Su=!0;function dT(t,e,i,r){var u=Q.T;Q.T=null;var f=it.p;try{it.p=2,lh(t,e,i,r)}finally{it.p=f,Q.T=u}}function mT(t,e,i,r){var u=Q.T;Q.T=null;var f=it.p;try{it.p=8,lh(t,e,i,r)}finally{it.p=f,Q.T=u}}function lh(t,e,i,r){if(Su){var u=oh(r);if(u===null)Xf(t,e,r,bu,i),jp(t,r);else if(pT(u,t,e,i,r))r.stopPropagation();else if(jp(t,r),e&4&&-1<gT.indexOf(t)){for(;u!==null;){var f=Vn(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=mn(f.pendingLanes);if(p!==0){var v=f;for(v.pendingLanes|=2,v.entangledLanes|=2;p;){var S=1<<31-Re(p);v.entanglements[1]|=S,p&=~S}Ni(f),(Zt&6)===0&&(lu=ln()+500,Dl(0))}}break;case 13:v=rr(f,2),v!==null&&Dn(v,f,2),uu(),rh(f,2)}if(f=oh(r),f===null&&Xf(t,e,r,bu,i),f===u)break;u=f}u!==null&&r.stopPropagation()}else Xf(t,e,r,null,i)}}function oh(t){return t=Un(t),uh(t)}var bu=null;function uh(t){if(bu=null,t=Wn(t),t!==null){var e=h(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=m(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return bu=t,null}function Up(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Li()){case Xa:return 2;case On:return 8;case Ui:case Yn:return 32;case ca:return 268435456;default:return 32}default:return 32}}var ch=!1,Ma=null,Oa=null,Va=null,Pl=new Map,zl=new Map,La=[],gT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jp(t,e){switch(t){case"focusin":case"focusout":Ma=null;break;case"dragenter":case"dragleave":Oa=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":Pl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(e.pointerId)}}function Bl(t,e,i,r,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:e,domEventName:i,eventSystemFlags:r,nativeEvent:f,targetContainers:[u]},e!==null&&(e=Vn(e),e!==null&&Lp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,u!==null&&e.indexOf(u)===-1&&e.push(u),t)}function pT(t,e,i,r,u){switch(e){case"focusin":return Ma=Bl(Ma,t,e,i,r,u),!0;case"dragenter":return Oa=Bl(Oa,t,e,i,r,u),!0;case"mouseover":return Va=Bl(Va,t,e,i,r,u),!0;case"pointerover":var f=u.pointerId;return Pl.set(f,Bl(Pl.get(f)||null,t,e,i,r,u)),!0;case"gotpointercapture":return f=u.pointerId,zl.set(f,Bl(zl.get(f)||null,t,e,i,r,u)),!0}return!1}function Pp(t){var e=Wn(t.target);if(e!==null){var i=h(e);if(i!==null){if(e=i.tag,e===13){if(e=m(i),e!==null){t.blockedOn=e,Hs(t.priority,function(){if(i.tag===13){var r=Nn();r=di(r);var u=rr(i,r);u!==null&&Dn(u,i,r),rh(i,r)}});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ru(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=oh(t.nativeEvent);if(i===null){i=t.nativeEvent;var r=new i.constructor(i.type,i);zi=r,i.target.dispatchEvent(r),zi=null}else return e=Vn(i),e!==null&&Lp(e),t.blockedOn=i,!1;e.shift()}return!0}function zp(t,e,i){Ru(t)&&i.delete(e)}function yT(){ch=!1,Ma!==null&&Ru(Ma)&&(Ma=null),Oa!==null&&Ru(Oa)&&(Oa=null),Va!==null&&Ru(Va)&&(Va=null),Pl.forEach(zp),zl.forEach(zp)}function wu(t,e){t.blockedOn===e&&(t.blockedOn=null,ch||(ch=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,yT)))}var Cu=null;function Bp(t){Cu!==t&&(Cu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Cu===t&&(Cu=null);for(var e=0;e<t.length;e+=3){var i=t[e],r=t[e+1],u=t[e+2];if(typeof r!="function"){if(uh(r||i)===null)continue;break}var f=Vn(i);f!==null&&(t.splice(e,3),e-=3,uf(f,{pending:!0,data:u,method:i.method,action:r},r,u))}}))}function kl(t){function e(S){return wu(S,t)}Ma!==null&&wu(Ma,t),Oa!==null&&wu(Oa,t),Va!==null&&wu(Va,t),Pl.forEach(e),zl.forEach(e);for(var i=0;i<La.length;i++){var r=La[i];r.blockedOn===t&&(r.blockedOn=null)}for(;0<La.length&&(i=La[0],i.blockedOn===null);)Pp(i),i.blockedOn===null&&La.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var u=i[r],f=i[r+1],p=u[de]||null;if(typeof f=="function")p||Bp(i);else if(p){var v=null;if(f&&f.hasAttribute("formAction")){if(u=f,p=f[de]||null)v=p.formAction;else if(uh(u)!==null)continue}else v=p.action;typeof v=="function"?i[r+1]=v:(i.splice(r,3),r-=3),Bp(i)}}}function fh(t){this._internalRoot=t}Iu.prototype.render=fh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(l(409));var i=e.current,r=Nn();Op(i,r,t,e,null,null)},Iu.prototype.unmount=fh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Op(t.current,2,null,t,null,null),uu(),e[on]=null}};function Iu(t){this._internalRoot=t}Iu.prototype.unstable_scheduleHydration=function(t){if(t){var e=mi();t={blockedOn:null,target:t,priority:e};for(var i=0;i<La.length&&e!==0&&e<La[i].priority;i++);La.splice(i,0,t),i===0&&Pp(t)}};var kp=n.version;if(kp!=="19.1.1")throw Error(l(527,kp,"19.1.1"));it.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=T(e),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var _T={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{Ft=Nu.inject(_T),Yt=Nu}catch{}}return Hl.createRoot=function(t,e){if(!c(t))throw Error(l(299));var i=!1,r="",u=ig,f=ag,p=sg,v=null;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(u=e.onUncaughtError),e.onCaughtError!==void 0&&(f=e.onCaughtError),e.onRecoverableError!==void 0&&(p=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(v=e.unstable_transitionCallbacks)),e=xp(t,1,!1,null,null,i,r,u,f,p,v,null),t[on]=e.current,Yf(t),new fh(e)},Hl.hydrateRoot=function(t,e,i){if(!c(t))throw Error(l(299));var r=!1,u="",f=ig,p=ag,v=sg,S=null,z=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks),i.formState!==void 0&&(z=i.formState)),e=xp(t,1,!0,e,i??null,r,u,f,p,v,S,z),e.context=Mp(null),i=e.current,r=Nn(),r=di(r),u=_a(r),u.callback=null,va(i,u,r),i=r,e.current.lanes=i,Kn(e,i),Ni(e),t[on]=e.current,Yf(t),new Iu(e)},Hl.version="19.1.1",Hl}var Zp;function NT(){if(Zp)return mh.exports;Zp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),mh.exports=IT(),mh.exports}var DT=NT();const xT=l0(DT),MT=()=>{};var Wp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=function(s){const n=[];let a=0;for(let l=0;l<s.length;l++){let c=s.charCodeAt(l);c<128?n[a++]=c:c<2048?(n[a++]=c>>6|192,n[a++]=c&63|128):(c&64512)===55296&&l+1<s.length&&(s.charCodeAt(l+1)&64512)===56320?(c=65536+((c&1023)<<10)+(s.charCodeAt(++l)&1023),n[a++]=c>>18|240,n[a++]=c>>12&63|128,n[a++]=c>>6&63|128,n[a++]=c&63|128):(n[a++]=c>>12|224,n[a++]=c>>6&63|128,n[a++]=c&63|128)}return n},OT=function(s){const n=[];let a=0,l=0;for(;a<s.length;){const c=s[a++];if(c<128)n[l++]=String.fromCharCode(c);else if(c>191&&c<224){const h=s[a++];n[l++]=String.fromCharCode((c&31)<<6|h&63)}else if(c>239&&c<365){const h=s[a++],m=s[a++],y=s[a++],T=((c&7)<<18|(h&63)<<12|(m&63)<<6|y&63)-65536;n[l++]=String.fromCharCode(55296+(T>>10)),n[l++]=String.fromCharCode(56320+(T&1023))}else{const h=s[a++],m=s[a++];n[l++]=String.fromCharCode((c&15)<<12|(h&63)<<6|m&63)}}return n.join("")},u0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,n){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let c=0;c<s.length;c+=3){const h=s[c],m=c+1<s.length,y=m?s[c+1]:0,T=c+2<s.length,_=T?s[c+2]:0,w=h>>2,P=(h&3)<<4|y>>4;let L=(y&15)<<2|_>>6,et=_&63;T||(et=64,m||(L=64)),l.push(a[w],a[P],a[L],a[et])}return l.join("")},encodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(s):this.encodeByteArray(o0(s),n)},decodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(s):OT(this.decodeStringToByteArray(s,n))},decodeStringToByteArray(s,n){this.init_();const a=n?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let c=0;c<s.length;){const h=a[s.charAt(c++)],y=c<s.length?a[s.charAt(c)]:0;++c;const _=c<s.length?a[s.charAt(c)]:64;++c;const P=c<s.length?a[s.charAt(c)]:64;if(++c,h==null||y==null||_==null||P==null)throw new VT;const L=h<<2|y>>4;if(l.push(L),_!==64){const et=y<<4&240|_>>2;if(l.push(et),P!==64){const J=_<<6&192|P;l.push(J)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class VT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LT=function(s){const n=o0(s);return u0.encodeByteArray(n,!0)},ku=function(s){return LT(s).replace(/\./g,"")},UT=function(s){try{return u0.decodeString(s,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=()=>jT().__FIREBASE_DEFAULTS__,zT=()=>{if(typeof process>"u"||typeof Wp>"u")return;const s=Wp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},BT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=s&&UT(s[1]);return n&&JSON.parse(n)},Zh=()=>{try{return MT()||PT()||zT()||BT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},kT=s=>Zh()?.emulatorHosts?.[s],qT=s=>{const n=kT(s);if(!n)return;const a=n.lastIndexOf(":");if(a<=0||a+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const l=parseInt(n.substring(a+1),10);return n[0]==="["?[n.substring(1,a-1),l]:[n.substring(0,a),l]},c0=()=>Zh()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}wrapCallback(n){return(a,l)=>{a?this.reject(a):this.resolve(l),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(a):n(a,l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function GT(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(s,n){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},l=n||"demo-project",c=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${l}`,aud:l,iat:c,exp:c+3600,auth_time:c,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ku(JSON.stringify(a)),ku(JSON.stringify(m)),""].join(".")}const Fl={};function FT(){const s={prod:[],emulator:[]};for(const n of Object.keys(Fl))Fl[n]?s.emulator.push(n):s.prod.push(n);return s}function YT(s){let n=document.getElementById(s),a=!1;return n||(n=document.createElement("div"),n.setAttribute("id",s),a=!0),{created:a,element:n}}let Jp=!1;function XT(s,n){if(typeof window>"u"||typeof document>"u"||!Wh(window.location.host)||Fl[s]===n||Fl[s]||Jp)return;Fl[s]=n;function a(L){return`__firebase__banner__${L}`}const l="__firebase__banner",h=FT().prod.length>0;function m(){const L=document.getElementById(l);L&&L.remove()}function y(L){L.style.display="flex",L.style.background="#7faaf0",L.style.position="fixed",L.style.bottom="5px",L.style.left="5px",L.style.padding=".5em",L.style.borderRadius="5px",L.style.alignItems="center"}function T(L,et){L.setAttribute("width","24"),L.setAttribute("id",et),L.setAttribute("height","24"),L.setAttribute("viewBox","0 0 24 24"),L.setAttribute("fill","none"),L.style.marginLeft="-6px"}function _(){const L=document.createElement("span");return L.style.cursor="pointer",L.style.marginLeft="16px",L.style.fontSize="24px",L.innerHTML=" &times;",L.onclick=()=>{Jp=!0,m()},L}function w(L,et){L.setAttribute("id",et),L.innerText="Learn more",L.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",L.setAttribute("target","__blank"),L.style.paddingLeft="5px",L.style.textDecoration="underline"}function P(){const L=YT(l),et=a("text"),J=document.getElementById(et)||document.createElement("span"),ct=a("learnmore"),lt=document.getElementById(ct)||document.createElement("a"),bt=a("preprendIcon"),ft=document.getElementById(bt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(L.created){const yt=L.element;y(yt),w(lt,ct);const Qt=_();T(ft,bt),yt.append(ft,J,lt,Qt),document.body.appendChild(yt)}h?(J.innerText="Preview backend disconnected.",ft.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ft.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",et)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",P):P()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $T(){const s=Zh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZT(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function WT(){return!$T()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f0(){try{return typeof indexedDB=="object"}catch{return!1}}function h0(){return new Promise((s,n)=>{try{let a=!0;const l="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(l);c.onsuccess=()=>{c.result.close(),a||self.indexedDB.deleteDatabase(l),s(!0)},c.onupgradeneeded=()=>{a=!1},c.onerror=()=>{n(c.error?.message||"")}}catch(a){n(a)}})}function JT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="FirebaseError";class Qa extends Error{constructor(n,a,l){super(a),this.code=n,this.customData=l,this.name=tE,Object.setPrototypeOf(this,Qa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(n,a,l){this.service=n,this.serviceName=a,this.errors=l}create(n,...a){const l=a[0]||{},c=`${this.service}/${n}`,h=this.errors[n],m=h?eE(h,l):"Error",y=`${this.serviceName}: ${m} (${c}).`;return new Qa(c,y,l)}}function eE(s,n){return s.replace(nE,(a,l)=>{const c=n[l];return c!=null?String(c):`<${l}?>`})}const nE=/\{\$([^}]+)}/g;function Jl(s,n){if(s===n)return!0;const a=Object.keys(s),l=Object.keys(n);for(const c of a){if(!l.includes(c))return!1;const h=s[c],m=n[c];if(ty(h)&&ty(m)){if(!Jl(h,m))return!1}else if(h!==m)return!1}for(const c of l)if(!a.includes(c))return!1;return!0}function ty(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=1e3,aE=2,sE=14400*1e3,rE=.5;function ey(s,n=iE,a=aE){const l=n*Math.pow(a,s),c=Math.round(rE*l*(Math.random()-.5)*2);return Math.min(sE,l+c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(s){return s&&s._delegate?s._delegate:s}class la{constructor(n,a,l){this.name=n,this.instanceFactory=a,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(n,a){this.name=n,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const a=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(a)){const l=new HT;if(this.instancesDeferred.set(a,l),this.isInitialized(a)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:a});c&&l.resolve(c)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(n){const a=this.normalizeInstanceIdentifier(n?.identifier),l=n?.optional??!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(uE(n))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);try{const h=this.getOrInitializeService({instanceIdentifier:c});l.resolve(h)}catch{}}}}clearInstance(n=Ns){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...n.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Ns){return this.instances.has(n)}getOptions(n=Ns){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:a={}}=n,l=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:l,options:a});for(const[h,m]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);l===y&&m.resolve(c)}return c}onInit(n,a){const l=this.normalizeInstanceIdentifier(a),c=this.onInitCallbacks.get(l)??new Set;c.add(n),this.onInitCallbacks.set(l,c);const h=this.instances.get(l);return h&&n(h,l),()=>{c.delete(n)}}invokeOnInitCallbacks(n,a){const l=this.onInitCallbacks.get(a);if(l)for(const c of l)try{c(n,a)}catch{}}getOrInitializeService({instanceIdentifier:n,options:a={}}){let l=this.instances.get(n);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:oE(n),options:a}),this.instances.set(n,l),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(l,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,l)}catch{}return l||null}normalizeInstanceIdentifier(n=Ns){return this.component?this.component.multipleInstances?n:Ns:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oE(s){return s===Ns?void 0:s}function uE(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const a=this.getProvider(n.name);if(a.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);a.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const a=new lE(n,this);return this.providers.set(n,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(kt||(kt={}));const fE={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},hE=kt.INFO,dE={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},mE=(s,n,...a)=>{if(n<s.logLevel)return;const l=new Date().toISOString(),c=dE[n];if(c)console[c](`[${l}]  ${s.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Jh{constructor(n){this.name=n,this._logLevel=hE,this._logHandler=mE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in kt))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?fE[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...n),this._logHandler(this,kt.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...n),this._logHandler(this,kt.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...n),this._logHandler(this,kt.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...n),this._logHandler(this,kt.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...n),this._logHandler(this,kt.ERROR,...n)}}const gE=(s,n)=>n.some(a=>s instanceof a);let ny,iy;function pE(){return ny||(ny=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yE(){return iy||(iy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d0=new WeakMap,Mh=new WeakMap,m0=new WeakMap,_h=new WeakMap,td=new WeakMap;function _E(s){const n=new Promise((a,l)=>{const c=()=>{s.removeEventListener("success",h),s.removeEventListener("error",m)},h=()=>{a(ja(s.result)),c()},m=()=>{l(s.error),c()};s.addEventListener("success",h),s.addEventListener("error",m)});return n.then(a=>{a instanceof IDBCursor&&d0.set(a,s)}).catch(()=>{}),td.set(n,s),n}function vE(s){if(Mh.has(s))return;const n=new Promise((a,l)=>{const c=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",m),s.removeEventListener("abort",m)},h=()=>{a(),c()},m=()=>{l(s.error||new DOMException("AbortError","AbortError")),c()};s.addEventListener("complete",h),s.addEventListener("error",m),s.addEventListener("abort",m)});Mh.set(s,n)}let Oh={get(s,n,a){if(s instanceof IDBTransaction){if(n==="done")return Mh.get(s);if(n==="objectStoreNames")return s.objectStoreNames||m0.get(s);if(n==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return ja(s[n])},set(s,n,a){return s[n]=a,!0},has(s,n){return s instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in s}};function TE(s){Oh=s(Oh)}function EE(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...a){const l=s.call(vh(this),n,...a);return m0.set(l,n.sort?n.sort():[n]),ja(l)}:yE().includes(s)?function(...n){return s.apply(vh(this),n),ja(d0.get(this))}:function(...n){return ja(s.apply(vh(this),n))}}function AE(s){return typeof s=="function"?EE(s):(s instanceof IDBTransaction&&vE(s),gE(s,pE())?new Proxy(s,Oh):s)}function ja(s){if(s instanceof IDBRequest)return _E(s);if(_h.has(s))return _h.get(s);const n=AE(s);return n!==s&&(_h.set(s,n),td.set(n,s)),n}const vh=s=>td.get(s);function g0(s,n,{blocked:a,upgrade:l,blocking:c,terminated:h}={}){const m=indexedDB.open(s,n),y=ja(m);return l&&m.addEventListener("upgradeneeded",T=>{l(ja(m.result),T.oldVersion,T.newVersion,ja(m.transaction),T)}),a&&m.addEventListener("blocked",T=>a(T.oldVersion,T.newVersion,T)),y.then(T=>{h&&T.addEventListener("close",()=>h()),c&&T.addEventListener("versionchange",_=>c(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const SE=["get","getKey","getAll","getAllKeys","count"],bE=["put","add","delete","clear"],Th=new Map;function ay(s,n){if(!(s instanceof IDBDatabase&&!(n in s)&&typeof n=="string"))return;if(Th.get(n))return Th.get(n);const a=n.replace(/FromIndex$/,""),l=n!==a,c=bE.includes(a);if(!(a in(l?IDBIndex:IDBObjectStore).prototype)||!(c||SE.includes(a)))return;const h=async function(m,...y){const T=this.transaction(m,c?"readwrite":"readonly");let _=T.store;return l&&(_=_.index(y.shift())),(await Promise.all([_[a](...y),c&&T.done]))[0]};return Th.set(n,h),h}TE(s=>({...s,get:(n,a,l)=>ay(n,a)||s.get(n,a,l),has:(n,a)=>!!ay(n,a)||s.has(n,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(wE(a)){const l=a.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(a=>a).join(" ")}}function wE(s){return s.getComponent()?.type==="VERSION"}const Vh="@firebase/app",sy="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new Jh("@firebase/app"),CE="@firebase/app-compat",IE="@firebase/analytics-compat",NE="@firebase/analytics",DE="@firebase/app-check-compat",xE="@firebase/app-check",ME="@firebase/auth",OE="@firebase/auth-compat",VE="@firebase/database",LE="@firebase/data-connect",UE="@firebase/database-compat",jE="@firebase/functions",PE="@firebase/functions-compat",zE="@firebase/installations",BE="@firebase/installations-compat",kE="@firebase/messaging",qE="@firebase/messaging-compat",HE="@firebase/performance",GE="@firebase/performance-compat",QE="@firebase/remote-config",FE="@firebase/remote-config-compat",YE="@firebase/storage",XE="@firebase/storage-compat",KE="@firebase/firestore",$E="@firebase/ai",ZE="@firebase/firestore-compat",WE="firebase",JE="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh="[DEFAULT]",t1={[Vh]:"fire-core",[CE]:"fire-core-compat",[NE]:"fire-analytics",[IE]:"fire-analytics-compat",[xE]:"fire-app-check",[DE]:"fire-app-check-compat",[ME]:"fire-auth",[OE]:"fire-auth-compat",[VE]:"fire-rtdb",[LE]:"fire-data-connect",[UE]:"fire-rtdb-compat",[jE]:"fire-fn",[PE]:"fire-fn-compat",[zE]:"fire-iid",[BE]:"fire-iid-compat",[kE]:"fire-fcm",[qE]:"fire-fcm-compat",[HE]:"fire-perf",[GE]:"fire-perf-compat",[QE]:"fire-rc",[FE]:"fire-rc-compat",[YE]:"fire-gcs",[XE]:"fire-gcs-compat",[KE]:"fire-fst",[ZE]:"fire-fst-compat",[$E]:"fire-vertex","fire-js":"fire-js",[WE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=new Map,e1=new Map,Uh=new Map;function ry(s,n){try{s.container.addComponent(n)}catch(a){oa.debug(`Component ${n.name} failed to register with FirebaseApp ${s.name}`,a)}}function Ba(s){const n=s.name;if(Uh.has(n))return oa.debug(`There were multiple attempts to register component ${n}.`),!1;Uh.set(n,s);for(const a of qu.values())ry(a,s);for(const a of e1.values())ry(a,s);return!0}function ro(s,n){const a=s.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),s.container.getProvider(n)}function n1(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pa=new ic("app","Firebase",i1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(n,a,l){this._isDeleted=!1,this._options={...n},this._config={...a},this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Pa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=JE;function ed(s,n={}){let a=s;typeof n!="object"&&(n={name:n});const l={name:Lh,automaticDataCollectionEnabled:!0,...n},c=l.name;if(typeof c!="string"||!c)throw Pa.create("bad-app-name",{appName:String(c)});if(a||(a=c0()),!a)throw Pa.create("no-options");const h=qu.get(c);if(h){if(Jl(a,h.options)&&Jl(l,h.config))return h;throw Pa.create("duplicate-app",{appName:c})}const m=new cE(c);for(const T of Uh.values())m.addComponent(T);const y=new a1(a,l,m);return qu.set(c,y),y}function p0(s=Lh){const n=qu.get(s);if(!n&&s===Lh&&c0())return ed();if(!n)throw Pa.create("no-app",{appName:s});return n}function xi(s,n,a){let l=t1[s]??s;a&&(l+=`-${a}`);const c=l.match(/\s|\//),h=n.match(/\s|\//);if(c||h){const m=[`Unable to register library "${l}" with version "${n}":`];c&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&h&&m.push("and"),h&&m.push(`version name "${n}" contains illegal characters (whitespace or "/")`),oa.warn(m.join(" "));return}Ba(new la(`${l}-version`,()=>({library:l,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="firebase-heartbeat-database",l1=1,to="firebase-heartbeat-store";let Eh=null;function y0(){return Eh||(Eh=g0(r1,l1,{upgrade:(s,n)=>{switch(n){case 0:try{s.createObjectStore(to)}catch(a){console.warn(a)}}}}).catch(s=>{throw Pa.create("idb-open",{originalErrorMessage:s.message})})),Eh}async function o1(s){try{const a=(await y0()).transaction(to),l=await a.objectStore(to).get(_0(s));return await a.done,l}catch(n){if(n instanceof Qa)oa.warn(n.message);else{const a=Pa.create("idb-get",{originalErrorMessage:n?.message});oa.warn(a.message)}}}async function ly(s,n){try{const l=(await y0()).transaction(to,"readwrite");await l.objectStore(to).put(n,_0(s)),await l.done}catch(a){if(a instanceof Qa)oa.warn(a.message);else{const l=Pa.create("idb-set",{originalErrorMessage:a?.message});oa.warn(l.message)}}}function _0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=1024,c1=30;class f1{constructor(n){this.container=n,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new d1(a),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=oy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>c1){const c=m1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){oa.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=oy(),{heartbeatsToSend:a,unsentEntries:l}=h1(this._heartbeatsCache.heartbeats),c=ku(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return oa.warn(n),""}}}function oy(){return new Date().toISOString().substring(0,10)}function h1(s,n=u1){const a=[];let l=s.slice();for(const c of s){const h=a.find(m=>m.agent===c.agent);if(h){if(h.dates.push(c.date),uy(a)>n){h.dates.pop();break}}else if(a.push({agent:c.agent,dates:[c.date]}),uy(a)>n){a.pop();break}l=l.slice(1)}return{heartbeatsToSend:a,unsentEntries:l}}class d1{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f0()?h0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await o1(this.app);return a?.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const l=await this.read();return ly(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const l=await this.read();return ly(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...n.heartbeats]})}else return}}function uy(s){return ku(JSON.stringify({version:2,heartbeats:s})).length}function m1(s){if(s.length===0)return-1;let n=0,a=s[0].date;for(let l=1;l<s.length;l++)s[l].date<a&&(a=s[l].date,n=l);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(s){Ba(new la("platform-logger",n=>new RE(n),"PRIVATE")),Ba(new la("heartbeat",n=>new f1(n),"PRIVATE")),xi(Vh,sy,s),xi(Vh,sy,"esm2020"),xi("fire-js","")}g1("");var p1="firebase",y1="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xi(p1,y1,"app");var cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nd;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function n(M,A){function R(){}R.prototype=A.prototype,M.D=A.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(N,D,V){for(var b=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)b[pe-2]=arguments[pe];return A.prototype[D].apply(N,b)}}function a(){this.blockSize=-1}function l(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}n(l,a),l.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function c(M,A,R){R||(R=0);var N=Array(16);if(typeof A=="string")for(var D=0;16>D;++D)N[D]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(D=0;16>D;++D)N[D]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=M.g[0],R=M.g[1],D=M.g[2];var V=M.g[3],b=A+(V^R&(D^V))+N[0]+3614090360&4294967295;A=R+(b<<7&4294967295|b>>>25),b=V+(D^A&(R^D))+N[1]+3905402710&4294967295,V=A+(b<<12&4294967295|b>>>20),b=D+(R^V&(A^R))+N[2]+606105819&4294967295,D=V+(b<<17&4294967295|b>>>15),b=R+(A^D&(V^A))+N[3]+3250441966&4294967295,R=D+(b<<22&4294967295|b>>>10),b=A+(V^R&(D^V))+N[4]+4118548399&4294967295,A=R+(b<<7&4294967295|b>>>25),b=V+(D^A&(R^D))+N[5]+1200080426&4294967295,V=A+(b<<12&4294967295|b>>>20),b=D+(R^V&(A^R))+N[6]+2821735955&4294967295,D=V+(b<<17&4294967295|b>>>15),b=R+(A^D&(V^A))+N[7]+4249261313&4294967295,R=D+(b<<22&4294967295|b>>>10),b=A+(V^R&(D^V))+N[8]+1770035416&4294967295,A=R+(b<<7&4294967295|b>>>25),b=V+(D^A&(R^D))+N[9]+2336552879&4294967295,V=A+(b<<12&4294967295|b>>>20),b=D+(R^V&(A^R))+N[10]+4294925233&4294967295,D=V+(b<<17&4294967295|b>>>15),b=R+(A^D&(V^A))+N[11]+2304563134&4294967295,R=D+(b<<22&4294967295|b>>>10),b=A+(V^R&(D^V))+N[12]+1804603682&4294967295,A=R+(b<<7&4294967295|b>>>25),b=V+(D^A&(R^D))+N[13]+4254626195&4294967295,V=A+(b<<12&4294967295|b>>>20),b=D+(R^V&(A^R))+N[14]+2792965006&4294967295,D=V+(b<<17&4294967295|b>>>15),b=R+(A^D&(V^A))+N[15]+1236535329&4294967295,R=D+(b<<22&4294967295|b>>>10),b=A+(D^V&(R^D))+N[1]+4129170786&4294967295,A=R+(b<<5&4294967295|b>>>27),b=V+(R^D&(A^R))+N[6]+3225465664&4294967295,V=A+(b<<9&4294967295|b>>>23),b=D+(A^R&(V^A))+N[11]+643717713&4294967295,D=V+(b<<14&4294967295|b>>>18),b=R+(V^A&(D^V))+N[0]+3921069994&4294967295,R=D+(b<<20&4294967295|b>>>12),b=A+(D^V&(R^D))+N[5]+3593408605&4294967295,A=R+(b<<5&4294967295|b>>>27),b=V+(R^D&(A^R))+N[10]+38016083&4294967295,V=A+(b<<9&4294967295|b>>>23),b=D+(A^R&(V^A))+N[15]+3634488961&4294967295,D=V+(b<<14&4294967295|b>>>18),b=R+(V^A&(D^V))+N[4]+3889429448&4294967295,R=D+(b<<20&4294967295|b>>>12),b=A+(D^V&(R^D))+N[9]+568446438&4294967295,A=R+(b<<5&4294967295|b>>>27),b=V+(R^D&(A^R))+N[14]+3275163606&4294967295,V=A+(b<<9&4294967295|b>>>23),b=D+(A^R&(V^A))+N[3]+4107603335&4294967295,D=V+(b<<14&4294967295|b>>>18),b=R+(V^A&(D^V))+N[8]+1163531501&4294967295,R=D+(b<<20&4294967295|b>>>12),b=A+(D^V&(R^D))+N[13]+2850285829&4294967295,A=R+(b<<5&4294967295|b>>>27),b=V+(R^D&(A^R))+N[2]+4243563512&4294967295,V=A+(b<<9&4294967295|b>>>23),b=D+(A^R&(V^A))+N[7]+1735328473&4294967295,D=V+(b<<14&4294967295|b>>>18),b=R+(V^A&(D^V))+N[12]+2368359562&4294967295,R=D+(b<<20&4294967295|b>>>12),b=A+(R^D^V)+N[5]+4294588738&4294967295,A=R+(b<<4&4294967295|b>>>28),b=V+(A^R^D)+N[8]+2272392833&4294967295,V=A+(b<<11&4294967295|b>>>21),b=D+(V^A^R)+N[11]+1839030562&4294967295,D=V+(b<<16&4294967295|b>>>16),b=R+(D^V^A)+N[14]+4259657740&4294967295,R=D+(b<<23&4294967295|b>>>9),b=A+(R^D^V)+N[1]+2763975236&4294967295,A=R+(b<<4&4294967295|b>>>28),b=V+(A^R^D)+N[4]+1272893353&4294967295,V=A+(b<<11&4294967295|b>>>21),b=D+(V^A^R)+N[7]+4139469664&4294967295,D=V+(b<<16&4294967295|b>>>16),b=R+(D^V^A)+N[10]+3200236656&4294967295,R=D+(b<<23&4294967295|b>>>9),b=A+(R^D^V)+N[13]+681279174&4294967295,A=R+(b<<4&4294967295|b>>>28),b=V+(A^R^D)+N[0]+3936430074&4294967295,V=A+(b<<11&4294967295|b>>>21),b=D+(V^A^R)+N[3]+3572445317&4294967295,D=V+(b<<16&4294967295|b>>>16),b=R+(D^V^A)+N[6]+76029189&4294967295,R=D+(b<<23&4294967295|b>>>9),b=A+(R^D^V)+N[9]+3654602809&4294967295,A=R+(b<<4&4294967295|b>>>28),b=V+(A^R^D)+N[12]+3873151461&4294967295,V=A+(b<<11&4294967295|b>>>21),b=D+(V^A^R)+N[15]+530742520&4294967295,D=V+(b<<16&4294967295|b>>>16),b=R+(D^V^A)+N[2]+3299628645&4294967295,R=D+(b<<23&4294967295|b>>>9),b=A+(D^(R|~V))+N[0]+4096336452&4294967295,A=R+(b<<6&4294967295|b>>>26),b=V+(R^(A|~D))+N[7]+1126891415&4294967295,V=A+(b<<10&4294967295|b>>>22),b=D+(A^(V|~R))+N[14]+2878612391&4294967295,D=V+(b<<15&4294967295|b>>>17),b=R+(V^(D|~A))+N[5]+4237533241&4294967295,R=D+(b<<21&4294967295|b>>>11),b=A+(D^(R|~V))+N[12]+1700485571&4294967295,A=R+(b<<6&4294967295|b>>>26),b=V+(R^(A|~D))+N[3]+2399980690&4294967295,V=A+(b<<10&4294967295|b>>>22),b=D+(A^(V|~R))+N[10]+4293915773&4294967295,D=V+(b<<15&4294967295|b>>>17),b=R+(V^(D|~A))+N[1]+2240044497&4294967295,R=D+(b<<21&4294967295|b>>>11),b=A+(D^(R|~V))+N[8]+1873313359&4294967295,A=R+(b<<6&4294967295|b>>>26),b=V+(R^(A|~D))+N[15]+4264355552&4294967295,V=A+(b<<10&4294967295|b>>>22),b=D+(A^(V|~R))+N[6]+2734768916&4294967295,D=V+(b<<15&4294967295|b>>>17),b=R+(V^(D|~A))+N[13]+1309151649&4294967295,R=D+(b<<21&4294967295|b>>>11),b=A+(D^(R|~V))+N[4]+4149444226&4294967295,A=R+(b<<6&4294967295|b>>>26),b=V+(R^(A|~D))+N[11]+3174756917&4294967295,V=A+(b<<10&4294967295|b>>>22),b=D+(A^(V|~R))+N[2]+718787259&4294967295,D=V+(b<<15&4294967295|b>>>17),b=R+(V^(D|~A))+N[9]+3951481745&4294967295,M.g[0]=M.g[0]+A&4294967295,M.g[1]=M.g[1]+(D+(b<<21&4294967295|b>>>11))&4294967295,M.g[2]=M.g[2]+D&4294967295,M.g[3]=M.g[3]+V&4294967295}l.prototype.u=function(M,A){A===void 0&&(A=M.length);for(var R=A-this.blockSize,N=this.B,D=this.h,V=0;V<A;){if(D==0)for(;V<=R;)c(this,M,V),V+=this.blockSize;if(typeof M=="string"){for(;V<A;)if(N[D++]=M.charCodeAt(V++),D==this.blockSize){c(this,N),D=0;break}}else for(;V<A;)if(N[D++]=M[V++],D==this.blockSize){c(this,N),D=0;break}}this.h=D,this.o+=A},l.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var A=1;A<M.length-8;++A)M[A]=0;var R=8*this.o;for(A=M.length-8;A<M.length;++A)M[A]=R&255,R/=256;for(this.u(M),M=Array(16),A=R=0;4>A;++A)for(var N=0;32>N;N+=8)M[R++]=this.g[A]>>>N&255;return M};function h(M,A){var R=y;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=A(M)}function m(M,A){this.h=A;for(var R=[],N=!0,D=M.length-1;0<=D;D--){var V=M[D]|0;N&&V==A||(R[D]=V,N=!1)}this.g=R}var y={};function T(M){return-128<=M&&128>M?h(M,function(A){return new m([A|0],0>A?-1:0)}):new m([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return P;if(0>M)return lt(_(-M));for(var A=[],R=1,N=0;M>=R;N++)A[N]=M/R|0,R*=4294967296;return new m(A,0)}function w(M,A){if(M.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(M.charAt(0)=="-")return lt(w(M.substring(1),A));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=_(Math.pow(A,8)),N=P,D=0;D<M.length;D+=8){var V=Math.min(8,M.length-D),b=parseInt(M.substring(D,D+V),A);8>V?(V=_(Math.pow(A,V)),N=N.j(V).add(_(b))):(N=N.j(R),N=N.add(_(b)))}return N}var P=T(0),L=T(1),et=T(16777216);s=m.prototype,s.m=function(){if(ct(this))return-lt(this).m();for(var M=0,A=1,R=0;R<this.g.length;R++){var N=this.i(R);M+=(0<=N?N:4294967296+N)*A,A*=4294967296}return M},s.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(J(this))return"0";if(ct(this))return"-"+lt(this).toString(M);for(var A=_(Math.pow(M,6)),R=this,N="";;){var D=Qt(R,A).g;R=bt(R,D.j(A));var V=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=D,J(R))return V+N;for(;6>V.length;)V="0"+V;N=V+N}},s.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function J(M){if(M.h!=0)return!1;for(var A=0;A<M.g.length;A++)if(M.g[A]!=0)return!1;return!0}function ct(M){return M.h==-1}s.l=function(M){return M=bt(this,M),ct(M)?-1:J(M)?0:1};function lt(M){for(var A=M.g.length,R=[],N=0;N<A;N++)R[N]=~M.g[N];return new m(R,~M.h).add(L)}s.abs=function(){return ct(this)?lt(this):this},s.add=function(M){for(var A=Math.max(this.g.length,M.g.length),R=[],N=0,D=0;D<=A;D++){var V=N+(this.i(D)&65535)+(M.i(D)&65535),b=(V>>>16)+(this.i(D)>>>16)+(M.i(D)>>>16);N=b>>>16,V&=65535,b&=65535,R[D]=b<<16|V}return new m(R,R[R.length-1]&-2147483648?-1:0)};function bt(M,A){return M.add(lt(A))}s.j=function(M){if(J(this)||J(M))return P;if(ct(this))return ct(M)?lt(this).j(lt(M)):lt(lt(this).j(M));if(ct(M))return lt(this.j(lt(M)));if(0>this.l(et)&&0>M.l(et))return _(this.m()*M.m());for(var A=this.g.length+M.g.length,R=[],N=0;N<2*A;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var D=0;D<M.g.length;D++){var V=this.i(N)>>>16,b=this.i(N)&65535,pe=M.i(D)>>>16,ie=M.i(D)&65535;R[2*N+2*D]+=b*ie,ft(R,2*N+2*D),R[2*N+2*D+1]+=V*ie,ft(R,2*N+2*D+1),R[2*N+2*D+1]+=b*pe,ft(R,2*N+2*D+1),R[2*N+2*D+2]+=V*pe,ft(R,2*N+2*D+2)}for(N=0;N<A;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=A;N<2*A;N++)R[N]=0;return new m(R,0)};function ft(M,A){for(;(M[A]&65535)!=M[A];)M[A+1]+=M[A]>>>16,M[A]&=65535,A++}function yt(M,A){this.g=M,this.h=A}function Qt(M,A){if(J(A))throw Error("division by zero");if(J(M))return new yt(P,P);if(ct(M))return A=Qt(lt(M),A),new yt(lt(A.g),lt(A.h));if(ct(A))return A=Qt(M,lt(A)),new yt(lt(A.g),A.h);if(30<M.g.length){if(ct(M)||ct(A))throw Error("slowDivide_ only works with positive integers.");for(var R=L,N=A;0>=N.l(M);)R=Rt(R),N=Rt(N);var D=Vt(R,1),V=Vt(N,1);for(N=Vt(N,2),R=Vt(R,2);!J(N);){var b=V.add(N);0>=b.l(M)&&(D=D.add(R),V=b),N=Vt(N,1),R=Vt(R,1)}return A=bt(M,D.j(A)),new yt(D,A)}for(D=P;0<=M.l(A);){for(R=Math.max(1,Math.floor(M.m()/A.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),V=_(R),b=V.j(A);ct(b)||0<b.l(M);)R-=N,V=_(R),b=V.j(A);J(V)&&(V=L),D=D.add(V),M=bt(M,b)}return new yt(D,M)}s.A=function(M){return Qt(this,M).h},s.and=function(M){for(var A=Math.max(this.g.length,M.g.length),R=[],N=0;N<A;N++)R[N]=this.i(N)&M.i(N);return new m(R,this.h&M.h)},s.or=function(M){for(var A=Math.max(this.g.length,M.g.length),R=[],N=0;N<A;N++)R[N]=this.i(N)|M.i(N);return new m(R,this.h|M.h)},s.xor=function(M){for(var A=Math.max(this.g.length,M.g.length),R=[],N=0;N<A;N++)R[N]=this.i(N)^M.i(N);return new m(R,this.h^M.h)};function Rt(M){for(var A=M.g.length+1,R=[],N=0;N<A;N++)R[N]=M.i(N)<<1|M.i(N-1)>>>31;return new m(R,M.h)}function Vt(M,A){var R=A>>5;A%=32;for(var N=M.g.length-R,D=[],V=0;V<N;V++)D[V]=0<A?M.i(V+R)>>>A|M.i(V+R+1)<<32-A:M.i(V+R);return new m(D,M.h)}l.prototype.digest=l.prototype.v,l.prototype.reset=l.prototype.s,l.prototype.update=l.prototype.u,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=_,m.fromString=w,nd=m}).apply(typeof cy<"u"?cy:typeof self<"u"?self:typeof window<"u"?window:{});var Du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var v0,Ql,T0,Uu,jh,E0,A0,S0;(function(){var s,n=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,d,g){return o==Array.prototype||o==Object.prototype||(o[d]=g.value),o};function a(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Du=="object"&&Du];for(var d=0;d<o.length;++d){var g=o[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var l=a(this);function c(o,d){if(d)t:{var g=l;o=o.split(".");for(var E=0;E<o.length-1;E++){var U=o[E];if(!(U in g))break t;g=g[U]}o=o[o.length-1],E=g[o],d=d(E),d!=E&&d!=null&&n(g,o,{configurable:!0,writable:!0,value:d})}}function h(o,d){o instanceof String&&(o+="");var g=0,E=!1,U={next:function(){if(!E&&g<o.length){var H=g++;return{value:d(H,o[H]),done:!1}}return E=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}c("Array.prototype.values",function(o){return o||function(){return h(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var m=m||{},y=this||self;function T(o){var d=typeof o;return d=d!="object"?d:o?Array.isArray(o)?"array":d:"null",d=="array"||d=="object"&&typeof o.length=="number"}function _(o){var d=typeof o;return d=="object"&&o!=null||d=="function"}function w(o,d,g){return o.call.apply(o.bind,arguments)}function P(o,d,g){if(!o)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,E),o.apply(d,U)}}return function(){return o.apply(d,arguments)}}function L(o,d,g){return L=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:P,L.apply(null,arguments)}function et(o,d){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),o.apply(this,E)}}function J(o,d){function g(){}g.prototype=d.prototype,o.aa=d.prototype,o.prototype=new g,o.prototype.constructor=o,o.Qb=function(E,U,H){for(var nt=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)nt[jt-2]=arguments[jt];return d.prototype[U].apply(E,nt)}}function ct(o){const d=o.length;if(0<d){const g=Array(d);for(let E=0;E<d;E++)g[E]=o[E];return g}return[]}function lt(o,d){for(let g=1;g<arguments.length;g++){const E=arguments[g];if(T(E)){const U=o.length||0,H=E.length||0;o.length=U+H;for(let nt=0;nt<H;nt++)o[U+nt]=E[nt]}else o.push(E)}}class bt{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function ft(o){return/^[\s\xa0]*$/.test(o)}function yt(){var o=y.navigator;return o&&(o=o.userAgent)?o:""}function Qt(o){return Qt[" "](o),o}Qt[" "]=function(){};var Rt=yt().indexOf("Gecko")!=-1&&!(yt().toLowerCase().indexOf("webkit")!=-1&&yt().indexOf("Edge")==-1)&&!(yt().indexOf("Trident")!=-1||yt().indexOf("MSIE")!=-1)&&yt().indexOf("Edge")==-1;function Vt(o,d,g){for(const E in o)d.call(g,o[E],E,o)}function M(o,d){for(const g in o)d.call(void 0,o[g],g,o)}function A(o){const d={};for(const g in o)d[g]=o[g];return d}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(o,d){let g,E;for(let U=1;U<arguments.length;U++){E=arguments[U];for(g in E)o[g]=E[g];for(let H=0;H<R.length;H++)g=R[H],Object.prototype.hasOwnProperty.call(E,g)&&(o[g]=E[g])}}function D(o){var d=1;o=o.split(":");const g=[];for(;0<d&&o.length;)g.push(o.shift()),d--;return o.length&&g.push(o.join(":")),g}function V(o){y.setTimeout(()=>{throw o},0)}function b(){var o=qt;let d=null;return o.g&&(d=o.g,o.g=o.g.next,o.g||(o.h=null),d.next=null),d}class pe{constructor(){this.h=this.g=null}add(d,g){const E=ie.get();E.set(d,g),this.h?this.h.next=E:this.g=E,this.h=E}}var ie=new bt(()=>new Q,o=>o.reset());class Q{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let it,dt=!1,qt=new pe,C=()=>{const o=y.Promise.resolve(void 0);it=()=>{o.then(K)}};var K=()=>{for(var o;o=b();){try{o.h.call(o.g)}catch(g){V(g)}var d=ie;d.j(o),100>d.h&&(d.h++,o.next=d.g,d.g=o)}dt=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(o,d){this.type=o,this.g=this.target=d,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var mt=(function(){if(!y.addEventListener||!Object.defineProperty)return!1;var o=!1,d=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};y.addEventListener("test",g,d),y.removeEventListener("test",g,d)}catch{}return o})();function wt(o,d){if(tt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var g=this.type=o.type,E=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=d,d=o.relatedTarget){if(Rt){t:{try{Qt(d.nodeName);var U=!0;break t}catch{}U=!1}U||(d=null)}}else g=="mouseover"?d=o.fromElement:g=="mouseout"&&(d=o.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:_t[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&wt.aa.h.call(this)}}J(wt,tt);var _t={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),ae=0;function dn(o,d,g,E,U){this.listener=o,this.proxy=null,this.src=d,this.type=g,this.capture=!!E,this.ha=U,this.key=++ae,this.da=this.fa=!1}function Mn(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function En(o){this.src=o,this.g={},this.h=0}En.prototype.add=function(o,d,g,E,U){var H=o.toString();o=this.g[H],o||(o=this.g[H]=[],this.h++);var nt=Vi(o,d,E,U);return-1<nt?(d=o[nt],g||(d.fa=!1)):(d=new dn(d,this.src,H,!!E,U),d.fa=g,o.push(d)),d};function _e(o,d){var g=d.type;if(g in o.g){var E=o.g[g],U=Array.prototype.indexOf.call(E,d,void 0),H;(H=0<=U)&&Array.prototype.splice.call(E,U,1),H&&(Mn(d),o.g[g].length==0&&(delete o.g[g],o.h--))}}function Vi(o,d,g,E){for(var U=0;U<o.length;++U){var H=o[U];if(!H.da&&H.listener==d&&H.capture==!!g&&H.ha==E)return U}return-1}var Fn="closure_lm_"+(1e6*Math.random()|0),ua={};function Ya(o,d,g,E,U){if(Array.isArray(d)){for(var H=0;H<d.length;H++)Ya(o,d[H],g,E,U);return null}return g=Ka(g),o&&o[ye]?o.K(d,g,_(E)?!!E.capture:!1,U):ln(o,d,g,!1,E,U)}function ln(o,d,g,E,U,H){if(!d)throw Error("Invalid event type");var nt=_(U)?!!U.capture:!!U,jt=ca(o);if(jt||(o[Fn]=jt=new En(o)),g=jt.add(d,g,E,nt,H),g.proxy)return g;if(E=Li(),g.proxy=E,E.src=o,E.listener=g,o.addEventListener)mt||(U=nt),U===void 0&&(U=!1),o.addEventListener(d.toString(),E,U);else if(o.attachEvent)o.attachEvent(Ui(d.toString()),E);else if(o.addListener&&o.removeListener)o.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Li(){function o(g){return d.call(o.src,o.listener,g)}const d=Yn;return o}function Xa(o,d,g,E,U){if(Array.isArray(d))for(var H=0;H<d.length;H++)Xa(o,d[H],g,E,U);else E=_(E)?!!E.capture:!!E,g=Ka(g),o&&o[ye]?(o=o.i,d=String(d).toString(),d in o.g&&(H=o.g[d],g=Vi(H,g,E,U),-1<g&&(Mn(H[g]),Array.prototype.splice.call(H,g,1),H.length==0&&(delete o.g[d],o.h--)))):o&&(o=ca(o))&&(d=o.g[d.toString()],o=-1,d&&(o=Vi(d,g,E,U)),(g=-1<o?d[o]:null)&&On(g))}function On(o){if(typeof o!="number"&&o&&!o.da){var d=o.src;if(d&&d[ye])_e(d.i,o);else{var g=o.type,E=o.proxy;d.removeEventListener?d.removeEventListener(g,E,o.capture):d.detachEvent?d.detachEvent(Ui(g),E):d.addListener&&d.removeListener&&d.removeListener(E),(g=ca(d))?(_e(g,o),g.h==0&&(g.src=null,d[Fn]=null)):Mn(o)}}}function Ui(o){return o in ua?ua[o]:ua[o]="on"+o}function Yn(o,d){if(o.da)o=!0;else{d=new wt(d,this);var g=o.listener,E=o.ha||o.src;o.fa&&On(o),o=g.call(E,d)}return o}function ca(o){return o=o[Fn],o instanceof En?o:null}var li="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ka(o){return typeof o=="function"?o:(o[li]||(o[li]=function(d){return o.handleEvent(d)}),o[li])}function Ft(){at.call(this),this.i=new En(this),this.M=this,this.F=null}J(Ft,at),Ft.prototype[ye]=!0,Ft.prototype.removeEventListener=function(o,d,g,E){Xa(this,o,d,g,E)};function Yt(o,d){var g,E=o.F;if(E)for(g=[];E;E=E.F)g.push(E);if(o=o.M,E=d.type||d,typeof d=="string")d=new tt(d,o);else if(d instanceof tt)d.target=d.target||o;else{var U=d;d=new tt(E,o),N(d,U)}if(U=!0,g)for(var H=g.length-1;0<=H;H--){var nt=d.g=g[H];U=Je(nt,E,!0,d)&&U}if(nt=d.g=o,U=Je(nt,E,!0,d)&&U,U=Je(nt,E,!1,d)&&U,g)for(H=0;H<g.length;H++)nt=d.g=g[H],U=Je(nt,E,!1,d)&&U}Ft.prototype.N=function(){if(Ft.aa.N.call(this),this.i){var o=this.i,d;for(d in o.g){for(var g=o.g[d],E=0;E<g.length;E++)Mn(g[E]);delete o.g[d],o.h--}}this.F=null},Ft.prototype.K=function(o,d,g,E){return this.i.add(String(o),d,!1,g,E)},Ft.prototype.L=function(o,d,g,E){return this.i.add(String(o),d,!0,g,E)};function Je(o,d,g,E){if(d=o.i.g[String(d)],!d)return!0;d=d.concat();for(var U=!0,H=0;H<d.length;++H){var nt=d[H];if(nt&&!nt.da&&nt.capture==g){var jt=nt.listener,Me=nt.ha||nt.src;nt.fa&&_e(o.i,nt),U=jt.call(Me,E)!==!1&&U}}return U&&!E.defaultPrevented}function Re(o,d,g){if(typeof o=="function")g&&(o=L(o,g));else if(o&&typeof o.handleEvent=="function")o=L(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:y.setTimeout(o,d||0)}function fa(o){o.g=Re(()=>{o.g=null,o.i&&(o.i=!1,fa(o))},o.l);const d=o.h;o.h=null,o.m.apply(null,d)}class $a extends at{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:fa(this)}N(){super.N(),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oi(o){at.call(this),this.h=o,this.g={}}J(oi,at);var ui=[];function ci(o){Vt(o.g,function(d,g){this.g.hasOwnProperty(g)&&On(d)},o),o.g={}}oi.prototype.N=function(){oi.aa.N.call(this),ci(this)},oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mn=y.JSON.stringify,fi=y.JSON.parse,hi=class{stringify(o){return y.JSON.stringify(o,void 0)}parse(o){return y.JSON.parse(o,void 0)}};function ha(){}ha.prototype.h=null;function ue(o){return o.h||(o.h=o.i())}function Za(){}var Xn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kn(){tt.call(this,"d")}J(Kn,tt);function Wa(){tt.call(this,"c")}J(Wa,tt);var An={},Ja=null;function di(){return Ja=Ja||new Ft}An.La="serverreachability";function da(o){tt.call(this,An.La,o)}J(da,tt);function mi(o){const d=di();Yt(d,new da(d))}An.STAT_EVENT="statevent";function Hs(o,d){tt.call(this,An.STAT_EVENT,o),this.stat=d}J(Hs,tt);function re(o){const d=di();Yt(d,new Hs(d,o))}An.Ma="timingevent";function Ae(o,d){tt.call(this,An.Ma,o),this.size=d}J(Ae,tt);function de(o,d){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return y.setTimeout(function(){o()},d)}function on(){this.g=!0}on.prototype.xa=function(){this.g=!1};function ts(o,d,g,E,U,H){o.info(function(){if(o.g)if(H)for(var nt="",jt=H.split("&"),Me=0;Me<jt.length;Me++){var Pt=jt[Me].split("=");if(1<Pt.length){var je=Pt[0];Pt=Pt[1];var Oe=je.split("_");nt=2<=Oe.length&&Oe[1]=="type"?nt+(je+"="+Pt+"&"):nt+(je+"=redacted&")}}else nt=null;else nt=H;return"XMLHTTP REQ ("+E+") [attempt "+U+"]: "+d+`
`+g+`
`+nt})}function Hr(o,d,g,E,U,H,nt){o.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+U+"]: "+d+`
`+g+`
`+H+" "+nt})}function $n(o,d,g,E){o.info(function(){return"XMLHTTP TEXT ("+d+"): "+gi(o,g)+(E?" "+E:"")})}function es(o,d){o.info(function(){return"TIMEOUT: "+d})}on.prototype.info=function(){};function gi(o,d){if(!o.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(o=0;o<g.length;o++)if(Array.isArray(g[o])){var E=g[o];if(!(2>E.length)){var U=E[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var nt=1;nt<U.length;nt++)U[nt]=""}}}}return mn(g)}catch{return d}}var Zn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vn;function q(){}J(q,ha),q.prototype.g=function(){return new XMLHttpRequest},q.prototype.i=function(){return{}},Vn=new q;function G(o,d,g,E){this.j=o,this.i=d,this.l=g,this.R=E||1,this.U=new oi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Z}function Z(){this.i=null,this.g="",this.h=!1}var rt={},At={};function St(o,d,g){o.L=1,o.v=ss(Sn(d)),o.m=g,o.P=!0,Lt(o,null)}function Lt(o,d){o.F=Date.now(),we(o),o.A=Sn(o.v);var g=o.A,E=o.R;Array.isArray(E)||(E=[String(E)]),Kr(g.i,"t",E),o.C=0,g=o.j.J,o.h=new Z,o.g=wo(o.j,g?d:null,!o.m),0<o.O&&(o.M=new $a(L(o.Y,o,o.g),o.O)),d=o.U,g=o.g,E=o.ca;var U="readystatechange";Array.isArray(U)||(U&&(ui[0]=U.toString()),U=ui);for(var H=0;H<U.length;H++){var nt=Ya(g,U[H],E||d.handleEvent,!1,d.h||d);if(!nt)break;d.g[nt.key]=nt}d=o.H?A(o.H):{},o.m?(o.u||(o.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,d)):(o.u="GET",o.g.ea(o.A,o.u,null,d)),mi(),ts(o.i,o.u,o.A,o.l,o.R,o.m)}G.prototype.ca=function(o){o=o.target;const d=this.M;d&&Pn(o)==3?d.j():this.Y(o)},G.prototype.Y=function(o){try{if(o==this.g)t:{const Oe=Pn(this.g);var d=this.g.Ba();const Gi=this.g.Z();if(!(3>Oe)&&(Oe!=3||this.g&&(this.h.h||this.g.oa()||_o(this.g)))){this.J||Oe!=4||d==7||(d==8||0>=Gi?mi(3):mi(2)),pi(this);var g=this.g.Z();this.X=g;e:if(Ht(this)){var E=_o(this.g);o="";var U=E.length,H=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){He(this),yi(this);var nt="";break e}this.h.i=new y.TextDecoder}for(d=0;d<U;d++)this.h.h=!0,o+=this.h.i.decode(E[d],{stream:!(H&&d==U-1)});E.length=0,this.h.g+=o,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=g==200,Hr(this.i,this.u,this.A,this.l,this.R,Oe,g),this.o){if(this.T&&!this.K){e:{if(this.g){var jt,Me=this.g;if((jt=Me.g?Me.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ft(jt)){var Pt=jt;break e}}Pt=null}if(g=Pt)$n(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ns(this,g);else{this.o=!1,this.s=3,re(12),He(this),yi(this);break t}}if(this.P){g=!0;let Ge;for(;!this.J&&this.C<nt.length;)if(Ge=Ut(this,nt),Ge==At){Oe==4&&(this.s=4,re(14),g=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(Ge==rt){this.s=4,re(15),$n(this.i,this.l,nt,"[Invalid Chunk]"),g=!1;break}else $n(this.i,this.l,Ge,null),ns(this,Ge);if(Ht(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||nt.length!=0||this.h.h||(this.s=1,re(16),g=!1),this.o=this.o&&g,!g)$n(this.i,this.l,nt,"[Invalid Chunked Response]"),He(this),yi(this);else if(0<nt.length&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.ba&&!je.M&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),ds(je),je.M=!0,re(11))}}else $n(this.i,this.l,nt,null),ns(this,nt);Oe==4&&He(this),this.o&&!this.J&&(Oe==4?So(this.j,this):(this.o=!1,we(this)))}else vc(this.g),g==400&&0<nt.indexOf("Unknown SID")?(this.s=3,re(12)):(this.s=0,re(13)),He(this),yi(this)}}}catch{}finally{}};function Ht(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Ut(o,d){var g=o.C,E=d.indexOf(`
`,g);return E==-1?At:(g=Number(d.substring(g,E)),isNaN(g)?rt:(E+=1,E+g>d.length?At:(d=d.slice(E,E+g),o.C=E+g,d)))}G.prototype.cancel=function(){this.J=!0,He(this)};function we(o){o.S=Date.now()+o.I,un(o,o.I)}function un(o,d){if(o.B!=null)throw Error("WatchDog timer not null");o.B=de(L(o.ba,o),d)}function pi(o){o.B&&(y.clearTimeout(o.B),o.B=null)}G.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(es(this.i,this.A),this.L!=2&&(mi(),re(17)),He(this),this.s=2,yi(this)):un(this,this.S-o)};function yi(o){o.j.G==0||o.J||So(o.j,o)}function He(o){pi(o);var d=o.M;d&&typeof d.ma=="function"&&d.ma(),o.M=null,ci(o.U),o.g&&(d=o.g,o.g=null,d.abort(),d.ma())}function ns(o,d){try{var g=o.j;if(g.G!=0&&(g.g==o||Gr(g.h,o))){if(!o.K&&Gr(g.h,o)&&g.G==3){try{var E=g.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var U=E;if(U[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<o.F)er(g),Js(g);else break t;tl(g),re(18)}}else g.za=U[1],0<g.za-g.T&&37500>U[2]&&g.F&&g.v==0&&!g.C&&(g.C=de(L(g.Za,g),6e3));if(1>=Qs(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Hi(g,11)}else if((o.K||g.g==o)&&er(g),!ft(d))for(U=g.Da.g.parse(d),d=0;d<U.length;d++){let Pt=U[d];if(g.T=Pt[0],Pt=Pt[1],g.G==2)if(Pt[0]=="c"){g.K=Pt[1],g.ia=Pt[2];const je=Pt[3];je!=null&&(g.la=je,g.j.info("VER="+g.la));const Oe=Pt[4];Oe!=null&&(g.Aa=Oe,g.j.info("SVER="+g.Aa));const Gi=Pt[5];Gi!=null&&typeof Gi=="number"&&0<Gi&&(E=1.5*Gi,g.L=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;const Ge=o.g;if(Ge){const bi=Ge.g?Ge.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bi){var H=E.h;H.g||bi.indexOf("spdy")==-1&&bi.indexOf("quic")==-1&&bi.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Fs(H,H.h),H.h=null))}if(E.D){const nl=Ge.g?Ge.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(E.ya=nl,Jt(E.I,E.D,nl))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-o.F,g.j.info("Handshake RTT: "+g.R+"ms")),E=g;var nt=o;if(E.qa=Ro(E,E.J?E.ia:null,E.W),nt.K){cn(E.h,nt);var jt=nt,Me=E.L;Me&&(jt.I=Me),jt.B&&(pi(jt),we(jt)),E.g=nt}else Eo(E);0<g.i.length&&tr(g)}else Pt[0]!="stop"&&Pt[0]!="close"||Hi(g,7);else g.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?Hi(g,7):Wr(g):Pt[0]!="noop"&&g.l&&g.l.ta(Pt),g.v=0)}}mi(4)}catch{}}var mo=class{constructor(o,d){this.g=o,this.map=d}};function ji(o){this.l=o||10,y.PerformanceNavigationTiming?(o=y.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(y.chrome&&y.chrome.loadTimes&&y.chrome.loadTimes()&&y.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gs(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Qs(o){return o.h?1:o.g?o.g.size:0}function Gr(o,d){return o.h?o.h==d:o.g?o.g.has(d):!1}function Fs(o,d){o.g?o.g.add(d):o.h=d}function cn(o,d){o.h&&o.h==d?o.h=null:o.g&&o.g.has(d)&&o.g.delete(d)}ji.prototype.cancel=function(){if(this.i=Qr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Qr(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let d=o.i;for(const g of o.g.values())d=d.concat(g.D);return d}return ct(o.i)}function gc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(T(o)){for(var d=[],g=o.length,E=0;E<g;E++)d.push(o[E]);return d}d=[],g=0;for(E in o)d[g++]=o[E];return d}function Ys(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(T(o)||typeof o=="string"){var d=[];o=o.length;for(var g=0;g<o;g++)d.push(g);return d}d=[],g=0;for(const E in o)d[g++]=E;return d}}}function Fr(o,d){if(o.forEach&&typeof o.forEach=="function")o.forEach(d,void 0);else if(T(o)||typeof o=="string")Array.prototype.forEach.call(o,d,void 0);else for(var g=Ys(o),E=gc(o),U=E.length,H=0;H<U;H++)d.call(void 0,E[H],g&&g[H],o)}var is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pc(o,d){if(o){o=o.split("&");for(var g=0;g<o.length;g++){var E=o[g].indexOf("="),U=null;if(0<=E){var H=o[g].substring(0,E);U=o[g].substring(E+1)}else H=o[g];d(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Ce(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Ce){this.h=o.h,as(this,o.j),this.o=o.o,this.g=o.g,ma(this,o.s),this.l=o.l;var d=o.i,g=new zi;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),Pi(this,g),this.m=o.m}else o&&(d=String(o).match(is))?(this.h=!1,as(this,d[1]||"",!0),this.o=Ln(d[2]||""),this.g=Ln(d[3]||"",!0),ma(this,d[4]),this.l=Ln(d[5]||"",!0),Pi(this,d[6]||"",!0),this.m=Ln(d[7]||"")):(this.h=!1,this.i=new zi(null,this.h))}Ce.prototype.toString=function(){var o=[],d=this.j;d&&o.push(rs(d,Yr,!0),":");var g=this.g;return(g||d=="file")&&(o.push("//"),(d=this.o)&&o.push(rs(d,Yr,!0),"@"),o.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&o.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(rs(g,g.charAt(0)=="/"?yc:Xr,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",rs(g,Xs)),o.join("")};function Sn(o){return new Ce(o)}function as(o,d,g){o.j=g?Ln(d,!0):d,o.j&&(o.j=o.j.replace(/:$/,""))}function ma(o,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);o.s=d}else o.s=null}function Pi(o,d,g){d instanceof zi?(o.i=d,po(o.i,o.h)):(g||(d=rs(d,_c)),o.i=new zi(d,o.h))}function Jt(o,d,g){o.i.set(d,g)}function ss(o){return Jt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Ln(o,d){return o?d?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function rs(o,d,g){return typeof o=="string"?(o=encodeURI(o).replace(d,go),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function go(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Yr=/[#\/\?@]/g,Xr=/[#\?:]/g,yc=/[#\?]/g,_c=/[#\?@]/g,Xs=/#/g;function zi(o,d){this.h=this.g=null,this.i=o||null,this.j=!!d}function Un(o){o.g||(o.g=new Map,o.h=0,o.i&&pc(o.i,function(d,g){o.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}s=zi.prototype,s.add=function(o,d){Un(this),this.i=null,o=_i(this,o);var g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(d),this.h+=1,this};function Bi(o,d){Un(o),d=_i(o,d),o.g.has(d)&&(o.i=null,o.h-=o.g.get(d).length,o.g.delete(d))}function ki(o,d){return Un(o),d=_i(o,d),o.g.has(d)}s.forEach=function(o,d){Un(this),this.g.forEach(function(g,E){g.forEach(function(U){o.call(d,U,E,this)},this)},this)},s.na=function(){Un(this);const o=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let E=0;E<d.length;E++){const U=o[E];for(let H=0;H<U.length;H++)g.push(d[E])}return g},s.V=function(o){Un(this);let d=[];if(typeof o=="string")ki(this,o)&&(d=d.concat(this.g.get(_i(this,o))));else{o=Array.from(this.g.values());for(let g=0;g<o.length;g++)d=d.concat(o[g])}return d},s.set=function(o,d){return Un(this),this.i=null,o=_i(this,o),ki(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[d]),this.h+=1,this},s.get=function(o,d){return o?(o=this.V(o),0<o.length?String(o[0]):d):d};function Kr(o,d,g){Bi(o,d),0<g.length&&(o.i=null,o.g.set(_i(o,d),ct(g)),o.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var E=d[g];const H=encodeURIComponent(String(E)),nt=this.V(E);for(E=0;E<nt.length;E++){var U=H;nt[E]!==""&&(U+="="+encodeURIComponent(String(nt[E]))),o.push(U)}}return this.i=o.join("&")};function _i(o,d){return d=String(d),o.j&&(d=d.toLowerCase()),d}function po(o,d){d&&!o.j&&(Un(o),o.i=null,o.g.forEach(function(g,E){var U=E.toLowerCase();E!=U&&(Bi(this,E),Kr(this,U,g))},o)),o.j=d}function ls(o,d){const g=new on;if(y.Image){const E=new Image;E.onload=et(jn,g,"TestLoadImage: loaded",!0,d,E),E.onerror=et(jn,g,"TestLoadImage: error",!1,d,E),E.onabort=et(jn,g,"TestLoadImage: abort",!1,d,E),E.ontimeout=et(jn,g,"TestLoadImage: timeout",!1,d,E),y.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=o}else d(!1)}function Jn(o,d){const g=new on,E=new AbortController,U=setTimeout(()=>{E.abort(),jn(g,"TestPingServer: timeout",!1,d)},1e4);fetch(o,{signal:E.signal}).then(H=>{clearTimeout(U),H.ok?jn(g,"TestPingServer: ok",!0,d):jn(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(U),jn(g,"TestPingServer: error",!1,d)})}function jn(o,d,g,E,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),E(g)}catch{}}function os(){this.g=new hi}function vi(o,d,g){const E=g||"";try{Fr(o,function(U,H){let nt=U;_(U)&&(nt=mn(U)),d.push(E+H+"="+encodeURIComponent(nt))})}catch(U){throw d.push(E+"type="+encodeURIComponent("_badmap")),U}}function ga(o){this.l=o.Ub||null,this.j=o.eb||!1}J(ga,ha),ga.prototype.g=function(){return new qi(this.l,this.j)},ga.prototype.i=(function(o){return function(){return o}})({});function qi(o,d){Ft.call(this),this.D=o,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(qi,Ft),s=qi.prototype,s.open=function(o,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=d,this.readyState=1,Ei(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(d.body=o),(this.D||y).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ti(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof y.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$r(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function $r(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var d=o.value?o.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!o.done}))&&(this.response=this.responseText+=d)}o.done?Ti(this):Ei(this),this.readyState==3&&$r(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,Ti(this))},s.Qa=function(o){this.g&&(this.response=o,Ti(this))},s.ga=function(){this.g&&Ti(this)};function Ti(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Ei(o)}s.setRequestHeader=function(o,d){this.u.append(o,d)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=d.next();return o.join(`\r
`)};function Ei(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Zr(o){let d="";return Vt(o,function(g,E){d+=E,d+=":",d+=g,d+=`\r
`}),d}function Ue(o,d,g){t:{for(E in g){var E=!1;break t}E=!0}E||(g=Zr(g),typeof o=="string"?g!=null&&encodeURIComponent(String(g)):Jt(o,d,g))}function Kt(o){Ft.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(Kt,Ft);var Ks=/^https?$/i,us=["POST","PUT"];s=Kt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,d,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);d=d?d.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vn.g(),this.v=this.o?ue(this.o):ue(Vn),this.g.onreadystatechange=L(this.Ea,this);try{this.B=!0,this.g.open(d,String(o),!0),this.B=!1}catch(H){yo(this,H);return}if(o=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var U in E)g.set(U,E[U]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const H of E.keys())g.set(H,E.get(H));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(H=>H.toLowerCase()=="content-type"),U=y.FormData&&o instanceof y.FormData,!(0<=Array.prototype.indexOf.call(us,d,void 0))||E||U||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,nt]of g)this.g.setRequestHeader(H,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cs(this),this.u=!0,this.g.send(o),this.u=!1}catch(H){yo(this,H)}};function yo(o,d){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=d,o.m=5,$s(o),Ai(o)}function $s(o){o.A||(o.A=!0,Yt(o,"complete"),Yt(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Yt(this,"complete"),Yt(this,"abort"),Ai(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ai(this,!0)),Kt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Zs(this):this.bb())},s.bb=function(){Zs(this)};function Zs(o){if(o.h&&typeof m<"u"&&(!o.v[1]||Pn(o)!=4||o.Z()!=2)){if(o.u&&Pn(o)==4)Re(o.Ea,0,o);else if(Yt(o,"readystatechange"),Pn(o)==4){o.h=!1;try{const nt=o.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break t;default:d=!1}var g;if(!(g=d)){var E;if(E=nt===0){var U=String(o.D).match(is)[1]||null;!U&&y.self&&y.self.location&&(U=y.self.location.protocol.slice(0,-1)),E=!Ks.test(U?U.toLowerCase():"")}g=E}if(g)Yt(o,"complete"),Yt(o,"success");else{o.m=6;try{var H=2<Pn(o)?o.g.statusText:""}catch{H=""}o.l=H+" ["+o.Z()+"]",$s(o)}}finally{Ai(o)}}}}function Ai(o,d){if(o.g){cs(o);const g=o.g,E=o.v[0]?()=>{}:null;o.g=null,o.v=null,d||Yt(o,"ready");try{g.onreadystatechange=E}catch{}}}function cs(o){o.I&&(y.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function Pn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var d=this.g.responseText;return o&&d.indexOf(o)==0&&(d=d.substring(o.length)),fi(d)}};function _o(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function vc(o){const d={};o=(o.g&&2<=Pn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<o.length;E++){if(ft(o[E]))continue;var g=D(o[E]);const U=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const H=d[U]||[];d[U]=H,H.push(g)}M(d,function(E){return E.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fs(o,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||d}function Ws(o){this.Aa=0,this.i=[],this.j=new on,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fs("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fs("baseRetryDelayMs",5e3,o),this.cb=fs("retryDelaySeedMs",1e4,o),this.Wa=fs("forwardChannelMaxRetries",2,o),this.wa=fs("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new ji(o&&o.concurrentRequestLimit),this.Da=new os,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Ws.prototype,s.la=8,s.G=1,s.connect=function(o,d,g,E){re(0),this.W=o,this.H=d||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.I=Ro(this,null,this.W),tr(this)};function Wr(o){if(vo(o),o.G==3){var d=o.U++,g=Sn(o.I);if(Jt(g,"SID",o.K),Jt(g,"RID",d),Jt(g,"TYPE","terminate"),hs(o,g),d=new G(o,o.j,d),d.L=2,d.v=ss(Sn(g)),g=!1,y.navigator&&y.navigator.sendBeacon)try{g=y.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&y.Image&&(new Image().src=d.v,g=!0),g||(d.g=wo(d.j,null),d.g.ea(d.v)),d.F=Date.now(),we(d)}bo(o)}function Js(o){o.g&&(ds(o),o.g.cancel(),o.g=null)}function vo(o){Js(o),o.u&&(y.clearTimeout(o.u),o.u=null),er(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&y.clearTimeout(o.s),o.s=null)}function tr(o){if(!Gs(o.h)&&!o.s){o.s=!0;var d=o.Ga;it||C(),dt||(it(),dt=!0),qt.add(d,o),o.B=0}}function Tc(o,d){return Qs(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=d.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=de(L(o.Ga,o,d),el(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const U=new G(this,this.j,o);let H=this.o;if(this.S&&(H?(H=A(H),N(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)t:{for(var d=0,g=0;g<this.i.length;g++){e:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break e}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=g;break t}if(d===4096||g===this.i.length-1){d=g+1;break t}}d=1e3}else d=1e3;d=To(this,U,d),g=Sn(this.I),Jt(g,"RID",o),Jt(g,"CVER",22),this.D&&Jt(g,"X-HTTP-Session-Id",this.D),hs(this,g),H&&(this.O?d="headers="+encodeURIComponent(String(Zr(H)))+"&"+d:this.m&&Ue(g,this.m,H)),Fs(this.h,U),this.Ua&&Jt(g,"TYPE","init"),this.P?(Jt(g,"$req",d),Jt(g,"SID","null"),U.T=!0,St(U,g,null)):St(U,g,d),this.G=2}}else this.G==3&&(o?Jr(this,o):this.i.length==0||Gs(this.h)||Jr(this))};function Jr(o,d){var g;d?g=d.l:g=o.U++;const E=Sn(o.I);Jt(E,"SID",o.K),Jt(E,"RID",g),Jt(E,"AID",o.T),hs(o,E),o.m&&o.o&&Ue(E,o.m,o.o),g=new G(o,o.j,g,o.B+1),o.m===null&&(g.H=o.o),d&&(o.i=d.D.concat(o.i)),d=To(o,g,1e3),g.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Fs(o.h,g),St(g,E,d)}function hs(o,d){o.H&&Vt(o.H,function(g,E){Jt(d,E,g)}),o.l&&Fr({},function(g,E){Jt(d,E,g)})}function To(o,d,g){g=Math.min(o.i.length,g);var E=o.l?L(o.l.Na,o.l,o):null;t:{var U=o.i;let H=-1;for(;;){const nt=["count="+g];H==-1?0<g?(H=U[0].g,nt.push("ofs="+H)):H=0:nt.push("ofs="+H);let jt=!0;for(let Me=0;Me<g;Me++){let Pt=U[Me].g;const je=U[Me].map;if(Pt-=H,0>Pt)H=Math.max(0,U[Me].g-100),jt=!1;else try{vi(je,nt,"req"+Pt+"_")}catch{E&&E(je)}}if(jt){E=nt.join("&");break t}}}return o=o.i.splice(0,g),d.D=o,E}function Eo(o){if(!o.g&&!o.u){o.Y=1;var d=o.Fa;it||C(),dt||(it(),dt=!0),qt.add(d,o),o.v=0}}function tl(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=de(L(o.Fa,o),el(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,Ao(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=de(L(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,re(10),Js(this),Ao(this))};function ds(o){o.A!=null&&(y.clearTimeout(o.A),o.A=null)}function Ao(o){o.g=new G(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var d=Sn(o.qa);Jt(d,"RID","rpc"),Jt(d,"SID",o.K),Jt(d,"AID",o.T),Jt(d,"CI",o.F?"0":"1"),!o.F&&o.ja&&Jt(d,"TO",o.ja),Jt(d,"TYPE","xmlhttp"),hs(o,d),o.m&&o.o&&Ue(d,o.m,o.o),o.L&&(o.g.I=o.L);var g=o.g;o=o.ia,g.L=1,g.v=ss(Sn(d)),g.m=null,g.P=!0,Lt(g,o)}s.Za=function(){this.C!=null&&(this.C=null,Js(this),tl(this),re(19))};function er(o){o.C!=null&&(y.clearTimeout(o.C),o.C=null)}function So(o,d){var g=null;if(o.g==d){er(o),ds(o),o.g=null;var E=2}else if(Gr(o.h,d))g=d.D,cn(o.h,d),E=1;else return;if(o.G!=0){if(d.o)if(E==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var U=o.B;E=di(),Yt(E,new Ae(E,g)),tr(o)}else Eo(o);else if(U=d.s,U==3||U==0&&0<d.X||!(E==1&&Tc(o,d)||E==2&&tl(o)))switch(g&&0<g.length&&(d=o.h,d.i=d.i.concat(g)),U){case 1:Hi(o,5);break;case 4:Hi(o,10);break;case 3:Hi(o,6);break;default:Hi(o,2)}}}function el(o,d){let g=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(g*=2),g*d}function Hi(o,d){if(o.j.info("Error code "+d),d==2){var g=L(o.fb,o),E=o.Xa;const U=!E;E=new Ce(E||"//www.google.com/images/cleardot.gif"),y.location&&y.location.protocol=="http"||as(E,"https"),ss(E),U?ls(E.toString(),g):Jn(E.toString(),g)}else re(2);o.G=0,o.l&&o.l.sa(d),bo(o),vo(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),re(2)):(this.j.info("Failed to ping google.com"),re(1))};function bo(o){if(o.G=0,o.ka=[],o.l){const d=Qr(o.h);(d.length!=0||o.i.length!=0)&&(lt(o.ka,d),lt(o.ka,o.i),o.h.i.length=0,ct(o.i),o.i.length=0),o.l.ra()}}function Ro(o,d,g){var E=g instanceof Ce?Sn(g):new Ce(g);if(E.g!="")d&&(E.g=d+"."+E.g),ma(E,E.s);else{var U=y.location;E=U.protocol,d=d?d+"."+U.hostname:U.hostname,U=+U.port;var H=new Ce(null);E&&as(H,E),d&&(H.g=d),U&&ma(H,U),g&&(H.l=g),E=H}return g=o.D,d=o.ya,g&&d&&Jt(E,g,d),Jt(E,"VER",o.la),hs(o,E),E}function wo(o,d,g){if(d&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=o.Ca&&!o.pa?new Kt(new ga({eb:g})):new Kt(o.pa),d.Ha(o.J),d}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Co(){}s=Co.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function nr(){}nr.prototype.g=function(o,d){return new fn(o,d)};function fn(o,d){Ft.call(this),this.g=new Ws(d),this.l=o,this.h=d&&d.messageUrlParams||null,o=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(o?o["X-WebChannel-Content-Type"]=d.messageContentType:o={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(o?o["X-WebChannel-Client-Profile"]=d.va:o={"X-WebChannel-Client-Profile":d.va}),this.g.S=o,(o=d&&d.Sb)&&!ft(o)&&(this.g.m=o),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!ft(d)&&(this.g.D=d,o=this.h,o!==null&&d in o&&(o=this.h,d in o&&delete o[d])),this.j=new Si(this)}J(fn,Ft),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Wr(this.g)},fn.prototype.o=function(o){var d=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.u&&(g={},g.__data__=mn(o),o=g);d.i.push(new mo(d.Ya++,o)),d.G==3&&tr(d)},fn.prototype.N=function(){this.g.l=null,delete this.j,Wr(this.g),delete this.g,fn.aa.N.call(this)};function Io(o){Kn.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var d=o.__sm__;if(d){t:{for(const g in d){o=g;break t}o=void 0}(this.i=o)&&(o=this.i,d=d!==null&&o in d?d[o]:void 0),this.data=d}else this.data=o}J(Io,Kn);function No(){Wa.call(this),this.status=1}J(No,Wa);function Si(o){this.g=o}J(Si,Co),Si.prototype.ua=function(){Yt(this.g,"a")},Si.prototype.ta=function(o){Yt(this.g,new Io(o))},Si.prototype.sa=function(o){Yt(this.g,new No)},Si.prototype.ra=function(){Yt(this.g,"b")},nr.prototype.createWebChannel=nr.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,S0=function(){return new nr},A0=function(){return di()},E0=An,jh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zn.NO_ERROR=0,Zn.TIMEOUT=8,Zn.HTTP_ERROR=6,Uu=Zn,Wn.COMPLETE="complete",T0=Wn,Za.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",Ft.prototype.listen=Ft.prototype.K,Ql=Za,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,v0=Kt}).apply(typeof Du<"u"?Du:typeof self<"u"?self:typeof window<"u"?window:{});const fy="@firebase/firestore",hy="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(n){this.uid=n}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kr="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new Jh("@firebase/firestore");function Mr(){return Ls.logLevel}function ut(s,...n){if(Ls.logLevel<=kt.DEBUG){const a=n.map(id);Ls.debug(`Firestore (${kr}): ${s}`,...a)}}function Us(s,...n){if(Ls.logLevel<=kt.ERROR){const a=n.map(id);Ls.error(`Firestore (${kr}): ${s}`,...a)}}function ac(s,...n){if(Ls.logLevel<=kt.WARN){const a=n.map(id);Ls.warn(`Firestore (${kr}): ${s}`,...a)}}function id(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(a){return JSON.stringify(a)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(s,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,b0(s,l,a)}function b0(s,n,a){let l=`FIRESTORE (${kr}) INTERNAL ASSERTION FAILED: ${n} (ID: ${s.toString(16)})`;if(a!==void 0)try{l+=" CONTEXT: "+JSON.stringify(a)}catch{l+=" CONTEXT: "+a}throw Us(l),new Error(l)}function Ee(s,n,a,l){let c="Unexpected state";typeof a=="string"?c=a:l=a,s||b0(n,c,l)}function oe(s,n){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Qa{constructor(n,a){super(n,a),this.code=n,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(){this.promise=new Promise(((n,a)=>{this.resolve=n,this.reject=a}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(n,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class _1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,a){n.enqueueRetryable((()=>a(an.UNAUTHENTICATED)))}shutdown(){}}class v1{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,a){this.changeListener=a,n.enqueueRetryable((()=>a(this.token.user)))}shutdown(){this.changeListener=null}}class T1{constructor(n){this.t=n,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,a){Ee(this.o===void 0,42304);let l=this.i;const c=T=>this.i!==l?(l=this.i,a(T)):Promise.resolve();let h=new Ms;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ms,n.enqueueRetryable((()=>c(this.currentUser)))};const m=()=>{const T=h;n.enqueueRetryable((async()=>{await T.promise,await c(this.currentUser)}))},y=T=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((T=>y(T))),setTimeout((()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?y(T):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ms)}}),0),m()}getToken(){const n=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then((l=>this.i!==n?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(Ee(typeof l.accessToken=="string",31837,{l}),new R0(l.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return Ee(n===null||typeof n=="string",2055,{h:n}),new an(n)}}class E1{constructor(n,a,l){this.P=n,this.T=a,this.I=l,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const n=this.R();return n&&this.A.set("Authorization",n),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class A1{constructor(n,a,l){this.P=n,this.T=a,this.I=l}getToken(){return Promise.resolve(new E1(this.P,this.T,this.I))}start(n,a){n.enqueueRetryable((()=>a(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dy{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S1{constructor(n,a){this.V=a,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,n1(n)&&n.settings.appCheckToken&&(this.p=n.settings.appCheckToken)}start(n,a){Ee(this.o===void 0,3512);const l=h=>{h.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,ut("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?a(h.token):Promise.resolve()};this.o=h=>{n.enqueueRetryable((()=>l(h)))};const c=h=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>c(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?c(h):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new dy(this.p));const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then((a=>a?(Ee(typeof a.token=="string",44558,{tokenResult:a}),this.m=a.token,new dy(a.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(s){const n=typeof self<"u"&&(self.crypto||self.msCrypto),a=new Uint8Array(s);if(n&&typeof n.getRandomValues=="function")n.getRandomValues(a);else for(let l=0;l<s;l++)a[l]=Math.floor(256*Math.random());return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{static newId(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=62*Math.floor(4.129032258064516);let l="";for(;l.length<20;){const c=b1(40);for(let h=0;h<c.length;++h)l.length<20&&c[h]<a&&(l+=n.charAt(c[h]%62))}return l}}function $t(s,n){return s<n?-1:s>n?1:0}function Ph(s,n){const a=Math.min(s.length,n.length);for(let l=0;l<a;l++){const c=s.charAt(l),h=n.charAt(l);if(c!==h)return Ah(c)===Ah(h)?$t(c,h):Ah(c)?1:-1}return $t(s.length,n.length)}const R1=55296,w1=57343;function Ah(s){const n=s.charCodeAt(0);return n>=R1&&n<=w1}function Ur(s,n,a){return s.length===n.length&&s.every(((l,c)=>a(l,n[c])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="__name__";class Di{constructor(n,a,l){a===void 0?a=0:a>n.length&&Dt(637,{offset:a,range:n.length}),l===void 0?l=n.length-a:l>n.length-a&&Dt(1746,{length:l,range:n.length-a}),this.segments=n,this.offset=a,this.len=l}get length(){return this.len}isEqual(n){return Di.comparator(this,n)===0}child(n){const a=this.segments.slice(this.offset,this.limit());return n instanceof Di?n.forEach((l=>{a.push(l)})):a.push(n),this.construct(a)}limit(){return this.offset+this.length}popFirst(n){return n=n===void 0?1:n,this.construct(this.segments,this.offset+n,this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return this.length===0}isPrefixOf(n){if(n.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}forEach(n){for(let a=this.offset,l=this.limit();a<l;a++)n(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,a){const l=Math.min(n.length,a.length);for(let c=0;c<l;c++){const h=Di.compareSegments(n.get(c),a.get(c));if(h!==0)return h}return $t(n.length,a.length)}static compareSegments(n,a){const l=Di.isNumericId(n),c=Di.isNumericId(a);return l&&!c?-1:!l&&c?1:l&&c?Di.extractNumericId(n).compare(Di.extractNumericId(a)):Ph(n,a)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return nd.fromString(n.substring(4,n.length-2))}}class ge extends Di{construct(n,a,l){return new ge(n,a,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const a=[];for(const l of n){if(l.indexOf("//")>=0)throw new gt(W.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);a.push(...l.split("/").filter((c=>c.length>0)))}return new ge(a)}static emptyPath(){return new ge([])}}const C1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Di{construct(n,a,l){return new Ze(n,a,l)}static isValidIdentifier(n){return C1.test(n)}canonicalString(){return this.toArray().map((n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(n)||(n="`"+n+"`"),n))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===my}static keyField(){return new Ze([my])}static fromServerFormat(n){const a=[];let l="",c=0;const h=()=>{if(l.length===0)throw new gt(W.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(l),l=""};let m=!1;for(;c<n.length;){const y=n[c];if(y==="\\"){if(c+1===n.length)throw new gt(W.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const T=n[c+1];if(T!=="\\"&&T!=="."&&T!=="`")throw new gt(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);l+=T,c+=2}else y==="`"?(m=!m,c++):y!=="."||m?(l+=y,c++):(h(),c++)}if(h(),m)throw new gt(W.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Ze(a)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(n){this.path=n}static fromPath(n){return new It(ge.fromString(n))}static fromName(n){return new It(ge.fromString(n).popFirst(5))}static empty(){return new It(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return n!==null&&ge.comparator(this.path,n.path)===0}toString(){return this.path.toString()}static comparator(n,a){return ge.comparator(n.path,a.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new It(new ge(n.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(s,n,a){if(!a)throw new gt(W.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${n}.`)}function I1(s,n,a,l){if(n===!0&&l===!0)throw new gt(W.INVALID_ARGUMENT,`${s} and ${a} cannot be used together.`)}function gy(s){if(!It.isDocumentKey(s))throw new gt(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function py(s){if(It.isDocumentKey(s))throw new gt(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function C0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function sd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const n=(function(l){return l.constructor?l.constructor.name:null})(s);return n?`a custom ${n} object`:"an object"}}return typeof s=="function"?"a function":Dt(12329,{type:typeof s})}function I0(s,n){if("_delegate"in s&&(s=s._delegate),!(s instanceof n)){if(n.name===s.constructor.name)throw new gt(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=sd(s);throw new gt(W.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${a}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(s,n){const a={typeString:s};return n&&(a.value=n),a}function lo(s,n){if(!C0(s))throw new gt(W.INVALID_ARGUMENT,"JSON must be an object");let a;for(const l in n)if(n[l]){const c=n[l].typeString,h="value"in n[l]?{value:n[l].value}:void 0;if(!(l in s)){a=`JSON missing required field: '${l}'`;break}const m=s[l];if(c&&typeof m!==c){a=`JSON field '${l}' must be a ${c}.`;break}if(h!==void 0&&m!==h.value){a=`Expected '${l}' field to equal '${h.value}'`;break}}if(a)throw new gt(W.INVALID_ARGUMENT,a);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy=-62135596800,_y=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(n){return he.fromMillis(n.getTime())}static fromMillis(n){const a=Math.floor(n/1e3),l=Math.floor((n-1e3*a)*_y);return new he(a,l)}constructor(n,a){if(this.seconds=n,this.nanoseconds=a,a<0)throw new gt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new gt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(n<yy)throw new gt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new gt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_y}_compareTo(n){return this.seconds===n.seconds?$t(this.nanoseconds,n.nanoseconds):$t(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(n){if(lo(n,he._jsonSchema))return new he(n.seconds,n.nanoseconds)}valueOf(){const n=this.seconds-yy;return String(n).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:xe("string",he._jsonSchemaVersion),seconds:xe("number"),nanoseconds:xe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{static fromTimestamp(n){return new fe(n)}static min(){return new fe(new he(0,0))}static max(){return new fe(new he(253402300799,999999999))}constructor(n){this.timestamp=n}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=-1;function N1(s,n){const a=s.toTimestamp().seconds,l=s.toTimestamp().nanoseconds+1,c=fe.fromTimestamp(l===1e9?new he(a+1,0):new he(a,l));return new ka(c,It.empty(),n)}function D1(s){return new ka(s.readTime,s.key,eo)}class ka{constructor(n,a,l){this.readTime=n,this.documentKey=a,this.largestBatchId=l}static min(){return new ka(fe.min(),It.empty(),eo)}static max(){return new ka(fe.max(),It.empty(),eo)}}function x1(s,n){let a=s.readTime.compareTo(n.readTime);return a!==0?a:(a=It.comparator(s.documentKey,n.documentKey),a!==0?a:$t(s.largestBatchId,n.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((n=>n()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rd(s){if(s.code!==W.FAILED_PRECONDITION||s.message!==M1)throw s;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n((a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)}),(a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)}))}catch(n){return this.next(void 0,n)}next(n,a){return this.callbackAttached&&Dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(n,this.result):new $(((l,c)=>{this.nextCallback=h=>{this.wrapSuccess(n,h).next(l,c)},this.catchCallback=h=>{this.wrapFailure(a,h).next(l,c)}}))}toPromise(){return new Promise(((n,a)=>{this.next(n,a)}))}wrapUserFunction(n){try{const a=n();return a instanceof $?a:$.resolve(a)}catch(a){return $.reject(a)}}wrapSuccess(n,a){return n?this.wrapUserFunction((()=>n(a))):$.resolve(a)}wrapFailure(n,a){return n?this.wrapUserFunction((()=>n(a))):$.reject(a)}static resolve(n){return new $(((a,l)=>{a(n)}))}static reject(n){return new $(((a,l)=>{l(n)}))}static waitFor(n){return new $(((a,l)=>{let c=0,h=0,m=!1;n.forEach((y=>{++c,y.next((()=>{++h,m&&h===c&&a()}),(T=>l(T)))})),m=!0,h===c&&a()}))}static or(n){let a=$.resolve(!1);for(const l of n)a=a.next((c=>c?$.resolve(c):l()));return a}static forEach(n,a){const l=[];return n.forEach(((c,h)=>{l.push(a.call(this,c,h))})),this.waitFor(l)}static mapArray(n,a){return new $(((l,c)=>{const h=n.length,m=new Array(h);let y=0;for(let T=0;T<h;T++){const _=T;a(n[_]).next((w=>{m[_]=w,++y,y===h&&l(m)}),(w=>c(w)))}}))}static doWhile(n,a){return new $(((l,c)=>{const h=()=>{n()===!0?a().next((()=>{h()}),c):l()};h()}))}}function V1(s){const n=s.match(/Android ([\d.]+)/i),a=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(a)}function oo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(n,a){this.previousValue=n,a&&(a.sequenceNumberHandler=l=>this.ae(l),this.ue=l=>a.writeSequenceNumber(l))}ae(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ue&&this.ue(n),n}}ld.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=-1;function ud(s){return s==null}function Hu(s){return s===0&&1/s==-1/0}function L1(s){return typeof s=="number"&&Number.isInteger(s)&&!Hu(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="";function U1(s){let n="";for(let a=0;a<s.length;a++)n.length>0&&(n=vy(n)),n=j1(s.get(a),n);return vy(n)}function j1(s,n){let a=n;const l=s.length;for(let c=0;c<l;c++){const h=s.charAt(c);switch(h){case"\0":a+="";break;case N0:a+="";break;default:a+=h}}return a}function vy(s){return s+N0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(s){let n=0;for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&n++;return n}function qr(s,n){for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&n(a,s[a])}function D0(s){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(n,a){this.comparator=n,this.root=a||Ke.EMPTY}insert(n,a){return new Tn(this.comparator,this.root.insert(n,a,this.comparator).copy(null,null,Ke.BLACK,null,null))}remove(n){return new Tn(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Ke.BLACK,null,null))}get(n){let a=this.root;for(;!a.isEmpty();){const l=this.comparator(n,a.key);if(l===0)return a.value;l<0?a=a.left:l>0&&(a=a.right)}return null}indexOf(n){let a=0,l=this.root;for(;!l.isEmpty();){const c=this.comparator(n,l.key);if(c===0)return a+l.left.size;c<0?l=l.left:(a+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal(((a,l)=>(n(a,l),!1)))}toString(){const n=[];return this.inorderTraversal(((a,l)=>(n.push(`${a}:${l}`),!1))),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new xu(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new xu(this.root,n,this.comparator,!1)}getReverseIterator(){return new xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new xu(this.root,n,this.comparator,!0)}}class xu{constructor(n,a,l,c){this.isReverse=c,this.nodeStack=[];let h=1;for(;!n.isEmpty();)if(h=a?l(n.key,a):1,a&&c&&(h*=-1),h<0)n=this.isReverse?n.left:n.right;else{if(h===0){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const a={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Ke{constructor(n,a,l,c,h){this.key=n,this.value=a,this.color=l??Ke.RED,this.left=c??Ke.EMPTY,this.right=h??Ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,a,l,c,h){return new Ke(n??this.key,a??this.value,l??this.color,c??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,a,l){let c=this;const h=l(n,c.key);return c=h<0?c.copy(null,null,null,c.left.insert(n,a,l),null):h===0?c.copy(null,a,null,null,null):c.copy(null,null,null,null,c.right.insert(n,a,l)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Ke.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,a){let l,c=this;if(a(n,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(n,a),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),a(n,c.key)===0){if(c.right.isEmpty())return Ke.EMPTY;l=c.right.min(),c=c.copy(l.key,l.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(n,a))}return c.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,a)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Dt(14113,{key:this.key,value:this.value});const n=this.left.check();if(n!==this.right.check())throw Dt(27949);return n+(this.isRed()?0:1)}}Ke.EMPTY=null,Ke.RED=!0,Ke.BLACK=!1;Ke.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt(57766)}get value(){throw Dt(16141)}get color(){throw Dt(16727)}get left(){throw Dt(29726)}get right(){throw Dt(36894)}copy(n,a,l,c,h){return this}insert(n,a,l){return new Ke(n,a)}remove(n,a){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(n){this.comparator=n,this.data=new Tn(this.comparator)}has(n){return this.data.get(n)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal(((a,l)=>(n(a),!1)))}forEachInRange(n,a){const l=this.data.getIteratorFrom(n[0]);for(;l.hasNext();){const c=l.getNext();if(this.comparator(c.key,n[1])>=0)return;a(c.key)}}forEachWhile(n,a){let l;for(l=a!==void 0?this.data.getIteratorFrom(a):this.data.getIterator();l.hasNext();)if(!n(l.getNext().key))return}firstAfterOrEqual(n){const a=this.data.getIteratorFrom(n);return a.hasNext()?a.getNext().key:null}getIterator(){return new Ey(this.data.getIterator())}getIteratorFrom(n){return new Ey(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let a=this;return a.size<n.size&&(a=n,n=this),n.forEach((l=>{a=a.add(l)})),a}isEqual(n){if(!(n instanceof We)||this.size!==n.size)return!1;const a=this.data.getIterator(),l=n.data.getIterator();for(;a.hasNext();){const c=a.getNext().key,h=l.getNext().key;if(this.comparator(c,h)!==0)return!1}return!0}toArray(){const n=[];return this.forEach((a=>{n.push(a)})),n}toString(){const n=[];return this.forEach((a=>n.push(a))),"SortedSet("+n.toString()+")"}copy(n){const a=new We(this.comparator);return a.data=n,a}}class Ey{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(n){this.fields=n,n.sort(Ze.comparator)}static empty(){return new ri([])}unionWith(n){let a=new We(Ze.comparator);for(const l of this.fields)a=a.add(l);for(const l of n)a=a.add(l);return new ri(a.toArray())}covers(n){for(const a of this.fields)if(a.isPrefixOf(n))return!0;return!1}isEqual(n){return Ur(this.fields,n.fields,((a,l)=>a.isEqual(l)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(n){this.binaryString=n}static fromBase64String(n){const a=(function(c){try{return atob(c)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new P1("Invalid base64 string: "+h):h}})(n);return new Mi(a)}static fromUint8Array(n){const a=(function(c){let h="";for(let m=0;m<c.length;++m)h+=String.fromCharCode(c[m]);return h})(n);return new Mi(a)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(a){return btoa(a)})(this.binaryString)}toUint8Array(){return(function(a){const l=new Uint8Array(a.length);for(let c=0;c<a.length;c++)l[c]=a.charCodeAt(c);return l})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return $t(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Mi.EMPTY_BYTE_STRING=new Mi("");const z1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(s){if(Ee(!!s,39018),typeof s=="string"){let n=0;const a=z1.exec(s);if(Ee(!!a,46558,{timestamp:s}),a[1]){let c=a[1];c=(c+"000000000").substr(0,9),n=Number(c)}const l=new Date(s);return{seconds:Math.floor(l.getTime()/1e3),nanos:n}}return{seconds:$e(s.seconds),nanos:$e(s.nanos)}}function $e(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function jr(s){return typeof s=="string"?Mi.fromBase64String(s):Mi.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="server_timestamp",M0="__type__",O0="__previous_value__",V0="__local_write_time__";function cd(s){return(s?.mapValue?.fields||{})[M0]?.stringValue===x0}function fd(s){const n=s.mapValue.fields[O0];return cd(n)?fd(n):n}function Gu(s){const n=js(s.mapValue.fields[V0].timestampValue);return new he(n.seconds,n.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(n,a,l,c,h,m,y,T,_,w){this.databaseId=n,this.appId=a,this.persistenceKey=l,this.host=c,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=y,this.longPollingOptions=T,this.useFetchStreams=_,this.isUsingEmulator=w}}const Qu="(default)";class Fu{constructor(n,a){this.projectId=n,this.database=a||Qu}static empty(){return new Fu("","")}get isDefaultDatabase(){return this.database===Qu}isEqual(n){return n instanceof Fu&&n.projectId===this.projectId&&n.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="__type__",k1="__max__",Mu={mapValue:{}},U0="__vector__",zh="value";function Ps(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?cd(s)?4:H1(s)?9007199254740991:q1(s)?10:11:Dt(28295,{value:s})}function Oi(s,n){if(s===n)return!0;const a=Ps(s);if(a!==Ps(n))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===n.booleanValue;case 4:return Gu(s).isEqual(Gu(n));case 3:return(function(c,h){if(typeof c.timestampValue=="string"&&typeof h.timestampValue=="string"&&c.timestampValue.length===h.timestampValue.length)return c.timestampValue===h.timestampValue;const m=js(c.timestampValue),y=js(h.timestampValue);return m.seconds===y.seconds&&m.nanos===y.nanos})(s,n);case 5:return s.stringValue===n.stringValue;case 6:return(function(c,h){return jr(c.bytesValue).isEqual(jr(h.bytesValue))})(s,n);case 7:return s.referenceValue===n.referenceValue;case 8:return(function(c,h){return $e(c.geoPointValue.latitude)===$e(h.geoPointValue.latitude)&&$e(c.geoPointValue.longitude)===$e(h.geoPointValue.longitude)})(s,n);case 2:return(function(c,h){if("integerValue"in c&&"integerValue"in h)return $e(c.integerValue)===$e(h.integerValue);if("doubleValue"in c&&"doubleValue"in h){const m=$e(c.doubleValue),y=$e(h.doubleValue);return m===y?Hu(m)===Hu(y):isNaN(m)&&isNaN(y)}return!1})(s,n);case 9:return Ur(s.arrayValue.values||[],n.arrayValue.values||[],Oi);case 10:case 11:return(function(c,h){const m=c.mapValue.fields||{},y=h.mapValue.fields||{};if(Ty(m)!==Ty(y))return!1;for(const T in m)if(m.hasOwnProperty(T)&&(y[T]===void 0||!Oi(m[T],y[T])))return!1;return!0})(s,n);default:return Dt(52216,{left:s})}}function no(s,n){return(s.values||[]).find((a=>Oi(a,n)))!==void 0}function Pr(s,n){if(s===n)return 0;const a=Ps(s),l=Ps(n);if(a!==l)return $t(a,l);switch(a){case 0:case 9007199254740991:return 0;case 1:return $t(s.booleanValue,n.booleanValue);case 2:return(function(h,m){const y=$e(h.integerValue||h.doubleValue),T=$e(m.integerValue||m.doubleValue);return y<T?-1:y>T?1:y===T?0:isNaN(y)?isNaN(T)?0:-1:1})(s,n);case 3:return Ay(s.timestampValue,n.timestampValue);case 4:return Ay(Gu(s),Gu(n));case 5:return Ph(s.stringValue,n.stringValue);case 6:return(function(h,m){const y=jr(h),T=jr(m);return y.compareTo(T)})(s.bytesValue,n.bytesValue);case 7:return(function(h,m){const y=h.split("/"),T=m.split("/");for(let _=0;_<y.length&&_<T.length;_++){const w=$t(y[_],T[_]);if(w!==0)return w}return $t(y.length,T.length)})(s.referenceValue,n.referenceValue);case 8:return(function(h,m){const y=$t($e(h.latitude),$e(m.latitude));return y!==0?y:$t($e(h.longitude),$e(m.longitude))})(s.geoPointValue,n.geoPointValue);case 9:return Sy(s.arrayValue,n.arrayValue);case 10:return(function(h,m){const y=h.fields||{},T=m.fields||{},_=y[zh]?.arrayValue,w=T[zh]?.arrayValue,P=$t(_?.values?.length||0,w?.values?.length||0);return P!==0?P:Sy(_,w)})(s.mapValue,n.mapValue);case 11:return(function(h,m){if(h===Mu.mapValue&&m===Mu.mapValue)return 0;if(h===Mu.mapValue)return 1;if(m===Mu.mapValue)return-1;const y=h.fields||{},T=Object.keys(y),_=m.fields||{},w=Object.keys(_);T.sort(),w.sort();for(let P=0;P<T.length&&P<w.length;++P){const L=Ph(T[P],w[P]);if(L!==0)return L;const et=Pr(y[T[P]],_[w[P]]);if(et!==0)return et}return $t(T.length,w.length)})(s.mapValue,n.mapValue);default:throw Dt(23264,{he:a})}}function Ay(s,n){if(typeof s=="string"&&typeof n=="string"&&s.length===n.length)return $t(s,n);const a=js(s),l=js(n),c=$t(a.seconds,l.seconds);return c!==0?c:$t(a.nanos,l.nanos)}function Sy(s,n){const a=s.values||[],l=n.values||[];for(let c=0;c<a.length&&c<l.length;++c){const h=Pr(a[c],l[c]);if(h)return h}return $t(a.length,l.length)}function zr(s){return Bh(s)}function Bh(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(a){const l=js(a);return`time(${l.seconds},${l.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(a){return jr(a).toBase64()})(s.bytesValue):"referenceValue"in s?(function(a){return It.fromName(a).toString()})(s.referenceValue):"geoPointValue"in s?(function(a){return`geo(${a.latitude},${a.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(a){let l="[",c=!0;for(const h of a.values||[])c?c=!1:l+=",",l+=Bh(h);return l+"]"})(s.arrayValue):"mapValue"in s?(function(a){const l=Object.keys(a.fields||{}).sort();let c="{",h=!0;for(const m of l)h?h=!1:c+=",",c+=`${m}:${Bh(a.fields[m])}`;return c+"}"})(s.mapValue):Dt(61005,{value:s})}function ju(s){switch(Ps(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=fd(s);return n?16+ju(n):16;case 5:return 2*s.stringValue.length;case 6:return jr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(l){return(l.values||[]).reduce(((c,h)=>c+ju(h)),0)})(s.arrayValue);case 10:case 11:return(function(l){let c=0;return qr(l.fields,((h,m)=>{c+=h.length+ju(m)})),c})(s.mapValue);default:throw Dt(13486,{value:s})}}function kh(s){return!!s&&"integerValue"in s}function hd(s){return!!s&&"arrayValue"in s}function Pu(s){return!!s&&"mapValue"in s}function q1(s){return(s?.mapValue?.fields||{})[L0]?.stringValue===U0}function Yl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const n={mapValue:{fields:{}}};return qr(s.mapValue.fields,((a,l)=>n.mapValue.fields[a]=Yl(l))),n}if(s.arrayValue){const n={arrayValue:{values:[]}};for(let a=0;a<(s.arrayValue.values||[]).length;++a)n.arrayValue.values[a]=Yl(s.arrayValue.values[a]);return n}return{...s}}function H1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===k1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(n){this.value=n}static empty(){return new ai({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let a=this.value;for(let l=0;l<n.length-1;++l)if(a=(a.mapValue.fields||{})[n.get(l)],!Pu(a))return null;return a=(a.mapValue.fields||{})[n.lastSegment()],a||null}}set(n,a){this.getFieldsMap(n.popLast())[n.lastSegment()]=Yl(a)}setAll(n){let a=Ze.emptyPath(),l={},c=[];n.forEach(((m,y)=>{if(!a.isImmediateParentOf(y)){const T=this.getFieldsMap(a);this.applyChanges(T,l,c),l={},c=[],a=y.popLast()}m?l[y.lastSegment()]=Yl(m):c.push(y.lastSegment())}));const h=this.getFieldsMap(a);this.applyChanges(h,l,c)}delete(n){const a=this.field(n.popLast());Pu(a)&&a.mapValue.fields&&delete a.mapValue.fields[n.lastSegment()]}isEqual(n){return Oi(this.value,n.value)}getFieldsMap(n){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let l=0;l<n.length;++l){let c=a.mapValue.fields[n.get(l)];Pu(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},a.mapValue.fields[n.get(l)]=c),a=c}return a.mapValue.fields}applyChanges(n,a,l){qr(a,((c,h)=>n[c]=h));for(const c of l)delete n[c]}clone(){return new ai(Yl(this.value))}}function j0(s){const n=[];return qr(s.fields,((a,l)=>{const c=new Ze([a]);if(Pu(l)){const h=j0(l.mapValue).fields;if(h.length===0)n.push(c);else for(const m of h)n.push(c.child(m))}else n.push(c)})),new ri(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(n,a,l,c,h,m,y){this.key=n,this.documentType=a,this.version=l,this.readTime=c,this.createTime=h,this.data=m,this.documentState=y}static newInvalidDocument(n){return new ii(n,0,fe.min(),fe.min(),fe.min(),ai.empty(),0)}static newFoundDocument(n,a,l,c){return new ii(n,1,a,fe.min(),l,c,0)}static newNoDocument(n,a){return new ii(n,2,a,fe.min(),fe.min(),ai.empty(),0)}static newUnknownDocument(n,a){return new ii(n,3,a,fe.min(),fe.min(),ai.empty(),2)}convertToFoundDocument(n,a){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=n),this.version=n,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=ai.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(n){return n instanceof ii&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new ii(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(n,a){this.position=n,this.inclusive=a}}function by(s,n,a){let l=0;for(let c=0;c<s.position.length;c++){const h=n[c],m=s.position[c];if(h.field.isKeyField()?l=It.comparator(It.fromName(m.referenceValue),a.key):l=Pr(m,a.data.field(h.field)),h.dir==="desc"&&(l*=-1),l!==0)break}return l}function Ry(s,n){if(s===null)return n===null;if(n===null||s.inclusive!==n.inclusive||s.position.length!==n.position.length)return!1;for(let a=0;a<s.position.length;a++)if(!Oi(s.position[a],n.position[a]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(n,a="asc"){this.field=n,this.dir=a}}function G1(s,n){return s.dir===n.dir&&s.field.isEqual(n.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{}class qe extends P0{constructor(n,a,l){super(),this.field=n,this.op=a,this.value=l}static create(n,a,l){return n.isKeyField()?a==="in"||a==="not-in"?this.createKeyFieldInFilter(n,a,l):new F1(n,a,l):a==="array-contains"?new K1(n,l):a==="in"?new $1(n,l):a==="not-in"?new Z1(n,l):a==="array-contains-any"?new W1(n,l):new qe(n,a,l)}static createKeyFieldInFilter(n,a,l){return a==="in"?new Y1(n,l):new X1(n,l)}matches(n){const a=n.data.field(this.field);return this.op==="!="?a!==null&&a.nullValue===void 0&&this.matchesComparison(Pr(a,this.value)):a!==null&&Ps(this.value)===Ps(a)&&this.matchesComparison(Pr(a,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qa extends P0{constructor(n,a){super(),this.filters=n,this.op=a,this.Pe=null}static create(n,a){return new qa(n,a)}matches(n){return z0(this)?this.filters.find((a=>!a.matches(n)))===void 0:this.filters.find((a=>a.matches(n)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((n,a)=>n.concat(a.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function z0(s){return s.op==="and"}function B0(s){return Q1(s)&&z0(s)}function Q1(s){for(const n of s.filters)if(n instanceof qa)return!1;return!0}function qh(s){if(s instanceof qe)return s.field.canonicalString()+s.op.toString()+zr(s.value);if(B0(s))return s.filters.map((n=>qh(n))).join(",");{const n=s.filters.map((a=>qh(a))).join(",");return`${s.op}(${n})`}}function k0(s,n){return s instanceof qe?(function(l,c){return c instanceof qe&&l.op===c.op&&l.field.isEqual(c.field)&&Oi(l.value,c.value)})(s,n):s instanceof qa?(function(l,c){return c instanceof qa&&l.op===c.op&&l.filters.length===c.filters.length?l.filters.reduce(((h,m,y)=>h&&k0(m,c.filters[y])),!0):!1})(s,n):void Dt(19439)}function q0(s){return s instanceof qe?(function(a){return`${a.field.canonicalString()} ${a.op} ${zr(a.value)}`})(s):s instanceof qa?(function(a){return a.op.toString()+" {"+a.getFilters().map(q0).join(" ,")+"}"})(s):"Filter"}class F1 extends qe{constructor(n,a,l){super(n,a,l),this.key=It.fromName(l.referenceValue)}matches(n){const a=It.comparator(n.key,this.key);return this.matchesComparison(a)}}class Y1 extends qe{constructor(n,a){super(n,"in",a),this.keys=H0("in",a)}matches(n){return this.keys.some((a=>a.isEqual(n.key)))}}class X1 extends qe{constructor(n,a){super(n,"not-in",a),this.keys=H0("not-in",a)}matches(n){return!this.keys.some((a=>a.isEqual(n.key)))}}function H0(s,n){return(n.arrayValue?.values||[]).map((a=>It.fromName(a.referenceValue)))}class K1 extends qe{constructor(n,a){super(n,"array-contains",a)}matches(n){const a=n.data.field(this.field);return hd(a)&&no(a.arrayValue,this.value)}}class $1 extends qe{constructor(n,a){super(n,"in",a)}matches(n){const a=n.data.field(this.field);return a!==null&&no(this.value.arrayValue,a)}}class Z1 extends qe{constructor(n,a){super(n,"not-in",a)}matches(n){if(no(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=n.data.field(this.field);return a!==null&&a.nullValue===void 0&&!no(this.value.arrayValue,a)}}class W1 extends qe{constructor(n,a){super(n,"array-contains-any",a)}matches(n){const a=n.data.field(this.field);return!(!hd(a)||!a.arrayValue.values)&&a.arrayValue.values.some((l=>no(this.value.arrayValue,l)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(n,a=null,l=[],c=[],h=null,m=null,y=null){this.path=n,this.collectionGroup=a,this.orderBy=l,this.filters=c,this.limit=h,this.startAt=m,this.endAt=y,this.Te=null}}function wy(s,n=null,a=[],l=[],c=null,h=null,m=null){return new J1(s,n,a,l,c,h,m)}function dd(s){const n=oe(s);if(n.Te===null){let a=n.path.canonicalString();n.collectionGroup!==null&&(a+="|cg:"+n.collectionGroup),a+="|f:",a+=n.filters.map((l=>qh(l))).join(","),a+="|ob:",a+=n.orderBy.map((l=>(function(h){return h.field.canonicalString()+h.dir})(l))).join(","),ud(n.limit)||(a+="|l:",a+=n.limit),n.startAt&&(a+="|lb:",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((l=>zr(l))).join(",")),n.endAt&&(a+="|ub:",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((l=>zr(l))).join(",")),n.Te=a}return n.Te}function md(s,n){if(s.limit!==n.limit||s.orderBy.length!==n.orderBy.length)return!1;for(let a=0;a<s.orderBy.length;a++)if(!G1(s.orderBy[a],n.orderBy[a]))return!1;if(s.filters.length!==n.filters.length)return!1;for(let a=0;a<s.filters.length;a++)if(!k0(s.filters[a],n.filters[a]))return!1;return s.collectionGroup===n.collectionGroup&&!!s.path.isEqual(n.path)&&!!Ry(s.startAt,n.startAt)&&Ry(s.endAt,n.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(n,a=null,l=[],c=[],h=null,m="F",y=null,T=null){this.path=n,this.collectionGroup=a,this.explicitOrderBy=l,this.filters=c,this.limit=h,this.limitType=m,this.startAt=y,this.endAt=T,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function tA(s,n,a,l,c,h,m,y){return new sc(s,n,a,l,c,h,m,y)}function eA(s){return new sc(s)}function Cy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function nA(s){return s.collectionGroup!==null}function Xl(s){const n=oe(s);if(n.Ie===null){n.Ie=[];const a=new Set;for(const h of n.explicitOrderBy)n.Ie.push(h),a.add(h.field.canonicalString());const l=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(m){let y=new We(Ze.comparator);return m.filters.forEach((T=>{T.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(n).forEach((h=>{a.has(h.canonicalString())||h.isKeyField()||n.Ie.push(new Xu(h,l))})),a.has(Ze.keyField().canonicalString())||n.Ie.push(new Xu(Ze.keyField(),l))}return n.Ie}function Os(s){const n=oe(s);return n.Ee||(n.Ee=iA(n,Xl(s))),n.Ee}function iA(s,n){if(s.limitType==="F")return wy(s.path,s.collectionGroup,n,s.filters,s.limit,s.startAt,s.endAt);{n=n.map((c=>{const h=c.dir==="desc"?"asc":"desc";return new Xu(c.field,h)}));const a=s.endAt?new Yu(s.endAt.position,s.endAt.inclusive):null,l=s.startAt?new Yu(s.startAt.position,s.startAt.inclusive):null;return wy(s.path,s.collectionGroup,n,s.filters,s.limit,a,l)}}function Hh(s,n,a){return new sc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),n,a,s.startAt,s.endAt)}function G0(s,n){return md(Os(s),Os(n))&&s.limitType===n.limitType}function Q0(s){return`${dd(Os(s))}|lt:${s.limitType}`}function Gl(s){return`Query(target=${(function(a){let l=a.path.canonicalString();return a.collectionGroup!==null&&(l+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(l+=`, filters: [${a.filters.map((c=>q0(c))).join(", ")}]`),ud(a.limit)||(l+=", limit: "+a.limit),a.orderBy.length>0&&(l+=`, orderBy: [${a.orderBy.map((c=>(function(m){return`${m.field.canonicalString()} (${m.dir})`})(c))).join(", ")}]`),a.startAt&&(l+=", startAt: ",l+=a.startAt.inclusive?"b:":"a:",l+=a.startAt.position.map((c=>zr(c))).join(",")),a.endAt&&(l+=", endAt: ",l+=a.endAt.inclusive?"a:":"b:",l+=a.endAt.position.map((c=>zr(c))).join(",")),`Target(${l})`})(Os(s))}; limitType=${s.limitType})`}function gd(s,n){return n.isFoundDocument()&&(function(l,c){const h=c.key.path;return l.collectionGroup!==null?c.key.hasCollectionId(l.collectionGroup)&&l.path.isPrefixOf(h):It.isDocumentKey(l.path)?l.path.isEqual(h):l.path.isImmediateParentOf(h)})(s,n)&&(function(l,c){for(const h of Xl(l))if(!h.field.isKeyField()&&c.data.field(h.field)===null)return!1;return!0})(s,n)&&(function(l,c){for(const h of l.filters)if(!h.matches(c))return!1;return!0})(s,n)&&(function(l,c){return!(l.startAt&&!(function(m,y,T){const _=by(m,y,T);return m.inclusive?_<=0:_<0})(l.startAt,Xl(l),c)||l.endAt&&!(function(m,y,T){const _=by(m,y,T);return m.inclusive?_>=0:_>0})(l.endAt,Xl(l),c))})(s,n)}function aA(s){return(n,a)=>{let l=!1;for(const c of Xl(s)){const h=sA(c,n,a);if(h!==0)return h;l=l||c.field.isKeyField()}return 0}}function sA(s,n,a){const l=s.field.isKeyField()?It.comparator(n.key,a.key):(function(h,m,y){const T=m.data.field(h),_=y.data.field(h);return T!==null&&_!==null?Pr(T,_):Dt(42886)})(s.field,n,a);switch(s.dir){case"asc":return l;case"desc":return-1*l;default:return Dt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(n,a){this.mapKeyFn=n,this.equalsFn=a,this.inner={},this.innerSize=0}get(n){const a=this.mapKeyFn(n),l=this.inner[a];if(l!==void 0){for(const[c,h]of l)if(this.equalsFn(c,n))return h}}has(n){return this.get(n)!==void 0}set(n,a){const l=this.mapKeyFn(n),c=this.inner[l];if(c===void 0)return this.inner[l]=[[n,a]],void this.innerSize++;for(let h=0;h<c.length;h++)if(this.equalsFn(c[h][0],n))return void(c[h]=[n,a]);c.push([n,a]),this.innerSize++}delete(n){const a=this.mapKeyFn(n),l=this.inner[a];if(l===void 0)return!1;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],n))return l.length===1?delete this.inner[a]:l.splice(c,1),this.innerSize--,!0;return!1}forEach(n){qr(this.inner,((a,l)=>{for(const[c,h]of l)n(c,h)}))}isEmpty(){return D0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=new Tn(It.comparator);function Ku(){return rA}const F0=new Tn(It.comparator);function Ou(...s){let n=F0;for(const a of s)n=n.insert(a.key,a);return n}function Y0(s){let n=F0;return s.forEach(((a,l)=>n=n.insert(a,l.overlayedDocument))),n}function Ds(){return Kl()}function X0(){return Kl()}function Kl(){return new ks((s=>s.toString()),((s,n)=>s.isEqual(n)))}const lA=new Tn(It.comparator),oA=new We(It.comparator);function sn(...s){let n=oA;for(const a of s)n=n.add(a);return n}const uA=new We($t);function cA(){return uA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(s,n){if(s.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hu(n)?"-0":n}}function K0(s){return{integerValue:""+s}}function fA(s,n){return L1(n)?K0(n):pd(s,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this._=void 0}}function hA(s,n,a){return s instanceof io?(function(c,h){const m={fields:{[M0]:{stringValue:x0},[V0]:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return h&&cd(h)&&(h=fd(h)),h&&(m.fields[O0]=h),{mapValue:m}})(a,n):s instanceof ao?Z0(s,n):s instanceof so?W0(s,n):(function(c,h){const m=$0(c,h),y=Iy(m)+Iy(c.Ae);return kh(m)&&kh(c.Ae)?K0(y):pd(c.serializer,y)})(s,n)}function dA(s,n,a){return s instanceof ao?Z0(s,n):s instanceof so?W0(s,n):a}function $0(s,n){return s instanceof $u?(function(l){return kh(l)||(function(h){return!!h&&"doubleValue"in h})(l)})(n)?n:{integerValue:0}:null}class io extends rc{}class ao extends rc{constructor(n){super(),this.elements=n}}function Z0(s,n){const a=J0(n);for(const l of s.elements)a.some((c=>Oi(c,l)))||a.push(l);return{arrayValue:{values:a}}}class so extends rc{constructor(n){super(),this.elements=n}}function W0(s,n){let a=J0(n);for(const l of s.elements)a=a.filter((c=>!Oi(c,l)));return{arrayValue:{values:a}}}class $u extends rc{constructor(n,a){super(),this.serializer=n,this.Ae=a}}function Iy(s){return $e(s.integerValue||s.doubleValue)}function J0(s){return hd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(n,a){this.field=n,this.transform=a}}function gA(s,n){return s.field.isEqual(n.field)&&(function(l,c){return l instanceof ao&&c instanceof ao||l instanceof so&&c instanceof so?Ur(l.elements,c.elements,Oi):l instanceof $u&&c instanceof $u?Oi(l.Ae,c.Ae):l instanceof io&&c instanceof io})(s.transform,n.transform)}class pA{constructor(n,a){this.version=n,this.transformResults=a}}class aa{constructor(n,a){this.updateTime=n,this.exists=a}static none(){return new aa}static exists(n){return new aa(void 0,n)}static updateTime(n){return new aa(n)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function zu(s,n){return s.updateTime!==void 0?n.isFoundDocument()&&n.version.isEqual(s.updateTime):s.exists===void 0||s.exists===n.isFoundDocument()}class lc{}function t_(s,n){if(!s.hasLocalMutations||n&&n.fields.length===0)return null;if(n===null)return s.isNoDocument()?new n_(s.key,aa.none()):new uo(s.key,s.data,aa.none());{const a=s.data,l=ai.empty();let c=new We(Ze.comparator);for(let h of n.fields)if(!c.has(h)){let m=a.field(h);m===null&&h.length>1&&(h=h.popLast(),m=a.field(h)),m===null?l.delete(h):l.set(h,m),c=c.add(h)}return new qs(s.key,l,new ri(c.toArray()),aa.none())}}function yA(s,n,a){s instanceof uo?(function(c,h,m){const y=c.value.clone(),T=Dy(c.fieldTransforms,h,m.transformResults);y.setAll(T),h.convertToFoundDocument(m.version,y).setHasCommittedMutations()})(s,n,a):s instanceof qs?(function(c,h,m){if(!zu(c.precondition,h))return void h.convertToUnknownDocument(m.version);const y=Dy(c.fieldTransforms,h,m.transformResults),T=h.data;T.setAll(e_(c)),T.setAll(y),h.convertToFoundDocument(m.version,T).setHasCommittedMutations()})(s,n,a):(function(c,h,m){h.convertToNoDocument(m.version).setHasCommittedMutations()})(0,n,a)}function $l(s,n,a,l){return s instanceof uo?(function(h,m,y,T){if(!zu(h.precondition,m))return y;const _=h.value.clone(),w=xy(h.fieldTransforms,T,m);return _.setAll(w),m.convertToFoundDocument(m.version,_).setHasLocalMutations(),null})(s,n,a,l):s instanceof qs?(function(h,m,y,T){if(!zu(h.precondition,m))return y;const _=xy(h.fieldTransforms,T,m),w=m.data;return w.setAll(e_(h)),w.setAll(_),m.convertToFoundDocument(m.version,w).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((P=>P.field)))})(s,n,a,l):(function(h,m,y){return zu(h.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):y})(s,n,a)}function _A(s,n){let a=null;for(const l of s.fieldTransforms){const c=n.data.field(l.field),h=$0(l.transform,c||null);h!=null&&(a===null&&(a=ai.empty()),a.set(l.field,h))}return a||null}function Ny(s,n){return s.type===n.type&&!!s.key.isEqual(n.key)&&!!s.precondition.isEqual(n.precondition)&&!!(function(l,c){return l===void 0&&c===void 0||!(!l||!c)&&Ur(l,c,((h,m)=>gA(h,m)))})(s.fieldTransforms,n.fieldTransforms)&&(s.type===0?s.value.isEqual(n.value):s.type!==1||s.data.isEqual(n.data)&&s.fieldMask.isEqual(n.fieldMask))}class uo extends lc{constructor(n,a,l,c=[]){super(),this.key=n,this.value=a,this.precondition=l,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class qs extends lc{constructor(n,a,l,c,h=[]){super(),this.key=n,this.data=a,this.fieldMask=l,this.precondition=c,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function e_(s){const n=new Map;return s.fieldMask.fields.forEach((a=>{if(!a.isEmpty()){const l=s.data.field(a);n.set(a,l)}})),n}function Dy(s,n,a){const l=new Map;Ee(s.length===a.length,32656,{Re:a.length,Ve:s.length});for(let c=0;c<a.length;c++){const h=s[c],m=h.transform,y=n.data.field(h.field);l.set(h.field,dA(m,y,a[c]))}return l}function xy(s,n,a){const l=new Map;for(const c of s){const h=c.transform,m=a.data.field(c.field);l.set(c.field,hA(h,m,n))}return l}class n_ extends lc{constructor(n,a){super(),this.key=n,this.precondition=a,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vA extends lc{constructor(n,a){super(),this.key=n,this.precondition=a,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(n,a,l,c){this.batchId=n,this.localWriteTime=a,this.baseMutations=l,this.mutations=c}applyToRemoteDocument(n,a){const l=a.mutationResults;for(let c=0;c<this.mutations.length;c++){const h=this.mutations[c];h.key.isEqual(n.key)&&yA(h,n,l[c])}}applyToLocalView(n,a){for(const l of this.baseMutations)l.key.isEqual(n.key)&&(a=$l(l,n,a,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(n.key)&&(a=$l(l,n,a,this.localWriteTime));return a}applyToLocalDocumentSet(n,a){const l=X0();return this.mutations.forEach((c=>{const h=n.get(c.key),m=h.overlayedDocument;let y=this.applyToLocalView(m,h.mutatedFields);y=a.has(c.key)?null:y;const T=t_(m,y);T!==null&&l.set(c.key,T),m.isValidDocument()||m.convertToNoDocument(fe.min())})),l}keys(){return this.mutations.reduce(((n,a)=>n.add(a.key)),sn())}isEqual(n){return this.batchId===n.batchId&&Ur(this.mutations,n.mutations,((a,l)=>Ny(a,l)))&&Ur(this.baseMutations,n.baseMutations,((a,l)=>Ny(a,l)))}}class yd{constructor(n,a,l,c){this.batch=n,this.commitVersion=a,this.mutationResults=l,this.docVersions=c}static from(n,a,l){Ee(n.mutations.length===l.length,58842,{me:n.mutations.length,fe:l.length});let c=(function(){return lA})();const h=n.mutations;for(let m=0;m<h.length;m++)c=c.insert(h[m].key,l[m].version);return new yd(n,a,l,c)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(n,a){this.largestBatchId=n,this.mutation=a}getKey(){return this.mutation.key}isEqual(n){return n!==null&&this.mutation===n.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De,Bt;function AA(s){switch(s){case W.OK:return Dt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Dt(15467,{code:s})}}function SA(s){if(s===void 0)return Us("GRPC error has no .code"),W.UNKNOWN;switch(s){case De.OK:return W.OK;case De.CANCELLED:return W.CANCELLED;case De.UNKNOWN:return W.UNKNOWN;case De.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case De.INTERNAL:return W.INTERNAL;case De.UNAVAILABLE:return W.UNAVAILABLE;case De.UNAUTHENTICATED:return W.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case De.NOT_FOUND:return W.NOT_FOUND;case De.ALREADY_EXISTS:return W.ALREADY_EXISTS;case De.PERMISSION_DENIED:return W.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case De.ABORTED:return W.ABORTED;case De.OUT_OF_RANGE:return W.OUT_OF_RANGE;case De.UNIMPLEMENTED:return W.UNIMPLEMENTED;case De.DATA_LOSS:return W.DATA_LOSS;default:return Dt(39323,{code:s})}}(Bt=De||(De={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new nd([4294967295,4294967295],0);class bA{constructor(n,a){this.databaseId=n,this.useProto3Json=a}}function Gh(s,n){return s.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function RA(s,n){return s.useProto3Json?n.toBase64():n.toUint8Array()}function wA(s,n){return Gh(s,n.toTimestamp())}function Vr(s){return Ee(!!s,49232),fe.fromTimestamp((function(a){const l=js(a);return new he(l.seconds,l.nanos)})(s))}function i_(s,n){return Qh(s,n).canonicalString()}function Qh(s,n){const a=(function(c){return new ge(["projects",c.projectId,"databases",c.database])})(s).child("documents");return n===void 0?a:a.child(n)}function CA(s){const n=ge.fromString(s);return Ee(LA(n),10190,{key:n.toString()}),n}function Fh(s,n){return i_(s.databaseId,n.path)}function IA(s){const n=CA(s);return n.length===4?ge.emptyPath():DA(n)}function NA(s){return new ge(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function DA(s){return Ee(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function My(s,n,a){return{name:Fh(s,n),fields:a.value.mapValue.fields}}function xA(s,n){let a;if(n instanceof uo)a={update:My(s,n.key,n.value)};else if(n instanceof n_)a={delete:Fh(s,n.key)};else if(n instanceof qs)a={update:My(s,n.key,n.data),updateMask:VA(n.fieldMask)};else{if(!(n instanceof vA))return Dt(16599,{Vt:n.type});a={verify:Fh(s,n.key)}}return n.fieldTransforms.length>0&&(a.updateTransforms=n.fieldTransforms.map((l=>(function(h,m){const y=m.transform;if(y instanceof io)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof ao)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof so)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof $u)return{fieldPath:m.field.canonicalString(),increment:y.Ae};throw Dt(20930,{transform:m.transform})})(0,l)))),n.precondition.isNone||(a.currentDocument=(function(c,h){return h.updateTime!==void 0?{updateTime:wA(c,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Dt(27497)})(s,n.precondition)),a}function MA(s,n){return s&&s.length>0?(Ee(n!==void 0,14353),s.map((a=>(function(c,h){let m=c.updateTime?Vr(c.updateTime):Vr(h);return m.isEqual(fe.min())&&(m=Vr(h)),new pA(m,c.transformResults||[])})(a,n)))):[]}function OA(s){let n=IA(s.parent);const a=s.structuredQuery,l=a.from?a.from.length:0;let c=null;if(l>0){Ee(l===1,65062);const w=a.from[0];w.allDescendants?c=w.collectionId:n=n.child(w.collectionId)}let h=[];a.where&&(h=(function(P){const L=a_(P);return L instanceof qa&&B0(L)?L.getFilters():[L]})(a.where));let m=[];a.orderBy&&(m=(function(P){return P.map((L=>(function(J){return new Xu(Or(J.field),(function(lt){switch(lt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(L)))})(a.orderBy));let y=null;a.limit&&(y=(function(P){let L;return L=typeof P=="object"?P.value:P,ud(L)?null:L})(a.limit));let T=null;a.startAt&&(T=(function(P){const L=!!P.before,et=P.values||[];return new Yu(et,L)})(a.startAt));let _=null;return a.endAt&&(_=(function(P){const L=!P.before,et=P.values||[];return new Yu(et,L)})(a.endAt)),tA(n,c,m,h,y,"F",T,_)}function a_(s){return s.unaryFilter!==void 0?(function(a){switch(a.unaryFilter.op){case"IS_NAN":const l=Or(a.unaryFilter.field);return qe.create(l,"==",{doubleValue:NaN});case"IS_NULL":const c=Or(a.unaryFilter.field);return qe.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Or(a.unaryFilter.field);return qe.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Or(a.unaryFilter.field);return qe.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Dt(61313);default:return Dt(60726)}})(s):s.fieldFilter!==void 0?(function(a){return qe.create(Or(a.fieldFilter.field),(function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Dt(58110);default:return Dt(50506)}})(a.fieldFilter.op),a.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(a){return qa.create(a.compositeFilter.filters.map((l=>a_(l))),(function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return Dt(1026)}})(a.compositeFilter.op))})(s):Dt(30097,{filter:s})}function Or(s){return Ze.fromServerFormat(s.fieldPath)}function VA(s){const n=[];return s.fields.forEach((a=>n.push(a.canonicalString()))),{fieldPaths:n}}function LA(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(n){this.yt=n}}function jA(s){const n=OA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Hh(n,n.limit,"L"):n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(){this.Cn=new zA}addToCollectionParentIndex(n,a){return this.Cn.add(a),$.resolve()}getCollectionParents(n,a){return $.resolve(this.Cn.getEntries(a))}addFieldIndex(n,a){return $.resolve()}deleteFieldIndex(n,a){return $.resolve()}deleteAllFieldIndexes(n){return $.resolve()}createTargetIndexes(n,a){return $.resolve()}getDocumentsMatchingTarget(n,a){return $.resolve(null)}getIndexType(n,a){return $.resolve(0)}getFieldIndexes(n,a){return $.resolve([])}getNextCollectionGroupToUpdate(n){return $.resolve(null)}getMinOffset(n,a){return $.resolve(ka.min())}getMinOffsetFromCollectionGroup(n,a){return $.resolve(ka.min())}updateCollectionGroup(n,a,l){return $.resolve()}updateIndexEntries(n,a){return $.resolve()}}class zA{constructor(){this.index={}}add(n){const a=n.lastSegment(),l=n.popLast(),c=this.index[a]||new We(ge.comparator),h=!c.has(l);return this.index[a]=c.add(l),h}has(n){const a=n.lastSegment(),l=n.popLast(),c=this.index[a];return c&&c.has(l)}getEntries(n){return(this.index[n]||new We(ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},s_=41943040;class _n{static withCacheSize(n){return new _n(n,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,a,l){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(s_,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(n){this.ar=n}next(){return this.ar+=2,this.ar}static ur(){return new Br(0)}static cr(){return new Br(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="LruGarbageCollector",BA=1048576;function Ly([s,n],[a,l]){const c=$t(s,a);return c===0?$t(n,l):c}class kA{constructor(n){this.Ir=n,this.buffer=new We(Ly),this.Er=0}dr(){return++this.Er}Ar(n){const a=[n,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(a);else{const l=this.buffer.last();Ly(a,l)<0&&(this.buffer=this.buffer.delete(l).add(a))}}get maxValue(){return this.buffer.last()[0]}}class qA{constructor(n,a,l){this.garbageCollector=n,this.asyncQueue=a,this.localStore=l,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(n){ut(Vy,`Garbage collection scheduled in ${n}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(a){oo(a)?ut(Vy,"Ignoring IndexedDB error during garbage collection: ",a):await rd(a)}await this.Vr(3e5)}))}}class HA{constructor(n,a){this.mr=n,this.params=a}calculateTargetCount(n,a){return this.mr.gr(n).next((l=>Math.floor(a/100*l)))}nthSequenceNumber(n,a){if(a===0)return $.resolve(ld.ce);const l=new kA(a);return this.mr.forEachTarget(n,(c=>l.Ar(c.sequenceNumber))).next((()=>this.mr.pr(n,(c=>l.Ar(c))))).next((()=>l.maxValue))}removeTargets(n,a,l){return this.mr.removeTargets(n,a,l)}removeOrphanedDocuments(n,a){return this.mr.removeOrphanedDocuments(n,a)}collect(n,a){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Oy)):this.getCacheSize(n).next((l=>l<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Oy):this.yr(n,a)))}getCacheSize(n){return this.mr.getCacheSize(n)}yr(n,a){let l,c,h,m,y,T,_;const w=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next((P=>(P>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),c=this.params.maximumSequenceNumbersToCollect):c=P,m=Date.now(),this.nthSequenceNumber(n,c)))).next((P=>(l=P,y=Date.now(),this.removeTargets(n,l,a)))).next((P=>(h=P,T=Date.now(),this.removeOrphanedDocuments(n,l)))).next((P=>(_=Date.now(),Mr()<=kt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-w}ms
	Determined least recently used ${c} in `+(y-m)+`ms
	Removed ${h} targets in `+(T-y)+`ms
	Removed ${P} documents in `+(_-T)+`ms
Total Duration: ${_-w}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:h,documentsRemoved:P}))))}}function GA(s,n){return new HA(s,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.changes=new ks((n=>n.toString()),((n,a)=>n.isEqual(a))),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,a){this.assertNotApplied(),this.changes.set(n,ii.newInvalidDocument(n).setReadTime(a))}getEntry(n,a){this.assertNotApplied();const l=this.changes.get(a);return l!==void 0?$.resolve(l):this.getFromCache(n,a)}getEntries(n,a){return this.getAllFromCache(n,a)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(n,a){this.overlayedDocument=n,this.mutatedFields=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(n,a,l,c){this.remoteDocumentCache=n,this.mutationQueue=a,this.documentOverlayCache=l,this.indexManager=c}getDocument(n,a){let l=null;return this.documentOverlayCache.getOverlay(n,a).next((c=>(l=c,this.remoteDocumentCache.getEntry(n,a)))).next((c=>(l!==null&&$l(l.mutation,c,ri.empty(),he.now()),c)))}getDocuments(n,a){return this.remoteDocumentCache.getEntries(n,a).next((l=>this.getLocalViewOfDocuments(n,l,sn()).next((()=>l))))}getLocalViewOfDocuments(n,a,l=sn()){const c=Ds();return this.populateOverlays(n,c,a).next((()=>this.computeViews(n,a,c,l).next((h=>{let m=Ou();return h.forEach(((y,T)=>{m=m.insert(y,T.overlayedDocument)})),m}))))}getOverlayedDocuments(n,a){const l=Ds();return this.populateOverlays(n,l,a).next((()=>this.computeViews(n,a,l,sn())))}populateOverlays(n,a,l){const c=[];return l.forEach((h=>{a.has(h)||c.push(h)})),this.documentOverlayCache.getOverlays(n,c).next((h=>{h.forEach(((m,y)=>{a.set(m,y)}))}))}computeViews(n,a,l,c){let h=Ku();const m=Kl(),y=(function(){return Kl()})();return a.forEach(((T,_)=>{const w=l.get(_.key);c.has(_.key)&&(w===void 0||w.mutation instanceof qs)?h=h.insert(_.key,_):w!==void 0?(m.set(_.key,w.mutation.getFieldMask()),$l(w.mutation,_,w.mutation.getFieldMask(),he.now())):m.set(_.key,ri.empty())})),this.recalculateAndSaveOverlays(n,h).next((T=>(T.forEach(((_,w)=>m.set(_,w))),a.forEach(((_,w)=>y.set(_,new FA(w,m.get(_)??null)))),y)))}recalculateAndSaveOverlays(n,a){const l=Kl();let c=new Tn(((m,y)=>m-y)),h=sn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,a).next((m=>{for(const y of m)y.keys().forEach((T=>{const _=a.get(T);if(_===null)return;let w=l.get(T)||ri.empty();w=y.applyToLocalView(_,w),l.set(T,w);const P=(c.get(y.batchId)||sn()).add(T);c=c.insert(y.batchId,P)}))})).next((()=>{const m=[],y=c.getReverseIterator();for(;y.hasNext();){const T=y.getNext(),_=T.key,w=T.value,P=X0();w.forEach((L=>{if(!h.has(L)){const et=t_(a.get(L),l.get(L));et!==null&&P.set(L,et),h=h.add(L)}})),m.push(this.documentOverlayCache.saveOverlays(n,_,P))}return $.waitFor(m)})).next((()=>l))}recalculateAndSaveOverlaysForDocumentKeys(n,a){return this.remoteDocumentCache.getEntries(n,a).next((l=>this.recalculateAndSaveOverlays(n,l)))}getDocumentsMatchingQuery(n,a,l,c){return(function(m){return It.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0})(a)?this.getDocumentsMatchingDocumentQuery(n,a.path):nA(a)?this.getDocumentsMatchingCollectionGroupQuery(n,a,l,c):this.getDocumentsMatchingCollectionQuery(n,a,l,c)}getNextDocuments(n,a,l,c){return this.remoteDocumentCache.getAllFromCollectionGroup(n,a,l,c).next((h=>{const m=c-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,a,l.largestBatchId,c-h.size):$.resolve(Ds());let y=eo,T=h;return m.next((_=>$.forEach(_,((w,P)=>(y<P.largestBatchId&&(y=P.largestBatchId),h.get(w)?$.resolve():this.remoteDocumentCache.getEntry(n,w).next((L=>{T=T.insert(w,L)}))))).next((()=>this.populateOverlays(n,_,h))).next((()=>this.computeViews(n,T,_,sn()))).next((w=>({batchId:y,changes:Y0(w)})))))}))}getDocumentsMatchingDocumentQuery(n,a){return this.getDocument(n,new It(a)).next((l=>{let c=Ou();return l.isFoundDocument()&&(c=c.insert(l.key,l)),c}))}getDocumentsMatchingCollectionGroupQuery(n,a,l,c){const h=a.collectionGroup;let m=Ou();return this.indexManager.getCollectionParents(n,h).next((y=>$.forEach(y,(T=>{const _=(function(P,L){return new sc(L,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt)})(a,T.child(h));return this.getDocumentsMatchingCollectionQuery(n,_,l,c).next((w=>{w.forEach(((P,L)=>{m=m.insert(P,L)}))}))})).next((()=>m))))}getDocumentsMatchingCollectionQuery(n,a,l,c){let h;return this.documentOverlayCache.getOverlaysForCollection(n,a.path,l.largestBatchId).next((m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(n,a,l,h,c)))).next((m=>{h.forEach(((T,_)=>{const w=_.getKey();m.get(w)===null&&(m=m.insert(w,ii.newInvalidDocument(w)))}));let y=Ou();return m.forEach(((T,_)=>{const w=h.get(T);w!==void 0&&$l(w.mutation,_,ri.empty(),he.now()),gd(a,_)&&(y=y.insert(T,_))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(n){this.serializer=n,this.Lr=new Map,this.kr=new Map}getBundleMetadata(n,a){return $.resolve(this.Lr.get(a))}saveBundleMetadata(n,a){return this.Lr.set(a.id,(function(c){return{id:c.id,version:c.version,createTime:Vr(c.createTime)}})(a)),$.resolve()}getNamedQuery(n,a){return $.resolve(this.kr.get(a))}saveNamedQuery(n,a){return this.kr.set(a.name,(function(c){return{name:c.name,query:jA(c.bundledQuery),readTime:Vr(c.readTime)}})(a)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.overlays=new Tn(It.comparator),this.qr=new Map}getOverlay(n,a){return $.resolve(this.overlays.get(a))}getOverlays(n,a){const l=Ds();return $.forEach(a,(c=>this.getOverlay(n,c).next((h=>{h!==null&&l.set(c,h)})))).next((()=>l))}saveOverlays(n,a,l){return l.forEach(((c,h)=>{this.St(n,a,h)})),$.resolve()}removeOverlaysForBatchId(n,a,l){const c=this.qr.get(l);return c!==void 0&&(c.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(l)),$.resolve()}getOverlaysForCollection(n,a,l){const c=Ds(),h=a.length+1,m=new It(a.child("")),y=this.overlays.getIteratorFrom(m);for(;y.hasNext();){const T=y.getNext().value,_=T.getKey();if(!a.isPrefixOf(_.path))break;_.path.length===h&&T.largestBatchId>l&&c.set(T.getKey(),T)}return $.resolve(c)}getOverlaysForCollectionGroup(n,a,l,c){let h=new Tn(((_,w)=>_-w));const m=this.overlays.getIterator();for(;m.hasNext();){const _=m.getNext().value;if(_.getKey().getCollectionGroup()===a&&_.largestBatchId>l){let w=h.get(_.largestBatchId);w===null&&(w=Ds(),h=h.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const y=Ds(),T=h.getIterator();for(;T.hasNext()&&(T.getNext().value.forEach(((_,w)=>y.set(_,w))),!(y.size()>=c)););return $.resolve(y)}St(n,a,l){const c=this.overlays.get(l.key);if(c!==null){const m=this.qr.get(c.largestBatchId).delete(l.key);this.qr.set(c.largestBatchId,m)}this.overlays=this.overlays.insert(l.key,new EA(a,l));let h=this.qr.get(a);h===void 0&&(h=sn(),this.qr.set(a,h)),this.qr.set(a,h.add(l.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(){this.sessionToken=Mi.EMPTY_BYTE_STRING}getSessionToken(n){return $.resolve(this.sessionToken)}setSessionToken(n,a){return this.sessionToken=a,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this.Qr=new We(ke.$r),this.Ur=new We(ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(n,a){const l=new ke(n,a);this.Qr=this.Qr.add(l),this.Ur=this.Ur.add(l)}Wr(n,a){n.forEach((l=>this.addReference(l,a)))}removeReference(n,a){this.Gr(new ke(n,a))}zr(n,a){n.forEach((l=>this.removeReference(l,a)))}jr(n){const a=new It(new ge([])),l=new ke(a,n),c=new ke(a,n+1),h=[];return this.Ur.forEachInRange([l,c],(m=>{this.Gr(m),h.push(m.key)})),h}Jr(){this.Qr.forEach((n=>this.Gr(n)))}Gr(n){this.Qr=this.Qr.delete(n),this.Ur=this.Ur.delete(n)}Hr(n){const a=new It(new ge([])),l=new ke(a,n),c=new ke(a,n+1);let h=sn();return this.Ur.forEachInRange([l,c],(m=>{h=h.add(m.key)})),h}containsKey(n){const a=new ke(n,0),l=this.Qr.firstAfterOrEqual(a);return l!==null&&n.isEqual(l.key)}}class ke{constructor(n,a){this.key=n,this.Yr=a}static $r(n,a){return It.comparator(n.key,a.key)||$t(n.Yr,a.Yr)}static Kr(n,a){return $t(n.Yr,a.Yr)||It.comparator(n.key,a.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(n,a){this.indexManager=n,this.referenceDelegate=a,this.mutationQueue=[],this.tr=1,this.Zr=new We(ke.$r)}checkEmpty(n){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(n,a,l,c){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new TA(h,a,l,c);this.mutationQueue.push(m);for(const y of c)this.Zr=this.Zr.add(new ke(y.key,h)),this.indexManager.addToCollectionParentIndex(n,y.key.path.popLast());return $.resolve(m)}lookupMutationBatch(n,a){return $.resolve(this.Xr(a))}getNextMutationBatchAfterBatchId(n,a){const l=a+1,c=this.ei(l),h=c<0?0:c;return $.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?od:this.tr-1)}getAllMutationBatches(n){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,a){const l=new ke(a,0),c=new ke(a,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([l,c],(m=>{const y=this.Xr(m.Yr);h.push(y)})),$.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(n,a){let l=new We($t);return a.forEach((c=>{const h=new ke(c,0),m=new ke(c,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,m],(y=>{l=l.add(y.Yr)}))})),$.resolve(this.ti(l))}getAllMutationBatchesAffectingQuery(n,a){const l=a.path,c=l.length+1;let h=l;It.isDocumentKey(h)||(h=h.child(""));const m=new ke(new It(h),0);let y=new We($t);return this.Zr.forEachWhile((T=>{const _=T.key.path;return!!l.isPrefixOf(_)&&(_.length===c&&(y=y.add(T.Yr)),!0)}),m),$.resolve(this.ti(y))}ti(n){const a=[];return n.forEach((l=>{const c=this.Xr(l);c!==null&&a.push(c)})),a}removeMutationBatch(n,a){Ee(this.ni(a.batchId,"removed")===0,55003),this.mutationQueue.shift();let l=this.Zr;return $.forEach(a.mutations,(c=>{const h=new ke(c.key,a.batchId);return l=l.delete(h),this.referenceDelegate.markPotentiallyOrphaned(n,c.key)})).next((()=>{this.Zr=l}))}ir(n){}containsKey(n,a){const l=new ke(a,0),c=this.Zr.firstAfterOrEqual(l);return $.resolve(a.isEqual(c&&c.key))}performConsistencyCheck(n){return this.mutationQueue.length,$.resolve()}ni(n,a){return this.ei(n)}ei(n){return this.mutationQueue.length===0?0:n-this.mutationQueue[0].batchId}Xr(n){const a=this.ei(n);return a<0||a>=this.mutationQueue.length?null:this.mutationQueue[a]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(n){this.ri=n,this.docs=(function(){return new Tn(It.comparator)})(),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,a){const l=a.key,c=this.docs.get(l),h=c?c.size:0,m=this.ri(a);return this.docs=this.docs.insert(l,{document:a.mutableCopy(),size:m}),this.size+=m-h,this.indexManager.addToCollectionParentIndex(n,l.path.popLast())}removeEntry(n){const a=this.docs.get(n);a&&(this.docs=this.docs.remove(n),this.size-=a.size)}getEntry(n,a){const l=this.docs.get(a);return $.resolve(l?l.document.mutableCopy():ii.newInvalidDocument(a))}getEntries(n,a){let l=Ku();return a.forEach((c=>{const h=this.docs.get(c);l=l.insert(c,h?h.document.mutableCopy():ii.newInvalidDocument(c))})),$.resolve(l)}getDocumentsMatchingQuery(n,a,l,c){let h=Ku();const m=a.path,y=new It(m.child("__id-9223372036854775808__")),T=this.docs.getIteratorFrom(y);for(;T.hasNext();){const{key:_,value:{document:w}}=T.getNext();if(!m.isPrefixOf(_.path))break;_.path.length>m.length+1||x1(D1(w),l)<=0||(c.has(w.key)||gd(a,w))&&(h=h.insert(w.key,w.mutableCopy()))}return $.resolve(h)}getAllFromCollectionGroup(n,a,l,c){Dt(9500)}ii(n,a){return $.forEach(this.docs,(l=>a(l)))}newChangeBuffer(n){return new JA(this)}getSize(n){return $.resolve(this.size)}}class JA extends QA{constructor(n){super(),this.Nr=n}applyChanges(n){const a=[];return this.changes.forEach(((l,c)=>{c.isValidDocument()?a.push(this.Nr.addEntry(n,c)):this.Nr.removeEntry(l)})),$.waitFor(a)}getFromCache(n,a){return this.Nr.getEntry(n,a)}getAllFromCache(n,a){return this.Nr.getEntries(n,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(n){this.persistence=n,this.si=new ks((a=>dd(a)),md),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.oi=0,this._i=new _d,this.targetCount=0,this.ai=Br.ur()}forEachTarget(n,a){return this.si.forEach(((l,c)=>a(c))),$.resolve()}getLastRemoteSnapshotVersion(n){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return $.resolve(this.oi)}allocateTargetId(n){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(n,a,l){return l&&(this.lastRemoteSnapshotVersion=l),a>this.oi&&(this.oi=a),$.resolve()}Pr(n){this.si.set(n.target,n);const a=n.targetId;a>this.highestTargetId&&(this.ai=new Br(a),this.highestTargetId=a),n.sequenceNumber>this.oi&&(this.oi=n.sequenceNumber)}addTargetData(n,a){return this.Pr(a),this.targetCount+=1,$.resolve()}updateTargetData(n,a){return this.Pr(a),$.resolve()}removeTargetData(n,a){return this.si.delete(a.target),this._i.jr(a.targetId),this.targetCount-=1,$.resolve()}removeTargets(n,a,l){let c=0;const h=[];return this.si.forEach(((m,y)=>{y.sequenceNumber<=a&&l.get(y.targetId)===null&&(this.si.delete(m),h.push(this.removeMatchingKeysForTargetId(n,y.targetId)),c++)})),$.waitFor(h).next((()=>c))}getTargetCount(n){return $.resolve(this.targetCount)}getTargetData(n,a){const l=this.si.get(a)||null;return $.resolve(l)}addMatchingKeys(n,a,l){return this._i.Wr(a,l),$.resolve()}removeMatchingKeys(n,a,l){this._i.zr(a,l);const c=this.persistence.referenceDelegate,h=[];return c&&a.forEach((m=>{h.push(c.markPotentiallyOrphaned(n,m))})),$.waitFor(h)}removeMatchingKeysForTargetId(n,a){return this._i.jr(a),$.resolve()}getMatchingKeysForTargetId(n,a){const l=this._i.Hr(a);return $.resolve(l)}containsKey(n,a){return $.resolve(this._i.containsKey(a))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(n,a){this.ui={},this.overlays={},this.ci=new ld(0),this.li=!1,this.li=!0,this.hi=new $A,this.referenceDelegate=n(this),this.Pi=new tS(this),this.indexManager=new PA,this.remoteDocumentCache=(function(c){return new WA(c)})((l=>this.referenceDelegate.Ti(l))),this.serializer=new UA(a),this.Ii=new XA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let a=this.overlays[n.toKey()];return a||(a=new KA,this.overlays[n.toKey()]=a),a}getMutationQueue(n,a){let l=this.ui[n.toKey()];return l||(l=new ZA(a,this.referenceDelegate),this.ui[n.toKey()]=l),l}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(n,a,l){ut("MemoryPersistence","Starting transaction:",n);const c=new eS(this.ci.next());return this.referenceDelegate.Ei(),l(c).next((h=>this.referenceDelegate.di(c).next((()=>h)))).toPromise().then((h=>(c.raiseOnCommittedEvent(),h)))}Ai(n,a){return $.or(Object.values(this.ui).map((l=>()=>l.containsKey(n,a))))}}class eS extends O1{constructor(n){super(),this.currentSequenceNumber=n}}class vd{constructor(n){this.persistence=n,this.Ri=new _d,this.Vi=null}static mi(n){return new vd(n)}get fi(){if(this.Vi)return this.Vi;throw Dt(60996)}addReference(n,a,l){return this.Ri.addReference(l,a),this.fi.delete(l.toString()),$.resolve()}removeReference(n,a,l){return this.Ri.removeReference(l,a),this.fi.add(l.toString()),$.resolve()}markPotentiallyOrphaned(n,a){return this.fi.add(a.toString()),$.resolve()}removeTarget(n,a){this.Ri.jr(a.targetId).forEach((c=>this.fi.add(c.toString())));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(n,a.targetId).next((c=>{c.forEach((h=>this.fi.add(h.toString())))})).next((()=>l.removeTargetData(n,a)))}Ei(){this.Vi=new Set}di(n){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(l=>{const c=It.fromPath(l);return this.gi(n,c).next((h=>{h||a.removeEntry(c,fe.min())}))})).next((()=>(this.Vi=null,a.apply(n))))}updateLimboDocument(n,a){return this.gi(n,a).next((l=>{l?this.fi.delete(a.toString()):this.fi.add(a.toString())}))}Ti(n){return 0}gi(n,a){return $.or([()=>$.resolve(this.Ri.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(n,a),()=>this.persistence.Ai(n,a)])}}class Zu{constructor(n,a){this.persistence=n,this.pi=new ks((l=>U1(l.path)),((l,c)=>l.isEqual(c))),this.garbageCollector=GA(this,a)}static mi(n,a){return new Zu(n,a)}Ei(){}di(n){return $.resolve()}forEachTarget(n,a){return this.persistence.getTargetCache().forEachTarget(n,a)}gr(n){const a=this.wr(n);return this.persistence.getTargetCache().getTargetCount(n).next((l=>a.next((c=>l+c))))}wr(n){let a=0;return this.pr(n,(l=>{a++})).next((()=>a))}pr(n,a){return $.forEach(this.pi,((l,c)=>this.br(n,l,c).next((h=>h?$.resolve():a(c)))))}removeTargets(n,a,l){return this.persistence.getTargetCache().removeTargets(n,a,l)}removeOrphanedDocuments(n,a){let l=0;const c=this.persistence.getRemoteDocumentCache(),h=c.newChangeBuffer();return c.ii(n,(m=>this.br(n,m,a).next((y=>{y||(l++,h.removeEntry(m,fe.min()))})))).next((()=>h.apply(n))).next((()=>l))}markPotentiallyOrphaned(n,a){return this.pi.set(a,n.currentSequenceNumber),$.resolve()}removeTarget(n,a){const l=a.withSequenceNumber(n.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(n,l)}addReference(n,a,l){return this.pi.set(l,n.currentSequenceNumber),$.resolve()}removeReference(n,a,l){return this.pi.set(l,n.currentSequenceNumber),$.resolve()}updateLimboDocument(n,a){return this.pi.set(a,n.currentSequenceNumber),$.resolve()}Ti(n){let a=n.key.toString().length;return n.isFoundDocument()&&(a+=ju(n.data.value)),a}br(n,a,l){return $.or([()=>this.persistence.Ai(n,a),()=>this.persistence.getTargetCache().containsKey(n,a),()=>{const c=this.pi.get(a);return $.resolve(c!==void 0&&c>l)}])}getCacheSize(n){return this.persistence.getRemoteDocumentCache().getSize(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(n,a,l,c){this.targetId=n,this.fromCache=a,this.Es=l,this.ds=c}static As(n,a){let l=sn(),c=sn();for(const h of a.docChanges)switch(h.type){case 0:l=l.add(h.doc.key);break;case 1:c=c.add(h.doc.key)}return new Td(n,a.fromCache,l,c)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return WT()?8:V1(KT())>0?6:4})()}initialize(n,a){this.ps=n,this.indexManager=a,this.Rs=!0}getDocumentsMatchingQuery(n,a,l,c){const h={result:null};return this.ys(n,a).next((m=>{h.result=m})).next((()=>{if(!h.result)return this.ws(n,a,c,l).next((m=>{h.result=m}))})).next((()=>{if(h.result)return;const m=new nS;return this.Ss(n,a,m).next((y=>{if(h.result=y,this.Vs)return this.bs(n,a,m,y.size)}))})).next((()=>h.result))}bs(n,a,l,c){return l.documentReadCount<this.fs?(Mr()<=kt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Gl(a),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Mr()<=kt.DEBUG&&ut("QueryEngine","Query:",Gl(a),"scans",l.documentReadCount,"local documents and returns",c,"documents as results."),l.documentReadCount>this.gs*c?(Mr()<=kt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Gl(a),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,Os(a))):$.resolve())}ys(n,a){if(Cy(a))return $.resolve(null);let l=Os(a);return this.indexManager.getIndexType(n,l).next((c=>c===0?null:(a.limit!==null&&c===1&&(a=Hh(a,null,"F"),l=Os(a)),this.indexManager.getDocumentsMatchingTarget(n,l).next((h=>{const m=sn(...h);return this.ps.getDocuments(n,m).next((y=>this.indexManager.getMinOffset(n,l).next((T=>{const _=this.Ds(a,y);return this.Cs(a,_,m,T.readTime)?this.ys(n,Hh(a,null,"F")):this.vs(n,_,a,T)}))))})))))}ws(n,a,l,c){return Cy(a)||c.isEqual(fe.min())?$.resolve(null):this.ps.getDocuments(n,l).next((h=>{const m=this.Ds(a,h);return this.Cs(a,m,l,c)?$.resolve(null):(Mr()<=kt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Gl(a)),this.vs(n,m,a,N1(c,eo)).next((y=>y)))}))}Ds(n,a){let l=new We(aA(n));return a.forEach(((c,h)=>{gd(n,h)&&(l=l.add(h))})),l}Cs(n,a,l,c){if(n.limit===null)return!1;if(l.size!==a.size)return!0;const h=n.limitType==="F"?a.last():a.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(c)>0)}Ss(n,a,l){return Mr()<=kt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Gl(a)),this.ps.getDocumentsMatchingQuery(n,a,ka.min(),l)}vs(n,a,l,c){return this.ps.getDocumentsMatchingQuery(n,l,c).next((h=>(a.forEach((m=>{h=h.insert(m.key,m)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="LocalStore";class sS{constructor(n,a,l,c){this.persistence=n,this.Fs=a,this.serializer=c,this.Ms=new Tn($t),this.xs=new ks((h=>dd(h)),md),this.Os=new Map,this.Ns=n.getRemoteDocumentCache(),this.Pi=n.getTargetCache(),this.Ii=n.getBundleCache(),this.Bs(l)}Bs(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new YA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(a=>n.collect(a,this.Ms)))}}function rS(s,n,a,l){return new sS(s,n,a,l)}async function l_(s,n){const a=oe(s);return await a.persistence.runTransaction("Handle user change","readonly",(l=>{let c;return a.mutationQueue.getAllMutationBatches(l).next((h=>(c=h,a.Bs(n),a.mutationQueue.getAllMutationBatches(l)))).next((h=>{const m=[],y=[];let T=sn();for(const _ of c){m.push(_.batchId);for(const w of _.mutations)T=T.add(w.key)}for(const _ of h){y.push(_.batchId);for(const w of _.mutations)T=T.add(w.key)}return a.localDocuments.getDocuments(l,T).next((_=>({Ls:_,removedBatchIds:m,addedBatchIds:y})))}))}))}function lS(s,n){const a=oe(s);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",(l=>{const c=n.batch.keys(),h=a.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,T,_,w){const P=_.batch,L=P.keys();let et=$.resolve();return L.forEach((J=>{et=et.next((()=>w.getEntry(T,J))).next((ct=>{const lt=_.docVersions.get(J);Ee(lt!==null,48541),ct.version.compareTo(lt)<0&&(P.applyToRemoteDocument(ct,_),ct.isValidDocument()&&(ct.setReadTime(_.commitVersion),w.addEntry(ct)))}))})),et.next((()=>y.mutationQueue.removeMutationBatch(T,P)))})(a,l,n,h).next((()=>h.apply(l))).next((()=>a.mutationQueue.performConsistencyCheck(l))).next((()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,n.batch.batchId))).next((()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,(function(y){let T=sn();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(T=T.add(y.batch.mutations[_].key));return T})(n)))).next((()=>a.localDocuments.getDocuments(l,c)))}))}function oS(s){const n=oe(s);return n.persistence.runTransaction("Get last remote snapshot version","readonly",(a=>n.Pi.getLastRemoteSnapshotVersion(a)))}function uS(s,n){const a=oe(s);return a.persistence.runTransaction("Get next mutation batch","readonly",(l=>(n===void 0&&(n=od),a.mutationQueue.getNextMutationBatchAfterBatchId(l,n))))}class Uy{constructor(){this.activeTargetIds=cA()}zs(n){this.activeTargetIds=this.activeTargetIds.add(n)}js(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Gs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class cS{constructor(){this.Mo=new Uy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,a,l){}addLocalQueryTarget(n,a=!0){return a&&this.Mo.zs(n),this.xo[n]||"not-current"}updateQueryState(n,a,l){this.xo[n]=a}removeLocalQueryTarget(n){this.Mo.js(n)}isLocalQueryTarget(n){return this.Mo.activeTargetIds.has(n)}clearQueryState(n){delete this.xo[n]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(n){return this.Mo.activeTargetIds.has(n)}start(){return this.Mo=new Uy,Promise.resolve()}handleUserChange(n,a,l){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{Oo(n){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="ConnectivityMonitor";class Py{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(n){this.qo.push(n)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(jy,"Network connectivity changed: AVAILABLE");for(const n of this.qo)n(0)}ko(){ut(jy,"Network connectivity changed: UNAVAILABLE");for(const n of this.qo)n(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vu=null;function Yh(){return Vu===null?Vu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vu++,"0x"+Vu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh="RestConnection",hS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dS{get $o(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const a=n.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Uo=a+"://"+n.host,this.Ko=`projects/${l}/databases/${c}`,this.Wo=this.databaseId.database===Qu?`project_id=${l}`:`project_id=${l}&database_id=${c}`}Go(n,a,l,c,h){const m=Yh(),y=this.zo(n,a.toUriEncodedString());ut(Sh,`Sending RPC '${n}' ${m}:`,y,l);const T={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(T,c,h);const{host:_}=new URL(y),w=Wh(_);return this.Jo(n,y,T,l,w).then((P=>(ut(Sh,`Received RPC '${n}' ${m}: `,P),P)),(P=>{throw ac(Sh,`RPC '${n}' ${m} failed with error: `,P,"url: ",y,"request:",l),P}))}Ho(n,a,l,c,h,m){return this.Go(n,a,l,c,h)}jo(n,a,l){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+kr})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((c,h)=>n[h]=c)),l&&l.headers.forEach(((c,h)=>n[h]=c))}zo(n,a){const l=hS[n];return`${this.Uo}/v1/${a}:${l}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(n){this.Yo=n.Yo,this.Zo=n.Zo}Xo(n){this.e_=n}t_(n){this.n_=n}r_(n){this.i_=n}onMessage(n){this.s_=n}close(){this.Zo()}send(n){this.Yo(n)}o_(){this.e_()}__(){this.n_()}a_(n){this.i_(n)}u_(n){this.s_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class gS extends dS{constructor(n){super(n),this.c_=[],this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Jo(n,a,l,c,h){const m=Yh();return new Promise(((y,T)=>{const _=new v0;_.setWithCredentials(!0),_.listenOnce(T0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Uu.NO_ERROR:const P=_.getResponseJson();ut(nn,`XHR for RPC '${n}' ${m} received:`,JSON.stringify(P)),y(P);break;case Uu.TIMEOUT:ut(nn,`RPC '${n}' ${m} timed out`),T(new gt(W.DEADLINE_EXCEEDED,"Request time out"));break;case Uu.HTTP_ERROR:const L=_.getStatus();if(ut(nn,`RPC '${n}' ${m} failed with status:`,L,"response text:",_.getResponseText()),L>0){let et=_.getResponseJson();Array.isArray(et)&&(et=et[0]);const J=et?.error;if(J&&J.status&&J.message){const ct=(function(bt){const ft=bt.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ft)>=0?ft:W.UNKNOWN})(J.status);T(new gt(ct,J.message))}else T(new gt(W.UNKNOWN,"Server responded with status "+_.getStatus()))}else T(new gt(W.UNAVAILABLE,"Connection failed."));break;default:Dt(9055,{l_:n,streamId:m,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ut(nn,`RPC '${n}' ${m} completed.`)}}));const w=JSON.stringify(c);ut(nn,`RPC '${n}' ${m} sending request:`,c),_.send(a,"POST",w,l,15)}))}T_(n,a,l){const c=Yh(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",n,"/channel"],m=S0(),y=A0(),T={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(T.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(T.useFetchStreams=!0),this.jo(T.initMessageHeaders,a,l),T.encodeInitMessageHeaders=!0;const w=h.join("");ut(nn,`Creating RPC '${n}' stream ${c}: ${w}`,T);const P=m.createWebChannel(w,T);this.I_(P);let L=!1,et=!1;const J=new mS({Yo:lt=>{et?ut(nn,`Not sending because RPC '${n}' stream ${c} is closed:`,lt):(L||(ut(nn,`Opening RPC '${n}' stream ${c} transport.`),P.open(),L=!0),ut(nn,`RPC '${n}' stream ${c} sending:`,lt),P.send(lt))},Zo:()=>P.close()}),ct=(lt,bt,ft)=>{lt.listen(bt,(yt=>{try{ft(yt)}catch(Qt){setTimeout((()=>{throw Qt}),0)}}))};return ct(P,Ql.EventType.OPEN,(()=>{et||(ut(nn,`RPC '${n}' stream ${c} transport opened.`),J.o_())})),ct(P,Ql.EventType.CLOSE,(()=>{et||(et=!0,ut(nn,`RPC '${n}' stream ${c} transport closed`),J.a_(),this.E_(P))})),ct(P,Ql.EventType.ERROR,(lt=>{et||(et=!0,ac(nn,`RPC '${n}' stream ${c} transport errored. Name:`,lt.name,"Message:",lt.message),J.a_(new gt(W.UNAVAILABLE,"The operation could not be completed")))})),ct(P,Ql.EventType.MESSAGE,(lt=>{if(!et){const bt=lt.data[0];Ee(!!bt,16349);const ft=bt,yt=ft?.error||ft[0]?.error;if(yt){ut(nn,`RPC '${n}' stream ${c} received error:`,yt);const Qt=yt.status;let Rt=(function(A){const R=De[A];if(R!==void 0)return SA(R)})(Qt),Vt=yt.message;Rt===void 0&&(Rt=W.INTERNAL,Vt="Unknown error status: "+Qt+" with message "+yt.message),et=!0,J.a_(new gt(Rt,Vt)),P.close()}else ut(nn,`RPC '${n}' stream ${c} received:`,bt),J.u_(bt)}})),ct(y,E0.STAT_EVENT,(lt=>{lt.stat===jh.PROXY?ut(nn,`RPC '${n}' stream ${c} detected buffering proxy`):lt.stat===jh.NOPROXY&&ut(nn,`RPC '${n}' stream ${c} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((n=>n.close())),this.c_=[]}I_(n){this.c_.push(n)}E_(n){this.c_=this.c_.filter((a=>a===n))}}function bh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(s){return new bA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(n,a,l=1e3,c=1.5,h=6e4){this.Mi=n,this.timerId=a,this.d_=l,this.A_=c,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(n){this.cancel();const a=Math.floor(this.V_+this.y_()),l=Math.max(0,Date.now()-this.f_),c=Math.max(0,a-l);c>0&&ut("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.V_} ms, delay with jitter: ${a} ms, last attempt: ${l} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,c,(()=>(this.f_=Date.now(),n()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="PersistentStream";class pS{constructor(n,a,l,c,h,m,y,T){this.Mi=n,this.S_=l,this.b_=c,this.connection=h,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=y,this.listener=T,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new o_(n,a)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(n){this.Q_(),this.stream.send(n)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(n,a){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,n!==4?this.M_.reset():a&&a.code===W.RESOURCE_EXHAUSTED?(Us(a.toString()),Us("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):a&&a.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=n,await this.listener.r_(a)}K_(){}auth(){this.state=1;const n=this.W_(this.D_),a=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([l,c])=>{this.D_===a&&this.G_(l,c)}),(l=>{n((()=>{const c=new gt(W.UNKNOWN,"Fetching auth token failed: "+l.message);return this.z_(c)}))}))}G_(n,a){const l=this.W_(this.D_);this.stream=this.j_(n,a),this.stream.Xo((()=>{l((()=>this.listener.Xo()))})),this.stream.t_((()=>{l((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((c=>{l((()=>this.z_(c)))})),this.stream.onMessage((c=>{l((()=>++this.F_==1?this.J_(c):this.onNext(c)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(n){return ut(zy,`close with error: ${n}`),this.stream=null,this.close(4,n)}W_(n){return a=>{this.Mi.enqueueAndForget((()=>this.D_===n?a():(ut(zy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yS extends pS{constructor(n,a,l,c,h,m){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",a,l,c,m),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(n,a){return this.connection.T_("Write",n,a)}J_(n){return Ee(!!n.streamToken,31322),this.lastStreamToken=n.streamToken,Ee(!n.writeResults||n.writeResults.length===0,55816),this.listener.ta()}onNext(n){Ee(!!n.streamToken,12678),this.lastStreamToken=n.streamToken,this.M_.reset();const a=MA(n.writeResults,n.commitTime),l=Vr(n.commitTime);return this.listener.na(l,a)}ra(){const n={};n.database=NA(this.serializer),this.q_(n)}ea(n){const a={streamToken:this.lastStreamToken,writes:n.map((l=>xA(this.serializer,l)))};this.q_(a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{}class vS extends _S{constructor(n,a,l,c){super(),this.authCredentials=n,this.appCheckCredentials=a,this.connection=l,this.serializer=c,this.ia=!1}sa(){if(this.ia)throw new gt(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(n,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Go(n,Qh(a,l),c,h,m))).catch((h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new gt(W.UNKNOWN,h.toString())}))}Ho(n,a,l,c,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([m,y])=>this.connection.Ho(n,Qh(a,l),c,m,y,h))).catch((m=>{throw m.name==="FirebaseError"?(m.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new gt(W.UNKNOWN,m.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class TS{constructor(n,a){this.asyncQueue=n,this.onlineStateHandler=a,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(n){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.ca("Offline")))}set(n){this.Pa(),this.oa=0,n==="Online"&&(this.aa=!1),this.ca(n)}ca(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}la(n){const a=`Could not reach Cloud Firestore backend. ${n}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Us(a),this.aa=!1):ut("OnlineStateTracker",a)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="RemoteStore";class ES{constructor(n,a,l,c,h){this.localStore=n,this.datastore=a,this.asyncQueue=l,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((m=>{l.enqueueAndForget((async()=>{ho(this)&&(ut(co,"Restarting streams for network reachability change."),await(async function(T){const _=oe(T);_.Ea.add(4),await fo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await uc(_)})(this))}))})),this.Ra=new TS(l,c)}}async function uc(s){if(ho(s))for(const n of s.da)await n(!0)}async function fo(s){for(const n of s.da)await n(!1)}function ho(s){return oe(s).Ea.size===0}async function u_(s,n,a){if(!oo(n))throw n;s.Ea.add(1),await fo(s),s.Ra.set("Offline"),a||(a=()=>oS(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ut(co,"Retrying IndexedDB access"),await a(),s.Ea.delete(1),await uc(s)}))}function c_(s,n){return n().catch((a=>u_(s,a,n)))}async function cc(s){const n=oe(s),a=Ha(n);let l=n.Ta.length>0?n.Ta[n.Ta.length-1].batchId:od;for(;AS(n);)try{const c=await uS(n.localStore,l);if(c===null){n.Ta.length===0&&a.L_();break}l=c.batchId,SS(n,c)}catch(c){await u_(n,c)}f_(n)&&h_(n)}function AS(s){return ho(s)&&s.Ta.length<10}function SS(s,n){s.Ta.push(n);const a=Ha(s);a.O_()&&a.X_&&a.ea(n.mutations)}function f_(s){return ho(s)&&!Ha(s).x_()&&s.Ta.length>0}function h_(s){Ha(s).start()}async function bS(s){Ha(s).ra()}async function RS(s){const n=Ha(s);for(const a of s.Ta)n.ea(a.mutations)}async function wS(s,n,a){const l=s.Ta.shift(),c=yd.from(l,n,a);await c_(s,(()=>s.remoteSyncer.applySuccessfulWrite(c))),await cc(s)}async function CS(s,n){n&&Ha(s).X_&&await(async function(l,c){if((function(m){return AA(m)&&m!==W.ABORTED})(c.code)){const h=l.Ta.shift();Ha(l).B_(),await c_(l,(()=>l.remoteSyncer.rejectFailedWrite(h.batchId,c))),await cc(l)}})(s,n),f_(s)&&h_(s)}async function By(s,n){const a=oe(s);a.asyncQueue.verifyOperationInProgress(),ut(co,"RemoteStore received new credentials");const l=ho(a);a.Ea.add(3),await fo(a),l&&a.Ra.set("Unknown"),await a.remoteSyncer.handleCredentialChange(n),a.Ea.delete(3),await uc(a)}async function IS(s,n){const a=oe(s);n?(a.Ea.delete(2),await uc(a)):n||(a.Ea.add(2),await fo(a),a.Ra.set("Unknown"))}function Ha(s){return s.fa||(s.fa=(function(a,l,c){const h=oe(a);return h.sa(),new yS(l,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,c)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:bS.bind(null,s),r_:CS.bind(null,s),ta:RS.bind(null,s),na:wS.bind(null,s)}),s.da.push((async n=>{n?(s.fa.B_(),await cc(s)):(await s.fa.stop(),s.Ta.length>0&&(ut(co,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(n,a,l,c,h){this.asyncQueue=n,this.timerId=a,this.targetTimeMs=l,this.op=c,this.removalCallback=h,this.deferred=new Ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(n,a,l,c,h){const m=Date.now()+l,y=new Ed(n,a,m,c,h);return y.start(l),y}start(n){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(W.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((n=>this.deferred.resolve(n)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function d_(s,n){if(Us("AsyncQueue",`${n}: ${s}`),oo(s))return new gt(W.UNAVAILABLE,`${n}: ${s}`);throw s}class NS{constructor(){this.queries=ky(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(a,l){const c=oe(a),h=c.queries;c.queries=ky(),h.forEach(((m,y)=>{for(const T of y.Sa)T.onError(l)}))})(this,new gt(W.ABORTED,"Firestore shutting down"))}}function ky(){return new ks((s=>Q0(s)),G0)}function DS(s){s.Ca.forEach((n=>{n.next()}))}var qy,Hy;(Hy=qy||(qy={})).Ma="default",Hy.Cache="cache";const xS="SyncEngine";class MS{constructor(n,a,l,c,h,m){this.localStore=n,this.remoteStore=a,this.eventManager=l,this.sharedClientState=c,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new ks((y=>Q0(y)),G0),this.Iu=new Map,this.Eu=new Set,this.du=new Tn(It.comparator),this.Au=new Map,this.Ru=new _d,this.Vu={},this.mu=new Map,this.fu=Br.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function OS(s,n,a){const l=jS(s);try{const c=await(function(m,y){const T=oe(m),_=he.now(),w=y.reduce(((et,J)=>et.add(J.key)),sn());let P,L;return T.persistence.runTransaction("Locally write mutations","readwrite",(et=>{let J=Ku(),ct=sn();return T.Ns.getEntries(et,w).next((lt=>{J=lt,J.forEach(((bt,ft)=>{ft.isValidDocument()||(ct=ct.add(bt))}))})).next((()=>T.localDocuments.getOverlayedDocuments(et,J))).next((lt=>{P=lt;const bt=[];for(const ft of y){const yt=_A(ft,P.get(ft.key).overlayedDocument);yt!=null&&bt.push(new qs(ft.key,yt,j0(yt.value.mapValue),aa.exists(!0)))}return T.mutationQueue.addMutationBatch(et,_,bt,y)})).next((lt=>{L=lt;const bt=lt.applyToLocalDocumentSet(P,ct);return T.documentOverlayCache.saveOverlays(et,lt.batchId,bt)}))})).then((()=>({batchId:L.batchId,changes:Y0(P)})))})(l.localStore,n);l.sharedClientState.addPendingMutation(c.batchId),(function(m,y,T){let _=m.Vu[m.currentUser.toKey()];_||(_=new Tn($t)),_=_.insert(y,T),m.Vu[m.currentUser.toKey()]=_})(l,c.batchId,a),await fc(l,c.changes),await cc(l.remoteStore)}catch(c){const h=d_(c,"Failed to persist write");a.reject(h)}}function Gy(s,n,a){const l=oe(s);if(l.isPrimaryClient&&a===0||!l.isPrimaryClient&&a===1){const c=[];l.Tu.forEach(((h,m)=>{const y=m.view.va(n);y.snapshot&&c.push(y.snapshot)})),(function(m,y){const T=oe(m);T.onlineState=y;let _=!1;T.queries.forEach(((w,P)=>{for(const L of P.Sa)L.va(y)&&(_=!0)})),_&&DS(T)})(l.eventManager,n),c.length&&l.Pu.H_(c),l.onlineState=n,l.isPrimaryClient&&l.sharedClientState.setOnlineState(n)}}async function VS(s,n){const a=oe(s),l=n.batch.batchId;try{const c=await lS(a.localStore,n);g_(a,l,null),m_(a,l),a.sharedClientState.updateMutationState(l,"acknowledged"),await fc(a,c)}catch(c){await rd(c)}}async function LS(s,n,a){const l=oe(s);try{const c=await(function(m,y){const T=oe(m);return T.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let w;return T.mutationQueue.lookupMutationBatch(_,y).next((P=>(Ee(P!==null,37113),w=P.keys(),T.mutationQueue.removeMutationBatch(_,P)))).next((()=>T.mutationQueue.performConsistencyCheck(_))).next((()=>T.documentOverlayCache.removeOverlaysForBatchId(_,w,y))).next((()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w))).next((()=>T.localDocuments.getDocuments(_,w)))}))})(l.localStore,n);g_(l,n,a),m_(l,n),l.sharedClientState.updateMutationState(n,"rejected",a),await fc(l,c)}catch(c){await rd(c)}}function m_(s,n){(s.mu.get(n)||[]).forEach((a=>{a.resolve()})),s.mu.delete(n)}function g_(s,n,a){const l=oe(s);let c=l.Vu[l.currentUser.toKey()];if(c){const h=c.get(n);h&&(a?h.reject(a):h.resolve(),c=c.remove(n)),l.Vu[l.currentUser.toKey()]=c}}async function fc(s,n,a){const l=oe(s),c=[],h=[],m=[];l.Tu.isEmpty()||(l.Tu.forEach(((y,T)=>{m.push(l.pu(T,n,a).then((_=>{if((_||a)&&l.isPrimaryClient){const w=_?!_.fromCache:a?.targetChanges.get(T.targetId)?.current;l.sharedClientState.updateQueryState(T.targetId,w?"current":"not-current")}if(_){c.push(_);const w=Td.As(T.targetId,_);h.push(w)}})))})),await Promise.all(m),l.Pu.H_(c),await(async function(T,_){const w=oe(T);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(P=>$.forEach(_,(L=>$.forEach(L.Es,(et=>w.persistence.referenceDelegate.addReference(P,L.targetId,et))).next((()=>$.forEach(L.ds,(et=>w.persistence.referenceDelegate.removeReference(P,L.targetId,et)))))))))}catch(P){if(!oo(P))throw P;ut(aS,"Failed to update sequence numbers: "+P)}for(const P of _){const L=P.targetId;if(!P.fromCache){const et=w.Ms.get(L),J=et.snapshotVersion,ct=et.withLastLimboFreeSnapshotVersion(J);w.Ms=w.Ms.insert(L,ct)}}})(l.localStore,h))}async function US(s,n){const a=oe(s);if(!a.currentUser.isEqual(n)){ut(xS,"User change. New user:",n.toKey());const l=await l_(a.localStore,n);a.currentUser=n,(function(h,m){h.mu.forEach((y=>{y.forEach((T=>{T.reject(new gt(W.CANCELLED,m))}))})),h.mu.clear()})(a,"'waitForPendingWrites' promise is rejected due to a user change."),a.sharedClientState.handleUserChange(n,l.removedBatchIds,l.addedBatchIds),await fc(a,l.Ls)}}function jS(s){const n=oe(s);return n.remoteStore.remoteSyncer.applySuccessfulWrite=VS.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=LS.bind(null,n),n}class Wu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=oc(n.databaseInfo.databaseId),this.sharedClientState=this.Du(n),this.persistence=this.Cu(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Fu(n,this.localStore),this.indexBackfillerScheduler=this.Mu(n,this.localStore)}Fu(n,a){return null}Mu(n,a){return null}vu(n){return rS(this.persistence,new iS,n.initialUser,this.serializer)}Cu(n){return new r_(vd.mi,this.serializer)}Du(n){return new cS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wu.provider={build:()=>new Wu};class PS extends Wu{constructor(n){super(),this.cacheSizeBytes=n}Fu(n,a){Ee(this.persistence.referenceDelegate instanceof Zu,46915);const l=this.persistence.referenceDelegate.garbageCollector;return new qA(l,n.asyncQueue,a)}Cu(n){const a=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new r_((l=>Zu.mi(l,a)),this.serializer)}}class Xh{async initialize(n,a){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(a),this.remoteStore=this.createRemoteStore(a),this.eventManager=this.createEventManager(a),this.syncEngine=this.createSyncEngine(a,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=l=>Gy(this.syncEngine,l,1),this.remoteStore.remoteSyncer.handleCredentialChange=US.bind(null,this.syncEngine),await IS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new NS})()}createDatastore(n){const a=oc(n.databaseInfo.databaseId),l=(function(h){return new gS(h)})(n.databaseInfo);return(function(h,m,y,T){return new vS(h,m,y,T)})(n.authCredentials,n.appCheckCredentials,l,a)}createRemoteStore(n){return(function(l,c,h,m,y){return new ES(l,c,h,m,y)})(this.localStore,this.datastore,n.asyncQueue,(a=>Gy(this.syncEngine,a,0)),(function(){return Py.v()?new Py:new fS})())}createSyncEngine(n,a){return(function(c,h,m,y,T,_,w){const P=new MS(c,h,m,y,T,_);return w&&(P.gu=!0),P})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,a)}async terminate(){await(async function(a){const l=oe(a);ut(co,"RemoteStore shutting down."),l.Ea.add(5),await fo(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xh.provider={build:()=>new Xh};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="FirestoreClient";class zS{constructor(n,a,l,c,h){this.authCredentials=n,this.appCheckCredentials=a,this.asyncQueue=l,this.databaseInfo=c,this.user=an.UNAUTHENTICATED,this.clientId=ad.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(l,(async m=>{ut(Ga,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m})),this.appCheckCredentials.start(l,(m=>(ut(Ga,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){this.asyncQueue.enterRestrictedMode();const n=new Ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),n.resolve()}catch(a){const l=d_(a,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}async function Rh(s,n){s.asyncQueue.verifyOperationInProgress(),ut(Ga,"Initializing OfflineComponentProvider");const a=s.configuration;await n.initialize(a);let l=a.initialUser;s.setCredentialChangeListener((async c=>{l.isEqual(c)||(await l_(n.localStore,c),l=c)})),n.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=n}async function Qy(s,n){s.asyncQueue.verifyOperationInProgress();const a=await BS(s);ut(Ga,"Initializing OnlineComponentProvider"),await n.initialize(a,s.configuration),s.setCredentialChangeListener((l=>By(n.remoteStore,l))),s.setAppCheckTokenChangeListener(((l,c)=>By(n.remoteStore,c))),s._onlineComponents=n}async function BS(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ut(Ga,"Using user provided OfflineComponentProvider");try{await Rh(s,s._uninitializedComponentsProvider._offline)}catch(n){const a=n;if(!(function(c){return c.name==="FirebaseError"?c.code===W.FAILED_PRECONDITION||c.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11})(a))throw a;ac("Error using user provided cache. Falling back to memory cache: "+a),await Rh(s,new Wu)}}else ut(Ga,"Using default OfflineComponentProvider"),await Rh(s,new PS(void 0));return s._offlineComponents}async function kS(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ut(Ga,"Using user provided OnlineComponentProvider"),await Qy(s,s._uninitializedComponentsProvider._online)):(ut(Ga,"Using default OnlineComponentProvider"),await Qy(s,new Xh))),s._onlineComponents}function qS(s){return kS(s).then((n=>n.syncEngine))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(s){const n={};return s.timeoutSeconds!==void 0&&(n.timeoutSeconds=s.timeoutSeconds),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="firestore.googleapis.com",Yy=!0;class Xy{constructor(n){if(n.host===void 0){if(n.ssl!==void 0)throw new gt(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=y_,this.ssl=Yy}else this.host=n.host,this.ssl=n.ssl??Yy;if(this.isUsingEmulator=n.emulatorOptions!==void 0,this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,n.cacheSizeBytes===void 0)this.cacheSizeBytes=s_;else{if(n.cacheSizeBytes!==-1&&n.cacheSizeBytes<BA)throw new gt(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}I1("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:n.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p_(n.experimentalLongPollingOptions??{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new gt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new gt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new gt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&(function(l,c){return l.timeoutSeconds===c.timeoutSeconds})(this.experimentalLongPollingOptions,n.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class hc{constructor(n,a,l,c){this._authCredentials=n,this._appCheckCredentials=a,this._databaseId=l,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(n){if(this._settingsFrozen)throw new gt(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xy(n),this._emulatorOptions=n.emulatorOptions||{},n.credentials!==void 0&&(this._authCredentials=(function(l){if(!l)return new _1;switch(l.type){case"firstParty":return new A1(l.sessionIndex||"0",l.iamToken||null,l.authTokenFactory||null);case"provider":return l.client;default:throw new gt(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(a){const l=Fy.get(a);l&&(ut("ComponentProvider","Removing Datastore"),Fy.delete(a),l.terminate())})(this),Promise.resolve()}}function HS(s,n,a,l={}){s=I0(s,hc);const c=Wh(n),h=s._getSettings(),m={...h,emulatorOptions:s._getEmulatorOptions()},y=`${n}:${a}`;c&&(GT(`https://${y}`),XT("Firestore",!0)),h.host!==y_&&h.host!==y&&ac("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const T={...h,host:y,ssl:c,emulatorOptions:l};if(!Jl(T,m)&&(s._setSettings(T),l.mockUserToken)){let _,w;if(typeof l.mockUserToken=="string")_=l.mockUserToken,w=an.MOCK_USER;else{_=QT(l.mockUserToken,s._app?.options.projectId);const P=l.mockUserToken.sub||l.mockUserToken.user_id;if(!P)throw new gt(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new an(P)}s._authCredentials=new v1(new R0(_,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(n,a,l){this.converter=a,this._query=l,this.type="query",this.firestore=n}withConverter(n){return new Ad(this.firestore,n,this._query)}}class rn{constructor(n,a,l){this.converter=a,this._key=l,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new za(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new rn(this.firestore,n,this._key)}toJSON(){return{type:rn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(n,a,l){if(lo(a,rn._jsonSchema))return new rn(n,l||null,new It(ge.fromString(a.referencePath)))}}rn._jsonSchemaVersion="firestore/documentReference/1.0",rn._jsonSchema={type:xe("string",rn._jsonSchemaVersion),referencePath:xe("string")};class za extends Ad{constructor(n,a,l){super(n,a,eA(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new rn(this.firestore,null,new It(n))}withConverter(n){return new za(this.firestore,n,this._path)}}function GS(s,n,...a){if(s=Vs(s),w0("collection","path",n),s instanceof hc){const l=ge.fromString(n,...a);return py(l),new za(s,null,l)}{if(!(s instanceof rn||s instanceof za))throw new gt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=s._path.child(ge.fromString(n,...a));return py(l),new za(s.firestore,null,l)}}function QS(s,n,...a){if(s=Vs(s),arguments.length===1&&(n=ad.newId()),w0("doc","path",n),s instanceof hc){const l=ge.fromString(n,...a);return gy(l),new rn(s,null,new It(l))}{if(!(s instanceof rn||s instanceof za))throw new gt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=s._path.child(ge.fromString(n,...a));return gy(l),new rn(s.firestore,s instanceof za?s.converter:null,new It(l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="AsyncQueue";class $y{constructor(n=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new o_(this,"async_queue_retry"),this._c=()=>{const l=bh();l&&ut(Ky,"Visibility state changed to "+l.visibilityState),this.M_.w_()},this.ac=n;const a=bh();a&&typeof a.addEventListener=="function"&&a.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.uc(),this.cc(n)}enterRestrictedMode(n){if(!this.ec){this.ec=!0,this.sc=n||!1;const a=bh();a&&typeof a.removeEventListener=="function"&&a.removeEventListener("visibilitychange",this._c)}}enqueue(n){if(this.uc(),this.ec)return new Promise((()=>{}));const a=new Ms;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(n().then(a.resolve,a.reject),a.promise))).then((()=>a.promise))}enqueueRetryable(n){this.enqueueAndForget((()=>(this.Xu.push(n),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(n){if(!oo(n))throw n;ut(Ky,"Operation failed with retryable error: "+n)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(n){const a=this.ac.then((()=>(this.rc=!0,n().catch((l=>{throw this.nc=l,this.rc=!1,Us("INTERNAL UNHANDLED ERROR: ",Zy(l)),l})).then((l=>(this.rc=!1,l))))));return this.ac=a,a}enqueueAfterDelay(n,a,l){this.uc(),this.oc.indexOf(n)>-1&&(a=0);const c=Ed.createAndSchedule(this,n,a,l,(h=>this.hc(h)));return this.tc.push(c),c}uc(){this.nc&&Dt(47125,{Pc:Zy(this.nc)})}verifyOperationInProgress(){}async Tc(){let n;do n=this.ac,await n;while(n!==this.ac)}Ic(n){for(const a of this.tc)if(a.timerId===n)return!0;return!1}Ec(n){return this.Tc().then((()=>{this.tc.sort(((a,l)=>a.targetTimeMs-l.targetTimeMs));for(const a of this.tc)if(a.skipDelay(),n!=="all"&&a.timerId===n)break;return this.Tc()}))}dc(n){this.oc.push(n)}hc(n){const a=this.tc.indexOf(n);this.tc.splice(a,1)}}function Zy(s){let n=s.message||"";return s.stack&&(n=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),n}class __ extends hc{constructor(n,a,l,c){super(n,a,l,c),this.type="firestore",this._queue=new $y,this._persistenceKey=c?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const n=this._firestoreClient.terminate();this._queue=new $y(n),this._firestoreClient=void 0,await n}}}function FS(s,n){const a=typeof s=="object"?s:p0(),l=typeof s=="string"?s:Qu,c=ro(a,"firestore").getImmediate({identifier:l});if(!c._initialized){const h=qT("firestore");h&&HS(c,...h)}return c}function YS(s){if(s._terminated)throw new gt(W.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||XS(s),s._firestoreClient}function XS(s){const n=s._freezeSettings(),a=(function(c,h,m,y){return new B1(c,h,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,p_(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,n);s._componentsProvider||n.localCache?._offlineComponentProvider&&n.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:n.localCache._offlineComponentProvider,_online:n.localCache._onlineComponentProvider}),s._firestoreClient=new zS(s._authCredentials,s._appCheckCredentials,s._queue,a,s._componentsProvider&&(function(c){const h=c?._online.build();return{_offline:c?._offline.build(h),_online:h}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(n){this._byteString=n}static fromBase64String(n){try{return new si(Mi.fromBase64String(n))}catch(a){throw new gt(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(n){return new si(Mi.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(n){if(lo(n,si._jsonSchema))return si.fromBase64String(n.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:xe("string",si._jsonSchemaVersion),bytes:xe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(...n){for(let a=0;a<n.length;++a)if(n[a].length===0)throw new gt(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(n){this._methodName=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(n,a){if(!isFinite(n)||n<-90||n>90)throw new gt(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(a)||a<-180||a>180)throw new gt(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=n,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}_compareTo(n){return $t(this._lat,n._lat)||$t(this._long,n._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:sa._jsonSchemaVersion}}static fromJSON(n){if(lo(n,sa._jsonSchema))return new sa(n.latitude,n.longitude)}}sa._jsonSchemaVersion="firestore/geoPoint/1.0",sa._jsonSchema={type:xe("string",sa._jsonSchemaVersion),latitude:xe("number"),longitude:xe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(n){this._values=(n||[]).map((a=>a))}toArray(){return this._values.map((n=>n))}isEqual(n){return(function(l,c){if(l.length!==c.length)return!1;for(let h=0;h<l.length;++h)if(l[h]!==c[h])return!1;return!0})(this._values,n._values)}toJSON(){return{type:ra._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(n){if(lo(n,ra._jsonSchema)){if(Array.isArray(n.vectorValues)&&n.vectorValues.every((a=>typeof a=="number")))return new ra(n.vectorValues);throw new gt(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ra._jsonSchemaVersion="firestore/vectorValue/1.0",ra._jsonSchema={type:xe("string",ra._jsonSchemaVersion),vectorValues:xe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=/^__.*__$/;class $S{constructor(n,a,l){this.data=n,this.fieldMask=a,this.fieldTransforms=l}toMutation(n,a){return this.fieldMask!==null?new qs(n,this.data,this.fieldMask,a,this.fieldTransforms):new uo(n,this.data,a,this.fieldTransforms)}}function v_(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt(40011,{Ac:s})}}class Rd{constructor(n,a,l,c,h,m){this.settings=n,this.databaseId=a,this.serializer=l,this.ignoreUndefinedProperties=c,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(n){return new Rd({...this.settings,...n},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(n){const a=this.path?.child(n),l=this.Vc({path:a,fc:!1});return l.gc(n),l}yc(n){const a=this.path?.child(n),l=this.Vc({path:a,fc:!1});return l.Rc(),l}wc(n){return this.Vc({path:void 0,fc:!0})}Sc(n){return Ju(n,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(n){return this.fieldMask.find((a=>n.isPrefixOf(a)))!==void 0||this.fieldTransforms.find((a=>n.isPrefixOf(a.field)))!==void 0}Rc(){if(this.path)for(let n=0;n<this.path.length;n++)this.gc(this.path.get(n))}gc(n){if(n.length===0)throw this.Sc("Document fields must not be empty");if(v_(this.Ac)&&KS.test(n))throw this.Sc('Document fields cannot begin and end with "__"')}}class ZS{constructor(n,a,l){this.databaseId=n,this.ignoreUndefinedProperties=a,this.serializer=l||oc(n)}Cc(n,a,l,c=!1){return new Rd({Ac:n,methodName:a,Dc:l,path:Ze.emptyPath(),fc:!1,bc:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function WS(s){const n=s._freezeSettings(),a=oc(s._databaseId);return new ZS(s._databaseId,!!n.ignoreUndefinedProperties,a)}function JS(s,n,a,l,c,h={}){const m=s.Cc(h.merge||h.mergeFields?2:0,n,a,c);S_("Data must be an object, but it was:",m,l);const y=E_(l,m);let T,_;if(h.merge)T=new ri(m.fieldMask),_=m.fieldTransforms;else if(h.mergeFields){const w=[];for(const P of h.mergeFields){const L=t2(n,P,a);if(!m.contains(L))throw new gt(W.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);n2(w,L)||w.push(L)}T=new ri(w),_=m.fieldTransforms.filter((P=>T.covers(P.field)))}else T=null,_=m.fieldTransforms;return new $S(new ai(y),T,_)}class wd extends bd{_toFieldTransform(n){return new mA(n.path,new io)}isEqual(n){return n instanceof wd}}function T_(s,n){if(A_(s=Vs(s)))return S_("Unsupported field value:",n,s),E_(s,n);if(s instanceof bd)return(function(l,c){if(!v_(c.Ac))throw c.Sc(`${l._methodName}() can only be used with update() and set()`);if(!c.path)throw c.Sc(`${l._methodName}() is not currently supported inside arrays`);const h=l._toFieldTransform(c);h&&c.fieldTransforms.push(h)})(s,n),null;if(s===void 0&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),s instanceof Array){if(n.settings.fc&&n.Ac!==4)throw n.Sc("Nested arrays are not supported");return(function(l,c){const h=[];let m=0;for(const y of l){let T=T_(y,c.wc(m));T==null&&(T={nullValue:"NULL_VALUE"}),h.push(T),m++}return{arrayValue:{values:h}}})(s,n)}return(function(l,c){if((l=Vs(l))===null)return{nullValue:"NULL_VALUE"};if(typeof l=="number")return fA(c.serializer,l);if(typeof l=="boolean")return{booleanValue:l};if(typeof l=="string")return{stringValue:l};if(l instanceof Date){const h=he.fromDate(l);return{timestampValue:Gh(c.serializer,h)}}if(l instanceof he){const h=new he(l.seconds,1e3*Math.floor(l.nanoseconds/1e3));return{timestampValue:Gh(c.serializer,h)}}if(l instanceof sa)return{geoPointValue:{latitude:l.latitude,longitude:l.longitude}};if(l instanceof si)return{bytesValue:RA(c.serializer,l._byteString)};if(l instanceof rn){const h=c.databaseId,m=l.firestore._databaseId;if(!m.isEqual(h))throw c.Sc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:i_(l.firestore._databaseId||c.databaseId,l._key.path)}}if(l instanceof ra)return(function(m,y){return{mapValue:{fields:{[L0]:{stringValue:U0},[zh]:{arrayValue:{values:m.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return pd(y.serializer,_)}))}}}}}})(l,c);throw c.Sc(`Unsupported field value: ${sd(l)}`)})(s,n)}function E_(s,n){const a={};return D0(s)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):qr(s,((l,c)=>{const h=T_(c,n.mc(l));h!=null&&(a[l]=h)})),{mapValue:{fields:a}}}function A_(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof he||s instanceof sa||s instanceof si||s instanceof rn||s instanceof bd||s instanceof ra)}function S_(s,n,a){if(!A_(a)||!C0(a)){const l=sd(a);throw l==="an object"?n.Sc(s+" a custom object"):n.Sc(s+" "+l)}}function t2(s,n,a){if((n=Vs(n))instanceof Sd)return n._internalPath;if(typeof n=="string")return b_(s,n);throw Ju("Field path arguments must be of type string or ",s,!1,void 0,a)}const e2=new RegExp("[~\\*/\\[\\]]");function b_(s,n,a){if(n.search(e2)>=0)throw Ju(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,a);try{return new Sd(...n.split("."))._internalPath}catch{throw Ju(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,a)}}function Ju(s,n,a,l,c){const h=l&&!l.isEmpty(),m=c!==void 0;let y=`Function ${n}() called with invalid data`;a&&(y+=" (via `toFirestore()`)"),y+=". ";let T="";return(h||m)&&(T+=" (found",h&&(T+=` in field ${l}`),m&&(T+=` in document ${c}`),T+=")"),new gt(W.INVALID_ARGUMENT,y+s+T)}function n2(s,n){return s.some((a=>a.isEqual(n)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(n,a,l,c,h){this._firestore=n,this._userDataWriter=a,this._key=l,this._document=c,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const n=new i2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const a=this._document.data.field(w_("DocumentSnapshot.get",n));if(a!==null)return this._userDataWriter.convertValue(a)}}}class i2 extends R_{data(){return super.data()}}function w_(s,n){return typeof n=="string"?b_(s,n):n instanceof Sd?n._internalPath:n._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(s,n,a){let l;return l=s?s.toFirestore(n):n,l}class Lu{constructor(n,a){this.hasPendingWrites=n,this.fromCache=a}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Lr extends R_{constructor(n,a,l,c,h,m){super(n,a,l,c,m),this._firestore=n,this._firestoreImpl=n,this.metadata=h}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const a=new Bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,a={}){if(this._document){const l=this._document.data.field(w_("DocumentSnapshot.get",n));if(l!==null)return this._userDataWriter.convertValue(l,a.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n=this._document,a={};return a.type=Lr._jsonSchemaVersion,a.bundle="",a.bundleSource="DocumentSnapshot",a.bundleName=this._key.toString(),!n||!n.isValidDocument()||!n.isFoundDocument()?a:(this._userDataWriter.convertObjectMap(n.data.value.mapValue.fields,"previous"),a.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),a)}}Lr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Lr._jsonSchema={type:xe("string",Lr._jsonSchemaVersion),bundleSource:xe("string","DocumentSnapshot"),bundleName:xe("string"),bundle:xe("string")};class Bu extends Lr{data(n={}){return super.data(n)}}class Zl{constructor(n,a,l,c){this._firestore=n,this._userDataWriter=a,this._snapshot=c,this.metadata=new Lu(c.hasPendingWrites,c.fromCache),this.query=l}get docs(){const n=[];return this.forEach((a=>n.push(a))),n}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(n,a){this._snapshot.docs.forEach((l=>{n.call(a,new Bu(this._firestore,this._userDataWriter,l.key,l,new Lu(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(n={}){const a=!!n.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new gt(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=(function(c,h){if(c._snapshot.oldDocs.isEmpty()){let m=0;return c._snapshot.docChanges.map((y=>{const T=new Bu(c._firestore,c._userDataWriter,y.doc.key,y.doc,new Lu(c._snapshot.mutatedKeys.has(y.doc.key),c._snapshot.fromCache),c.query.converter);return y.doc,{type:"added",doc:T,oldIndex:-1,newIndex:m++}}))}{let m=c._snapshot.oldDocs;return c._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const T=new Bu(c._firestore,c._userDataWriter,y.doc.key,y.doc,new Lu(c._snapshot.mutatedKeys.has(y.doc.key),c._snapshot.fromCache),c.query.converter);let _=-1,w=-1;return y.type!==0&&(_=m.indexOf(y.doc.key),m=m.delete(y.doc.key)),y.type!==1&&(m=m.add(y.doc),w=m.indexOf(y.doc.key)),{type:s2(y.type),doc:T,oldIndex:_,newIndex:w}}))}})(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n={};n.type=Zl._jsonSchemaVersion,n.bundleSource="QuerySnapshot",n.bundleName=ad.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const a=[],l=[],c=[];return this.docs.forEach((h=>{h._document!==null&&(a.push(h._document),l.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),c.push(h.ref.path))})),n.bundle=(this._firestore,this.query._query,n.bundleName,"NOT SUPPORTED"),n}}function s2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt(61501,{type:s})}}Zl._jsonSchemaVersion="firestore/querySnapshot/1.0",Zl._jsonSchema={type:xe("string",Zl._jsonSchemaVersion),bundleSource:xe("string","QuerySnapshot"),bundleName:xe("string"),bundle:xe("string")};function r2(s,n){const a=I0(s.firestore,__),l=QS(s),c=a2(s.converter,n);return l2(a,[JS(WS(s.firestore),"addDoc",l._key,c,s.converter!==null,{}).toMutation(l._key,aa.exists(!1))]).then((()=>l))}function l2(s,n){return(function(l,c){const h=new Ms;return l.asyncQueue.enqueueAndForget((async()=>OS(await qS(l),c,h))),h.promise})(YS(s),n)}function o2(){return new wd("serverTimestamp")}(function(n,a=!0){(function(c){kr=c})(s1),Ba(new la("firestore",((l,{instanceIdentifier:c,options:h})=>{const m=l.getProvider("app").getImmediate(),y=new __(new T1(l.getProvider("auth-internal")),new S1(m,l.getProvider("app-check-internal")),(function(_,w){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new gt(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fu(_.options.projectId,w)})(m,c),m);return h={useFetchStreams:a,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),xi(fy,hy,n),xi(fy,hy,"esm2020")})();const C_="@firebase/installations",Cd="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=1e4,N_=`w:${Cd}`,D_="FIS_v2",u2="https://firebaseinstallations.googleapis.com/v1",c2=3600*1e3,f2="installations",h2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},zs=new ic(f2,h2,d2);function x_(s){return s instanceof Qa&&s.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_({projectId:s}){return`${u2}/projects/${s}/installations`}function O_(s){return{token:s.token,requestStatus:2,expiresIn:g2(s.expiresIn),creationTime:Date.now()}}async function V_(s,n){const l=(await n.json()).error;return zs.create("request-failed",{requestName:s,serverCode:l.code,serverMessage:l.message,serverStatus:l.status})}function L_({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function m2(s,{refreshToken:n}){const a=L_(s);return a.append("Authorization",p2(n)),a}async function U_(s){const n=await s();return n.status>=500&&n.status<600?s():n}function g2(s){return Number(s.replace("s","000"))}function p2(s){return`${D_} ${s}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y2({appConfig:s,heartbeatServiceProvider:n},{fid:a}){const l=M_(s),c=L_(s),h=n.getImmediate({optional:!0});if(h){const _=await h.getHeartbeatsHeader();_&&c.append("x-firebase-client",_)}const m={fid:a,authVersion:D_,appId:s.appId,sdkVersion:N_},y={method:"POST",headers:c,body:JSON.stringify(m)},T=await U_(()=>fetch(l,y));if(T.ok){const _=await T.json();return{fid:_.fid||a,registrationStatus:2,refreshToken:_.refreshToken,authToken:O_(_.authToken)}}else throw await V_("Create Installation",T)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(s){return new Promise(n=>{setTimeout(n,s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=/^[cdef][\w-]{21}$/,Kh="";function T2(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const a=E2(s);return v2.test(a)?a:Kh}catch{return Kh}}function E2(s){return _2(s).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(s){return`${s.appName}!${s.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=new Map;function z_(s,n){const a=dc(s);B_(a,n),A2(a,n)}function B_(s,n){const a=P_.get(s);if(a)for(const l of a)l(n)}function A2(s,n){const a=S2();a&&a.postMessage({key:s,fid:n}),b2()}let xs=null;function S2(){return!xs&&"BroadcastChannel"in self&&(xs=new BroadcastChannel("[Firebase] FID Change"),xs.onmessage=s=>{B_(s.data.key,s.data.fid)}),xs}function b2(){P_.size===0&&xs&&(xs.close(),xs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="firebase-installations-database",w2=1,Bs="firebase-installations-store";let wh=null;function Id(){return wh||(wh=g0(R2,w2,{upgrade:(s,n)=>{switch(n){case 0:s.createObjectStore(Bs)}}})),wh}async function tc(s,n){const a=dc(s),c=(await Id()).transaction(Bs,"readwrite"),h=c.objectStore(Bs),m=await h.get(a);return await h.put(n,a),await c.done,(!m||m.fid!==n.fid)&&z_(s,n.fid),n}async function k_(s){const n=dc(s),l=(await Id()).transaction(Bs,"readwrite");await l.objectStore(Bs).delete(n),await l.done}async function mc(s,n){const a=dc(s),c=(await Id()).transaction(Bs,"readwrite"),h=c.objectStore(Bs),m=await h.get(a),y=n(m);return y===void 0?await h.delete(a):await h.put(y,a),await c.done,y&&(!m||m.fid!==y.fid)&&z_(s,y.fid),y}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nd(s){let n;const a=await mc(s.appConfig,l=>{const c=C2(l),h=I2(s,c);return n=h.registrationPromise,h.installationEntry});return a.fid===Kh?{installationEntry:await n}:{installationEntry:a,registrationPromise:n}}function C2(s){const n=s||{fid:T2(),registrationStatus:0};return q_(n)}function I2(s,n){if(n.registrationStatus===0){if(!navigator.onLine){const c=Promise.reject(zs.create("app-offline"));return{installationEntry:n,registrationPromise:c}}const a={fid:n.fid,registrationStatus:1,registrationTime:Date.now()},l=N2(s,a);return{installationEntry:a,registrationPromise:l}}else return n.registrationStatus===1?{installationEntry:n,registrationPromise:D2(s)}:{installationEntry:n}}async function N2(s,n){try{const a=await y2(s,n);return tc(s.appConfig,a)}catch(a){throw x_(a)&&a.customData.serverCode===409?await k_(s.appConfig):await tc(s.appConfig,{fid:n.fid,registrationStatus:0}),a}}async function D2(s){let n=await Wy(s.appConfig);for(;n.registrationStatus===1;)await j_(100),n=await Wy(s.appConfig);if(n.registrationStatus===0){const{installationEntry:a,registrationPromise:l}=await Nd(s);return l||a}return n}function Wy(s){return mc(s,n=>{if(!n)throw zs.create("installation-not-found");return q_(n)})}function q_(s){return x2(s)?{fid:s.fid,registrationStatus:0}:s}function x2(s){return s.registrationStatus===1&&s.registrationTime+I_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2({appConfig:s,heartbeatServiceProvider:n},a){const l=O2(s,a),c=m2(s,a),h=n.getImmediate({optional:!0});if(h){const _=await h.getHeartbeatsHeader();_&&c.append("x-firebase-client",_)}const m={installation:{sdkVersion:N_,appId:s.appId}},y={method:"POST",headers:c,body:JSON.stringify(m)},T=await U_(()=>fetch(l,y));if(T.ok){const _=await T.json();return O_(_)}else throw await V_("Generate Auth Token",T)}function O2(s,{fid:n}){return`${M_(s)}/${n}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dd(s,n=!1){let a;const l=await mc(s.appConfig,h=>{if(!H_(h))throw zs.create("not-registered");const m=h.authToken;if(!n&&U2(m))return h;if(m.requestStatus===1)return a=V2(s,n),h;{if(!navigator.onLine)throw zs.create("app-offline");const y=P2(h);return a=L2(s,y),y}});return a?await a:l.authToken}async function V2(s,n){let a=await Jy(s.appConfig);for(;a.authToken.requestStatus===1;)await j_(100),a=await Jy(s.appConfig);const l=a.authToken;return l.requestStatus===0?Dd(s,n):l}function Jy(s){return mc(s,n=>{if(!H_(n))throw zs.create("not-registered");const a=n.authToken;return z2(a)?{...n,authToken:{requestStatus:0}}:n})}async function L2(s,n){try{const a=await M2(s,n),l={...n,authToken:a};return await tc(s.appConfig,l),a}catch(a){if(x_(a)&&(a.customData.serverCode===401||a.customData.serverCode===404))await k_(s.appConfig);else{const l={...n,authToken:{requestStatus:0}};await tc(s.appConfig,l)}throw a}}function H_(s){return s!==void 0&&s.registrationStatus===2}function U2(s){return s.requestStatus===2&&!j2(s)}function j2(s){const n=Date.now();return n<s.creationTime||s.creationTime+s.expiresIn<n+c2}function P2(s){const n={requestStatus:1,requestTime:Date.now()};return{...s,authToken:n}}function z2(s){return s.requestStatus===1&&s.requestTime+I_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B2(s){const n=s,{installationEntry:a,registrationPromise:l}=await Nd(n);return l?l.catch(console.error):Dd(n).catch(console.error),a.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(s,n=!1){const a=s;return await q2(a),(await Dd(a,n)).token}async function q2(s){const{registrationPromise:n}=await Nd(s);n&&await n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(s){if(!s||!s.options)throw Ch("App Configuration");if(!s.name)throw Ch("App Name");const n=["projectId","apiKey","appId"];for(const a of n)if(!s.options[a])throw Ch(a);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function Ch(s){return zs.create("missing-app-config-values",{valueName:s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="installations",G2="installations-internal",Q2=s=>{const n=s.getProvider("app").getImmediate(),a=H2(n),l=ro(n,"heartbeat");return{app:n,appConfig:a,heartbeatServiceProvider:l,_delete:()=>Promise.resolve()}},F2=s=>{const n=s.getProvider("app").getImmediate(),a=ro(n,G_).getImmediate();return{getId:()=>B2(a),getToken:c=>k2(a,c)}};function Y2(){Ba(new la(G_,Q2,"PUBLIC")),Ba(new la(G2,F2,"PRIVATE"))}Y2();xi(C_,Cd);xi(C_,Cd,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec="analytics",X2="firebase_id",K2="origin",$2=60*1e3,Z2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xd="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn=new Jh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},xn=new ic("analytics","Analytics",W2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(s){if(!s.startsWith(xd)){const n=xn.create("invalid-gtag-resource",{gtagURL:s});return vn.warn(n.message),""}return s}function Q_(s){return Promise.all(s.map(n=>n.catch(a=>a)))}function tb(s,n){let a;return window.trustedTypes&&(a=window.trustedTypes.createPolicy(s,n)),a}function eb(s,n){const a=tb("firebase-js-sdk-policy",{createScriptURL:J2}),l=document.createElement("script"),c=`${xd}?l=${s}&id=${n}`;l.src=a?a?.createScriptURL(c):c,l.async=!0,document.head.appendChild(l)}function nb(s){let n=[];return Array.isArray(window[s])?n=window[s]:window[s]=n,n}async function ib(s,n,a,l,c,h){const m=l[c];try{if(m)await n[m];else{const T=(await Q_(a)).find(_=>_.measurementId===c);T&&await n[T.appId]}}catch(y){vn.error(y)}s("config",c,h)}async function ab(s,n,a,l,c){try{let h=[];if(c&&c.send_to){let m=c.send_to;Array.isArray(m)||(m=[m]);const y=await Q_(a);for(const T of m){const _=y.find(P=>P.measurementId===T),w=_&&n[_.appId];if(w)h.push(w);else{h=[];break}}}h.length===0&&(h=Object.values(n)),await Promise.all(h),s("event",l,c||{})}catch(h){vn.error(h)}}function sb(s,n,a,l){async function c(h,...m){try{if(h==="event"){const[y,T]=m;await ab(s,n,a,y,T)}else if(h==="config"){const[y,T]=m;await ib(s,n,a,l,y,T)}else if(h==="consent"){const[y,T]=m;s("consent",y,T)}else if(h==="get"){const[y,T,_]=m;s("get",y,T,_)}else if(h==="set"){const[y]=m;s("set",y)}else s(h,...m)}catch(y){vn.error(y)}}return c}function rb(s,n,a,l,c){let h=function(...m){window[l].push(arguments)};return window[c]&&typeof window[c]=="function"&&(h=window[c]),window[c]=sb(h,s,n,a),{gtagCore:h,wrappedGtag:window[c]}}function lb(s){const n=window.document.getElementsByTagName("script");for(const a of Object.values(n))if(a.src&&a.src.includes(xd)&&a.src.includes(s))return a;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=30,ub=1e3;class cb{constructor(n={},a=ub){this.throttleMetadata=n,this.intervalMillis=a}getThrottleMetadata(n){return this.throttleMetadata[n]}setThrottleMetadata(n,a){this.throttleMetadata[n]=a}deleteThrottleMetadata(n){delete this.throttleMetadata[n]}}const F_=new cb;function fb(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function hb(s){const{appId:n,apiKey:a}=s,l={method:"GET",headers:fb(a)},c=Z2.replace("{app-id}",n),h=await fetch(c,l);if(h.status!==200&&h.status!==304){let m="";try{const y=await h.json();y.error?.message&&(m=y.error.message)}catch{}throw xn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:m})}return h.json()}async function db(s,n=F_,a){const{appId:l,apiKey:c,measurementId:h}=s.options;if(!l)throw xn.create("no-app-id");if(!c){if(h)return{measurementId:h,appId:l};throw xn.create("no-api-key")}const m=n.getThrottleMetadata(l)||{backoffCount:0,throttleEndTimeMillis:Date.now()},y=new pb;return setTimeout(async()=>{y.abort()},$2),Y_({appId:l,apiKey:c,measurementId:h},m,y,n)}async function Y_(s,{throttleEndTimeMillis:n,backoffCount:a},l,c=F_){const{appId:h,measurementId:m}=s;try{await mb(l,n)}catch(y){if(m)return vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:h,measurementId:m};throw y}try{const y=await hb(s);return c.deleteThrottleMetadata(h),y}catch(y){const T=y;if(!gb(T)){if(c.deleteThrottleMetadata(h),m)return vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${T?.message}]`),{appId:h,measurementId:m};throw y}const _=Number(T?.customData?.httpStatus)===503?ey(a,c.intervalMillis,ob):ey(a,c.intervalMillis),w={throttleEndTimeMillis:Date.now()+_,backoffCount:a+1};return c.setThrottleMetadata(h,w),vn.debug(`Calling attemptFetch again in ${_} millis`),Y_(s,w,l,c)}}function mb(s,n){return new Promise((a,l)=>{const c=Math.max(n-Date.now(),0),h=setTimeout(a,c);s.addEventListener(()=>{clearTimeout(h),l(xn.create("fetch-throttle",{throttleEndTimeMillis:n}))})})}function gb(s){if(!(s instanceof Qa)||!s.customData)return!1;const n=Number(s.customData.httpStatus);return n===429||n===500||n===503||n===504}class pb{constructor(){this.listeners=[]}addEventListener(n){this.listeners.push(n)}abort(){this.listeners.forEach(n=>n())}}async function yb(s,n,a,l,c){if(c&&c.global){s("event",a,l);return}else{const h=await n,m={...l,send_to:h};s("event",a,m)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _b(){if(f0())try{await h0()}catch(s){return vn.warn(xn.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return vn.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function vb(s,n,a,l,c,h,m){const y=db(s);y.then(L=>{a[L.measurementId]=L.appId,s.options.measurementId&&L.measurementId!==s.options.measurementId&&vn.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${L.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(L=>vn.error(L)),n.push(y);const T=_b().then(L=>{if(L)return l.getId()}),[_,w]=await Promise.all([y,T]);lb(h)||eb(h,_.measurementId),c("js",new Date);const P=m?.config??{};return P[K2]="firebase",P.update=!0,w!=null&&(P[X2]=w),c("config",_.measurementId,P),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(n){this.app=n}_delete(){return delete Wl[this.app.options.appId],Promise.resolve()}}let Wl={},t0=[];const e0={};let Ih="dataLayer",Eb="gtag",n0,X_,i0=!1;function Ab(){const s=[];if(ZT()&&s.push("This is a browser extension environment."),JT()||s.push("Cookies are not available."),s.length>0){const n=s.map((l,c)=>`(${c+1}) ${l}`).join(" "),a=xn.create("invalid-analytics-context",{errorInfo:n});vn.warn(a.message)}}function Sb(s,n,a){Ab();const l=s.options.appId;if(!l)throw xn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw xn.create("no-api-key");if(Wl[l]!=null)throw xn.create("already-exists",{id:l});if(!i0){nb(Ih);const{wrappedGtag:h,gtagCore:m}=rb(Wl,t0,e0,Ih,Eb);X_=h,n0=m,i0=!0}return Wl[l]=vb(s,t0,e0,n,n0,Ih,a),new Tb(s)}function bb(s=p0()){s=Vs(s);const n=ro(s,ec);return n.isInitialized()?n.getImmediate():Rb(s)}function Rb(s,n={}){const a=ro(s,ec);if(a.isInitialized()){const c=a.getImmediate();if(Jl(n,a.getOptions()))return c;throw xn.create("already-initialized")}return a.initialize({options:n})}function wb(s,n,a,l){s=Vs(s),yb(X_,Wl[s.app.options.appId],n,a,l).catch(c=>vn.error(c))}const a0="@firebase/analytics",s0="0.10.18";function Cb(){Ba(new la(ec,(n,{options:a})=>{const l=n.getProvider("app").getImmediate(),c=n.getProvider("installations-internal").getImmediate();return Sb(l,c,a)},"PUBLIC")),Ba(new la("analytics-internal",s,"PRIVATE")),xi(a0,s0),xi(a0,s0,"esm2020");function s(n){try{const a=n.getProvider(ec).getImmediate();return{logEvent:(l,c,h)=>wb(a,l,c,h)}}catch(a){throw xn.create("interop-component-reg-failed",{reason:a})}}}Cb();const nc={apiKey:"AIzaSyDwst-4J5unX773oOfXHfjdOymh02yH_fU",authDomain:"steering-experiment.firebaseapp.com",projectId:"steering-experiment",storageBucket:"steering-experiment.firebasestorage.app",messagingSenderId:"773443415350",appId:"1:773443415350:web:f95e4d189b16ebb76d9797",measurementId:"G-RFZQQVCF7C"},Ib=ed(nc);bb(Ib);const Nb=ed(nc),Db=FS(Nb);async function xb(s){try{const n={...s,uploadedAt:o2(),version:"2.0"},a=await r2(GS(Db,"experiments"),n);return console.log("Data uploaded successfully with ID:",a.id),a.id}catch(n){throw console.error("Error uploading data to Firebase:",n),n}}async function Mb(s,n=3){let a;for(let l=1;l<=n;l++)try{return await xb(s)}catch(c){if(a=c,console.warn(`Upload attempt ${l} failed:`,c.message),l<n){const h=Math.pow(2,l)*1e3;await new Promise(m=>setTimeout(m,h))}}throw new Error(`Failed to upload data after ${n} attempts. Last error: ${a.message}`)}function Ob(){return nc.apiKey!=="your-api-key-here"&&nc.projectId!=="your-project-id"}/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lb=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,a,l)=>l?l.toUpperCase():a.toLowerCase()),r0=s=>{const n=Lb(s);return n.charAt(0).toUpperCase()+n.slice(1)},K_=(...s)=>s.filter((n,a,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===a).join(" ").trim(),Ub=s=>{for(const n in s)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=Et.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:c="",children:h,iconNode:m,...y},T)=>Et.createElement("svg",{ref:T,...jb,width:n,height:n,stroke:s,strokeWidth:l?Number(a)*24/Number(n):a,className:K_("lucide",c),...!h&&!Ub(y)&&{"aria-hidden":"true"},...y},[...m.map(([_,w])=>Et.createElement(_,w)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=(s,n)=>{const a=Et.forwardRef(({className:l,...c},h)=>Et.createElement(Pb,{ref:h,iconNode:n,className:K_(`lucide-${Vb(r0(s))}`,`lucide-${s}`,l),...c}));return a.displayName=r0(s),a};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Bb=Fa("circle-check-big",zb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],qb=Fa("credit-card",kb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gb=Fa("eye",Hb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Fb=Fa("monitor",Qb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["rect",{x:"5",y:"2",width:"14",height:"20",rx:"7",key:"11ol66"}],["path",{d:"M12 6v4",key:"16clxf"}]],Xb=Fa("mouse",Yb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$b=Fa("settings",Kb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Wb=Fa("triangle-alert",Zb);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],tR=Fa("users",Jb),st={ENVIRONMENT_SETUP:"environment_setup",SCREEN_CALIBRATION:"screen_calibration",WELCOME:"welcome",INSTRUCTIONS:"instructions",PRACTICE:"practice",MAIN_TRIALS:"main_trials",SEQUENTIAL_TRIALS:"sequential_trials",TIME_CONSTRAINT_INTRO:"time_constraint_intro",TIME_TRIAL_PRACTICE:"time_trial_practice",TIME_TRIALS:"time_trials",SEQUENTIAL_TIME_TRIALS:"sequential_time_trials",COMPLETE:"complete"},Xe={WAITING_FOR_START:"waiting_for_start",IN_PROGRESS:"in_progress",FAILED:"failed"},xr=[{id:1,tunnelWidth:.05,curvature:.025,timeLimit:null,description:"wide tunnel, gentle curve"},{id:2,tunnelWidth:.05,curvature:.05,timeLimit:null,description:"wide tunnel, sharp curve"},{id:3,tunnelWidth:.02,curvature:.025,timeLimit:null,description:"narrow tunnel, gentle curve"},{id:4,tunnelWidth:.02,curvature:.05,timeLimit:null,description:"narrow tunnel, sharp curve"}],Nh=[{id:11,tunnelWidth:.05,curvature:.025,timeLimit:4,description:"wide tunnel, gentle curve time limit 4s"},{id:12,tunnelWidth:.05,curvature:.05,timeLimit:4,description:"wide tunnel, sharp curve time limit 4s"},{id:13,tunnelWidth:.02,curvature:.025,timeLimit:4,description:"narrow tunnel, gentle curve time limit 4s"},{id:14,tunnelWidth:.02,curvature:.05,timeLimit:4,description:"narrow tunnel, sharp curve time limit 4s"},{id:15,tunnelWidth:.05,curvature:.025,timeLimit:2,description:"wide tunnel, gentle curve time limit 2s"},{id:16,tunnelWidth:.05,curvature:.05,timeLimit:2,description:"wide tunnel, sharp curve time limit 2s"},{id:17,tunnelWidth:.02,curvature:.025,timeLimit:2,description:"narrow tunnel, gentle curve time limit 2s"},{id:18,tunnelWidth:.02,curvature:.05,timeLimit:2,description:"narrow tunnel, sharp curve time limit 2s"}],Dh=[{id:5,tunnelType:"sequential",segmentType:"width",segment1Width:.08,segment2Width:.01,timeLimit:null,description:"narrow-to-wide segments"},{id:6,tunnelType:"sequential",segmentType:"width",segment1Width:.01,segment2Width:.08,timeLimit:null,description:"wide-to-narrow segments"},{id:7,tunnelType:"sequential",segmentType:"curvature",segment1Width:.02,segment2Width:.02,segment1Curvature:0,segment2Curvature:.05,timeLimit:null,description:"straight-to-curved segments"},{id:8,tunnelType:"sequential",segmentType:"curvature",segment1Width:.05,segment2Width:.05,segment1Curvature:0,segment2Curvature:.05,timeLimit:null,description:"straight-to-curved segments"}],xh=[{id:19,tunnelType:"sequential",segmentType:"width",segment1Width:.08,segment2Width:.01,timeLimit:2,description:"narrow-to-wide segments time limit 2s"},{id:20,tunnelType:"sequential",segmentType:"width",segment1Width:.01,segment2Width:.08,timeLimit:2,description:"wide-to-narrow segments time limit 2s"},{id:21,tunnelType:"sequential",segmentType:"width",segment1Width:.08,segment2Width:.01,timeLimit:1,description:"narrow-to-wide segments time limit 1s"},{id:22,tunnelType:"sequential",segmentType:"width",segment1Width:.01,segment2Width:.08,timeLimit:1,description:"wide-to-narrow segments time limit 1s"},{id:23,tunnelType:"sequential",segmentType:"curvature",segment1Width:.02,segment2Width:.02,segment1Curvature:2,segment2Curvature:.05,timeLimit:2,description:"straight-to-curved segments time limit 2s"},{id:24,tunnelType:"sequential",segmentType:"curvature",segment1Width:.05,segment2Width:.05,segment1Curvature:2,segment2Curvature:.05,timeLimit:2,description:"straight-to-curved segments time limit 2s"},{id:25,tunnelType:"sequential",segmentType:"curvature",segment1Width:.02,segment2Width:.02,segment1Curvature:1,segment2Curvature:.05,timeLimit:1,description:"straight-to-curved segments time limit 1s"},{id:26,tunnelType:"sequential",segmentType:"curvature",segment1Width:.05,segment2Width:.05,segment1Curvature:1,segment2Curvature:.05,timeLimit:1,description:"straight-to-curved segments time limit 1s"}],eR=()=>{const s=Et.useRef(null),n=Et.useRef(null),a=Et.useRef(0),l=460,c=260,h=1e3,[m,y]=Et.useState(st.WELCOME),[T,_]=Et.useState(Xe.WAITING_FOR_START),[w,P]=Et.useState(""),[L,et]=Et.useState(0),[J,ct]=Et.useState([]),[lt,bt]=Et.useState(!1),[ft,yt]=Et.useState(null),[Qt,Rt]=Et.useState(new Set),[Vt,M]=Et.useState([]),[A,R]=Et.useState([]),[N,D]=Et.useState([]),[V,b]=Et.useState([]),[pe,ie]=Et.useState("idle"),[Q,it]=Et.useState(null),[dt,qt]=Et.useState(null),[C,K]=Et.useState([]),[at,tt]=Et.useState([]),[mt,wt]=Et.useState(!1),[_t,ye]=Et.useState({x:0,y:0}),[ae,dn]=Et.useState({x:0,y:0}),[Mn,En]=Et.useState(null),[_e,Vi]=Et.useState([]),[Fn,ua]=Et.useState(.015),[Ya,ln]=Et.useState("curved"),[Li,Xa]=Et.useState([.015,.025,.015]),[On,Ui]=Et.useState({x:0,y:0}),[Yn,ca]=Et.useState({x:0,y:0}),[li,Ka]=Et.useState(0),[Ft,Yt]=Et.useState(null),[Je,Re]=Et.useState(0),[fa,$a]=Et.useState(!1),oi=.008,ui=.01,ci=.002,mn=Et.useCallback(()=>m===st.PRACTICE||m===st.MAIN_TRIALS||m===st.SEQUENTIAL_TRIALS,[m]),fi=Et.useCallback(()=>m===st.PRACTICE||m===st.MAIN_TRIALS||m===st.SEQUENTIAL_TRIALS,[m]),hi=Et.useCallback(q=>{const At=q,St=.15,Lt=[];for(let Ht=0;Ht<.46;Ht+=ci){const Ut=.13+At*Math.sin(2*Math.PI*Ht/St);Lt.push({x:Ht,y:Ut})}return Lt},[]),ha=Et.useCallback(q=>{const St=[];for(let Lt=0;Lt<.46;Lt+=ci){let Ht=.13;if(q.segmentType==="curvature")if(Lt<0+.23)Ht=.13;else{const Ut=Lt-.23,we=q.segment2Curvature,pi=Ut/.23;Ht=.13+we*(1-Math.pow(2*pi-1,2))}St.push({x:Lt,y:Ht})}return St},[]),ue=Et.useCallback(q=>{let G;q.tunnelType==="sequential"?(G=ha(q),ln("sequential"),Xa([q.segment1Width,q.segment2Width]),ua(q.segment1Width)):(G=hi(q.curvature),ln("curved"),ua(q.tunnelWidth)),Vi(G),Yt(q.timeLimit);const Z=G[0],rt=G[G.length-1];ca(Z),Ui(rt),ye(Z),dn({x:0,y:0}),_(Xe.WAITING_FOR_START),R([]),D([]),b([]),K([]),tt([]),wt(!1),Ka(0),En(null),Re(q.timeLimit||0),$a(!1)},[hi,ha]);Et.useEffect(()=>{const q=G=>{switch(m){case st.WELCOME:G.key==="Enter"&&y(st.ENVIRONMENT_SETUP);break;case st.ENVIRONMENT_SETUP:G.key===" "&&y(st.SCREEN_CALIBRATION);break;case st.SCREEN_CALIBRATION:G.key===" "&&y(st.INSTRUCTIONS);break;case st.INSTRUCTIONS:G.key===" "&&(y(st.PRACTICE),bt(!0),ue(xr[0]));break;case st.PRACTICE:G.key==="r"?ue(xr[0]):G.key==="n"&&(y(st.MAIN_TRIALS),et(0),ct([...xr]),bt(!1),w||P(`P${new Date().toTimeString().slice(0,8).replace(/:/g,"")}`),ue(xr[0]));break;case st.MAIN_TRIALS:G.key==="r"&&ue(J[L]);break;case st.SEQUENTIAL_TRIALS:G.key==="r"&&ue(J[L]);break;case st.TIME_CONSTRAINT_INTRO:if(G.key===" "){const Z=[...Nh];et(0),ct(Z),Rt(new Set);const rt=Z[0];`${rt.tunnelWidth}${rt.curvature}${rt.timeLimit}`,y(st.TIME_TRIAL_PRACTICE),yt(rt),bt(!0),ue(rt)}break;case st.TIME_TRIAL_PRACTICE:if(G.key==="r")ue(ft);else if(G.key==="n"){let Z;ft.tunnelType==="sequential"?ft.segmentType==="width"?Z=`sequential-width-${ft.segment1Width}-${ft.segment2Width}-${ft.timeLimit}`:Z=`sequential-curvature-${ft.segment1Width}-${ft.segment2Width}-${ft.segment1Curvature}-${ft.segment2Curvature}-${ft.timeLimit}`:Z=`${ft.tunnelWidth}-${ft.curvature}-${ft.timeLimit}`,Rt(rt=>new Set([...rt,Z])),ft.tunnelType==="sequential"?y(st.SEQUENTIAL_TIME_TRIALS):y(st.TIME_TRIALS),bt(!1),ue(J[L])}break;case st.TIME_TRIALS:G.key==="r"&&ue(J[L]);break;case st.SEQUENTIAL_TIME_TRIALS:G.key==="r"&&ue(J[L]);break}};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[m,L,J,ft,w,ue]);const Za=q=>{if(![st.PRACTICE,st.MAIN_TRIALS,st.SEQUENTIAL_TRIALS,st.TIME_TRIAL_PRACTICE,st.TIME_TRIALS,st.SEQUENTIAL_TIME_TRIALS].includes(m)||T!==Xe.WAITING_FOR_START)return;const G=s.current.getBoundingClientRect(),Z=(q.clientX-G.left)/h,rt=(q.clientY-G.top)/h;Math.sqrt((Z-Yn.x)**2+(rt-Yn.y)**2)<=oi&&Kn()},Xn=q=>{if(![st.PRACTICE,st.MAIN_TRIALS,st.SEQUENTIAL_TRIALS,st.TIME_TRIAL_PRACTICE,st.TIME_TRIALS,st.SEQUENTIAL_TIME_TRIALS].includes(m)||T!==Xe.IN_PROGRESS)return;const G=s.current.getBoundingClientRect(),Z=(q.clientX-G.left)/h,rt=(q.clientY-G.top)/h,At=Date.now();let St={x:0,y:0};if(Mn&&a.current){const Ut=(At-a.current)/1e3;if(Ut>0){const we=Z-Mn.x,un=rt-Mn.y;St={x:we/Ut,y:un/Ut}}}ye({x:Z,y:rt}),dn(St);const Lt=Math.sqrt(St.x**2+St.y**2);if(R(Ut=>[...Ut,{x:Z,y:rt}]),D(Ut=>[...Ut,Lt]),b(Ut=>[...Ut,At]),fi()){const Ut=Wa(Z,rt);if(Ut.isExcursion&&!mt&&(tt([Ut.boundaryPoint]),wt(!0),mn())){_(Xe.FAILED);return}}Math.sqrt((Z-On.x)**2+(rt-On.y)**2)<ui&&An(!0),En({x:Z,y:rt}),a.current=At},Kn=()=>{_(Xe.IN_PROGRESS);const q=Date.now();Ka(q),$a(!1),Ft&&Re(Ft);const G={x:Yn.x,y:Yn.y};ye(G),dn({x:0,y:0}),R([G]),D([0]),b([q]),K([]),En(G),a.current=q};Et.useEffect(()=>{if(T!==Xe.IN_PROGRESS||!Ft)return;const q=setInterval(()=>{const Z=(Date.now()-li)/1e3,rt=Math.max(0,Ft-Z);Re(rt),rt<=0&&($a(!0),An(!1))},50);return()=>clearInterval(q)},[T,Ft,li]);const Wa=(q,G)=>{if(!_e.length)return{isExcursion:!1};let Z=1/0,rt=null,At=-1;_e.forEach((Lt,Ht)=>{const Ut=Math.sqrt((q-Lt.x)**2+(G-Lt.y)**2);Ut<Z&&(Z=Ut,rt=Lt,At=Ht)});let St;if(Ya==="sequential"){const Lt=_e.length/2,Ht=Math.floor(At/Lt);St=Li[Math.min(Ht,Li.length-1)]/2}else St=Fn/2;if(Z>St){const Lt=(q-rt.x)/Z,Ht=(G-rt.y)/Z,Ut={x:rt.x+Lt*St,y:rt.y+Ht*St},we={timeIndex:A.length-1,position:{x:q,y:G},distanceOutside:Z-St,timestamp:Date.now(),boundaryPoint:Ut};return K(un=>[...un,we]),{isExcursion:!0,boundaryPoint:Ut,excursion:we}}return{isExcursion:!1}},An=q=>{const Z=(Date.now()-li)/1e3;if(lt||m===st.TIME_TRIAL_PRACTICE){if(q){const St=m===st.PRACTICE?"Practice":"Individual practice";console.log(`${St} completed! Time: ${Z.toFixed(2)}s`)}_(q?Xe.WAITING_FOR_START:Xe.FAILED);return}if(!q){_(Xe.FAILED);return}const rt=J[L],At={participantId:w,trialId:rt.id,condition:rt,trajectory:[...A],speeds:[...N],timestamps:[...V],completionTime:Z,startTime:li,failedDueToTimeout:fa};M(St=>[...St,At]),Ja()},Ja=()=>{const q=L+1;if(et(q),q>=J.length){if(m===st.MAIN_TRIALS)y(st.SEQUENTIAL_TRIALS),et(0),ct([...Dh]),ue(Dh[0]);else if(m===st.SEQUENTIAL_TRIALS)y(st.TIME_CONSTRAINT_INTRO);else if(m===st.TIME_TRIALS){y(st.SEQUENTIAL_TIME_TRIALS),et(0),ct([...xh]);const G=xh[0];let Z;G.tunnelType==="sequential"?G.segmentType==="width"?Z=`sequential-width-${G.segment1Width}-${G.segment2Width}-${G.timeLimit}`:Z=`sequential-curvature-${G.segment1Width}-${G.segment2Width}-${G.segment1Curvature}-${G.segment2Curvature}-${G.timeLimit}`:Z=`${G.tunnelWidth}-${G.curvature}-${G.timeLimit}`,Qt.has(Z)?(bt(!1),ue(G)):(y(st.TIME_TRIAL_PRACTICE),yt(G),bt(!0),ue(G))}else m===st.SEQUENTIAL_TIME_TRIALS&&y(st.COMPLETE);return}if(m===st.TIME_TRIALS){const G=J[q],Z=`${G.tunnelWidth}-${G.curvature}-${G.timeLimit}`;Qt.has(Z)?(y(st.TIME_TRIALS),bt(!1),ue(G)):(y(st.TIME_TRIAL_PRACTICE),yt(G),bt(!0),ue(G))}else if(m===st.SEQUENTIAL_TIME_TRIALS){const G=J[q];let Z;G.tunnelType==="sequential"?G.segmentType==="width"?Z=`sequential-width-${G.segment1Width}-${G.segment2Width}-${G.timeLimit}`:Z=`sequential-curvature-${G.segment1Width}-${G.segment2Width}-${G.segment1Curvature}-${G.segment2Curvature}-${G.timeLimit}`:Z=`${G.tunnelWidth}-${G.curvature}-${G.timeLimit}`,Qt.has(Z)?(y(st.SEQUENTIAL_TIME_TRIALS),bt(!1),ue(G)):(y(st.TIME_TRIAL_PRACTICE),yt(G),bt(!0),ue(G))}else ue(J[q])},di=()=>{const q=s.current;if(!q)return;const G=q.getContext("2d");G.clearRect(0,0,l,c),_e.length>0&&da(G),fi()&&mi(G),Hs(G),T===Xe.WAITING_FOR_START&&re(G),Ae(G)},da=q=>{if(q.strokeStyle="#666666",q.lineWidth=2,Ya==="sequential"){const G=_e.length/2;for(let rt=0;rt<2;rt++){const At=Math.floor(rt*G),St=Math.floor((rt+1)*G),Lt=Li[rt]/2;q.beginPath();for(let Ht=At;Ht<St&&Ht<_e.length;Ht++){const Ut=_e[Ht],we=Ut.x*h,un=(Ut.y-Lt)*h;Ht===At?q.moveTo(we,un):q.lineTo(we,un)}q.stroke(),q.beginPath();for(let Ht=At;Ht<St&&Ht<_e.length;Ht++){const Ut=_e[Ht],we=Ut.x*h,un=(Ut.y+Lt)*h;Ht===At?q.moveTo(we,un):q.lineTo(we,un)}q.stroke()}q.strokeStyle="#666666",q.lineWidth=2;const Z=Math.floor(G);if(Z<_e.length){const rt=_e[Z],At=rt.x*h,St=Li[0]/2,Lt=Li[1]/2;q.beginPath(),q.moveTo(At,(rt.y-St)*h),q.lineTo(At,(rt.y-Lt)*h),q.stroke(),q.beginPath(),q.moveTo(At,(rt.y+St)*h),q.lineTo(At,(rt.y+Lt)*h),q.stroke()}}else{const G=Fn/2;q.beginPath(),_e.forEach((Z,rt)=>{const At=Z.x*h,St=(Z.y-G)*h;rt===0?q.moveTo(At,St):q.lineTo(At,St)}),q.stroke(),q.beginPath(),_e.forEach((Z,rt)=>{const At=Z.x*h,St=(Z.y+G)*h;rt===0?q.moveTo(At,St):q.lineTo(At,St)}),q.stroke()}},mi=q=>{at.forEach(G=>{q.fillStyle="#FF6B6B",q.strokeStyle="#DC2626",q.lineWidth=2;const Z=G.x*h,rt=G.y*h,At=4;q.beginPath(),q.moveTo(Z-At,rt-At),q.lineTo(Z+At,rt+At),q.moveTo(Z-At,rt+At),q.lineTo(Z+At,rt-At),q.stroke(),q.beginPath(),q.arc(Z,rt,At+2,0,2*Math.PI),q.stroke()})},Hs=q=>{q.fillStyle="#0000FF",q.beginPath(),q.arc(_t.x*h,_t.y*h,3,0,2*Math.PI),q.fill()},re=q=>{const G=Yn.x*h,Z=Yn.y*h,rt=oi*h;q.fillStyle="#00FF00",q.beginPath(),q.arc(G,Z,rt,0,2*Math.PI),q.fill(),q.strokeStyle="#009900",q.lineWidth=3,q.stroke(),q.fillStyle="#000000",q.font="12px Arial",q.textAlign="center"},Ae=q=>{const G=On.x*h,Z=On.y*h,rt=ui*h;q.fillStyle="#FF0000",q.beginPath(),q.arc(G,Z,rt,0,2*Math.PI),q.fill(),q.strokeStyle="#990000",q.lineWidth=2,q.stroke()};Et.useEffect(()=>{const q=()=>{di(),n.current=requestAnimationFrame(q)};return n.current=requestAnimationFrame(q),()=>{n.current&&cancelAnimationFrame(n.current)}},[_t,T,_e,Yn,On,Fn,at,fi,mt]);const de=()=>{const q={participantId:w,trialData:Vt,summary:{totalTrials:Vt.length,averageCompletionTime:Vt.reduce((At,St)=>At+St.completionTime,0)/Vt.length}},G=new Blob([JSON.stringify(q,null,2)],{type:"application/json"}),Z=URL.createObjectURL(G),rt=document.createElement("a");rt.href=Z,rt.download=`steering_experiment_${w}_${Date.now()}.json`,rt.click(),URL.revokeObjectURL(Z)},on=async()=>{if(!Ob()){it("Firebase not configured. Please check your configuration."),ie("error");return}ie("uploading"),it(null);try{const q={participantId:w,trialData:Vt,summary:{totalTrials:Vt.length,averageCompletionTime:Vt.reduce((Z,rt)=>Z+rt.completionTime,0)/Vt.length},experimentVersion:"3.0",completedAt:new Date().toISOString()},G=await Mb(q);qt(G),ie("success")}catch(q){console.error("Upload failed:",q),it(q.message),ie("error")}},ts=async()=>{await on(),de()},Hr=()=>{switch(m){case st.ENVIRONMENT_SETUP:return x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full mx-auto",children:[x.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-6 text-center rounded-t-2xl",children:[x.jsxs("div",{className:"flex items-center justify-center mb-2",children:[x.jsx($b,{className:"w-8 h-8 mr-3"}),x.jsx("h1",{className:"text-2xl font-bold",children:"Environment Setup Instructions"})]}),x.jsx("p",{className:"text-blue-100",children:"Thank you for joining our study!"})]}),x.jsxs("div",{className:"p-8",children:[x.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-2",children:[x.jsx(Wb,{className:"w-5 h-5 text-yellow-600 mr-2"}),x.jsx("span",{className:"font-semibold text-gray-800",children:"Important"})]}),x.jsx("p",{className:"text-sm text-gray-700",children:"Please configure your setup correctly to ensure consistent and usable data."})]}),x.jsxs("div",{className:"space-y-5",children:[x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-3",children:[x.jsx("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm mr-3",children:"1"}),x.jsx(Fb,{className:"w-6 h-6 text-blue-600 mr-2"}),x.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Device Requirements"})]}),x.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[x.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[x.jsx("span",{className:"text-green-600",children:""})," Use a ",x.jsx("strong",{children:"desktop/laptop"})," with a ",x.jsx("strong",{children:"physical mouse"})," on a flat surface"]}),x.jsxs("p",{className:"text-sm text-gray-700",children:[x.jsx("span",{className:"text-red-600",children:""})," Do not use trackpad, touchscreen, or drawing tablet"]})]})]}),x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-3",children:[x.jsx("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm mr-3",children:"2"}),x.jsx(Xb,{className:"w-6 h-6 text-blue-600 mr-2"}),x.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Mouse Settings"})]}),x.jsxs("p",{className:"text-sm text-gray-700 mb-3",children:["Set your mouse to ",x.jsx("strong",{children:"default sensitivity"}),":"]}),x.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[x.jsx("h3",{className:"font-semibold text-gray-800 mb-2 text-sm",children:"Windows"}),x.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[x.jsx("p",{children:" Open Control Panel  Hardware and Sound  Devices and Printers  Mouse"}),x.jsx("p",{children:' Go to the "Pointer Options" tab'}),x.jsx("p",{children:' Uncheck "Enhance pointer precision"'}),x.jsx("p",{children:" Set the pointer speed slider to the middle position"})]})]}),x.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[x.jsx("h3",{className:"font-semibold text-gray-800 mb-2 text-sm",children:"Mac (macOS)"}),x.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[x.jsx("p",{children:" System Preferences  Mouse"}),x.jsx("p",{children:" Set Tracking Speed to middle (4th from left)"}),x.jsx("p",{children:" Click on advanced  disable Pointer acceleration"})]})]})]})]}),x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-3",children:[x.jsx("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm mr-3",children:"3"}),x.jsx(Gb,{className:"w-6 h-6 text-blue-600 mr-2"}),x.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Screen Setup"})]}),x.jsx("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:x.jsxs("p",{className:"text-sm text-gray-700",children:[x.jsx("strong",{})," Make browser full screen: ",x.jsx("kbd",{className:"bg-gray-200 px-1 py-0.5 rounded text-xs",children:"F11"})," (Windows) or ",x.jsx("kbd",{className:"bg-gray-200 px-1 py-0.5 rounded text-xs",children:"F"})," (Mac)"]})})]}),x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-3",children:[x.jsx("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm mr-3",children:"4"}),x.jsx(tR,{className:"w-6 h-6 text-blue-600 mr-2"}),x.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Positioning"})]}),x.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[x.jsx("p",{className:"text-sm text-gray-700",children:"Sit about one arms length away from the monitor and try to keep the same position during the experiment."}),x.jsx("p",{children:"At the start of each trial, adjust your posture so you are comfortable."})]})]}),x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-3",children:[x.jsx("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm mr-3",children:"5"}),x.jsx(Bb,{className:"w-6 h-6 text-blue-600 mr-2"}),x.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"During the Experiment"})]}),x.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:x.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[x.jsxs("p",{children:[x.jsx("span",{className:"text-green-600",children:""})," Follow instructions carefully and try your best"]}),x.jsxs("p",{children:[x.jsx("span",{className:"text-red-600",children:""})," Do not change mouse settings once you start"]})]})})]})]}),x.jsx("div",{className:"mt-12 text-center",children:x.jsxs("div",{className:"bg-white border-4 border-blue-600 px-12 py-8 rounded-2xl inline-block shadow-2xl hover:shadow-3xl transition-all duration-300 transform hover:scale-105",children:[x.jsx("div",{className:"flex items-center justify-center space-x-4",children:x.jsx("span",{className:"text-3xl font-black text-gray-800",children:"Ready to continue?"})}),x.jsxs("div",{className:"mt-4 text-lg font-semibold text-gray-600",children:["Press ",x.jsx("kbd",{className:"bg-gray-200 text-gray-800 px-3 py-1 rounded text-lg font-bold",children:"SPACEBAR"})," to proceed"]})]})})]})]})});case st.SCREEN_CALIBRATION:return x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-4",children:x.jsx("div",{className:"max-w-4xl mx-auto",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden border border-gray-100",children:[x.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white p-6 text-center",children:[x.jsxs("div",{className:"flex items-center justify-center mb-2",children:[x.jsx(qb,{className:"w-8 h-8 mr-3"}),x.jsx("h1",{className:"text-3xl font-bold",children:"Screen Calibration"})]}),x.jsx("p",{className:"text-lg text-blue-100",children:"Calibrate your screen using a credit card"})]}),x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"text-center mb-6",children:[x.jsx("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:x.jsxs("p",{className:"text-gray-700",children:["Hold your ",x.jsx("strong",{children:"credit card"})," against the window below and adjust browser zoom until they match"]})}),x.jsx("div",{className:"space-y-2 text-sm text-gray-600 max-w-lg mx-auto",children:x.jsx("p",{children:'Use Ctrl/ + "+" or "" to adjust zoom'})})]}),x.jsx("div",{className:"flex justify-center mb-6",children:x.jsx("div",{className:"bg-gray-100 border-2 border-dashed border-gray-400 rounded-lg p-6",children:x.jsx("div",{className:"bg-blue-200 border-2 border-blue-400 rounded",style:{width:"340px",height:"200px",position:"relative"},children:x.jsx("div",{className:"absolute inset-0 flex items-center justify-center"})})})}),x.jsx("div",{className:"text-center",children:x.jsx("div",{className:"bg-white border-4 border-blue-600 px-8 py-4 rounded-2xl inline-block shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105",children:x.jsxs("div",{className:"text-lg font-semibold text-gray-600",children:["Press ",x.jsx("kbd",{className:"bg-gray-200 text-gray-800 px-2 py-1 rounded text-lg font-bold",children:"SPACEBAR"})," when done"]})})})]})]})})});case st.WELCOME:return x.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center",children:[x.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Human Steering Experiment"}),x.jsx("p",{className:"mb-6 text-gray-600",children:"Press ENTER to continue"})]})});case st.INSTRUCTIONS:return x.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-6",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-3xl",children:[x.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-6",children:"Task Instructions (Please read carefully):"}),x.jsxs("ul",{className:"space-y-3 mb-6",children:[x.jsx("li",{children:"Click the green START button to begin each trial"}),x.jsx("li",{children:"Navigate through the tunnel to reach the red target"}),x.jsx("li",{children:"Do NOT stop once you begin the trial"}),x.jsx("li",{children:"Move as smoothly and accurately as possible"}),x.jsx("li",{children:"Press R to restart the current trial at anytime if needed"})]}),x.jsx("p",{className:"mb-4",children:"You will start with a practice trial to get familiar with the controls and task."}),x.jsx("p",{className:"font-semibold",children:"Press 'SPACEBAR' to start practice"})]})});case st.TIME_CONSTRAINT_INTRO:return x.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-6",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-3xl",children:[x.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-6",children:"Time-Constrained Trials (Please read carefully):"}),x.jsx("p",{className:"mb-4",children:"In this part of the experiment, you must complete each task within a set time limit."}),x.jsxs("ul",{className:"space-y-3 mb-6",children:[x.jsx("li",{children:"Each trial has a different time limit."}),x.jsx("li",{children:"Before each new type of timed trial, youll complete one practice round with a visible timer."}),x.jsx("li",{children:"During practice, learn the timing; in the actual trial, the timer wont be shown but the limit will still apply."}),x.jsx("li",{children:"You may cross the boundary in these trials, but aim to follow the tunnel as closely as possible."}),x.jsx("li",{children:"Balance speed and accuracy  the goal is to finish right as the time runs out."})]}),x.jsx("p",{className:"font-semibold",children:"Press SPACEBAR to begin time-constrained trials."})]})});case st.COMPLETE:return x.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center max-w-md",children:[x.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-6",children:"Experiment Complete!"}),x.jsx("p",{className:"mb-6",children:"All trials completed successfully!"}),pe==="idle"&&x.jsx("div",{className:"mb-6",children:x.jsx("button",{onClick:ts,className:"bg-green-500 hover:bg-green-700 text-white font-bold py-3 px-6 rounded mb-4 w-full",children:"Upload Data"})}),pe==="uploading"&&x.jsxs("div",{className:"mb-6",children:[x.jsxs("div",{className:"flex items-center justify-center mb-4",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),x.jsx("span",{className:"ml-3 text-blue-600",children:"Uploading data..."})]}),x.jsx("p",{className:"text-sm text-gray-600",children:"Please wait while we save your data"})]}),pe==="success"&&x.jsx("div",{className:"mb-6",children:x.jsxs("div",{className:"text-green-600 mb-4",children:[x.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),x.jsx("p",{className:"font-semibold",children:"Data uploaded successfully!"})]})}),pe==="error"&&x.jsxs("div",{className:"mb-6",children:[x.jsxs("div",{className:"text-red-600 mb-4",children:[x.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:x.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),x.jsx("p",{className:"font-semibold",children:"Upload failed"})]}),x.jsx("p",{className:"text-sm text-red-600 mb-4",children:Q}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("button",{onClick:on,className:"bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded w-full",children:"Retry Upload"}),x.jsx("button",{onClick:de,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-full",children:"Download Data Only"})]})]}),x.jsx("p",{className:"text-gray-600",children:"Thank you for participating!"})]})});default:return x.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-4",children:[x.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[x.jsx("div",{className:"mb-4 w-full max-w-md mx-auto",children:m===st.TIME_TRIAL_PRACTICE&&Ft&&x.jsx("div",{style:{width:"100%"},children:x.jsx("div",{style:{width:"100%",height:"32px",backgroundColor:"#d1d5db",borderRadius:"8px",overflow:"hidden",marginBottom:"8px",position:"relative"},children:x.jsx("div",{style:{height:"100%",position:"absolute",top:"0",left:"0",transition:"all 0.1s",backgroundColor:T!==Xe.IN_PROGRESS?"#10b981":Je/Ft>.2?"#f59e0b":"#ef4444",width:`${T!==Xe.IN_PROGRESS?100:Math.max(0,Je/Ft*100)}%`}})})})}),x.jsx("canvas",{ref:s,width:l,height:c,onClick:Za,onMouseMove:Xn,className:"border border-gray-300 cursor-crosshair"}),x.jsxs("div",{className:"mt-4 text-center",children:[Wn(),Vn()]})]}),T===Xe.FAILED&&(m==st.TIME_TRIALS||m==st.SEQUENTIAL_TIME_TRIALS||m==st.TIME_TRIAL_PRACTICE)&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:x.jsxs("div",{className:"bg-gray-100 rounded-lg p-8 text-center",children:[x.jsx("h3",{className:"text-xl font-bold mb-4 text-red-600",children:fa?"TIME'S UP!":"TRIAL FAILED"}),x.jsx("p",{className:"mb-4",children:fa?"You ran out of time. Try to move faster.":mn()?"You went outside the tunnel boundary, please retry the trial.":"Complete the task to advance."}),x.jsx("p",{className:"text-sm text-gray-600",children:"Press R to restart trial"})]})})]})}},$n=()=>m===st.MAIN_TRIALS?L+1:m===st.SEQUENTIAL_TRIALS?xr.length+L+1:0,es=()=>xr.length+Dh.length,gi=()=>m===st.TIME_TRIALS?L+1:m===st.SEQUENTIAL_TIME_TRIALS?Nh.length+L+1:0,Zn=()=>Nh.length+xh.length,Wn=()=>{let q="",G="text-gray-600";m===st.PRACTICE?(q="[Practice Round]",G="text-green-600"):m===st.MAIN_TRIALS&&L<J.length?(q=`Trial ${$n()}/${es()}`,G="text-blue-600"):m===st.SEQUENTIAL_TRIALS&&L<J.length?(q=`Trial ${$n()}/${es()}`,G="text-indigo-600"):m===st.TIME_TRIAL_PRACTICE&&ft?(q="PRACTICE ROUND",G="text-purple-600"):m===st.TIME_TRIALS&&L<J.length?(q=`Timed Trial ${gi()}/${Zn()}`,G="text-red-600"):m===st.SEQUENTIAL_TIME_TRIALS&&L<J.length&&(q=`Timed Trial ${gi()}/${Zn()}`,G="text-pink-600");let Z="";return T===Xe.WAITING_FOR_START?Z="Click the green button to begin":T===Xe.IN_PROGRESS?Z="Navigate to the red target":T===Xe.FAILED&&(Z="Trial failed, please try again"),x.jsxs("div",{className:"space-y-1",children:[q&&x.jsx("p",{className:`text-sm ${G}`,children:q}),Z&&x.jsx("p",{className:"text-lg font-bold gray-red-900",children:Z})]})},Vn=()=>{const q=[];return q.push(x.jsxs(x.Fragment,{children:["Press ",x.jsx("span",{className:"font-bold text-blue-600",children:"'R'"})," to restart trial at any time"]})),(m===st.PRACTICE||m===st.TIME_TRIAL_PRACTICE)&&q.push(x.jsxs(x.Fragment,{children:["Press ",x.jsx("span",{className:"font-bold text-blue-600",children:"'N'"})," to continue to real trial"]})),x.jsx("div",{className:"mt-2 text-sm text-gray-600",children:q.map((G,Z)=>x.jsx("p",{children:G},Z))})};return Hr()};xT.createRoot(document.getElementById("root")).render(x.jsx(ST.StrictMode,{children:x.jsx(eR,{})}));
