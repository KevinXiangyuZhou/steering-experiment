(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function a(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(u){if(u.ep)return;u.ep=!0;const f=a(u);fetch(u.href,f)}})();function h0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var hh={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function C1(){if(Pp)return zl;Pp=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(l,u,f){var d=null;if(f!==void 0&&(d=""+f),u.key!==void 0&&(d=""+u.key),"key"in u){f={};for(var g in u)g!=="key"&&(f[g]=u[g])}else f=u;return u=f.ref,{$$typeof:r,type:l,key:d,ref:u!==void 0?u:null,props:f}}return zl.Fragment=n,zl.jsx=a,zl.jsxs=a,zl}var Bp;function I1(){return Bp||(Bp=1,hh.exports=C1()),hh.exports}var j=I1(),dh={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function D1(){if(kp)return wt;kp=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.iterator;function R(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,F={};function Q(D,J,it){this.props=D,this.context=J,this.refs=F,this.updater=it||I}Q.prototype.isReactComponent={},Q.prototype.setState=function(D,J){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,J,"setState")},Q.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ot(){}ot.prototype=Q.prototype;function st(D,J,it){this.props=D,this.context=J,this.refs=F,this.updater=it||I}var at=st.prototype=new ot;at.constructor=st,q(at,Q.prototype),at.isPureReactComponent=!0;var ht=Array.isArray,rt={H:null,A:null,T:null,S:null,V:null},ut=Object.prototype.hasOwnProperty;function V(D,J,it,tt,pt,Rt){return it=Rt.ref,{$$typeof:r,type:D,key:J,ref:it!==void 0?it:null,props:Rt}}function S(D,J){return V(D.type,J,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function N(D){var J={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(it){return J[it]})}var M=/\/+/g;function U(D,J){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):J.toString(36)}function C(){}function ne(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(J){D.status==="pending"&&(D.status="fulfilled",D.value=J)},function(J){D.status==="pending"&&(D.status="rejected",D.reason=J)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Yt(D,J,it,tt,pt){var Rt=typeof D;(Rt==="undefined"||Rt==="boolean")&&(D=null);var At=!1;if(D===null)At=!0;else switch(Rt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(D.$$typeof){case r:case n:At=!0;break;case A:return At=D._init,Yt(At(D._payload),J,it,tt,pt)}}if(At)return pt=pt(D),At=tt===""?"."+U(D,0):tt,ht(pt)?(it="",At!=null&&(it=At.replace(M,"$&/")+"/"),Yt(pt,J,it,"",function(nn){return nn})):pt!=null&&(w(pt)&&(pt=S(pt,it+(pt.key==null||D&&D.key===pt.key?"":(""+pt.key).replace(M,"$&/")+"/")+At)),J.push(pt)),1;At=0;var me=tt===""?".":tt+":";if(ht(D))for(var Xt=0;Xt<D.length;Xt++)tt=D[Xt],Rt=me+U(tt,Xt),At+=Yt(tt,J,it,Rt,pt);else if(Xt=R(D),typeof Xt=="function")for(D=Xt.call(D),Xt=0;!(tt=D.next()).done;)tt=tt.value,Rt=me+U(tt,Xt++),At+=Yt(tt,J,it,Rt,pt);else if(Rt==="object"){if(typeof D.then=="function")return Yt(ne(D),J,it,tt,pt);throw J=String(D),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return At}function Y(D,J,it){if(D==null)return D;var tt=[],pt=0;return Yt(D,tt,"","",function(Rt){return J.call(it,Rt,pt++)}),tt}function et(D){if(D._status===-1){var J=D._result;J=J(),J.then(function(it){(D._status===0||D._status===-1)&&(D._status=1,D._result=it)},function(it){(D._status===0||D._status===-1)&&(D._status=2,D._result=it)}),D._status===-1&&(D._status=0,D._result=J)}if(D._status===1)return D._result.default;throw D._result}var ct=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Vt(){}return wt.Children={map:Y,forEach:function(D,J,it){Y(D,function(){J.apply(this,arguments)},it)},count:function(D){var J=0;return Y(D,function(){J++}),J},toArray:function(D){return Y(D,function(J){return J})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},wt.Component=Q,wt.Fragment=a,wt.Profiler=u,wt.PureComponent=st,wt.StrictMode=l,wt.Suspense=v,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rt,wt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return rt.H.useMemoCache(D)}},wt.cache=function(D){return function(){return D.apply(null,arguments)}},wt.cloneElement=function(D,J,it){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var tt=q({},D.props),pt=D.key,Rt=void 0;if(J!=null)for(At in J.ref!==void 0&&(Rt=void 0),J.key!==void 0&&(pt=""+J.key),J)!ut.call(J,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&J.ref===void 0||(tt[At]=J[At]);var At=arguments.length-2;if(At===1)tt.children=it;else if(1<At){for(var me=Array(At),Xt=0;Xt<At;Xt++)me[Xt]=arguments[Xt+2];tt.children=me}return V(D.type,pt,void 0,void 0,Rt,tt)},wt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:f,_context:D},D},wt.createElement=function(D,J,it){var tt,pt={},Rt=null;if(J!=null)for(tt in J.key!==void 0&&(Rt=""+J.key),J)ut.call(J,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(pt[tt]=J[tt]);var At=arguments.length-2;if(At===1)pt.children=it;else if(1<At){for(var me=Array(At),Xt=0;Xt<At;Xt++)me[Xt]=arguments[Xt+2];pt.children=me}if(D&&D.defaultProps)for(tt in At=D.defaultProps,At)pt[tt]===void 0&&(pt[tt]=At[tt]);return V(D,Rt,void 0,void 0,null,pt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(D){return{$$typeof:g,render:D}},wt.isValidElement=w,wt.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:et}},wt.memo=function(D,J){return{$$typeof:_,type:D,compare:J===void 0?null:J}},wt.startTransition=function(D){var J=rt.T,it={};rt.T=it;try{var tt=D(),pt=rt.S;pt!==null&&pt(it,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(Vt,ct)}catch(Rt){ct(Rt)}finally{rt.T=J}},wt.unstable_useCacheRefresh=function(){return rt.H.useCacheRefresh()},wt.use=function(D){return rt.H.use(D)},wt.useActionState=function(D,J,it){return rt.H.useActionState(D,J,it)},wt.useCallback=function(D,J){return rt.H.useCallback(D,J)},wt.useContext=function(D){return rt.H.useContext(D)},wt.useDebugValue=function(){},wt.useDeferredValue=function(D,J){return rt.H.useDeferredValue(D,J)},wt.useEffect=function(D,J,it){var tt=rt.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return tt.useEffect(D,J)},wt.useId=function(){return rt.H.useId()},wt.useImperativeHandle=function(D,J,it){return rt.H.useImperativeHandle(D,J,it)},wt.useInsertionEffect=function(D,J){return rt.H.useInsertionEffect(D,J)},wt.useLayoutEffect=function(D,J){return rt.H.useLayoutEffect(D,J)},wt.useMemo=function(D,J){return rt.H.useMemo(D,J)},wt.useOptimistic=function(D,J){return rt.H.useOptimistic(D,J)},wt.useReducer=function(D,J,it){return rt.H.useReducer(D,J,it)},wt.useRef=function(D){return rt.H.useRef(D)},wt.useState=function(D){return rt.H.useState(D)},wt.useSyncExternalStore=function(D,J,it){return rt.H.useSyncExternalStore(D,J,it)},wt.useTransition=function(){return rt.H.useTransition()},wt.version="19.1.1",wt}var qp;function Fh(){return qp||(qp=1,dh.exports=D1()),dh.exports}var gt=Fh();const N1=h0(gt);var mh={exports:{}},Pl={},gh={exports:{}},ph={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function M1(){return Hp||(Hp=1,(function(r){function n(Y,et){var ct=Y.length;Y.push(et);t:for(;0<ct;){var Vt=ct-1>>>1,D=Y[Vt];if(0<u(D,et))Y[Vt]=et,Y[ct]=D,ct=Vt;else break t}}function a(Y){return Y.length===0?null:Y[0]}function l(Y){if(Y.length===0)return null;var et=Y[0],ct=Y.pop();if(ct!==et){Y[0]=ct;t:for(var Vt=0,D=Y.length,J=D>>>1;Vt<J;){var it=2*(Vt+1)-1,tt=Y[it],pt=it+1,Rt=Y[pt];if(0>u(tt,ct))pt<D&&0>u(Rt,tt)?(Y[Vt]=Rt,Y[pt]=ct,Vt=pt):(Y[Vt]=tt,Y[it]=ct,Vt=it);else if(pt<D&&0>u(Rt,ct))Y[Vt]=Rt,Y[pt]=ct,Vt=pt;else break t}}return et}function u(Y,et){var ct=Y.sortIndex-et.sortIndex;return ct!==0?ct:Y.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],_=[],A=1,b=null,R=3,I=!1,q=!1,F=!1,Q=!1,ot=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;function ht(Y){for(var et=a(_);et!==null;){if(et.callback===null)l(_);else if(et.startTime<=Y)l(_),et.sortIndex=et.expirationTime,n(v,et);else break;et=a(_)}}function rt(Y){if(F=!1,ht(Y),!q)if(a(v)!==null)q=!0,ut||(ut=!0,U());else{var et=a(_);et!==null&&Yt(rt,et.startTime-Y)}}var ut=!1,V=-1,S=5,w=-1;function N(){return Q?!0:!(r.unstable_now()-w<S)}function M(){if(Q=!1,ut){var Y=r.unstable_now();w=Y;var et=!0;try{t:{q=!1,F&&(F=!1,st(V),V=-1),I=!0;var ct=R;try{e:{for(ht(Y),b=a(v);b!==null&&!(b.expirationTime>Y&&N());){var Vt=b.callback;if(typeof Vt=="function"){b.callback=null,R=b.priorityLevel;var D=Vt(b.expirationTime<=Y);if(Y=r.unstable_now(),typeof D=="function"){b.callback=D,ht(Y),et=!0;break e}b===a(v)&&l(v),ht(Y)}else l(v);b=a(v)}if(b!==null)et=!0;else{var J=a(_);J!==null&&Yt(rt,J.startTime-Y),et=!1}}break t}finally{b=null,R=ct,I=!1}et=void 0}}finally{et?U():ut=!1}}}var U;if(typeof at=="function")U=function(){at(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ne=C.port2;C.port1.onmessage=M,U=function(){ne.postMessage(null)}}else U=function(){ot(M,0)};function Yt(Y,et){V=ot(function(){Y(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(Y){switch(R){case 1:case 2:case 3:var et=3;break;default:et=R}var ct=R;R=et;try{return Y()}finally{R=ct}},r.unstable_requestPaint=function(){Q=!0},r.unstable_runWithPriority=function(Y,et){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ct=R;R=Y;try{return et()}finally{R=ct}},r.unstable_scheduleCallback=function(Y,et,ct){var Vt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Vt+ct:Vt):ct=Vt,Y){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ct+D,Y={id:A++,callback:et,priorityLevel:Y,startTime:ct,expirationTime:D,sortIndex:-1},ct>Vt?(Y.sortIndex=ct,n(_,Y),a(v)===null&&Y===a(_)&&(F?(st(V),V=-1):F=!0,Yt(rt,ct-Vt))):(Y.sortIndex=D,n(v,Y),q||I||(q=!0,ut||(ut=!0,U()))),Y},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(Y){var et=R;return function(){var ct=R;R=et;try{return Y.apply(this,arguments)}finally{R=ct}}}})(ph)),ph}var Gp;function O1(){return Gp||(Gp=1,gh.exports=M1()),gh.exports}var yh={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function V1(){if(Yp)return Fe;Yp=1;var r=Fh();function n(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var l={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(v,_,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:v,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Fe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(n(299));return f(v,_,null,A)},Fe.flushSync=function(v){var _=d.T,A=l.p;try{if(d.T=null,l.p=2,v)return v()}finally{d.T=_,l.p=A,l.d.f()}},Fe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,l.d.C(v,_))},Fe.prefetchDNS=function(v){typeof v=="string"&&l.d.D(v)},Fe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,b=g(A,_.crossOrigin),R=typeof _.integrity=="string"?_.integrity:void 0,I=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?l.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:R,fetchPriority:I}):A==="script"&&l.d.X(v,{crossOrigin:b,integrity:R,fetchPriority:I,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Fe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);l.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&l.d.M(v)},Fe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,b=g(A,_.crossOrigin);l.d.L(v,A,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Fe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=g(_.as,_.crossOrigin);l.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else l.d.m(v)},Fe.requestFormReset=function(v){l.d.r(v)},Fe.unstable_batchedUpdates=function(v,_){return v(_)},Fe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.1.1",Fe}var Qp;function U1(){if(Qp)return yh.exports;Qp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),yh.exports=V1(),yh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function L1(){if(Fp)return Pl;Fp=1;var r=O1(),n=Fh(),a=U1();function l(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function d(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function g(t){if(f(t)!==t)throw Error(l(188))}function v(t){var e=t.alternate;if(!e){if(e=f(t),e===null)throw Error(l(188));return e!==t?null:t}for(var i=t,s=e;;){var c=i.return;if(c===null)break;var h=c.alternate;if(h===null){if(s=c.return,s!==null){i=s;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===i)return g(c),t;if(h===s)return g(c),e;h=h.sibling}throw Error(l(188))}if(i.return!==s.return)i=c,s=h;else{for(var y=!1,T=c.child;T;){if(T===i){y=!0,i=c,s=h;break}if(T===s){y=!0,s=c,i=h;break}T=T.sibling}if(!y){for(T=h.child;T;){if(T===i){y=!0,i=h,s=c;break}if(T===s){y=!0,s=h,i=c;break}T=T.sibling}if(!y)throw Error(l(189))}}if(i.alternate!==s)throw Error(l(190))}if(i.tag!==3)throw Error(l(188));return i.stateNode.current===i?t:e}function _(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=_(t),e!==null)return e;t=t.sibling}return null}var A=Object.assign,b=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),ot=Symbol.for("react.provider"),st=Symbol.for("react.consumer"),at=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case Q:return"Profiler";case F:return"StrictMode";case rt:return"Suspense";case ut:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case I:return"Portal";case at:return(t.displayName||"Context")+".Provider";case st:return(t._context.displayName||"Context")+".Consumer";case ht:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return e=t.displayName||null,e!==null?e:ne(t.type)||"Memo";case S:e=t._payload,t=t._init;try{return ne(t(e))}catch{}}return null}var Yt=Array.isArray,Y=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Vt=[],D=-1;function J(t){return{current:t}}function it(t){0>D||(t.current=Vt[D],Vt[D]=null,D--)}function tt(t,e){D++,Vt[D]=t.current,t.current=e}var pt=J(null),Rt=J(null),At=J(null),me=J(null);function Xt(t,e){switch(tt(At,e),tt(Rt,t),tt(pt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?dp(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=dp(e),t=mp(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}it(pt),tt(pt,t)}function nn(){it(pt),it(Rt),it(At)}function an(t){t.memoizedState!==null&&tt(me,t);var e=pt.current,i=mp(e,t.type);e!==i&&(tt(Rt,t),tt(pt,i))}function rn(t){Rt.current===t&&(it(pt),it(Rt)),me.current===t&&(it(me),Ol._currentValue=ct)}var Rn=Object.prototype.hasOwnProperty,na=r.unstable_scheduleCallback,Pn=r.unstable_cancelCallback,bi=r.unstable_shouldYield,Ur=r.unstable_requestPaint,Ge=r.unstable_now,za=r.unstable_getCurrentPriorityLevel,Ri=r.unstable_ImmediatePriority,Wn=r.unstable_UserBlockingPriority,Bn=r.unstable_NormalPriority,js=r.unstable_LowPriority,ti=r.unstable_IdlePriority,Pa=r.log,ei=r.unstable_setDisableYieldValue,ie=null,Bt=null;function Ye(t){if(typeof Pa=="function"&&ei(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(ie,t)}catch{}}var le=Math.clz32?Math.clz32:kn,Lr=Math.log,zs=Math.LN2;function kn(t){return t>>>=0,t===0?32:31-(Lr(t)/zs|0)|0}var wi=256,ni=4194304;function sn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ii(t,e,i){var s=t.pendingLanes;if(s===0)return 0;var c=0,h=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var T=s&134217727;return T!==0?(s=T&~h,s!==0?c=sn(s):(y&=T,y!==0?c=sn(y):i||(i=T&~t,i!==0&&(c=sn(i))))):(T=s&~h,T!==0?c=sn(T):y!==0?c=sn(y):i||(i=s&~t,i!==0&&(c=sn(i)))),c===0?0:e!==0&&e!==c&&(e&h)===0&&(h=c&-c,i=e&-e,h>=i||h===32&&(i&4194048)!==0)?e:c}function qn(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Ba(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ka(){var t=wi;return wi<<=1,(wi&4194048)===0&&(wi=256),t}function qa(){var t=ni;return ni<<=1,(ni&62914560)===0&&(ni=4194304),t}function Hn(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function wn(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ha(t,e,i,s,c,h){var y=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var T=t.entanglements,x=t.expirationTimes,B=t.hiddenUpdates;for(i=y&~i;0<i;){var X=31-le(i),$=1<<X;T[X]=0,x[X]=-1;var k=B[X];if(k!==null)for(B[X]=null,X=0;X<k.length;X++){var H=k[X];H!==null&&(H.lane&=-536870913)}i&=~$}s!==0&&xn(t,s,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(y&~e))}function xn(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-le(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|i&4194090}function Ga(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var s=31-le(i),c=1<<s;c&e|t[s]&e&&(t[s]|=e),i&=~c}}function ai(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ia(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function xi(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Op(t.type))}function dt(t,e){var i=et.p;try{return et.p=t,e()}finally{et.p=i}}var vt=Math.random().toString(36).slice(2),bt="__reactFiber$"+vt,Ot="__reactProps$"+vt,oe="__reactContainer$"+vt,mn="__reactEvents$"+vt,gn="__reactListeners$"+vt,ln="__reactHandles$"+vt,uo="__reactResources$"+vt,Ya="__reactMarker$"+vt;function aa(t){delete t[bt],delete t[Ot],delete t[mn],delete t[gn],delete t[ln]}function Ci(t){var e=t[bt];if(e)return e;for(var i=t.parentNode;i;){if(e=i[oe]||i[bt]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=_p(t);t!==null;){if(i=t[bt])return i;t=_p(t)}return e}t=i,i=t.parentNode}return null}function ri(t){if(t=t[bt]||t[oe]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function si(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(l(33))}function Je(t){var e=t[uo];return e||(e=t[uo]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ge(t){t[Ya]=!0}var Ps=new Set,jr={};function Gn(t,e){Ii(t,e),Ii(t+"Capture",e)}function Ii(t,e){for(jr[t]=e,t=0;t<e.length;t++)Ps.add(e[t])}var co=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fo={},Qa={};function ho(t){return Rn.call(Qa,t)?!0:Rn.call(fo,t)?!1:co.test(t)?Qa[t]=!0:(fo[t]=!0,!1)}function ra(t,e,i){if(ho(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function li(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function Ve(t,e,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+s)}}var Fa,mo;function Di(t){if(Fa===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);Fa=e&&e[1]||"",mo=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fa+t+mo}var zr=!1;function Pr(t,e){if(!t||zr)return"";zr=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var k=H}Reflect.construct(t,[],$)}else{try{$.call()}catch(H){k=H}t.call($.prototype)}}else{try{throw Error()}catch(H){k=H}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&k&&typeof H.stack=="string")return[H.stack,k.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),y=h[0],T=h[1];if(y&&T){var x=y.split(`
`),B=T.split(`
`);for(c=s=0;s<x.length&&!x[s].includes("DetermineComponentFrameRoot");)s++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(s===x.length||c===B.length)for(s=x.length-1,c=B.length-1;1<=s&&0<=c&&x[s]!==B[c];)c--;for(;1<=s&&0<=c;s--,c--)if(x[s]!==B[c]){if(s!==1||c!==1)do if(s--,c--,0>c||x[s]!==B[c]){var X=`
`+x[s].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=s&&0<=c);break}}}finally{zr=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?Di(i):""}function Bs(t){switch(t.tag){case 26:case 27:case 5:return Di(t.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 15:return Pr(t.type,!1);case 11:return Pr(t.type.render,!1);case 1:return Pr(t.type,!0);case 31:return Di("Activity");default:return""}}function Br(t){try{var e="";do e+=Bs(t),t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function We(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ks(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gc(t){var e=ks(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,h=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return c.call(this)},set:function(y){s=""+y,h.call(this,y)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kr(t){t._valueTracker||(t._valueTracker=gc(t))}function qs(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),s="";return t&&(s=ks(t)?t.checked?"true":"false":t.value),t=s,t!==i?(e.setValue(t),!0):!1}function Xa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var pc=/[\n"\\]/g;function _e(t){return t.replace(pc,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function pn(t,e,i,s,c,h,y,T){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),e!=null?y==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+We(e)):t.value!==""+We(e)&&(t.value=""+We(e)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),e!=null?sa(t,y,We(e)):i!=null?sa(t,y,We(i)):s!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+We(T):t.removeAttribute("name")}function Ka(t,e,i,s,c,h,y,T){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),e!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||e!=null))return;i=i!=null?""+We(i):"",e=e!=null?""+We(e):i,T||e===t.value||(t.value=e),t.defaultValue=e}s=s??c,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=T?t.checked:!!s,t.defaultChecked=!!s,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function sa(t,e,i){e==="number"&&Xa(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Ni(t,e,i,s){if(t=t.options,e){e={};for(var c=0;c<i.length;c++)e["$"+i[c]]=!0;for(i=0;i<t.length;i++)c=e.hasOwnProperty("$"+t[i].value),t[i].selected!==c&&(t[i].selected=c),c&&s&&(t[i].defaultSelected=!0)}else{for(i=""+We(i),e=null,c=0;c<t.length;c++){if(t[c].value===i){t[c].selected=!0,s&&(t[c].defaultSelected=!0);return}e!==null||t[c].disabled||(e=t[c])}e!==null&&(e.selected=!0)}}function Kt(t,e,i){if(e!=null&&(e=""+We(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+We(i):""}function $a(t,e,i,s){if(e==null){if(s!=null){if(i!=null)throw Error(l(92));if(Yt(s)){if(1<s.length)throw Error(l(93));s=s[0]}i=s}i==null&&(i=""),e=i}i=We(e),t.defaultValue=i,s=t.textContent,s===i&&s!==""&&s!==null&&(t.value=s)}function Cn(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Za=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function go(t,e,i){var s=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,i):typeof i!="number"||i===0||Za.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function Hs(t,e,i){if(e!=null&&typeof e!="object")throw Error(l(62));if(t=t.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var c in e)s=e[c],e.hasOwnProperty(c)&&i[c]!==s&&go(t,c,s)}else for(var h in e)e.hasOwnProperty(h)&&go(t,h,e[h])}function Gs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_c=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qr(t){return _c.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Mi=null;function In(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oi=null,Vi=null;function Ys(t){var e=ri(t);if(e&&(t=e.stateNode)){var i=t[Ot]||null;t:switch(t=e.stateNode,e.type){case"input":if(pn(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+_e(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var s=i[e];if(s!==t&&s.form===t.form){var c=s[Ot]||null;if(!c)throw Error(l(90));pn(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(e=0;e<i.length;e++)s=i[e],s.form===t.form&&qs(s)}break t;case"textarea":Kt(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&Ni(t,!!i.multiple,e,!1)}}}var oi=!1;function po(t,e,i){if(oi)return t(e,i);oi=!0;try{var s=t(e);return s}finally{if(oi=!1,(Oi!==null||Vi!==null)&&(uu(),Oi&&(e=Oi,t=Vi,Vi=Oi=null,Ys(e),t)))for(e=0;e<t.length;e++)Ys(t[e])}}function Ja(t,e){var i=t.stateNode;if(i===null)return null;var s=i[Ot]||null;if(s===null)return null;i=s[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(l(231,e,typeof i));return i}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dn=!1;if(Yn)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{Dn=!1}var ui=null,la=null,Ui=null;function Qs(){if(Ui)return Ui;var t,e=la,i=e.length,s,c="value"in ui?ui.value:ui.textContent,h=c.length;for(t=0;t<i&&e[t]===c[t];t++);var y=i-t;for(s=1;s<=y&&e[i-s]===c[h-s];s++);return Ui=c.slice(t,1<s?1-s:void 0)}function ci(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fi(){return!0}function Fs(){return!1}function xe(t){function e(i,s,c,h,y){this._reactName=i,this._targetInst=c,this.type=s,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(i=t[T],this[T]=i?i(h):h[T]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?fi:Fs,this.isPropagationStopped=Fs,this}return A(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=fi)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=fi)},persist:function(){},isPersistent:fi}),e}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hr=xe(Ht),tr=A({},Ht,{view:0,detail:0}),yo=xe(tr),Gr,Yr,hi,er=A({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ar,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hi&&(hi&&t.type==="mousemove"?(Gr=t.screenX-hi.screenX,Yr=t.screenY-hi.screenY):Yr=Gr=0,hi=t),Gr)},movementY:function(t){return"movementY"in t?t.movementY:Yr}}),Nn=xe(er),_o=A({},er,{dataTransfer:0}),vc=xe(_o),nr=A({},tr,{relatedTarget:0}),Qr=xe(nr),Xs=A({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Fr=xe(Xs),vo=A({},Ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xr=xe(vo),Tc=A({},Ht,{data:0}),Ks=xe(Tc),ir={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},To={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $s(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Eo[t])?!!e[t]:!1}function ar(){return $s}var Ao=A({},tr,{key:function(t){if(t.key){var e=ir[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ci(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?To[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ar,charCode:function(t){return t.type==="keypress"?ci(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ci(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Kr=xe(Ao),So=A({},er,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zs=xe(So),Li=A({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ar}),bo=xe(Li),Ro=A({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),wo=xe(Ro),xo=A({},er,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$r=xe(xo),tn=A({},Ht,{newState:0,oldState:0}),Co=xe(tn),Io=[9,13,27,32],di=Yn&&"CompositionEvent"in window,o=null;Yn&&"documentMode"in document&&(o=document.documentMode);var m=Yn&&"TextEvent"in window&&!o,p=Yn&&(!di||o&&8<o&&11>=o),E=" ",z=!1;function G(t,e){switch(t){case"keyup":return Io.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ut=!1;function Se(t,e){switch(t){case"compositionend":return nt(e);case"keypress":return e.which!==32?null:(z=!0,E);case"textInput":return t=e.data,t===E&&z?null:t;default:return null}}function Lt(t,e){if(Ut)return t==="compositionend"||!di&&G(t,e)?(t=Qs(),Ui=la=ui=null,Ut=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return p&&e.locale!=="ko"?null:e.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function be(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ce[t.type]:e==="textarea"}function ji(t,e,i,s){Oi?Vi?Vi.push(s):Vi=[s]:Oi=s,e=gu(e,"onChange"),0<e.length&&(i=new Hr("onChange","change",null,i,s),t.push({event:i,listeners:e}))}var Ue=null,mi=null;function Js(t){op(t,0)}function Do(t){var e=si(t);if(qs(e))return t}function Id(t,e){if(t==="change")return e}var Dd=!1;if(Yn){var Ec;if(Yn){var Ac="oninput"in document;if(!Ac){var Nd=document.createElement("div");Nd.setAttribute("oninput","return;"),Ac=typeof Nd.oninput=="function"}Ec=Ac}else Ec=!1;Dd=Ec&&(!document.documentMode||9<document.documentMode)}function Md(){Ue&&(Ue.detachEvent("onpropertychange",Od),mi=Ue=null)}function Od(t){if(t.propertyName==="value"&&Do(mi)){var e=[];ji(e,mi,t,In(t)),po(Js,e)}}function av(t,e,i){t==="focusin"?(Md(),Ue=e,mi=i,Ue.attachEvent("onpropertychange",Od)):t==="focusout"&&Md()}function rv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Do(mi)}function sv(t,e){if(t==="click")return Do(e)}function lv(t,e){if(t==="input"||t==="change")return Do(e)}function ov(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yn=typeof Object.is=="function"?Object.is:ov;function Ws(t,e){if(yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),s=Object.keys(e);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var c=i[s];if(!Rn.call(e,c)||!yn(t[c],e[c]))return!1}return!0}function Vd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ud(t,e){var i=Vd(t);t=0;for(var s;i;){if(i.nodeType===3){if(s=t+i.textContent.length,t<=e&&s>=e)return{node:i,offset:e-t};t=s}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Vd(i)}}function Ld(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ld(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Xa(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=Xa(t.document)}return e}function Sc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var uv=Yn&&"documentMode"in document&&11>=document.documentMode,Zr=null,bc=null,tl=null,Rc=!1;function zd(t,e,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Rc||Zr==null||Zr!==Xa(s)||(s=Zr,"selectionStart"in s&&Sc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),tl&&Ws(tl,s)||(tl=s,s=gu(bc,"onSelect"),0<s.length&&(e=new Hr("onSelect","select",null,e,i),t.push({event:e,listeners:s}),e.target=Zr)))}function rr(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Jr={animationend:rr("Animation","AnimationEnd"),animationiteration:rr("Animation","AnimationIteration"),animationstart:rr("Animation","AnimationStart"),transitionrun:rr("Transition","TransitionRun"),transitionstart:rr("Transition","TransitionStart"),transitioncancel:rr("Transition","TransitionCancel"),transitionend:rr("Transition","TransitionEnd")},wc={},Pd={};Yn&&(Pd=document.createElement("div").style,"AnimationEvent"in window||(delete Jr.animationend.animation,delete Jr.animationiteration.animation,delete Jr.animationstart.animation),"TransitionEvent"in window||delete Jr.transitionend.transition);function sr(t){if(wc[t])return wc[t];if(!Jr[t])return t;var e=Jr[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in Pd)return wc[t]=e[i];return t}var Bd=sr("animationend"),kd=sr("animationiteration"),qd=sr("animationstart"),cv=sr("transitionrun"),fv=sr("transitionstart"),hv=sr("transitioncancel"),Hd=sr("transitionend"),Gd=new Map,xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xc.push("scrollEnd");function Qn(t,e){Gd.set(t,e),Gn(e,[t])}var Yd=new WeakMap;function Mn(t,e){if(typeof t=="object"&&t!==null){var i=Yd.get(t);return i!==void 0?i:(e={value:t,source:e,stack:Br(e)},Yd.set(t,e),e)}return{value:t,source:e,stack:Br(e)}}var On=[],Wr=0,Cc=0;function No(){for(var t=Wr,e=Cc=Wr=0;e<t;){var i=On[e];On[e++]=null;var s=On[e];On[e++]=null;var c=On[e];On[e++]=null;var h=On[e];if(On[e++]=null,s!==null&&c!==null){var y=s.pending;y===null?c.next=c:(c.next=y.next,y.next=c),s.pending=c}h!==0&&Qd(i,c,h)}}function Mo(t,e,i,s){On[Wr++]=t,On[Wr++]=e,On[Wr++]=i,On[Wr++]=s,Cc|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function Ic(t,e,i,s){return Mo(t,e,i,s),Oo(t)}function ts(t,e){return Mo(t,null,null,e),Oo(t)}function Qd(t,e,i){t.lanes|=i;var s=t.alternate;s!==null&&(s.lanes|=i);for(var c=!1,h=t.return;h!==null;)h.childLanes|=i,s=h.alternate,s!==null&&(s.childLanes|=i),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&e!==null&&(c=31-le(i),t=h.hiddenUpdates,s=t[c],s===null?t[c]=[e]:s.push(e),e.lane=i|536870912),h):null}function Oo(t){if(50<Rl)throw Rl=0,Lf=null,Error(l(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var es={};function dv(t,e,i,s){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,e,i,s){return new dv(t,e,i,s)}function Dc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zi(t,e){var i=t.alternate;return i===null?(i=_n(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function Fd(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Vo(t,e,i,s,c,h){var y=0;if(s=t,typeof t=="function")Dc(t)&&(y=1);else if(typeof t=="string")y=g1(t,i,pt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=_n(31,i,e,c),t.elementType=w,t.lanes=h,t;case q:return lr(i.children,c,h,e);case F:y=8,c|=24;break;case Q:return t=_n(12,i,e,c|2),t.elementType=Q,t.lanes=h,t;case rt:return t=_n(13,i,e,c),t.elementType=rt,t.lanes=h,t;case ut:return t=_n(19,i,e,c),t.elementType=ut,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ot:case at:y=10;break t;case st:y=9;break t;case ht:y=11;break t;case V:y=14;break t;case S:y=16,s=null;break t}y=29,i=Error(l(130,t===null?"null":typeof t,"")),s=null}return e=_n(y,i,e,c),e.elementType=t,e.type=s,e.lanes=h,e}function lr(t,e,i,s){return t=_n(7,t,s,e),t.lanes=i,t}function Nc(t,e,i){return t=_n(6,t,null,e),t.lanes=i,t}function Mc(t,e,i){return e=_n(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var ns=[],is=0,Uo=null,Lo=0,Vn=[],Un=0,or=null,Pi=1,Bi="";function ur(t,e){ns[is++]=Lo,ns[is++]=Uo,Uo=t,Lo=e}function Xd(t,e,i){Vn[Un++]=Pi,Vn[Un++]=Bi,Vn[Un++]=or,or=t;var s=Pi;t=Bi;var c=32-le(s)-1;s&=~(1<<c),i+=1;var h=32-le(e)+c;if(30<h){var y=c-c%5;h=(s&(1<<y)-1).toString(32),s>>=y,c-=y,Pi=1<<32-le(e)+c|i<<c|s,Bi=h+t}else Pi=1<<h|i<<c|s,Bi=t}function Oc(t){t.return!==null&&(ur(t,1),Xd(t,1,0))}function Vc(t){for(;t===Uo;)Uo=ns[--is],ns[is]=null,Lo=ns[--is],ns[is]=null;for(;t===or;)or=Vn[--Un],Vn[Un]=null,Bi=Vn[--Un],Vn[Un]=null,Pi=Vn[--Un],Vn[Un]=null}var en=null,fe=null,qt=!1,cr=null,gi=!1,Uc=Error(l(519));function fr(t){var e=Error(l(418,""));throw il(Mn(e,t)),Uc}function Kd(t){var e=t.stateNode,i=t.type,s=t.memoizedProps;switch(e[bt]=t,e[Ot]=s,i){case"dialog":Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":case"embed":Mt("load",e);break;case"video":case"audio":for(i=0;i<xl.length;i++)Mt(xl[i],e);break;case"source":Mt("error",e);break;case"img":case"image":case"link":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"input":Mt("invalid",e),Ka(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),kr(e);break;case"select":Mt("invalid",e);break;case"textarea":Mt("invalid",e),$a(e,s.value,s.defaultValue,s.children),kr(e)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||s.suppressHydrationWarning===!0||hp(e.textContent,i)?(s.popover!=null&&(Mt("beforetoggle",e),Mt("toggle",e)),s.onScroll!=null&&Mt("scroll",e),s.onScrollEnd!=null&&Mt("scrollend",e),s.onClick!=null&&(e.onclick=pu),e=!0):e=!1,e||fr(t)}function $d(t){for(en=t.return;en;)switch(en.tag){case 5:case 13:gi=!1;return;case 27:case 3:gi=!0;return;default:en=en.return}}function el(t){if(t!==en)return!1;if(!qt)return $d(t),qt=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Jf(t.type,t.memoizedProps)),i=!i),i&&fe&&fr(t),$d(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(e===0){fe=Xn(t.nextSibling);break t}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++;t=t.nextSibling}fe=null}}else e===27?(e=fe,Sa(t.type)?(t=nh,nh=null,fe=t):fe=e):fe=en?Xn(t.stateNode.nextSibling):null;return!0}function nl(){fe=en=null,qt=!1}function Zd(){var t=cr;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),cr=null),t}function il(t){cr===null?cr=[t]:cr.push(t)}var Lc=J(null),hr=null,ki=null;function oa(t,e,i){tt(Lc,e._currentValue),e._currentValue=i}function qi(t){t._currentValue=Lc.current,it(Lc)}function jc(t,e,i){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===i)break;t=t.return}}function zc(t,e,i,s){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var y=c.child;h=h.firstContext;t:for(;h!==null;){var T=h;h=c;for(var x=0;x<e.length;x++)if(T.context===e[x]){h.lanes|=i,T=h.alternate,T!==null&&(T.lanes|=i),jc(h.return,i,t),s||(y=null);break t}h=T.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(l(341));y.lanes|=i,h=y.alternate,h!==null&&(h.lanes|=i),jc(y,i,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function al(t,e,i,s){t=null;for(var c=e,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(l(387));if(y=y.memoizedProps,y!==null){var T=c.type;yn(c.pendingProps.value,y.value)||(t!==null?t.push(T):t=[T])}}else if(c===me.current){if(y=c.alternate,y===null)throw Error(l(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}c=c.return}t!==null&&zc(e,t,i,s),e.flags|=262144}function jo(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function dr(t){hr=t,ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qe(t){return Jd(hr,t)}function zo(t,e){return hr===null&&dr(t),Jd(t,e)}function Jd(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},ki===null){if(t===null)throw Error(l(308));ki=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ki=ki.next=e;return i}var mv=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},gv=r.unstable_scheduleCallback,pv=r.unstable_NormalPriority,Re={$$typeof:at,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pc(){return{controller:new mv,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&gv(pv,function(){t.controller.abort()})}var sl=null,Bc=0,as=0,rs=null;function yv(t,e){if(sl===null){var i=sl=[];Bc=0,as=Hf(),rs={status:"pending",value:void 0,then:function(s){i.push(s)}}}return Bc++,e.then(Wd,Wd),e}function Wd(){if(--Bc===0&&sl!==null){rs!==null&&(rs.status="fulfilled");var t=sl;sl=null,as=0,rs=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function _v(t,e){var i=[],s={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var c=0;c<i.length;c++)(0,i[c])(e)},function(c){for(s.status="rejected",s.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),s}var tm=Y.S;Y.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&yv(t,e),tm!==null&&tm(t,e)};var mr=J(null);function kc(){var t=mr.current;return t!==null?t:te.pooledCache}function Po(t,e){e===null?tt(mr,mr.current):tt(mr,e.pool)}function em(){var t=kc();return t===null?null:{parent:Re._currentValue,pool:t}}var ll=Error(l(460)),nm=Error(l(474)),Bo=Error(l(542)),qc={then:function(){}};function im(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ko(){}function am(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(ko,ko),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,sm(t),t;default:if(typeof e.status=="string")e.then(ko,ko);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var c=e;c.status="fulfilled",c.value=s}},function(s){if(e.status==="pending"){var c=e;c.status="rejected",c.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,sm(t),t}throw ol=e,ll}}var ol=null;function rm(){if(ol===null)throw Error(l(459));var t=ol;return ol=null,t}function sm(t){if(t===ll||t===Bo)throw Error(l(483))}var ua=!1;function Hc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ca(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function fa(t,e,i){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,(Qt&2)!==0){var c=s.pending;return c===null?e.next=e:(e.next=c.next,c.next=e),s.pending=e,e=Oo(t),Qd(t,null,i),e}return Mo(t,s,e,i),Oo(t)}function ul(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,i|=s,e.lanes=i,Ga(t,i)}}function Yc(t,e){var i=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var c=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var y={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?c=h=y:h=h.next=y,i=i.next}while(i!==null);h===null?c=h=e:h=h.next=e}else c=h=e;i={baseState:s.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var Qc=!1;function cl(){if(Qc){var t=rs;if(t!==null)throw t}}function fl(t,e,i,s){Qc=!1;var c=t.updateQueue;ua=!1;var h=c.firstBaseUpdate,y=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var x=T,B=x.next;x.next=null,y===null?h=B:y.next=B,y=x;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==y&&(T===null?X.firstBaseUpdate=B:T.next=B,X.lastBaseUpdate=x))}if(h!==null){var $=c.baseState;y=0,X=B=x=null,T=h;do{var k=T.lane&-536870913,H=k!==T.lane;if(H?(jt&k)===k:(s&k)===k){k!==0&&k===as&&(Qc=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var St=t,Tt=T;k=e;var Jt=i;switch(Tt.tag){case 1:if(St=Tt.payload,typeof St=="function"){$=St.call(Jt,$,k);break t}$=St;break t;case 3:St.flags=St.flags&-65537|128;case 0:if(St=Tt.payload,k=typeof St=="function"?St.call(Jt,$,k):St,k==null)break t;$=A({},$,k);break t;case 2:ua=!0}}k=T.callback,k!==null&&(t.flags|=64,H&&(t.flags|=8192),H=c.callbacks,H===null?c.callbacks=[k]:H.push(k))}else H={lane:k,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(B=X=H,x=$):X=X.next=H,y|=k;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;H=T,T=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);X===null&&(x=$),c.baseState=x,c.firstBaseUpdate=B,c.lastBaseUpdate=X,h===null&&(c.shared.lanes=0),va|=y,t.lanes=y,t.memoizedState=$}}function lm(t,e){if(typeof t!="function")throw Error(l(191,t));t.call(e)}function om(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)lm(i[t],e)}var ss=J(null),qo=J(0);function um(t,e){t=Ki,tt(qo,t),tt(ss,e),Ki=t|e.baseLanes}function Fc(){tt(qo,Ki),tt(ss,ss.current)}function Xc(){Ki=qo.current,it(ss),it(qo)}var ha=0,Ct=null,$t=null,ve=null,Ho=!1,ls=!1,gr=!1,Go=0,hl=0,os=null,vv=0;function pe(){throw Error(l(321))}function Kc(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!yn(t[i],e[i]))return!1;return!0}function $c(t,e,i,s,c,h){return ha=h,Ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Y.H=t===null||t.memoizedState===null?Qm:Fm,gr=!1,h=i(s,c),gr=!1,ls&&(h=fm(e,i,s,c)),cm(t),h}function cm(t){Y.H=$o;var e=$t!==null&&$t.next!==null;if(ha=0,ve=$t=Ct=null,Ho=!1,hl=0,os=null,e)throw Error(l(300));t===null||Ie||(t=t.dependencies,t!==null&&jo(t)&&(Ie=!0))}function fm(t,e,i,s){Ct=t;var c=0;do{if(ls&&(os=null),hl=0,ls=!1,25<=c)throw Error(l(301));if(c+=1,ve=$t=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}Y.H=wv,h=e(i,s)}while(ls);return h}function Tv(){var t=Y.H,e=t.useState()[0];return e=typeof e.then=="function"?dl(e):e,t=t.useState()[0],($t!==null?$t.memoizedState:null)!==t&&(Ct.flags|=1024),e}function Zc(){var t=Go!==0;return Go=0,t}function Jc(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function Wc(t){if(Ho){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ho=!1}ha=0,ve=$t=Ct=null,ls=!1,hl=Go=0,os=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?Ct.memoizedState=ve=t:ve=ve.next=t,ve}function Te(){if($t===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var e=ve===null?Ct.memoizedState:ve.next;if(e!==null)ve=e,$t=t;else{if(t===null)throw Ct.alternate===null?Error(l(467)):Error(l(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},ve===null?Ct.memoizedState=ve=t:ve=ve.next=t}return ve}function tf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(t){var e=hl;return hl+=1,os===null&&(os=[]),t=am(os,t,e),e=Ct,(ve===null?e.memoizedState:ve.next)===null&&(e=e.alternate,Y.H=e===null||e.memoizedState===null?Qm:Fm),t}function Yo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return dl(t);if(t.$$typeof===at)return Qe(t)}throw Error(l(438,String(t)))}function ef(t){var e=null,i=Ct.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var s=Ct.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(c){return c.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=tf(),Ct.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),s=0;s<t;s++)i[s]=N;return e.index++,i}function Hi(t,e){return typeof e=="function"?e(t):e}function Qo(t){var e=Te();return nf(e,$t,t)}function nf(t,e,i){var s=t.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=i;var c=t.baseQueue,h=s.pending;if(h!==null){if(c!==null){var y=c.next;c.next=h.next,h.next=y}e.baseQueue=c=h,s.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{e=c.next;var T=y=null,x=null,B=e,X=!1;do{var $=B.lane&-536870913;if($!==B.lane?(jt&$)===$:(ha&$)===$){var k=B.revertLane;if(k===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),$===as&&(X=!0);else if((ha&k)===k){B=B.next,k===as&&(X=!0);continue}else $={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},x===null?(T=x=$,y=h):x=x.next=$,Ct.lanes|=k,va|=k;$=B.action,gr&&i(h,$),h=B.hasEagerState?B.eagerState:i(h,$)}else k={lane:$,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},x===null?(T=x=k,y=h):x=x.next=k,Ct.lanes|=$,va|=$;B=B.next}while(B!==null&&B!==e);if(x===null?y=h:x.next=T,!yn(h,t.memoizedState)&&(Ie=!0,X&&(i=rs,i!==null)))throw i;t.memoizedState=h,t.baseState=y,t.baseQueue=x,s.lastRenderedState=h}return c===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function af(t){var e=Te(),i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=t;var s=i.dispatch,c=i.pending,h=e.memoizedState;if(c!==null){i.pending=null;var y=c=c.next;do h=t(h,y.action),y=y.next;while(y!==c);yn(h,e.memoizedState)||(Ie=!0),e.memoizedState=h,e.baseQueue===null&&(e.baseState=h),i.lastRenderedState=h}return[h,s]}function hm(t,e,i){var s=Ct,c=Te(),h=qt;if(h){if(i===void 0)throw Error(l(407));i=i()}else i=e();var y=!yn(($t||c).memoizedState,i);y&&(c.memoizedState=i,Ie=!0),c=c.queue;var T=gm.bind(null,s,c,t);if(ml(2048,8,T,[t]),c.getSnapshot!==e||y||ve!==null&&ve.memoizedState.tag&1){if(s.flags|=2048,us(9,Fo(),mm.bind(null,s,c,i,e),null),te===null)throw Error(l(349));h||(ha&124)!==0||dm(s,e,i)}return i}function dm(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=Ct.updateQueue,e===null?(e=tf(),Ct.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function mm(t,e,i,s){e.value=i,e.getSnapshot=s,pm(e)&&ym(t)}function gm(t,e,i){return i(function(){pm(e)&&ym(t)})}function pm(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!yn(t,i)}catch{return!0}}function ym(t){var e=ts(t,2);e!==null&&Sn(e,t,2)}function rf(t){var e=on();if(typeof t=="function"){var i=t;if(t=i(),gr){Ye(!0);try{i()}finally{Ye(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:t},e}function _m(t,e,i,s){return t.baseState=i,nf(t,$t,typeof s=="function"?s:Hi)}function Ev(t,e,i,s,c){if(Ko(t))throw Error(l(485));if(t=e.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){h.listeners.push(y)}};Y.T!==null?i(!0):h.isTransition=!1,s(h),i=e.pending,i===null?(h.next=e.pending=h,vm(e,h)):(h.next=i.next,e.pending=i.next=h)}}function vm(t,e){var i=e.action,s=e.payload,c=t.state;if(e.isTransition){var h=Y.T,y={};Y.T=y;try{var T=i(c,s),x=Y.S;x!==null&&x(y,T),Tm(t,e,T)}catch(B){sf(t,e,B)}finally{Y.T=h}}else try{h=i(c,s),Tm(t,e,h)}catch(B){sf(t,e,B)}}function Tm(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){Em(t,e,s)},function(s){return sf(t,e,s)}):Em(t,e,i)}function Em(t,e,i){e.status="fulfilled",e.value=i,Am(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,vm(t,i)))}function sf(t,e,i){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=i,Am(e),e=e.next;while(e!==s)}t.action=null}function Am(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Sm(t,e){return e}function bm(t,e){if(qt){var i=te.formState;if(i!==null){t:{var s=Ct;if(qt){if(fe){e:{for(var c=fe,h=gi;c.nodeType!==8;){if(!h){c=null;break e}if(c=Xn(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){fe=Xn(c.nextSibling),s=c.data==="F!";break t}}fr(s)}s=!1}s&&(e=i[0])}}return i=on(),i.memoizedState=i.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sm,lastRenderedState:e},i.queue=s,i=Hm.bind(null,Ct,s),s.dispatch=i,s=rf(!1),h=ff.bind(null,Ct,!1,s.queue),s=on(),c={state:e,dispatch:null,action:t,pending:null},s.queue=c,i=Ev.bind(null,Ct,c,h,i),c.dispatch=i,s.memoizedState=t,[e,i,!1]}function Rm(t){var e=Te();return wm(e,$t,t)}function wm(t,e,i){if(e=nf(t,e,Sm)[0],t=Qo(Hi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=dl(e)}catch(y){throw y===ll?Bo:y}else s=e;e=Te();var c=e.queue,h=c.dispatch;return i!==e.memoizedState&&(Ct.flags|=2048,us(9,Fo(),Av.bind(null,c,i),null)),[s,h,t]}function Av(t,e){t.action=e}function xm(t){var e=Te(),i=$t;if(i!==null)return wm(e,i,t);Te(),e=e.memoizedState,i=Te();var s=i.queue.dispatch;return i.memoizedState=t,[e,s,!1]}function us(t,e,i,s){return t={tag:t,create:i,deps:s,inst:e,next:null},e=Ct.updateQueue,e===null&&(e=tf(),Ct.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(s=i.next,i.next=t,t.next=s,e.lastEffect=t),t}function Fo(){return{destroy:void 0,resource:void 0}}function Cm(){return Te().memoizedState}function Xo(t,e,i,s){var c=on();s=s===void 0?null:s,Ct.flags|=t,c.memoizedState=us(1|e,Fo(),i,s)}function ml(t,e,i,s){var c=Te();s=s===void 0?null:s;var h=c.memoizedState.inst;$t!==null&&s!==null&&Kc(s,$t.memoizedState.deps)?c.memoizedState=us(e,h,i,s):(Ct.flags|=t,c.memoizedState=us(1|e,h,i,s))}function Im(t,e){Xo(8390656,8,t,e)}function Dm(t,e){ml(2048,8,t,e)}function Nm(t,e){return ml(4,2,t,e)}function Mm(t,e){return ml(4,4,t,e)}function Om(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Vm(t,e,i){i=i!=null?i.concat([t]):null,ml(4,4,Om.bind(null,e,t),i)}function lf(){}function Um(t,e){var i=Te();e=e===void 0?null:e;var s=i.memoizedState;return e!==null&&Kc(e,s[1])?s[0]:(i.memoizedState=[t,e],t)}function Lm(t,e){var i=Te();e=e===void 0?null:e;var s=i.memoizedState;if(e!==null&&Kc(e,s[1]))return s[0];if(s=t(),gr){Ye(!0);try{t()}finally{Ye(!1)}}return i.memoizedState=[s,e],s}function of(t,e,i){return i===void 0||(ha&1073741824)!==0?t.memoizedState=e:(t.memoizedState=i,t=Pg(),Ct.lanes|=t,va|=t,i)}function jm(t,e,i,s){return yn(i,e)?i:ss.current!==null?(t=of(t,i,s),yn(t,e)||(Ie=!0),t):(ha&42)===0?(Ie=!0,t.memoizedState=i):(t=Pg(),Ct.lanes|=t,va|=t,e)}function zm(t,e,i,s,c){var h=et.p;et.p=h!==0&&8>h?h:8;var y=Y.T,T={};Y.T=T,ff(t,!1,e,i);try{var x=c(),B=Y.S;if(B!==null&&B(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var X=_v(x,s);gl(t,e,X,An(t))}else gl(t,e,s,An(t))}catch($){gl(t,e,{then:function(){},status:"rejected",reason:$},An())}finally{et.p=h,Y.T=y}}function Sv(){}function uf(t,e,i,s){if(t.tag!==5)throw Error(l(476));var c=Pm(t).queue;zm(t,c,e,ct,i===null?Sv:function(){return Bm(t),i(s)})}function Pm(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:ct},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Bm(t){var e=Pm(t).next.queue;gl(t,e,{},An())}function cf(){return Qe(Ol)}function km(){return Te().memoizedState}function qm(){return Te().memoizedState}function bv(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=An();t=ca(i);var s=fa(e,t,i);s!==null&&(Sn(s,e,i),ul(s,e,i)),e={cache:Pc()},t.payload=e;return}e=e.return}}function Rv(t,e,i){var s=An();i={lane:s,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Ko(t)?Gm(e,i):(i=Ic(t,e,i,s),i!==null&&(Sn(i,t,s),Ym(i,e,s)))}function Hm(t,e,i){var s=An();gl(t,e,i,s)}function gl(t,e,i,s){var c={lane:s,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ko(t))Gm(e,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=e.lastRenderedReducer,h!==null))try{var y=e.lastRenderedState,T=h(y,i);if(c.hasEagerState=!0,c.eagerState=T,yn(T,y))return Mo(t,e,c,0),te===null&&No(),!1}catch{}finally{}if(i=Ic(t,e,c,s),i!==null)return Sn(i,t,s),Ym(i,e,s),!0}return!1}function ff(t,e,i,s){if(s={lane:2,revertLane:Hf(),action:s,hasEagerState:!1,eagerState:null,next:null},Ko(t)){if(e)throw Error(l(479))}else e=Ic(t,i,s,2),e!==null&&Sn(e,t,2)}function Ko(t){var e=t.alternate;return t===Ct||e!==null&&e===Ct}function Gm(t,e){ls=Ho=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Ym(t,e,i){if((i&4194048)!==0){var s=e.lanes;s&=t.pendingLanes,i|=s,e.lanes=i,Ga(t,i)}}var $o={readContext:Qe,use:Yo,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe},Qm={readContext:Qe,use:Yo,useCallback:function(t,e){return on().memoizedState=[t,e===void 0?null:e],t},useContext:Qe,useEffect:Im,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,Xo(4194308,4,Om.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Xo(4194308,4,t,e)},useInsertionEffect:function(t,e){Xo(4,2,t,e)},useMemo:function(t,e){var i=on();e=e===void 0?null:e;var s=t();if(gr){Ye(!0);try{t()}finally{Ye(!1)}}return i.memoizedState=[s,e],s},useReducer:function(t,e,i){var s=on();if(i!==void 0){var c=i(e);if(gr){Ye(!0);try{i(e)}finally{Ye(!1)}}}else c=e;return s.memoizedState=s.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},s.queue=t,t=t.dispatch=Rv.bind(null,Ct,t),[s.memoizedState,t]},useRef:function(t){var e=on();return t={current:t},e.memoizedState=t},useState:function(t){t=rf(t);var e=t.queue,i=Hm.bind(null,Ct,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:lf,useDeferredValue:function(t,e){var i=on();return of(i,t,e)},useTransition:function(){var t=rf(!1);return t=zm.bind(null,Ct,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var s=Ct,c=on();if(qt){if(i===void 0)throw Error(l(407));i=i()}else{if(i=e(),te===null)throw Error(l(349));(jt&124)!==0||dm(s,e,i)}c.memoizedState=i;var h={value:i,getSnapshot:e};return c.queue=h,Im(gm.bind(null,s,h,t),[t]),s.flags|=2048,us(9,Fo(),mm.bind(null,s,h,i,e),null),i},useId:function(){var t=on(),e=te.identifierPrefix;if(qt){var i=Bi,s=Pi;i=(s&~(1<<32-le(s)-1)).toString(32)+i,e=""+e+"R"+i,i=Go++,0<i&&(e+="H"+i.toString(32)),e+=""}else i=vv++,e=""+e+"r"+i.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:cf,useFormState:bm,useActionState:bm,useOptimistic:function(t){var e=on();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=ff.bind(null,Ct,!0,i),i.dispatch=e,[t,e]},useMemoCache:ef,useCacheRefresh:function(){return on().memoizedState=bv.bind(null,Ct)}},Fm={readContext:Qe,use:Yo,useCallback:Um,useContext:Qe,useEffect:Dm,useImperativeHandle:Vm,useInsertionEffect:Nm,useLayoutEffect:Mm,useMemo:Lm,useReducer:Qo,useRef:Cm,useState:function(){return Qo(Hi)},useDebugValue:lf,useDeferredValue:function(t,e){var i=Te();return jm(i,$t.memoizedState,t,e)},useTransition:function(){var t=Qo(Hi)[0],e=Te().memoizedState;return[typeof t=="boolean"?t:dl(t),e]},useSyncExternalStore:hm,useId:km,useHostTransitionStatus:cf,useFormState:Rm,useActionState:Rm,useOptimistic:function(t,e){var i=Te();return _m(i,$t,t,e)},useMemoCache:ef,useCacheRefresh:qm},wv={readContext:Qe,use:Yo,useCallback:Um,useContext:Qe,useEffect:Dm,useImperativeHandle:Vm,useInsertionEffect:Nm,useLayoutEffect:Mm,useMemo:Lm,useReducer:af,useRef:Cm,useState:function(){return af(Hi)},useDebugValue:lf,useDeferredValue:function(t,e){var i=Te();return $t===null?of(i,t,e):jm(i,$t.memoizedState,t,e)},useTransition:function(){var t=af(Hi)[0],e=Te().memoizedState;return[typeof t=="boolean"?t:dl(t),e]},useSyncExternalStore:hm,useId:km,useHostTransitionStatus:cf,useFormState:xm,useActionState:xm,useOptimistic:function(t,e){var i=Te();return $t!==null?_m(i,$t,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:ef,useCacheRefresh:qm},cs=null,pl=0;function Zo(t){var e=pl;return pl+=1,cs===null&&(cs=[]),am(cs,t,e)}function yl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Jo(t,e){throw e.$$typeof===b?Error(l(525)):(t=Object.prototype.toString.call(e),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Xm(t){var e=t._init;return e(t._payload)}function Km(t){function e(L,O){if(t){var P=L.deletions;P===null?(L.deletions=[O],L.flags|=16):P.push(O)}}function i(L,O){if(!t)return null;for(;O!==null;)e(L,O),O=O.sibling;return null}function s(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function c(L,O){return L=zi(L,O),L.index=0,L.sibling=null,L}function h(L,O,P){return L.index=P,t?(P=L.alternate,P!==null?(P=P.index,P<O?(L.flags|=67108866,O):P):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function y(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,O,P,K){return O===null||O.tag!==6?(O=Nc(P,L.mode,K),O.return=L,O):(O=c(O,P),O.return=L,O)}function x(L,O,P,K){var lt=P.type;return lt===q?X(L,O,P.props.children,K,P.key):O!==null&&(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&Xm(lt)===O.type)?(O=c(O,P.props),yl(O,P),O.return=L,O):(O=Vo(P.type,P.key,P.props,null,L.mode,K),yl(O,P),O.return=L,O)}function B(L,O,P,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Mc(P,L.mode,K),O.return=L,O):(O=c(O,P.children||[]),O.return=L,O)}function X(L,O,P,K,lt){return O===null||O.tag!==7?(O=lr(P,L.mode,K,lt),O.return=L,O):(O=c(O,P),O.return=L,O)}function $(L,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Nc(""+O,L.mode,P),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case R:return P=Vo(O.type,O.key,O.props,null,L.mode,P),yl(P,O),P.return=L,P;case I:return O=Mc(O,L.mode,P),O.return=L,O;case S:var K=O._init;return O=K(O._payload),$(L,O,P)}if(Yt(O)||U(O))return O=lr(O,L.mode,P,null),O.return=L,O;if(typeof O.then=="function")return $(L,Zo(O),P);if(O.$$typeof===at)return $(L,zo(L,O),P);Jo(L,O)}return null}function k(L,O,P,K){var lt=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return lt!==null?null:T(L,O,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case R:return P.key===lt?x(L,O,P,K):null;case I:return P.key===lt?B(L,O,P,K):null;case S:return lt=P._init,P=lt(P._payload),k(L,O,P,K)}if(Yt(P)||U(P))return lt!==null?null:X(L,O,P,K,null);if(typeof P.then=="function")return k(L,O,Zo(P),K);if(P.$$typeof===at)return k(L,O,zo(L,P),K);Jo(L,P)}return null}function H(L,O,P,K,lt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return L=L.get(P)||null,T(O,L,""+K,lt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case R:return L=L.get(K.key===null?P:K.key)||null,x(O,L,K,lt);case I:return L=L.get(K.key===null?P:K.key)||null,B(O,L,K,lt);case S:var Dt=K._init;return K=Dt(K._payload),H(L,O,P,K,lt)}if(Yt(K)||U(K))return L=L.get(P)||null,X(O,L,K,lt,null);if(typeof K.then=="function")return H(L,O,P,Zo(K),lt);if(K.$$typeof===at)return H(L,O,P,zo(O,K),lt);Jo(O,K)}return null}function St(L,O,P,K){for(var lt=null,Dt=null,mt=O,Et=O=0,Ne=null;mt!==null&&Et<P.length;Et++){mt.index>Et?(Ne=mt,mt=null):Ne=mt.sibling;var kt=k(L,mt,P[Et],K);if(kt===null){mt===null&&(mt=Ne);break}t&&mt&&kt.alternate===null&&e(L,mt),O=h(kt,O,Et),Dt===null?lt=kt:Dt.sibling=kt,Dt=kt,mt=Ne}if(Et===P.length)return i(L,mt),qt&&ur(L,Et),lt;if(mt===null){for(;Et<P.length;Et++)mt=$(L,P[Et],K),mt!==null&&(O=h(mt,O,Et),Dt===null?lt=mt:Dt.sibling=mt,Dt=mt);return qt&&ur(L,Et),lt}for(mt=s(mt);Et<P.length;Et++)Ne=H(mt,L,Et,P[Et],K),Ne!==null&&(t&&Ne.alternate!==null&&mt.delete(Ne.key===null?Et:Ne.key),O=h(Ne,O,Et),Dt===null?lt=Ne:Dt.sibling=Ne,Dt=Ne);return t&&mt.forEach(function(Ca){return e(L,Ca)}),qt&&ur(L,Et),lt}function Tt(L,O,P,K){if(P==null)throw Error(l(151));for(var lt=null,Dt=null,mt=O,Et=O=0,Ne=null,kt=P.next();mt!==null&&!kt.done;Et++,kt=P.next()){mt.index>Et?(Ne=mt,mt=null):Ne=mt.sibling;var Ca=k(L,mt,kt.value,K);if(Ca===null){mt===null&&(mt=Ne);break}t&&mt&&Ca.alternate===null&&e(L,mt),O=h(Ca,O,Et),Dt===null?lt=Ca:Dt.sibling=Ca,Dt=Ca,mt=Ne}if(kt.done)return i(L,mt),qt&&ur(L,Et),lt;if(mt===null){for(;!kt.done;Et++,kt=P.next())kt=$(L,kt.value,K),kt!==null&&(O=h(kt,O,Et),Dt===null?lt=kt:Dt.sibling=kt,Dt=kt);return qt&&ur(L,Et),lt}for(mt=s(mt);!kt.done;Et++,kt=P.next())kt=H(mt,L,Et,kt.value,K),kt!==null&&(t&&kt.alternate!==null&&mt.delete(kt.key===null?Et:kt.key),O=h(kt,O,Et),Dt===null?lt=kt:Dt.sibling=kt,Dt=kt);return t&&mt.forEach(function(x1){return e(L,x1)}),qt&&ur(L,Et),lt}function Jt(L,O,P,K){if(typeof P=="object"&&P!==null&&P.type===q&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case R:t:{for(var lt=P.key;O!==null;){if(O.key===lt){if(lt=P.type,lt===q){if(O.tag===7){i(L,O.sibling),K=c(O,P.props.children),K.return=L,L=K;break t}}else if(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&Xm(lt)===O.type){i(L,O.sibling),K=c(O,P.props),yl(K,P),K.return=L,L=K;break t}i(L,O);break}else e(L,O);O=O.sibling}P.type===q?(K=lr(P.props.children,L.mode,K,P.key),K.return=L,L=K):(K=Vo(P.type,P.key,P.props,null,L.mode,K),yl(K,P),K.return=L,L=K)}return y(L);case I:t:{for(lt=P.key;O!==null;){if(O.key===lt)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){i(L,O.sibling),K=c(O,P.children||[]),K.return=L,L=K;break t}else{i(L,O);break}else e(L,O);O=O.sibling}K=Mc(P,L.mode,K),K.return=L,L=K}return y(L);case S:return lt=P._init,P=lt(P._payload),Jt(L,O,P,K)}if(Yt(P))return St(L,O,P,K);if(U(P)){if(lt=U(P),typeof lt!="function")throw Error(l(150));return P=lt.call(P),Tt(L,O,P,K)}if(typeof P.then=="function")return Jt(L,O,Zo(P),K);if(P.$$typeof===at)return Jt(L,O,zo(L,P),K);Jo(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(i(L,O.sibling),K=c(O,P),K.return=L,L=K):(i(L,O),K=Nc(P,L.mode,K),K.return=L,L=K),y(L)):i(L,O)}return function(L,O,P,K){try{pl=0;var lt=Jt(L,O,P,K);return cs=null,lt}catch(mt){if(mt===ll||mt===Bo)throw mt;var Dt=_n(29,mt,null,L.mode);return Dt.lanes=K,Dt.return=L,Dt}finally{}}}var fs=Km(!0),$m=Km(!1),Ln=J(null),pi=null;function da(t){var e=t.alternate;tt(we,we.current&1),tt(Ln,t),pi===null&&(e===null||ss.current!==null||e.memoizedState!==null)&&(pi=t)}function Zm(t){if(t.tag===22){if(tt(we,we.current),tt(Ln,t),pi===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(pi=t)}}else ma()}function ma(){tt(we,we.current),tt(Ln,Ln.current)}function Gi(t){it(Ln),pi===t&&(pi=null),it(we)}var we=J(0);function Wo(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||eh(i)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function hf(t,e,i,s){e=t.memoizedState,i=i(s,e),i=i==null?e:A({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var df={enqueueSetState:function(t,e,i){t=t._reactInternals;var s=An(),c=ca(s);c.payload=e,i!=null&&(c.callback=i),e=fa(t,c,s),e!==null&&(Sn(e,t,s),ul(e,t,s))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var s=An(),c=ca(s);c.tag=1,c.payload=e,i!=null&&(c.callback=i),e=fa(t,c,s),e!==null&&(Sn(e,t,s),ul(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=An(),s=ca(i);s.tag=2,e!=null&&(s.callback=e),e=fa(t,s,i),e!==null&&(Sn(e,t,i),ul(e,t,i))}};function Jm(t,e,i,s,c,h,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,h,y):e.prototype&&e.prototype.isPureReactComponent?!Ws(i,s)||!Ws(c,h):!0}function Wm(t,e,i,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,s),e.state!==t&&df.enqueueReplaceState(e,e.state,null)}function pr(t,e){var i=e;if("ref"in e){i={};for(var s in e)s!=="ref"&&(i[s]=e[s])}if(t=t.defaultProps){i===e&&(i=A({},i));for(var c in t)i[c]===void 0&&(i[c]=t[c])}return i}var tu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function tg(t){tu(t)}function eg(t){console.error(t)}function ng(t){tu(t)}function eu(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function ig(t,e,i){try{var s=t.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function mf(t,e,i){return i=ca(i),i.tag=3,i.payload={element:null},i.callback=function(){eu(t,e)},i}function ag(t){return t=ca(t),t.tag=3,t}function rg(t,e,i,s){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var h=s.value;t.payload=function(){return c(h)},t.callback=function(){ig(e,i,s)}}var y=i.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){ig(e,i,s),typeof c!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})})}function xv(t,e,i,s,c){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=i.alternate,e!==null&&al(e,i,c,!0),i=Ln.current,i!==null){switch(i.tag){case 13:return pi===null?zf():i.alternate===null&&he===0&&(he=3),i.flags&=-257,i.flags|=65536,i.lanes=c,s===qc?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([s]):e.add(s),Bf(t,s,c)),!1;case 22:return i.flags|=65536,s===qc?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([s]):i.add(s)),Bf(t,s,c)),!1}throw Error(l(435,i.tag))}return Bf(t,s,c),zf(),!1}if(qt)return e=Ln.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=c,s!==Uc&&(t=Error(l(422),{cause:s}),il(Mn(t,i)))):(s!==Uc&&(e=Error(l(423),{cause:s}),il(Mn(e,i))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,s=Mn(s,i),c=mf(t.stateNode,s,c),Yc(t,c),he!==4&&(he=2)),!1;var h=Error(l(520),{cause:s});if(h=Mn(h,i),bl===null?bl=[h]:bl.push(h),he!==4&&(he=2),e===null)return!0;s=Mn(s,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=c&-c,i.lanes|=t,t=mf(i.stateNode,s,t),Yc(i,t),!1;case 1:if(e=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ta===null||!Ta.has(h))))return i.flags|=65536,c&=-c,i.lanes|=c,c=ag(c),rg(c,t,i,s),Yc(i,c),!1}i=i.return}while(i!==null);return!1}var sg=Error(l(461)),Ie=!1;function Le(t,e,i,s){e.child=t===null?$m(e,null,i,s):fs(e,t.child,i,s)}function lg(t,e,i,s,c){i=i.render;var h=e.ref;if("ref"in s){var y={};for(var T in s)T!=="ref"&&(y[T]=s[T])}else y=s;return dr(e),s=$c(t,e,i,y,h,c),T=Zc(),t!==null&&!Ie?(Jc(t,e,c),Yi(t,e,c)):(qt&&T&&Oc(e),e.flags|=1,Le(t,e,s,c),e.child)}function og(t,e,i,s,c){if(t===null){var h=i.type;return typeof h=="function"&&!Dc(h)&&h.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=h,ug(t,e,h,s,c)):(t=Vo(i.type,null,s,e,e.mode,c),t.ref=e.ref,t.return=e,e.child=t)}if(h=t.child,!Af(t,c)){var y=h.memoizedProps;if(i=i.compare,i=i!==null?i:Ws,i(y,s)&&t.ref===e.ref)return Yi(t,e,c)}return e.flags|=1,t=zi(h,s),t.ref=e.ref,t.return=e,e.child=t}function ug(t,e,i,s,c){if(t!==null){var h=t.memoizedProps;if(Ws(h,s)&&t.ref===e.ref)if(Ie=!1,e.pendingProps=s=h,Af(t,c))(t.flags&131072)!==0&&(Ie=!0);else return e.lanes=t.lanes,Yi(t,e,c)}return gf(t,e,i,s,c)}function cg(t,e,i){var s=e.pendingProps,c=s.children,h=t!==null?t.memoizedState:null;if(s.mode==="hidden"){if((e.flags&128)!==0){if(s=h!==null?h.baseLanes|i:i,t!==null){for(c=e.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;e.childLanes=h&~s}else e.childLanes=0,e.child=null;return fg(t,e,s,i)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Po(e,h!==null?h.cachePool:null),h!==null?um(e,h):Fc(),Zm(e);else return e.lanes=e.childLanes=536870912,fg(t,e,h!==null?h.baseLanes|i:i,i)}else h!==null?(Po(e,h.cachePool),um(e,h),ma(),e.memoizedState=null):(t!==null&&Po(e,null),Fc(),ma());return Le(t,e,c,i),e.child}function fg(t,e,i,s){var c=kc();return c=c===null?null:{parent:Re._currentValue,pool:c},e.memoizedState={baseLanes:i,cachePool:c},t!==null&&Po(e,null),Fc(),Zm(e),t!==null&&al(t,e,s,!0),null}function nu(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(l(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function gf(t,e,i,s,c){return dr(e),i=$c(t,e,i,s,void 0,c),s=Zc(),t!==null&&!Ie?(Jc(t,e,c),Yi(t,e,c)):(qt&&s&&Oc(e),e.flags|=1,Le(t,e,i,c),e.child)}function hg(t,e,i,s,c,h){return dr(e),e.updateQueue=null,i=fm(e,s,i,c),cm(t),s=Zc(),t!==null&&!Ie?(Jc(t,e,h),Yi(t,e,h)):(qt&&s&&Oc(e),e.flags|=1,Le(t,e,i,h),e.child)}function dg(t,e,i,s,c){if(dr(e),e.stateNode===null){var h=es,y=i.contextType;typeof y=="object"&&y!==null&&(h=Qe(y)),h=new i(s,h),e.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=df,e.stateNode=h,h._reactInternals=e,h=e.stateNode,h.props=s,h.state=e.memoizedState,h.refs={},Hc(e),y=i.contextType,h.context=typeof y=="object"&&y!==null?Qe(y):es,h.state=e.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(hf(e,i,y,s),h.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(y=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),y!==h.state&&df.enqueueReplaceState(h,h.state,null),fl(e,s,h,c),cl(),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){h=e.stateNode;var T=e.memoizedProps,x=pr(i,T);h.props=x;var B=h.context,X=i.contextType;y=es,typeof X=="object"&&X!==null&&(y=Qe(X));var $=i.getDerivedStateFromProps;X=typeof $=="function"||typeof h.getSnapshotBeforeUpdate=="function",T=e.pendingProps!==T,X||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T||B!==y)&&Wm(e,h,s,y),ua=!1;var k=e.memoizedState;h.state=k,fl(e,s,h,c),cl(),B=e.memoizedState,T||k!==B||ua?(typeof $=="function"&&(hf(e,i,$,s),B=e.memoizedState),(x=ua||Jm(e,i,x,s,k,B,y))?(X||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(e.flags|=4194308)):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=B),h.props=s,h.state=B,h.context=y,s=x):(typeof h.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{h=e.stateNode,Gc(t,e),y=e.memoizedProps,X=pr(i,y),h.props=X,$=e.pendingProps,k=h.context,B=i.contextType,x=es,typeof B=="object"&&B!==null&&(x=Qe(B)),T=i.getDerivedStateFromProps,(B=typeof T=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==$||k!==x)&&Wm(e,h,s,x),ua=!1,k=e.memoizedState,h.state=k,fl(e,s,h,c),cl();var H=e.memoizedState;y!==$||k!==H||ua||t!==null&&t.dependencies!==null&&jo(t.dependencies)?(typeof T=="function"&&(hf(e,i,T,s),H=e.memoizedState),(X=ua||Jm(e,i,X,s,k,H,x)||t!==null&&t.dependencies!==null&&jo(t.dependencies))?(B||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,H,x),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,H,x)),typeof h.componentDidUpdate=="function"&&(e.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=H),h.props=s,h.state=H,h.context=x,s=X):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(e.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(e.flags|=1024),s=!1)}return h=s,nu(t,e),s=(e.flags&128)!==0,h||s?(h=e.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:h.render(),e.flags|=1,t!==null&&s?(e.child=fs(e,t.child,null,c),e.child=fs(e,null,i,c)):Le(t,e,i,c),e.memoizedState=h.state,t=e.child):t=Yi(t,e,c),t}function mg(t,e,i,s){return nl(),e.flags|=256,Le(t,e,i,s),e.child}var pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yf(t){return{baseLanes:t,cachePool:em()}}function _f(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=jn),t}function gg(t,e,i){var s=e.pendingProps,c=!1,h=(e.flags&128)!==0,y;if((y=h)||(y=t!==null&&t.memoizedState===null?!1:(we.current&2)!==0),y&&(c=!0,e.flags&=-129),y=(e.flags&32)!==0,e.flags&=-33,t===null){if(qt){if(c?da(e):ma(),qt){var T=fe,x;if(x=T){t:{for(x=T,T=gi;x.nodeType!==8;){if(!T){T=null;break t}if(x=Xn(x.nextSibling),x===null){T=null;break t}}T=x}T!==null?(e.memoizedState={dehydrated:T,treeContext:or!==null?{id:Pi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},x=_n(18,null,null,0),x.stateNode=T,x.return=e,e.child=x,en=e,fe=null,x=!0):x=!1}x||fr(e)}if(T=e.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return eh(T)?e.lanes=32:e.lanes=536870912,null;Gi(e)}return T=s.children,s=s.fallback,c?(ma(),c=e.mode,T=iu({mode:"hidden",children:T},c),s=lr(s,c,i,null),T.return=e,s.return=e,T.sibling=s,e.child=T,c=e.child,c.memoizedState=yf(i),c.childLanes=_f(t,y,i),e.memoizedState=pf,s):(da(e),vf(e,T))}if(x=t.memoizedState,x!==null&&(T=x.dehydrated,T!==null)){if(h)e.flags&256?(da(e),e.flags&=-257,e=Tf(t,e,i)):e.memoizedState!==null?(ma(),e.child=t.child,e.flags|=128,e=null):(ma(),c=s.fallback,T=e.mode,s=iu({mode:"visible",children:s.children},T),c=lr(c,T,i,null),c.flags|=2,s.return=e,c.return=e,s.sibling=c,e.child=s,fs(e,t.child,null,i),s=e.child,s.memoizedState=yf(i),s.childLanes=_f(t,y,i),e.memoizedState=pf,e=c);else if(da(e),eh(T)){if(y=T.nextSibling&&T.nextSibling.dataset,y)var B=y.dgst;y=B,s=Error(l(419)),s.stack="",s.digest=y,il({value:s,source:null,stack:null}),e=Tf(t,e,i)}else if(Ie||al(t,e,i,!1),y=(i&t.childLanes)!==0,Ie||y){if(y=te,y!==null&&(s=i&-i,s=(s&42)!==0?1:ai(s),s=(s&(y.suspendedLanes|i))!==0?0:s,s!==0&&s!==x.retryLane))throw x.retryLane=s,ts(t,s),Sn(y,t,s),sg;T.data==="$?"||zf(),e=Tf(t,e,i)}else T.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=x.treeContext,fe=Xn(T.nextSibling),en=e,qt=!0,cr=null,gi=!1,t!==null&&(Vn[Un++]=Pi,Vn[Un++]=Bi,Vn[Un++]=or,Pi=t.id,Bi=t.overflow,or=e),e=vf(e,s.children),e.flags|=4096);return e}return c?(ma(),c=s.fallback,T=e.mode,x=t.child,B=x.sibling,s=zi(x,{mode:"hidden",children:s.children}),s.subtreeFlags=x.subtreeFlags&65011712,B!==null?c=zi(B,c):(c=lr(c,T,i,null),c.flags|=2),c.return=e,s.return=e,s.sibling=c,e.child=s,s=c,c=e.child,T=t.child.memoizedState,T===null?T=yf(i):(x=T.cachePool,x!==null?(B=Re._currentValue,x=x.parent!==B?{parent:B,pool:B}:x):x=em(),T={baseLanes:T.baseLanes|i,cachePool:x}),c.memoizedState=T,c.childLanes=_f(t,y,i),e.memoizedState=pf,s):(da(e),i=t.child,t=i.sibling,i=zi(i,{mode:"visible",children:s.children}),i.return=e,i.sibling=null,t!==null&&(y=e.deletions,y===null?(e.deletions=[t],e.flags|=16):y.push(t)),e.child=i,e.memoizedState=null,i)}function vf(t,e){return e=iu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function iu(t,e){return t=_n(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Tf(t,e,i){return fs(e,t.child,null,i),t=vf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pg(t,e,i){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),jc(t.return,e,i)}function Ef(t,e,i,s,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:c}:(h.isBackwards=e,h.rendering=null,h.renderingStartTime=0,h.last=s,h.tail=i,h.tailMode=c)}function yg(t,e,i){var s=e.pendingProps,c=s.revealOrder,h=s.tail;if(Le(t,e,s.children,i),s=we.current,(s&2)!==0)s=s&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pg(t,i,e);else if(t.tag===19)pg(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}switch(tt(we,s),c){case"forwards":for(i=e.child,c=null;i!==null;)t=i.alternate,t!==null&&Wo(t)===null&&(c=i),i=i.sibling;i=c,i===null?(c=e.child,e.child=null):(c=i.sibling,i.sibling=null),Ef(e,!1,c,i,h);break;case"backwards":for(i=null,c=e.child,e.child=null;c!==null;){if(t=c.alternate,t!==null&&Wo(t)===null){e.child=c;break}t=c.sibling,c.sibling=i,i=c,c=t}Ef(e,!0,i,null,h);break;case"together":Ef(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yi(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),va|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(al(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(l(153));if(e.child!==null){for(t=e.child,i=zi(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=zi(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function Af(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&jo(t)))}function Cv(t,e,i){switch(e.tag){case 3:Xt(e,e.stateNode.containerInfo),oa(e,Re,t.memoizedState.cache),nl();break;case 27:case 5:an(e);break;case 4:Xt(e,e.stateNode.containerInfo);break;case 10:oa(e,e.type,e.memoizedProps.value);break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(da(e),e.flags|=128,null):(i&e.child.childLanes)!==0?gg(t,e,i):(da(e),t=Yi(t,e,i),t!==null?t.sibling:null);da(e);break;case 19:var c=(t.flags&128)!==0;if(s=(i&e.childLanes)!==0,s||(al(t,e,i,!1),s=(i&e.childLanes)!==0),c){if(s)return yg(t,e,i);e.flags|=128}if(c=e.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),tt(we,we.current),s)break;return null;case 22:case 23:return e.lanes=0,cg(t,e,i);case 24:oa(e,Re,t.memoizedState.cache)}return Yi(t,e,i)}function _g(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ie=!0;else{if(!Af(t,i)&&(e.flags&128)===0)return Ie=!1,Cv(t,e,i);Ie=(t.flags&131072)!==0}else Ie=!1,qt&&(e.flags&1048576)!==0&&Xd(e,Lo,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var s=e.elementType,c=s._init;if(s=c(s._payload),e.type=s,typeof s=="function")Dc(s)?(t=pr(s,t),e.tag=1,e=dg(null,e,s,t,i)):(e.tag=0,e=gf(null,e,s,t,i));else{if(s!=null){if(c=s.$$typeof,c===ht){e.tag=11,e=lg(null,e,s,t,i);break t}else if(c===V){e.tag=14,e=og(null,e,s,t,i);break t}}throw e=ne(s)||s,Error(l(306,e,""))}}return e;case 0:return gf(t,e,e.type,e.pendingProps,i);case 1:return s=e.type,c=pr(s,e.pendingProps),dg(t,e,s,c,i);case 3:t:{if(Xt(e,e.stateNode.containerInfo),t===null)throw Error(l(387));s=e.pendingProps;var h=e.memoizedState;c=h.element,Gc(t,e),fl(e,s,null,i);var y=e.memoizedState;if(s=y.cache,oa(e,Re,s),s!==h.cache&&zc(e,[Re],i,!0),cl(),s=y.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:y.cache},e.updateQueue.baseState=h,e.memoizedState=h,e.flags&256){e=mg(t,e,s,i);break t}else if(s!==c){c=Mn(Error(l(424)),e),il(c),e=mg(t,e,s,i);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(fe=Xn(t.firstChild),en=e,qt=!0,cr=null,gi=!0,i=$m(e,null,s,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(nl(),s===c){e=Yi(t,e,i);break t}Le(t,e,s,i)}e=e.child}return e;case 26:return nu(t,e),t===null?(i=Ap(e.type,null,e.pendingProps,null))?e.memoizedState=i:qt||(i=e.type,t=e.pendingProps,s=yu(At.current).createElement(i),s[bt]=e,s[Ot]=t,ze(s,i,t),ge(s),e.stateNode=s):e.memoizedState=Ap(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return an(e),t===null&&qt&&(s=e.stateNode=vp(e.type,e.pendingProps,At.current),en=e,gi=!0,c=fe,Sa(e.type)?(nh=c,fe=Xn(s.firstChild)):fe=c),Le(t,e,e.pendingProps.children,i),nu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&qt&&((c=s=fe)&&(s=n1(s,e.type,e.pendingProps,gi),s!==null?(e.stateNode=s,en=e,fe=Xn(s.firstChild),gi=!1,c=!0):c=!1),c||fr(e)),an(e),c=e.type,h=e.pendingProps,y=t!==null?t.memoizedProps:null,s=h.children,Jf(c,h)?s=null:y!==null&&Jf(c,y)&&(e.flags|=32),e.memoizedState!==null&&(c=$c(t,e,Tv,null,null,i),Ol._currentValue=c),nu(t,e),Le(t,e,s,i),e.child;case 6:return t===null&&qt&&((t=i=fe)&&(i=i1(i,e.pendingProps,gi),i!==null?(e.stateNode=i,en=e,fe=null,t=!0):t=!1),t||fr(e)),null;case 13:return gg(t,e,i);case 4:return Xt(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=fs(e,null,s,i):Le(t,e,s,i),e.child;case 11:return lg(t,e,e.type,e.pendingProps,i);case 7:return Le(t,e,e.pendingProps,i),e.child;case 8:return Le(t,e,e.pendingProps.children,i),e.child;case 12:return Le(t,e,e.pendingProps.children,i),e.child;case 10:return s=e.pendingProps,oa(e,e.type,s.value),Le(t,e,s.children,i),e.child;case 9:return c=e.type._context,s=e.pendingProps.children,dr(e),c=Qe(c),s=s(c),e.flags|=1,Le(t,e,s,i),e.child;case 14:return og(t,e,e.type,e.pendingProps,i);case 15:return ug(t,e,e.type,e.pendingProps,i);case 19:return yg(t,e,i);case 31:return s=e.pendingProps,i=e.mode,s={mode:s.mode,children:s.children},t===null?(i=iu(s,i),i.ref=e.ref,e.child=i,i.return=e,e=i):(i=zi(t.child,s),i.ref=e.ref,e.child=i,i.return=e,e=i),e;case 22:return cg(t,e,i);case 24:return dr(e),s=Qe(Re),t===null?(c=kc(),c===null&&(c=te,h=Pc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=i),c=h),e.memoizedState={parent:s,cache:c},Hc(e),oa(e,Re,c)):((t.lanes&i)!==0&&(Gc(t,e),fl(e,null,null,i),cl()),c=t.memoizedState,h=e.memoizedState,c.parent!==s?(c={parent:s,cache:s},e.memoizedState=c,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=c),oa(e,Re,s)):(s=h.cache,oa(e,Re,s),s!==c.cache&&zc(e,[Re],i,!0))),Le(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(l(156,e.tag))}function Qi(t){t.flags|=4}function vg(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!xp(e)){if(e=Ln.current,e!==null&&((jt&4194048)===jt?pi!==null:(jt&62914560)!==jt&&(jt&536870912)===0||e!==pi))throw ol=qc,nm;t.flags|=8192}}function au(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?qa():536870912,t.lanes|=e,gs|=e)}function _l(t,e){if(!qt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function ue(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,s=0;if(e)for(var c=t.child;c!==null;)i|=c.lanes|c.childLanes,s|=c.subtreeFlags&65011712,s|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)i|=c.lanes|c.childLanes,s|=c.subtreeFlags,s|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=s,t.childLanes=i,e}function Iv(t,e,i){var s=e.pendingProps;switch(Vc(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(e),null;case 1:return ue(e),null;case 3:return i=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),qi(Re),nn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(el(e)?Qi(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Zd())),ue(e),null;case 26:return i=e.memoizedState,t===null?(Qi(e),i!==null?(ue(e),vg(e,i)):(ue(e),e.flags&=-16777217)):i?i!==t.memoizedState?(Qi(e),ue(e),vg(e,i)):(ue(e),e.flags&=-16777217):(t.memoizedProps!==s&&Qi(e),ue(e),e.flags&=-16777217),null;case 27:rn(e),i=At.current;var c=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Qi(e);else{if(!s){if(e.stateNode===null)throw Error(l(166));return ue(e),null}t=pt.current,el(e)?Kd(e):(t=vp(c,s,i),e.stateNode=t,Qi(e))}return ue(e),null;case 5:if(rn(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Qi(e);else{if(!s){if(e.stateNode===null)throw Error(l(166));return ue(e),null}if(t=pt.current,el(e))Kd(e);else{switch(c=yu(At.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof s.is=="string"?c.createElement("select",{is:s.is}):c.createElement("select"),s.multiple?t.multiple=!0:s.size&&(t.size=s.size);break;default:t=typeof s.is=="string"?c.createElement(i,{is:s.is}):c.createElement(i)}}t[bt]=e,t[Ot]=s;t:for(c=e.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break t;for(;c.sibling===null;){if(c.return===null||c.return===e)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}e.stateNode=t;t:switch(ze(t,i,s),i){case"button":case"input":case"select":case"textarea":t=!!s.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Qi(e)}}return ue(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&Qi(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(l(166));if(t=At.current,el(e)){if(t=e.stateNode,i=e.memoizedProps,s=null,c=en,c!==null)switch(c.tag){case 27:case 5:s=c.memoizedProps}t[bt]=e,t=!!(t.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||hp(t.nodeValue,i)),t||fr(e)}else t=yu(t).createTextNode(s),t[bt]=e,e.stateNode=t}return ue(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=el(e),s!==null&&s.dehydrated!==null){if(t===null){if(!c)throw Error(l(318));if(c=e.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[bt]=e}else nl(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ue(e),c=!1}else c=Zd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return e.flags&256?(Gi(e),e):(Gi(e),null)}if(Gi(e),(e.flags&128)!==0)return e.lanes=i,e;if(i=s!==null,t=t!==null&&t.memoizedState!==null,i){s=e.child,c=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(c=s.alternate.memoizedState.cachePool.pool);var h=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==c&&(s.flags|=2048)}return i!==t&&i&&(e.child.flags|=8192),au(e,e.updateQueue),ue(e),null;case 4:return nn(),t===null&&Ff(e.stateNode.containerInfo),ue(e),null;case 10:return qi(e.type),ue(e),null;case 19:if(it(we),c=e.memoizedState,c===null)return ue(e),null;if(s=(e.flags&128)!==0,h=c.rendering,h===null)if(s)_l(c,!1);else{if(he!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(h=Wo(t),h!==null){for(e.flags|=128,_l(c,!1),t=h.updateQueue,e.updateQueue=t,au(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)Fd(i,t),i=i.sibling;return tt(we,we.current&1|2),e.child}t=t.sibling}c.tail!==null&&Ge()>lu&&(e.flags|=128,s=!0,_l(c,!1),e.lanes=4194304)}else{if(!s)if(t=Wo(h),t!==null){if(e.flags|=128,s=!0,t=t.updateQueue,e.updateQueue=t,au(e,t),_l(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!qt)return ue(e),null}else 2*Ge()-c.renderingStartTime>lu&&i!==536870912&&(e.flags|=128,s=!0,_l(c,!1),e.lanes=4194304);c.isBackwards?(h.sibling=e.child,e.child=h):(t=c.last,t!==null?t.sibling=h:e.child=h,c.last=h)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Ge(),e.sibling=null,t=we.current,tt(we,s?t&1|2:t&1),e):(ue(e),null);case 22:case 23:return Gi(e),Xc(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?(i&536870912)!==0&&(e.flags&128)===0&&(ue(e),e.subtreeFlags&6&&(e.flags|=8192)):ue(e),i=e.updateQueue,i!==null&&au(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==i&&(e.flags|=2048),t!==null&&it(mr),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),qi(Re),ue(e),null;case 25:return null;case 30:return null}throw Error(l(156,e.tag))}function Dv(t,e){switch(Vc(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qi(Re),nn(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return rn(e),null;case 13:if(Gi(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(l(340));nl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return it(we),null;case 4:return nn(),null;case 10:return qi(e.type),null;case 22:case 23:return Gi(e),Xc(),t!==null&&it(mr),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return qi(Re),null;case 25:return null;default:return null}}function Tg(t,e){switch(Vc(e),e.tag){case 3:qi(Re),nn();break;case 26:case 27:case 5:rn(e);break;case 4:nn();break;case 13:Gi(e);break;case 19:it(we);break;case 10:qi(e.type);break;case 22:case 23:Gi(e),Xc(),t!==null&&it(mr);break;case 24:qi(Re)}}function vl(t,e){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var c=s.next;i=c;do{if((i.tag&t)===t){s=void 0;var h=i.create,y=i.inst;s=h(),y.destroy=s}i=i.next}while(i!==c)}}catch(T){Wt(e,e.return,T)}}function ga(t,e,i){try{var s=e.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var h=c.next;s=h;do{if((s.tag&t)===t){var y=s.inst,T=y.destroy;if(T!==void 0){y.destroy=void 0,c=e;var x=i,B=T;try{B()}catch(X){Wt(c,x,X)}}}s=s.next}while(s!==h)}}catch(X){Wt(e,e.return,X)}}function Eg(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{om(e,i)}catch(s){Wt(t,t.return,s)}}}function Ag(t,e,i){i.props=pr(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(s){Wt(t,e,s)}}function Tl(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof i=="function"?t.refCleanup=i(s):i.current=s}}catch(c){Wt(t,e,c)}}function yi(t,e){var i=t.ref,s=t.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(c){Wt(t,e,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){Wt(t,e,c)}else i.current=null}function Sg(t){var e=t.type,i=t.memoizedProps,s=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break t;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(c){Wt(t,t.return,c)}}function Sf(t,e,i){try{var s=t.stateNode;Zv(s,t.type,i,e),s[Ot]=e}catch(c){Wt(t,t.return,c)}}function bg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Sa(t.type)||t.tag===4}function bf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||bg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Sa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rf(t,e,i){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=pu));else if(s!==4&&(s===27&&Sa(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(Rf(t,e,i),t=t.sibling;t!==null;)Rf(t,e,i),t=t.sibling}function ru(t,e,i){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(s!==4&&(s===27&&Sa(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(ru(t,e,i),t=t.sibling;t!==null;)ru(t,e,i),t=t.sibling}function Rg(t){var e=t.stateNode,i=t.memoizedProps;try{for(var s=t.type,c=e.attributes;c.length;)e.removeAttributeNode(c[0]);ze(e,s,i),e[bt]=t,e[Ot]=i}catch(h){Wt(t,t.return,h)}}var Fi=!1,ye=!1,wf=!1,wg=typeof WeakSet=="function"?WeakSet:Set,De=null;function Nv(t,e){if(t=t.containerInfo,$f=Su,t=jd(t),Sc(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var c=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break t}var y=0,T=-1,x=-1,B=0,X=0,$=t,k=null;e:for(;;){for(var H;$!==i||c!==0&&$.nodeType!==3||(T=y+c),$!==h||s!==0&&$.nodeType!==3||(x=y+s),$.nodeType===3&&(y+=$.nodeValue.length),(H=$.firstChild)!==null;)k=$,$=H;for(;;){if($===t)break e;if(k===i&&++B===c&&(T=y),k===h&&++X===s&&(x=y),(H=$.nextSibling)!==null)break;$=k,k=$.parentNode}$=H}i=T===-1||x===-1?null:{start:T,end:x}}else i=null}i=i||{start:0,end:0}}else i=null;for(Zf={focusedElem:t,selectionRange:i},Su=!1,De=e;De!==null;)if(e=De,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,De=t;else for(;De!==null;){switch(e=De,h=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,i=e,c=h.memoizedProps,h=h.memoizedState,s=i.stateNode;try{var St=pr(i.type,c,i.elementType===i.type);t=s.getSnapshotBeforeUpdate(St,h),s.__reactInternalSnapshotBeforeUpdate=t}catch(Tt){Wt(i,i.return,Tt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)th(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":th(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=e.sibling,t!==null){t.return=e.return,De=t;break}De=e.return}}function xg(t,e,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:pa(t,i),s&4&&vl(5,i);break;case 1:if(pa(t,i),s&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(y){Wt(i,i.return,y)}else{var c=pr(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(c,e,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Wt(i,i.return,y)}}s&64&&Eg(i),s&512&&Tl(i,i.return);break;case 3:if(pa(t,i),s&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{om(t,e)}catch(y){Wt(i,i.return,y)}}break;case 27:e===null&&s&4&&Rg(i);case 26:case 5:pa(t,i),e===null&&s&4&&Sg(i),s&512&&Tl(i,i.return);break;case 12:pa(t,i);break;case 13:pa(t,i),s&4&&Dg(t,i),s&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=Bv.bind(null,i),a1(t,i))));break;case 22:if(s=i.memoizedState!==null||Fi,!s){e=e!==null&&e.memoizedState!==null||ye,c=Fi;var h=ye;Fi=s,(ye=e)&&!h?ya(t,i,(i.subtreeFlags&8772)!==0):pa(t,i),Fi=c,ye=h}break;case 30:break;default:pa(t,i)}}function Cg(t){var e=t.alternate;e!==null&&(t.alternate=null,Cg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&aa(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ae=null,un=!1;function Xi(t,e,i){for(i=i.child;i!==null;)Ig(t,e,i),i=i.sibling}function Ig(t,e,i){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(ie,i)}catch{}switch(i.tag){case 26:ye||yi(i,e),Xi(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ye||yi(i,e);var s=ae,c=un;Sa(i.type)&&(ae=i.stateNode,un=!1),Xi(t,e,i),Il(i.stateNode),ae=s,un=c;break;case 5:ye||yi(i,e);case 6:if(s=ae,c=un,ae=null,Xi(t,e,i),ae=s,un=c,ae!==null)if(un)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(i.stateNode)}catch(h){Wt(i,e,h)}else try{ae.removeChild(i.stateNode)}catch(h){Wt(i,e,h)}break;case 18:ae!==null&&(un?(t=ae,yp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),jl(t)):yp(ae,i.stateNode));break;case 4:s=ae,c=un,ae=i.stateNode.containerInfo,un=!0,Xi(t,e,i),ae=s,un=c;break;case 0:case 11:case 14:case 15:ye||ga(2,i,e),ye||ga(4,i,e),Xi(t,e,i);break;case 1:ye||(yi(i,e),s=i.stateNode,typeof s.componentWillUnmount=="function"&&Ag(i,e,s)),Xi(t,e,i);break;case 21:Xi(t,e,i);break;case 22:ye=(s=ye)||i.memoizedState!==null,Xi(t,e,i),ye=s;break;default:Xi(t,e,i)}}function Dg(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jl(t)}catch(i){Wt(e,e.return,i)}}function Mv(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new wg),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new wg),e;default:throw Error(l(435,t.tag))}}function xf(t,e){var i=Mv(t);e.forEach(function(s){var c=kv.bind(null,t,s);i.has(s)||(i.add(s),s.then(c,c))})}function vn(t,e){var i=e.deletions;if(i!==null)for(var s=0;s<i.length;s++){var c=i[s],h=t,y=e,T=y;t:for(;T!==null;){switch(T.tag){case 27:if(Sa(T.type)){ae=T.stateNode,un=!1;break t}break;case 5:ae=T.stateNode,un=!1;break t;case 3:case 4:ae=T.stateNode.containerInfo,un=!0;break t}T=T.return}if(ae===null)throw Error(l(160));Ig(h,y,c),ae=null,un=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)Ng(e,t),e=e.sibling}var Fn=null;function Ng(t,e){var i=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(e,t),Tn(t),s&4&&(ga(3,t,t.return),vl(3,t),ga(5,t,t.return));break;case 1:vn(e,t),Tn(t),s&512&&(ye||i===null||yi(i,i.return)),s&64&&Fi&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var c=Fn;if(vn(e,t),Tn(t),s&512&&(ye||i===null||yi(i,i.return)),s&4){var h=i!==null?i.memoizedState:null;if(s=t.memoizedState,i===null)if(s===null)if(t.stateNode===null){t:{s=t.type,i=t.memoizedProps,c=c.ownerDocument||c;e:switch(s){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Ya]||h[bt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(s),c.head.insertBefore(h,c.querySelector("head > title"))),ze(h,s,i),h[bt]=t,ge(h),s=h;break t;case"link":var y=Rp("link","href",c).get(s+(i.href||""));if(y){for(var T=0;T<y.length;T++)if(h=y[T],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){y.splice(T,1);break e}}h=c.createElement(s),ze(h,s,i),c.head.appendChild(h);break;case"meta":if(y=Rp("meta","content",c).get(s+(i.content||""))){for(T=0;T<y.length;T++)if(h=y[T],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){y.splice(T,1);break e}}h=c.createElement(s),ze(h,s,i),c.head.appendChild(h);break;default:throw Error(l(468,s))}h[bt]=t,ge(h),s=h}t.stateNode=s}else wp(c,t.type,t.stateNode);else t.stateNode=bp(c,s,t.memoizedProps);else h!==s?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,s===null?wp(c,t.type,t.stateNode):bp(c,s,t.memoizedProps)):s===null&&t.stateNode!==null&&Sf(t,t.memoizedProps,i.memoizedProps)}break;case 27:vn(e,t),Tn(t),s&512&&(ye||i===null||yi(i,i.return)),i!==null&&s&4&&Sf(t,t.memoizedProps,i.memoizedProps);break;case 5:if(vn(e,t),Tn(t),s&512&&(ye||i===null||yi(i,i.return)),t.flags&32){c=t.stateNode;try{Cn(c,"")}catch(H){Wt(t,t.return,H)}}s&4&&t.stateNode!=null&&(c=t.memoizedProps,Sf(t,c,i!==null?i.memoizedProps:c)),s&1024&&(wf=!0);break;case 6:if(vn(e,t),Tn(t),s&4){if(t.stateNode===null)throw Error(l(162));s=t.memoizedProps,i=t.stateNode;try{i.nodeValue=s}catch(H){Wt(t,t.return,H)}}break;case 3:if(Tu=null,c=Fn,Fn=_u(e.containerInfo),vn(e,t),Fn=c,Tn(t),s&4&&i!==null&&i.memoizedState.isDehydrated)try{jl(e.containerInfo)}catch(H){Wt(t,t.return,H)}wf&&(wf=!1,Mg(t));break;case 4:s=Fn,Fn=_u(t.stateNode.containerInfo),vn(e,t),Tn(t),Fn=s;break;case 12:vn(e,t),Tn(t);break;case 13:vn(e,t),Tn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Of=Ge()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,xf(t,s)));break;case 22:c=t.memoizedState!==null;var x=i!==null&&i.memoizedState!==null,B=Fi,X=ye;if(Fi=B||c,ye=X||x,vn(e,t),ye=X,Fi=B,Tn(t),s&8192)t:for(e=t.stateNode,e._visibility=c?e._visibility&-2:e._visibility|1,c&&(i===null||x||Fi||ye||yr(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){x=i=e;try{if(h=x.stateNode,c)y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{T=x.stateNode;var $=x.memoizedProps.style,k=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(H){Wt(x,x.return,H)}}}else if(e.tag===6){if(i===null){x=e;try{x.stateNode.nodeValue=c?"":x.memoizedProps}catch(H){Wt(x,x.return,H)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,xf(t,i))));break;case 19:vn(e,t),Tn(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,xf(t,s)));break;case 30:break;case 21:break;default:vn(e,t),Tn(t)}}function Tn(t){var e=t.flags;if(e&2){try{for(var i,s=t.return;s!==null;){if(bg(s)){i=s;break}s=s.return}if(i==null)throw Error(l(160));switch(i.tag){case 27:var c=i.stateNode,h=bf(t);ru(t,h,c);break;case 5:var y=i.stateNode;i.flags&32&&(Cn(y,""),i.flags&=-33);var T=bf(t);ru(t,T,y);break;case 3:case 4:var x=i.stateNode.containerInfo,B=bf(t);Rf(t,B,x);break;default:throw Error(l(161))}}catch(X){Wt(t,t.return,X)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Mg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Mg(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function pa(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)xg(t,e.alternate,e),e=e.sibling}function yr(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ga(4,e,e.return),yr(e);break;case 1:yi(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&Ag(e,e.return,i),yr(e);break;case 27:Il(e.stateNode);case 26:case 5:yi(e,e.return),yr(e);break;case 22:e.memoizedState===null&&yr(e);break;case 30:yr(e);break;default:yr(e)}t=t.sibling}}function ya(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,c=t,h=e,y=h.flags;switch(h.tag){case 0:case 11:case 15:ya(c,h,i),vl(4,h);break;case 1:if(ya(c,h,i),s=h,c=s.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Wt(s,s.return,B)}if(s=h,c=s.updateQueue,c!==null){var T=s.stateNode;try{var x=c.shared.hiddenCallbacks;if(x!==null)for(c.shared.hiddenCallbacks=null,c=0;c<x.length;c++)lm(x[c],T)}catch(B){Wt(s,s.return,B)}}i&&y&64&&Eg(h),Tl(h,h.return);break;case 27:Rg(h);case 26:case 5:ya(c,h,i),i&&s===null&&y&4&&Sg(h),Tl(h,h.return);break;case 12:ya(c,h,i);break;case 13:ya(c,h,i),i&&y&4&&Dg(c,h);break;case 22:h.memoizedState===null&&ya(c,h,i),Tl(h,h.return);break;case 30:break;default:ya(c,h,i)}e=e.sibling}}function Cf(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&rl(i))}function If(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&rl(t))}function _i(t,e,i,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Og(t,e,i,s),e=e.sibling}function Og(t,e,i,s){var c=e.flags;switch(e.tag){case 0:case 11:case 15:_i(t,e,i,s),c&2048&&vl(9,e);break;case 1:_i(t,e,i,s);break;case 3:_i(t,e,i,s),c&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&rl(t)));break;case 12:if(c&2048){_i(t,e,i,s),t=e.stateNode;try{var h=e.memoizedProps,y=h.id,T=h.onPostCommit;typeof T=="function"&&T(y,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Wt(e,e.return,x)}}else _i(t,e,i,s);break;case 13:_i(t,e,i,s);break;case 23:break;case 22:h=e.stateNode,y=e.alternate,e.memoizedState!==null?h._visibility&2?_i(t,e,i,s):El(t,e):h._visibility&2?_i(t,e,i,s):(h._visibility|=2,hs(t,e,i,s,(e.subtreeFlags&10256)!==0)),c&2048&&Cf(y,e);break;case 24:_i(t,e,i,s),c&2048&&If(e.alternate,e);break;default:_i(t,e,i,s)}}function hs(t,e,i,s,c){for(c=c&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var h=t,y=e,T=i,x=s,B=y.flags;switch(y.tag){case 0:case 11:case 15:hs(h,y,T,x,c),vl(8,y);break;case 23:break;case 22:var X=y.stateNode;y.memoizedState!==null?X._visibility&2?hs(h,y,T,x,c):El(h,y):(X._visibility|=2,hs(h,y,T,x,c)),c&&B&2048&&Cf(y.alternate,y);break;case 24:hs(h,y,T,x,c),c&&B&2048&&If(y.alternate,y);break;default:hs(h,y,T,x,c)}e=e.sibling}}function El(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,s=e,c=s.flags;switch(s.tag){case 22:El(i,s),c&2048&&Cf(s.alternate,s);break;case 24:El(i,s),c&2048&&If(s.alternate,s);break;default:El(i,s)}e=e.sibling}}var Al=8192;function ds(t){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)Vg(t),t=t.sibling}function Vg(t){switch(t.tag){case 26:ds(t),t.flags&Al&&t.memoizedState!==null&&y1(Fn,t.memoizedState,t.memoizedProps);break;case 5:ds(t);break;case 3:case 4:var e=Fn;Fn=_u(t.stateNode.containerInfo),ds(t),Fn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Al,Al=16777216,ds(t),Al=e):ds(t));break;default:ds(t)}}function Ug(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Sl(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var s=e[i];De=s,jg(s,t)}Ug(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Lg(t),t=t.sibling}function Lg(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&ga(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,su(t)):Sl(t);break;default:Sl(t)}}function su(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var s=e[i];De=s,jg(s,t)}Ug(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ga(8,e,e.return),su(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,su(e));break;default:su(e)}t=t.sibling}}function jg(t,e){for(;De!==null;){var i=De;switch(i.tag){case 0:case 11:case 15:ga(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:rl(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,De=s;else t:for(i=t;De!==null;){s=De;var c=s.sibling,h=s.return;if(Cg(s),s===i){De=null;break t}if(c!==null){c.return=h,De=c;break t}De=h}}}var Ov={getCacheForType:function(t){var e=Qe(Re),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i}},Vv=typeof WeakMap=="function"?WeakMap:Map,Qt=0,te=null,Nt=null,jt=0,Ft=0,En=null,_a=!1,ms=!1,Df=!1,Ki=0,he=0,va=0,_r=0,Nf=0,jn=0,gs=0,bl=null,cn=null,Mf=!1,Of=0,lu=1/0,ou=null,Ta=null,je=0,Ea=null,ps=null,ys=0,Vf=0,Uf=null,zg=null,Rl=0,Lf=null;function An(){if((Qt&2)!==0&&jt!==0)return jt&-jt;if(Y.T!==null){var t=as;return t!==0?t:Hf()}return xi()}function Pg(){jn===0&&(jn=(jt&536870912)===0||qt?ka():536870912);var t=Ln.current;return t!==null&&(t.flags|=32),jn}function Sn(t,e,i){(t===te&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(_s(t,0),Aa(t,jt,jn,!1)),wn(t,i),((Qt&2)===0||t!==te)&&(t===te&&((Qt&2)===0&&(_r|=i),he===4&&Aa(t,jt,jn,!1)),vi(t))}function Bg(t,e,i){if((Qt&6)!==0)throw Error(l(327));var s=!i&&(e&124)===0&&(e&t.expiredLanes)===0||qn(t,e),c=s?jv(t,e):Pf(t,e,!0),h=s;do{if(c===0){ms&&!s&&Aa(t,e,0,!1);break}else{if(i=t.current.alternate,h&&!Uv(i)){c=Pf(t,e,!1),h=!1;continue}if(c===2){if(h=e,t.errorRecoveryDisabledLanes&h)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){e=y;t:{var T=t;c=bl;var x=T.current.memoizedState.isDehydrated;if(x&&(_s(T,y).flags|=256),y=Pf(T,y,!1),y!==2){if(Df&&!x){T.errorRecoveryDisabledLanes|=h,_r|=h,c=4;break t}h=cn,cn=c,h!==null&&(cn===null?cn=h:cn.push.apply(cn,h))}c=y}if(h=!1,c!==2)continue}}if(c===1){_s(t,0),Aa(t,e,0,!0);break}t:{switch(s=t,h=c,h){case 0:case 1:throw Error(l(345));case 4:if((e&4194048)!==e)break;case 6:Aa(s,e,jn,!_a);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((e&62914560)===e&&(c=Of+300-Ge(),10<c)){if(Aa(s,e,jn,!_a),ii(s,0,!0)!==0)break t;s.timeoutHandle=gp(kg.bind(null,s,i,cn,ou,Mf,e,jn,_r,gs,_a,h,2,-0,0),c);break t}kg(s,i,cn,ou,Mf,e,jn,_r,gs,_a,h,0,-0,0)}}break}while(!0);vi(t)}function kg(t,e,i,s,c,h,y,T,x,B,X,$,k,H){if(t.timeoutHandle=-1,$=e.subtreeFlags,($&8192||($&16785408)===16785408)&&(Ml={stylesheets:null,count:0,unsuspend:p1},Vg(e),$=_1(),$!==null)){t.cancelPendingCommit=$(Xg.bind(null,t,e,h,i,s,c,y,T,x,X,1,k,H)),Aa(t,h,y,!B);return}Xg(t,e,h,i,s,c,y,T,x)}function Uv(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var c=i[s],h=c.getSnapshot;c=c.value;try{if(!yn(h(),c))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Aa(t,e,i,s){e&=~Nf,e&=~_r,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var c=e;0<c;){var h=31-le(c),y=1<<h;s[h]=-1,c&=~y}i!==0&&xn(t,i,e)}function uu(){return(Qt&6)===0?(wl(0),!1):!0}function jf(){if(Nt!==null){if(Ft===0)var t=Nt.return;else t=Nt,ki=hr=null,Wc(t),cs=null,pl=0,t=Nt;for(;t!==null;)Tg(t.alternate,t),t=t.return;Nt=null}}function _s(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,Wv(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),jf(),te=t,Nt=i=zi(t.current,null),jt=e,Ft=0,En=null,_a=!1,ms=qn(t,e),Df=!1,gs=jn=Nf=_r=va=he=0,cn=bl=null,Mf=!1,(e&8)!==0&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var c=31-le(s),h=1<<c;e|=t[c],s&=~h}return Ki=e,No(),i}function qg(t,e){Ct=null,Y.H=$o,e===ll||e===Bo?(e=rm(),Ft=3):e===nm?(e=rm(),Ft=4):Ft=e===sg?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,En=e,Nt===null&&(he=1,eu(t,Mn(e,t.current)))}function Hg(){var t=Y.H;return Y.H=$o,t===null?$o:t}function Gg(){var t=Y.A;return Y.A=Ov,t}function zf(){he=4,_a||(jt&4194048)!==jt&&Ln.current!==null||(ms=!0),(va&134217727)===0&&(_r&134217727)===0||te===null||Aa(te,jt,jn,!1)}function Pf(t,e,i){var s=Qt;Qt|=2;var c=Hg(),h=Gg();(te!==t||jt!==e)&&(ou=null,_s(t,e)),e=!1;var y=he;t:do try{if(Ft!==0&&Nt!==null){var T=Nt,x=En;switch(Ft){case 8:jf(),y=6;break t;case 3:case 2:case 9:case 6:Ln.current===null&&(e=!0);var B=Ft;if(Ft=0,En=null,vs(t,T,x,B),i&&ms){y=0;break t}break;default:B=Ft,Ft=0,En=null,vs(t,T,x,B)}}Lv(),y=he;break}catch(X){qg(t,X)}while(!0);return e&&t.shellSuspendCounter++,ki=hr=null,Qt=s,Y.H=c,Y.A=h,Nt===null&&(te=null,jt=0,No()),y}function Lv(){for(;Nt!==null;)Yg(Nt)}function jv(t,e){var i=Qt;Qt|=2;var s=Hg(),c=Gg();te!==t||jt!==e?(ou=null,lu=Ge()+500,_s(t,e)):ms=qn(t,e);t:do try{if(Ft!==0&&Nt!==null){e=Nt;var h=En;e:switch(Ft){case 1:Ft=0,En=null,vs(t,e,h,1);break;case 2:case 9:if(im(h)){Ft=0,En=null,Qg(e);break}e=function(){Ft!==2&&Ft!==9||te!==t||(Ft=7),vi(t)},h.then(e,e);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:im(h)?(Ft=0,En=null,Qg(e)):(Ft=0,En=null,vs(t,e,h,7));break;case 5:var y=null;switch(Nt.tag){case 26:y=Nt.memoizedState;case 5:case 27:var T=Nt;if(!y||xp(y)){Ft=0,En=null;var x=T.sibling;if(x!==null)Nt=x;else{var B=T.return;B!==null?(Nt=B,cu(B)):Nt=null}break e}}Ft=0,En=null,vs(t,e,h,5);break;case 6:Ft=0,En=null,vs(t,e,h,6);break;case 8:jf(),he=6;break t;default:throw Error(l(462))}}zv();break}catch(X){qg(t,X)}while(!0);return ki=hr=null,Y.H=s,Y.A=c,Qt=i,Nt!==null?0:(te=null,jt=0,No(),he)}function zv(){for(;Nt!==null&&!bi();)Yg(Nt)}function Yg(t){var e=_g(t.alternate,t,Ki);t.memoizedProps=t.pendingProps,e===null?cu(t):Nt=e}function Qg(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=hg(i,e,e.pendingProps,e.type,void 0,jt);break;case 11:e=hg(i,e,e.pendingProps,e.type.render,e.ref,jt);break;case 5:Wc(e);default:Tg(i,e),e=Nt=Fd(e,Ki),e=_g(i,e,Ki)}t.memoizedProps=t.pendingProps,e===null?cu(t):Nt=e}function vs(t,e,i,s){ki=hr=null,Wc(e),cs=null,pl=0;var c=e.return;try{if(xv(t,c,e,i,jt)){he=1,eu(t,Mn(i,t.current)),Nt=null;return}}catch(h){if(c!==null)throw Nt=c,h;he=1,eu(t,Mn(i,t.current)),Nt=null;return}e.flags&32768?(qt||s===1?t=!0:ms||(jt&536870912)!==0?t=!1:(_a=t=!0,(s===2||s===9||s===3||s===6)&&(s=Ln.current,s!==null&&s.tag===13&&(s.flags|=16384))),Fg(e,t)):cu(e)}function cu(t){var e=t;do{if((e.flags&32768)!==0){Fg(e,_a);return}t=e.return;var i=Iv(e.alternate,e,Ki);if(i!==null){Nt=i;return}if(e=e.sibling,e!==null){Nt=e;return}Nt=e=t}while(e!==null);he===0&&(he=5)}function Fg(t,e){do{var i=Dv(t.alternate,t);if(i!==null){i.flags&=32767,Nt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=i}while(t!==null);he=6,Nt=null}function Xg(t,e,i,s,c,h,y,T,x){t.cancelPendingCommit=null;do fu();while(je!==0);if((Qt&6)!==0)throw Error(l(327));if(e!==null){if(e===t.current)throw Error(l(177));if(h=e.lanes|e.childLanes,h|=Cc,Ha(t,i,h,y,T,x),t===te&&(Nt=te=null,jt=0),ps=e,Ea=t,ys=i,Vf=h,Uf=c,zg=s,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qv(Bn,function(){return Wg(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||s){s=Y.T,Y.T=null,c=et.p,et.p=2,y=Qt,Qt|=4;try{Nv(t,e,i)}finally{Qt=y,et.p=c,Y.T=s}}je=1,Kg(),$g(),Zg()}}function Kg(){if(je===1){je=0;var t=Ea,e=ps,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=Y.T,Y.T=null;var s=et.p;et.p=2;var c=Qt;Qt|=4;try{Ng(e,t);var h=Zf,y=jd(t.containerInfo),T=h.focusedElem,x=h.selectionRange;if(y!==T&&T&&T.ownerDocument&&Ld(T.ownerDocument.documentElement,T)){if(x!==null&&Sc(T)){var B=x.start,X=x.end;if(X===void 0&&(X=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(X,T.value.length);else{var $=T.ownerDocument||document,k=$&&$.defaultView||window;if(k.getSelection){var H=k.getSelection(),St=T.textContent.length,Tt=Math.min(x.start,St),Jt=x.end===void 0?Tt:Math.min(x.end,St);!H.extend&&Tt>Jt&&(y=Jt,Jt=Tt,Tt=y);var L=Ud(T,Tt),O=Ud(T,Jt);if(L&&O&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var P=$.createRange();P.setStart(L.node,L.offset),H.removeAllRanges(),Tt>Jt?(H.addRange(P),H.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),H.addRange(P))}}}}for($=[],H=T;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var K=$[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Su=!!$f,Zf=$f=null}finally{Qt=c,et.p=s,Y.T=i}}t.current=e,je=2}}function $g(){if(je===2){je=0;var t=Ea,e=ps,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=Y.T,Y.T=null;var s=et.p;et.p=2;var c=Qt;Qt|=4;try{xg(t,e.alternate,e)}finally{Qt=c,et.p=s,Y.T=i}}je=3}}function Zg(){if(je===4||je===3){je=0,Ur();var t=Ea,e=ps,i=ys,s=zg;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?je=5:(je=0,ps=Ea=null,Jg(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Ta=null),ia(i),e=e.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(ie,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=Y.T,c=et.p,et.p=2,Y.T=null;try{for(var h=t.onRecoverableError,y=0;y<s.length;y++){var T=s[y];h(T.value,{componentStack:T.stack})}}finally{Y.T=e,et.p=c}}(ys&3)!==0&&fu(),vi(t),c=t.pendingLanes,(i&4194090)!==0&&(c&42)!==0?t===Lf?Rl++:(Rl=0,Lf=t):Rl=0,wl(0)}}function Jg(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,rl(e)))}function fu(t){return Kg(),$g(),Zg(),Wg()}function Wg(){if(je!==5)return!1;var t=Ea,e=Vf;Vf=0;var i=ia(ys),s=Y.T,c=et.p;try{et.p=32>i?32:i,Y.T=null,i=Uf,Uf=null;var h=Ea,y=ys;if(je=0,ps=Ea=null,ys=0,(Qt&6)!==0)throw Error(l(331));var T=Qt;if(Qt|=4,Lg(h.current),Og(h,h.current,y,i),Qt=T,wl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(ie,h)}catch{}return!0}finally{et.p=c,Y.T=s,Jg(t,e)}}function tp(t,e,i){e=Mn(i,e),e=mf(t.stateNode,e,2),t=fa(t,e,2),t!==null&&(wn(t,2),vi(t))}function Wt(t,e,i){if(t.tag===3)tp(t,t,i);else for(;e!==null;){if(e.tag===3){tp(e,t,i);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ta===null||!Ta.has(s))){t=Mn(i,t),i=ag(2),s=fa(e,i,2),s!==null&&(rg(i,s,e,t),wn(s,2),vi(s));break}}e=e.return}}function Bf(t,e,i){var s=t.pingCache;if(s===null){s=t.pingCache=new Vv;var c=new Set;s.set(e,c)}else c=s.get(e),c===void 0&&(c=new Set,s.set(e,c));c.has(i)||(Df=!0,c.add(i),t=Pv.bind(null,t,e,i),e.then(t,t))}function Pv(t,e,i){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,te===t&&(jt&i)===i&&(he===4||he===3&&(jt&62914560)===jt&&300>Ge()-Of?(Qt&2)===0&&_s(t,0):Nf|=i,gs===jt&&(gs=0)),vi(t)}function ep(t,e){e===0&&(e=qa()),t=ts(t,e),t!==null&&(wn(t,e),vi(t))}function Bv(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),ep(t,i)}function kv(t,e){var i=0;switch(t.tag){case 13:var s=t.stateNode,c=t.memoizedState;c!==null&&(i=c.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(e),ep(t,i)}function qv(t,e){return na(t,e)}var hu=null,Ts=null,kf=!1,du=!1,qf=!1,vr=0;function vi(t){t!==Ts&&t.next===null&&(Ts===null?hu=Ts=t:Ts=Ts.next=t),du=!0,kf||(kf=!0,Gv())}function wl(t,e){if(!qf&&du){qf=!0;do for(var i=!1,s=hu;s!==null;){if(t!==0){var c=s.pendingLanes;if(c===0)var h=0;else{var y=s.suspendedLanes,T=s.pingedLanes;h=(1<<31-le(42|t)+1)-1,h&=c&~(y&~T),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,rp(s,h))}else h=jt,h=ii(s,s===te?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||qn(s,h)||(i=!0,rp(s,h));s=s.next}while(i);qf=!1}}function Hv(){np()}function np(){du=kf=!1;var t=0;vr!==0&&(Jv()&&(t=vr),vr=0);for(var e=Ge(),i=null,s=hu;s!==null;){var c=s.next,h=ip(s,e);h===0?(s.next=null,i===null?hu=c:i.next=c,c===null&&(Ts=i)):(i=s,(t!==0||(h&3)!==0)&&(du=!0)),s=c}wl(t)}function ip(t,e){for(var i=t.suspendedLanes,s=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var y=31-le(h),T=1<<y,x=c[y];x===-1?((T&i)===0||(T&s)!==0)&&(c[y]=Ba(T,e)):x<=e&&(t.expiredLanes|=T),h&=~T}if(e=te,i=jt,i=ii(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,i===0||t===e&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&Pn(s),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||qn(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(s!==null&&Pn(s),ia(i)){case 2:case 8:i=Wn;break;case 32:i=Bn;break;case 268435456:i=ti;break;default:i=Bn}return s=ap.bind(null,t),i=na(i,s),t.callbackPriority=e,t.callbackNode=i,e}return s!==null&&s!==null&&Pn(s),t.callbackPriority=2,t.callbackNode=null,2}function ap(t,e){if(je!==0&&je!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(fu()&&t.callbackNode!==i)return null;var s=jt;return s=ii(t,t===te?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(Bg(t,s,e),ip(t,Ge()),t.callbackNode!=null&&t.callbackNode===i?ap.bind(null,t):null)}function rp(t,e){if(fu())return null;Bg(t,e,!0)}function Gv(){t1(function(){(Qt&6)!==0?na(Ri,Hv):np()})}function Hf(){return vr===0&&(vr=ka()),vr}function sp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qr(""+t)}function lp(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function Yv(t,e,i,s,c){if(e==="submit"&&i&&i.stateNode===c){var h=sp((c[Ot]||null).action),y=s.submitter;y&&(e=(e=y[Ot]||null)?sp(e.formAction):y.getAttribute("formAction"),e!==null&&(h=e,y=null));var T=new Hr("action","action",null,s,c);t.push({event:T,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(vr!==0){var x=y?lp(c,y):new FormData(c);uf(i,{pending:!0,data:x,method:c.method,action:h},null,x)}}else typeof h=="function"&&(T.preventDefault(),x=y?lp(c,y):new FormData(c),uf(i,{pending:!0,data:x,method:c.method,action:h},h,x))},currentTarget:c}]})}}for(var Gf=0;Gf<xc.length;Gf++){var Yf=xc[Gf],Qv=Yf.toLowerCase(),Fv=Yf[0].toUpperCase()+Yf.slice(1);Qn(Qv,"on"+Fv)}Qn(Bd,"onAnimationEnd"),Qn(kd,"onAnimationIteration"),Qn(qd,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(cv,"onTransitionRun"),Qn(fv,"onTransitionStart"),Qn(hv,"onTransitionCancel"),Qn(Hd,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function op(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var s=t[i],c=s.event;s=s.listeners;t:{var h=void 0;if(e)for(var y=s.length-1;0<=y;y--){var T=s[y],x=T.instance,B=T.currentTarget;if(T=T.listener,x!==h&&c.isPropagationStopped())break t;h=T,c.currentTarget=B;try{h(c)}catch(X){tu(X)}c.currentTarget=null,h=x}else for(y=0;y<s.length;y++){if(T=s[y],x=T.instance,B=T.currentTarget,T=T.listener,x!==h&&c.isPropagationStopped())break t;h=T,c.currentTarget=B;try{h(c)}catch(X){tu(X)}c.currentTarget=null,h=x}}}}function Mt(t,e){var i=e[mn];i===void 0&&(i=e[mn]=new Set);var s=t+"__bubble";i.has(s)||(up(e,t,2,!1),i.add(s))}function Qf(t,e,i){var s=0;e&&(s|=4),up(i,t,s,e)}var mu="_reactListening"+Math.random().toString(36).slice(2);function Ff(t){if(!t[mu]){t[mu]=!0,Ps.forEach(function(i){i!=="selectionchange"&&(Xv.has(i)||Qf(i,!1,t),Qf(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mu]||(e[mu]=!0,Qf("selectionchange",!1,e))}}function up(t,e,i,s){switch(Op(e)){case 2:var c=E1;break;case 8:c=A1;break;default:c=lh}i=c.bind(null,e,i,t),c=void 0,!Dn||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(c=!0),s?c!==void 0?t.addEventListener(e,i,{capture:!0,passive:c}):t.addEventListener(e,i,!0):c!==void 0?t.addEventListener(e,i,{passive:c}):t.addEventListener(e,i,!1)}function Xf(t,e,i,s,c){var h=s;if((e&1)===0&&(e&2)===0&&s!==null)t:for(;;){if(s===null)return;var y=s.tag;if(y===3||y===4){var T=s.stateNode.containerInfo;if(T===c)break;if(y===4)for(y=s.return;y!==null;){var x=y.tag;if((x===3||x===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;T!==null;){if(y=Ci(T),y===null)return;if(x=y.tag,x===5||x===6||x===26||x===27){s=h=y;continue t}T=T.parentNode}}s=s.return}po(function(){var B=h,X=In(i),$=[];t:{var k=Gd.get(t);if(k!==void 0){var H=Hr,St=t;switch(t){case"keypress":if(ci(i)===0)break t;case"keydown":case"keyup":H=Kr;break;case"focusin":St="focus",H=Qr;break;case"focusout":St="blur",H=Qr;break;case"beforeblur":case"afterblur":H=Qr;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=bo;break;case Bd:case kd:case qd:H=Fr;break;case Hd:H=wo;break;case"scroll":case"scrollend":H=yo;break;case"wheel":H=$r;break;case"copy":case"cut":case"paste":H=Xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Zs;break;case"toggle":case"beforetoggle":H=Co}var Tt=(e&4)!==0,Jt=!Tt&&(t==="scroll"||t==="scrollend"),L=Tt?k!==null?k+"Capture":null:k;Tt=[];for(var O=B,P;O!==null;){var K=O;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||L===null||(K=Ja(O,L),K!=null&&Tt.push(Cl(O,K,P))),Jt)break;O=O.return}0<Tt.length&&(k=new H(k,St,null,i,X),$.push({event:k,listeners:Tt}))}}if((e&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",k&&i!==Mi&&(St=i.relatedTarget||i.fromElement)&&(Ci(St)||St[oe]))break t;if((H||k)&&(k=X.window===X?X:(k=X.ownerDocument)?k.defaultView||k.parentWindow:window,H?(St=i.relatedTarget||i.toElement,H=B,St=St?Ci(St):null,St!==null&&(Jt=f(St),Tt=St.tag,St!==Jt||Tt!==5&&Tt!==27&&Tt!==6)&&(St=null)):(H=null,St=B),H!==St)){if(Tt=Nn,K="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Tt=Zs,K="onPointerLeave",L="onPointerEnter",O="pointer"),Jt=H==null?k:si(H),P=St==null?k:si(St),k=new Tt(K,O+"leave",H,i,X),k.target=Jt,k.relatedTarget=P,K=null,Ci(X)===B&&(Tt=new Tt(L,O+"enter",St,i,X),Tt.target=P,Tt.relatedTarget=Jt,K=Tt),Jt=K,H&&St)e:{for(Tt=H,L=St,O=0,P=Tt;P;P=Es(P))O++;for(P=0,K=L;K;K=Es(K))P++;for(;0<O-P;)Tt=Es(Tt),O--;for(;0<P-O;)L=Es(L),P--;for(;O--;){if(Tt===L||L!==null&&Tt===L.alternate)break e;Tt=Es(Tt),L=Es(L)}Tt=null}else Tt=null;H!==null&&cp($,k,H,Tt,!1),St!==null&&Jt!==null&&cp($,Jt,St,Tt,!0)}}t:{if(k=B?si(B):window,H=k.nodeName&&k.nodeName.toLowerCase(),H==="select"||H==="input"&&k.type==="file")var lt=Id;else if(be(k))if(Dd)lt=lv;else{lt=rv;var Dt=av}else H=k.nodeName,!H||H.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?B&&Gs(B.elementType)&&(lt=Id):lt=sv;if(lt&&(lt=lt(t,B))){ji($,lt,i,X);break t}Dt&&Dt(t,k,B),t==="focusout"&&B&&k.type==="number"&&B.memoizedProps.value!=null&&sa(k,"number",k.value)}switch(Dt=B?si(B):window,t){case"focusin":(be(Dt)||Dt.contentEditable==="true")&&(Zr=Dt,bc=B,tl=null);break;case"focusout":tl=bc=Zr=null;break;case"mousedown":Rc=!0;break;case"contextmenu":case"mouseup":case"dragend":Rc=!1,zd($,i,X);break;case"selectionchange":if(uv)break;case"keydown":case"keyup":zd($,i,X)}var mt;if(di)t:{switch(t){case"compositionstart":var Et="onCompositionStart";break t;case"compositionend":Et="onCompositionEnd";break t;case"compositionupdate":Et="onCompositionUpdate";break t}Et=void 0}else Ut?G(t,i)&&(Et="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Et="onCompositionStart");Et&&(p&&i.locale!=="ko"&&(Ut||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Ut&&(mt=Qs()):(ui=X,la="value"in ui?ui.value:ui.textContent,Ut=!0)),Dt=gu(B,Et),0<Dt.length&&(Et=new Ks(Et,t,null,i,X),$.push({event:Et,listeners:Dt}),mt?Et.data=mt:(mt=nt(i),mt!==null&&(Et.data=mt)))),(mt=m?Se(t,i):Lt(t,i))&&(Et=gu(B,"onBeforeInput"),0<Et.length&&(Dt=new Ks("onBeforeInput","beforeinput",null,i,X),$.push({event:Dt,listeners:Et}),Dt.data=mt)),Yv($,t,B,i,X)}op($,e)})}function Cl(t,e,i){return{instance:t,listener:e,currentTarget:i}}function gu(t,e){for(var i=e+"Capture",s=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Ja(t,i),c!=null&&s.unshift(Cl(t,c,h)),c=Ja(t,e),c!=null&&s.push(Cl(t,c,h))),t.tag===3)return s;t=t.return}return[]}function Es(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function cp(t,e,i,s,c){for(var h=e._reactName,y=[];i!==null&&i!==s;){var T=i,x=T.alternate,B=T.stateNode;if(T=T.tag,x!==null&&x===s)break;T!==5&&T!==26&&T!==27||B===null||(x=B,c?(B=Ja(i,h),B!=null&&y.unshift(Cl(i,B,x))):c||(B=Ja(i,h),B!=null&&y.push(Cl(i,B,x)))),i=i.return}y.length!==0&&t.push({event:e,listeners:y})}var Kv=/\r\n?/g,$v=/\u0000|\uFFFD/g;function fp(t){return(typeof t=="string"?t:""+t).replace(Kv,`
`).replace($v,"")}function hp(t,e){return e=fp(e),fp(t)===e}function pu(){}function Zt(t,e,i,s,c,h){switch(i){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||Cn(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&Cn(t,""+s);break;case"className":li(t,"class",s);break;case"tabIndex":li(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":li(t,i,s);break;case"style":Hs(t,s,h);break;case"data":if(e!=="object"){li(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(i);break}s=qr(""+s),t.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(e!=="input"&&Zt(t,e,"name",c.name,c,null),Zt(t,e,"formEncType",c.formEncType,c,null),Zt(t,e,"formMethod",c.formMethod,c,null),Zt(t,e,"formTarget",c.formTarget,c,null)):(Zt(t,e,"encType",c.encType,c,null),Zt(t,e,"method",c.method,c,null),Zt(t,e,"target",c.target,c,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(i);break}s=qr(""+s),t.setAttribute(i,s);break;case"onClick":s!=null&&(t.onclick=pu);break;case"onScroll":s!=null&&Mt("scroll",t);break;case"onScrollEnd":s!=null&&Mt("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(i=s.__html,i!=null){if(c.children!=null)throw Error(l(60));t.innerHTML=i}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}i=qr(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(i,""+s):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":s===!0?t.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(i,s):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(i,s):t.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(i):t.setAttribute(i,s);break;case"popover":Mt("beforetoggle",t),Mt("toggle",t),ra(t,"popover",s);break;case"xlinkActuate":Ve(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Ve(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Ve(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Ve(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Ve(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Ve(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Ve(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Ve(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Ve(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ra(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=yc.get(i)||i,ra(t,i,s))}}function Kf(t,e,i,s,c,h){switch(i){case"style":Hs(t,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(i=s.__html,i!=null){if(c.children!=null)throw Error(l(60));t.innerHTML=i}}break;case"children":typeof s=="string"?Cn(t,s):(typeof s=="number"||typeof s=="bigint")&&Cn(t,""+s);break;case"onScroll":s!=null&&Mt("scroll",t);break;case"onScrollEnd":s!=null&&Mt("scrollend",t);break;case"onClick":s!=null&&(t.onclick=pu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jr.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),e=i.slice(2,c?i.length-7:void 0),h=t[Ot]||null,h=h!=null?h[i]:null,typeof h=="function"&&t.removeEventListener(e,h,c),typeof s=="function")){typeof h!="function"&&h!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,s,c);break t}i in t?t[i]=s:s===!0?t.setAttribute(i,""):ra(t,i,s)}}}function ze(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",t),Mt("load",t);var s=!1,c=!1,h;for(h in i)if(i.hasOwnProperty(h)){var y=i[h];if(y!=null)switch(h){case"src":s=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,e));default:Zt(t,e,h,y,i,null)}}c&&Zt(t,e,"srcSet",i.srcSet,i,null),s&&Zt(t,e,"src",i.src,i,null);return;case"input":Mt("invalid",t);var T=h=y=c=null,x=null,B=null;for(s in i)if(i.hasOwnProperty(s)){var X=i[s];if(X!=null)switch(s){case"name":c=X;break;case"type":y=X;break;case"checked":x=X;break;case"defaultChecked":B=X;break;case"value":h=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(l(137,e));break;default:Zt(t,e,s,X,i,null)}}Ka(t,h,T,x,B,y,c,!1),kr(t);return;case"select":Mt("invalid",t),s=y=h=null;for(c in i)if(i.hasOwnProperty(c)&&(T=i[c],T!=null))switch(c){case"value":h=T;break;case"defaultValue":y=T;break;case"multiple":s=T;default:Zt(t,e,c,T,i,null)}e=h,i=y,t.multiple=!!s,e!=null?Ni(t,!!s,e,!1):i!=null&&Ni(t,!!s,i,!0);return;case"textarea":Mt("invalid",t),h=c=s=null;for(y in i)if(i.hasOwnProperty(y)&&(T=i[y],T!=null))switch(y){case"value":s=T;break;case"defaultValue":c=T;break;case"children":h=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(l(91));break;default:Zt(t,e,y,T,i,null)}$a(t,s,c,h),kr(t);return;case"option":for(x in i)if(i.hasOwnProperty(x)&&(s=i[x],s!=null))switch(x){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Zt(t,e,x,s,i,null)}return;case"dialog":Mt("beforetoggle",t),Mt("toggle",t),Mt("cancel",t),Mt("close",t);break;case"iframe":case"object":Mt("load",t);break;case"video":case"audio":for(s=0;s<xl.length;s++)Mt(xl[s],t);break;case"image":Mt("error",t),Mt("load",t);break;case"details":Mt("toggle",t);break;case"embed":case"source":case"link":Mt("error",t),Mt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in i)if(i.hasOwnProperty(B)&&(s=i[B],s!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,e));default:Zt(t,e,B,s,i,null)}return;default:if(Gs(e)){for(X in i)i.hasOwnProperty(X)&&(s=i[X],s!==void 0&&Kf(t,e,X,s,i,void 0));return}}for(T in i)i.hasOwnProperty(T)&&(s=i[T],s!=null&&Zt(t,e,T,s,i,null))}function Zv(t,e,i,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,y=null,T=null,x=null,B=null,X=null;for(H in i){var $=i[H];if(i.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":x=$;default:s.hasOwnProperty(H)||Zt(t,e,H,null,s,$)}}for(var k in s){var H=s[k];if($=i[k],s.hasOwnProperty(k)&&(H!=null||$!=null))switch(k){case"type":h=H;break;case"name":c=H;break;case"checked":B=H;break;case"defaultChecked":X=H;break;case"value":y=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(l(137,e));break;default:H!==$&&Zt(t,e,k,H,s,$)}}pn(t,y,T,x,B,X,h,c);return;case"select":H=y=T=k=null;for(h in i)if(x=i[h],i.hasOwnProperty(h)&&x!=null)switch(h){case"value":break;case"multiple":H=x;default:s.hasOwnProperty(h)||Zt(t,e,h,null,s,x)}for(c in s)if(h=s[c],x=i[c],s.hasOwnProperty(c)&&(h!=null||x!=null))switch(c){case"value":k=h;break;case"defaultValue":T=h;break;case"multiple":y=h;default:h!==x&&Zt(t,e,c,h,s,x)}e=T,i=y,s=H,k!=null?Ni(t,!!i,k,!1):!!s!=!!i&&(e!=null?Ni(t,!!i,e,!0):Ni(t,!!i,i?[]:"",!1));return;case"textarea":H=k=null;for(T in i)if(c=i[T],i.hasOwnProperty(T)&&c!=null&&!s.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Zt(t,e,T,null,s,c)}for(y in s)if(c=s[y],h=i[y],s.hasOwnProperty(y)&&(c!=null||h!=null))switch(y){case"value":k=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==h&&Zt(t,e,y,c,s,h)}Kt(t,k,H);return;case"option":for(var St in i)if(k=i[St],i.hasOwnProperty(St)&&k!=null&&!s.hasOwnProperty(St))switch(St){case"selected":t.selected=!1;break;default:Zt(t,e,St,null,s,k)}for(x in s)if(k=s[x],H=i[x],s.hasOwnProperty(x)&&k!==H&&(k!=null||H!=null))switch(x){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Zt(t,e,x,k,s,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in i)k=i[Tt],i.hasOwnProperty(Tt)&&k!=null&&!s.hasOwnProperty(Tt)&&Zt(t,e,Tt,null,s,k);for(B in s)if(k=s[B],H=i[B],s.hasOwnProperty(B)&&k!==H&&(k!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(l(137,e));break;default:Zt(t,e,B,k,s,H)}return;default:if(Gs(e)){for(var Jt in i)k=i[Jt],i.hasOwnProperty(Jt)&&k!==void 0&&!s.hasOwnProperty(Jt)&&Kf(t,e,Jt,void 0,s,k);for(X in s)k=s[X],H=i[X],!s.hasOwnProperty(X)||k===H||k===void 0&&H===void 0||Kf(t,e,X,k,s,H);return}}for(var L in i)k=i[L],i.hasOwnProperty(L)&&k!=null&&!s.hasOwnProperty(L)&&Zt(t,e,L,null,s,k);for($ in s)k=s[$],H=i[$],!s.hasOwnProperty($)||k===H||k==null&&H==null||Zt(t,e,$,k,s,H)}var $f=null,Zf=null;function yu(t){return t.nodeType===9?t:t.ownerDocument}function dp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mp(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Jf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wf=null;function Jv(){var t=window.event;return t&&t.type==="popstate"?t===Wf?!1:(Wf=t,!0):(Wf=null,!1)}var gp=typeof setTimeout=="function"?setTimeout:void 0,Wv=typeof clearTimeout=="function"?clearTimeout:void 0,pp=typeof Promise=="function"?Promise:void 0,t1=typeof queueMicrotask=="function"?queueMicrotask:typeof pp<"u"?function(t){return pp.resolve(null).then(t).catch(e1)}:gp;function e1(t){setTimeout(function(){throw t})}function Sa(t){return t==="head"}function yp(t,e){var i=e,s=0,c=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(0<s&&8>s){i=s;var y=t.ownerDocument;if(i&1&&Il(y.documentElement),i&2&&Il(y.body),i&4)for(i=y.head,Il(i),y=i.firstChild;y;){var T=y.nextSibling,x=y.nodeName;y[Ya]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&y.rel.toLowerCase()==="stylesheet"||i.removeChild(y),y=T}}if(c===0){t.removeChild(h),jl(e);return}c--}else i==="$"||i==="$?"||i==="$!"?c++:s=i.charCodeAt(0)-48;else s=0;i=h}while(i);jl(e)}function th(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":th(i),aa(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function n1(t,e,i,s){for(;t.nodeType===1;){var c=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[Ya])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function i1(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Xn(t.nextSibling),t===null))return null;return t}function eh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function a1(t,e){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")e();else{var s=function(){e(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function Xn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var nh=null;function _p(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}function vp(t,e,i){switch(e=yu(i),t){case"html":if(t=e.documentElement,!t)throw Error(l(452));return t;case"head":if(t=e.head,!t)throw Error(l(453));return t;case"body":if(t=e.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function Il(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);aa(t)}var zn=new Map,Tp=new Set;function _u(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $i=et.d;et.d={f:r1,r:s1,D:l1,C:o1,L:u1,m:c1,X:h1,S:f1,M:d1};function r1(){var t=$i.f(),e=uu();return t||e}function s1(t){var e=ri(t);e!==null&&e.tag===5&&e.type==="form"?Bm(e):$i.r(t)}var As=typeof document>"u"?null:document;function Ep(t,e,i){var s=As;if(s&&typeof e=="string"&&e){var c=_e(e);c='link[rel="'+t+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),Tp.has(c)||(Tp.add(c),t={rel:t,crossOrigin:i,href:e},s.querySelector(c)===null&&(e=s.createElement("link"),ze(e,"link",t),ge(e),s.head.appendChild(e)))}}function l1(t){$i.D(t),Ep("dns-prefetch",t,null)}function o1(t,e){$i.C(t,e),Ep("preconnect",t,e)}function u1(t,e,i){$i.L(t,e,i);var s=As;if(s&&t&&e){var c='link[rel="preload"][as="'+_e(e)+'"]';e==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+_e(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+_e(i.imageSizes)+'"]')):c+='[href="'+_e(t)+'"]';var h=c;switch(e){case"style":h=Ss(t);break;case"script":h=bs(t)}zn.has(h)||(t=A({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),zn.set(h,t),s.querySelector(c)!==null||e==="style"&&s.querySelector(Dl(h))||e==="script"&&s.querySelector(Nl(h))||(e=s.createElement("link"),ze(e,"link",t),ge(e),s.head.appendChild(e)))}}function c1(t,e){$i.m(t,e);var i=As;if(i&&t){var s=e&&typeof e.as=="string"?e.as:"script",c='link[rel="modulepreload"][as="'+_e(s)+'"][href="'+_e(t)+'"]',h=c;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=bs(t)}if(!zn.has(h)&&(t=A({rel:"modulepreload",href:t},e),zn.set(h,t),i.querySelector(c)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Nl(h)))return}s=i.createElement("link"),ze(s,"link",t),ge(s),i.head.appendChild(s)}}}function f1(t,e,i){$i.S(t,e,i);var s=As;if(s&&t){var c=Je(s).hoistableStyles,h=Ss(t);e=e||"default";var y=c.get(h);if(!y){var T={loading:0,preload:null};if(y=s.querySelector(Dl(h)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":e},i),(i=zn.get(h))&&ih(t,i);var x=y=s.createElement("link");ge(x),ze(x,"link",t),x._p=new Promise(function(B,X){x.onload=B,x.onerror=X}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,vu(y,e,s)}y={type:"stylesheet",instance:y,count:1,state:T},c.set(h,y)}}}function h1(t,e){$i.X(t,e);var i=As;if(i&&t){var s=Je(i).hoistableScripts,c=bs(t),h=s.get(c);h||(h=i.querySelector(Nl(c)),h||(t=A({src:t,async:!0},e),(e=zn.get(c))&&ah(t,e),h=i.createElement("script"),ge(h),ze(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(c,h))}}function d1(t,e){$i.M(t,e);var i=As;if(i&&t){var s=Je(i).hoistableScripts,c=bs(t),h=s.get(c);h||(h=i.querySelector(Nl(c)),h||(t=A({src:t,async:!0,type:"module"},e),(e=zn.get(c))&&ah(t,e),h=i.createElement("script"),ge(h),ze(h,"link",t),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(c,h))}}function Ap(t,e,i,s){var c=(c=At.current)?_u(c):null;if(!c)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=Ss(i.href),i=Je(c).hoistableStyles,s=i.get(e),s||(s={type:"style",instance:null,count:0,state:null},i.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=Ss(i.href);var h=Je(c).hoistableStyles,y=h.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,y),(h=c.querySelector(Dl(t)))&&!h._p&&(y.instance=h,y.state.loading=5),zn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},zn.set(t,i),h||m1(c,t,i,y.state))),e&&s===null)throw Error(l(528,""));return y}if(e&&s!==null)throw Error(l(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=bs(i),i=Je(c).hoistableScripts,s=i.get(e),s||(s={type:"script",instance:null,count:0,state:null},i.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function Ss(t){return'href="'+_e(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function Sp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function m1(t,e,i,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),ze(e,"link",i),ge(e),t.head.appendChild(e))}function bs(t){return'[src="'+_e(t)+'"]'}function Nl(t){return"script[async]"+t}function bp(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+_e(i.href)+'"]');if(s)return e.instance=s,ge(s),s;var c=A({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),ge(s),ze(s,"style",c),vu(s,i.precedence,t),e.instance=s;case"stylesheet":c=Ss(i.href);var h=t.querySelector(Dl(c));if(h)return e.state.loading|=4,e.instance=h,ge(h),h;s=Sp(i),(c=zn.get(c))&&ih(s,c),h=(t.ownerDocument||t).createElement("link"),ge(h);var y=h;return y._p=new Promise(function(T,x){y.onload=T,y.onerror=x}),ze(h,"link",s),e.state.loading|=4,vu(h,i.precedence,t),e.instance=h;case"script":return h=bs(i.src),(c=t.querySelector(Nl(h)))?(e.instance=c,ge(c),c):(s=i,(c=zn.get(h))&&(s=A({},i),ah(s,c)),t=t.ownerDocument||t,c=t.createElement("script"),ge(c),ze(c,"link",s),t.head.appendChild(c),e.instance=c);case"void":return null;default:throw Error(l(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(s=e.instance,e.state.loading|=4,vu(s,i.precedence,t));return e.instance}function vu(t,e,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=s.length?s[s.length-1]:null,h=c,y=0;y<s.length;y++){var T=s[y];if(T.dataset.precedence===e)h=T;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function ih(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function ah(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Tu=null;function Rp(t,e,i){if(Tu===null){var s=new Map,c=Tu=new Map;c.set(i,s)}else c=Tu,s=c.get(i),s||(s=new Map,c.set(i,s));if(s.has(t))return s;for(s.set(t,null),i=i.getElementsByTagName(t),c=0;c<i.length;c++){var h=i[c];if(!(h[Ya]||h[bt]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var y=h.getAttribute(e)||"";y=t+y;var T=s.get(y);T?T.push(h):s.set(y,[h])}}return s}function wp(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function g1(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function xp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ml=null;function p1(){}function y1(t,e,i){if(Ml===null)throw Error(l(475));var s=Ml;if(e.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var c=Ss(i.href),h=t.querySelector(Dl(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(s.count++,s=Eu.bind(s),t.then(s,s)),e.state.loading|=4,e.instance=h,ge(h);return}h=t.ownerDocument||t,i=Sp(i),(c=zn.get(c))&&ih(i,c),h=h.createElement("link"),ge(h);var y=h;y._p=new Promise(function(T,x){y.onload=T,y.onerror=x}),ze(h,"link",i),e.instance=h}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(s.count++,e=Eu.bind(s),t.addEventListener("load",e),t.addEventListener("error",e))}}function _1(){if(Ml===null)throw Error(l(475));var t=Ml;return t.stylesheets&&t.count===0&&rh(t,t.stylesheets),0<t.count?function(e){var i=setTimeout(function(){if(t.stylesheets&&rh(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(i)}}:null}function Eu(){if(this.count--,this.count===0){if(this.stylesheets)rh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Au=null;function rh(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Au=new Map,e.forEach(v1,t),Au=null,Eu.call(t))}function v1(t,e){if(!(e.state.loading&4)){var i=Au.get(t);if(i)var s=i.get(null);else{i=new Map,Au.set(t,i);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var y=c[h];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(i.set(y.dataset.precedence,y),s=y)}s&&i.set(null,s)}c=e.instance,y=c.getAttribute("data-precedence"),h=i.get(y)||s,h===s&&i.set(null,c),i.set(y,c),this.count++,s=Eu.bind(this),c.addEventListener("load",s),c.addEventListener("error",s),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),e.state.loading|=4}}var Ol={$$typeof:at,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function T1(t,e,i,s,c,h,y,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hn(0),this.hiddenUpdates=Hn(null),this.identifierPrefix=s,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Cp(t,e,i,s,c,h,y,T,x,B,X,$){return t=new T1(t,e,i,y,T,x,B,$),e=1,h===!0&&(e|=24),h=_n(3,null,null,e),t.current=h,h.stateNode=t,e=Pc(),e.refCount++,t.pooledCache=e,e.refCount++,h.memoizedState={element:s,isDehydrated:i,cache:e},Hc(h),t}function Ip(t){return t?(t=es,t):es}function Dp(t,e,i,s,c,h){c=Ip(c),s.context===null?s.context=c:s.pendingContext=c,s=ca(e),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=fa(t,s,e),i!==null&&(Sn(i,t,e),ul(i,t,e))}function Np(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function sh(t,e){Np(t,e),(t=t.alternate)&&Np(t,e)}function Mp(t){if(t.tag===13){var e=ts(t,67108864);e!==null&&Sn(e,t,67108864),sh(t,67108864)}}var Su=!0;function E1(t,e,i,s){var c=Y.T;Y.T=null;var h=et.p;try{et.p=2,lh(t,e,i,s)}finally{et.p=h,Y.T=c}}function A1(t,e,i,s){var c=Y.T;Y.T=null;var h=et.p;try{et.p=8,lh(t,e,i,s)}finally{et.p=h,Y.T=c}}function lh(t,e,i,s){if(Su){var c=oh(s);if(c===null)Xf(t,e,s,bu,i),Vp(t,s);else if(b1(c,t,e,i,s))s.stopPropagation();else if(Vp(t,s),e&4&&-1<S1.indexOf(t)){for(;c!==null;){var h=ri(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var y=sn(h.pendingLanes);if(y!==0){var T=h;for(T.pendingLanes|=2,T.entangledLanes|=2;y;){var x=1<<31-le(y);T.entanglements[1]|=x,y&=~x}vi(h),(Qt&6)===0&&(lu=Ge()+500,wl(0))}}break;case 13:T=ts(h,2),T!==null&&Sn(T,h,2),uu(),sh(h,2)}if(h=oh(s),h===null&&Xf(t,e,s,bu,i),h===c)break;c=h}c!==null&&s.stopPropagation()}else Xf(t,e,s,null,i)}}function oh(t){return t=In(t),uh(t)}var bu=null;function uh(t){if(bu=null,t=Ci(t),t!==null){var e=f(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=d(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return bu=t,null}function Op(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(za()){case Ri:return 2;case Wn:return 8;case Bn:case js:return 32;case ti:return 268435456;default:return 32}default:return 32}}var ch=!1,ba=null,Ra=null,wa=null,Vl=new Map,Ul=new Map,xa=[],S1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vp(t,e){switch(t){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":Ra=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":Vl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(e.pointerId)}}function Ll(t,e,i,s,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:e,domEventName:i,eventSystemFlags:s,nativeEvent:h,targetContainers:[c]},e!==null&&(e=ri(e),e!==null&&Mp(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,c!==null&&e.indexOf(c)===-1&&e.push(c),t)}function b1(t,e,i,s,c){switch(e){case"focusin":return ba=Ll(ba,t,e,i,s,c),!0;case"dragenter":return Ra=Ll(Ra,t,e,i,s,c),!0;case"mouseover":return wa=Ll(wa,t,e,i,s,c),!0;case"pointerover":var h=c.pointerId;return Vl.set(h,Ll(Vl.get(h)||null,t,e,i,s,c)),!0;case"gotpointercapture":return h=c.pointerId,Ul.set(h,Ll(Ul.get(h)||null,t,e,i,s,c)),!0}return!1}function Up(t){var e=Ci(t.target);if(e!==null){var i=f(e);if(i!==null){if(e=i.tag,e===13){if(e=d(i),e!==null){t.blockedOn=e,dt(t.priority,function(){if(i.tag===13){var s=An();s=ai(s);var c=ts(i,s);c!==null&&Sn(c,i,s),sh(i,s)}});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ru(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=oh(t.nativeEvent);if(i===null){i=t.nativeEvent;var s=new i.constructor(i.type,i);Mi=s,i.target.dispatchEvent(s),Mi=null}else return e=ri(i),e!==null&&Mp(e),t.blockedOn=i,!1;e.shift()}return!0}function Lp(t,e,i){Ru(t)&&i.delete(e)}function R1(){ch=!1,ba!==null&&Ru(ba)&&(ba=null),Ra!==null&&Ru(Ra)&&(Ra=null),wa!==null&&Ru(wa)&&(wa=null),Vl.forEach(Lp),Ul.forEach(Lp)}function wu(t,e){t.blockedOn===e&&(t.blockedOn=null,ch||(ch=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,R1)))}var xu=null;function jp(t){xu!==t&&(xu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){xu===t&&(xu=null);for(var e=0;e<t.length;e+=3){var i=t[e],s=t[e+1],c=t[e+2];if(typeof s!="function"){if(uh(s||i)===null)continue;break}var h=ri(i);h!==null&&(t.splice(e,3),e-=3,uf(h,{pending:!0,data:c,method:i.method,action:s},s,c))}}))}function jl(t){function e(x){return wu(x,t)}ba!==null&&wu(ba,t),Ra!==null&&wu(Ra,t),wa!==null&&wu(wa,t),Vl.forEach(e),Ul.forEach(e);for(var i=0;i<xa.length;i++){var s=xa[i];s.blockedOn===t&&(s.blockedOn=null)}for(;0<xa.length&&(i=xa[0],i.blockedOn===null);)Up(i),i.blockedOn===null&&xa.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var c=i[s],h=i[s+1],y=c[Ot]||null;if(typeof h=="function")y||jp(i);else if(y){var T=null;if(h&&h.hasAttribute("formAction")){if(c=h,y=h[Ot]||null)T=y.formAction;else if(uh(c)!==null)continue}else T=y.action;typeof T=="function"?i[s+1]=T:(i.splice(s,3),s-=3),jp(i)}}}function fh(t){this._internalRoot=t}Cu.prototype.render=fh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(l(409));var i=e.current,s=An();Dp(i,s,t,e,null,null)},Cu.prototype.unmount=fh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Dp(t.current,2,null,t,null,null),uu(),e[oe]=null}};function Cu(t){this._internalRoot=t}Cu.prototype.unstable_scheduleHydration=function(t){if(t){var e=xi();t={blockedOn:null,target:t,priority:e};for(var i=0;i<xa.length&&e!==0&&e<xa[i].priority;i++);xa.splice(i,0,t),i===0&&Up(t)}};var zp=n.version;if(zp!=="19.1.1")throw Error(l(527,zp,"19.1.1"));et.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=v(e),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var w1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Iu.isDisabled&&Iu.supportsFiber)try{ie=Iu.inject(w1),Bt=Iu}catch{}}return Pl.createRoot=function(t,e){if(!u(t))throw Error(l(299));var i=!1,s="",c=tg,h=eg,y=ng,T=null;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(c=e.onUncaughtError),e.onCaughtError!==void 0&&(h=e.onCaughtError),e.onRecoverableError!==void 0&&(y=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(T=e.unstable_transitionCallbacks)),e=Cp(t,1,!1,null,null,i,s,c,h,y,T,null),t[oe]=e.current,Ff(t),new fh(e)},Pl.hydrateRoot=function(t,e,i){if(!u(t))throw Error(l(299));var s=!1,c="",h=tg,y=eg,T=ng,x=null,B=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(x=i.unstable_transitionCallbacks),i.formState!==void 0&&(B=i.formState)),e=Cp(t,1,!0,e,i??null,s,c,h,y,T,x,B),e.context=Ip(null),i=e.current,s=An(),s=ai(s),c=ca(s),c.callback=null,fa(i,c,s),i=s,e.current.lanes=i,wn(e,i),vi(e),t[oe]=e.current,Ff(t),new Cu(e)},Pl.version="19.1.1",Pl}var Xp;function j1(){if(Xp)return mh.exports;Xp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),mh.exports=L1(),mh.exports}var z1=j1();const P1=h0(z1),yt={ENVIRONMENT_SETUP:"environment_setup",WELCOME:"welcome",INSTRUCTIONS:"instructions",PRACTICE:"practice",MAIN_TRIALS:"main_trials",SEQUENTIAL_TRIALS:"sequential_trials",TIME_CONSTRAINT_INTRO:"time_constraint_intro",TIME_TRIAL_PRACTICE:"time_trial_practice",TIME_TRIALS:"time_trials",SEQUENTIAL_TIME_TRIALS:"sequential_time_trials",COMPLETE:"complete"},Pe={WAITING_FOR_START:"waiting_for_start",IN_PROGRESS:"in_progress",FAILED:"failed"},xs=[{id:1,tunnelWidth:.02,curvature:.025,timeLimit:null,description:"narrow tunnel, gentle curve"},{id:2,tunnelWidth:.04,curvature:.025,timeLimit:null,description:"narrow tunnel, sharp curve"},{id:3,tunnelType:"corner",tunnelWidth:.02,numCorners:2,cornerOffset:.1,timeLimit:null,description:"narrow tunnel, 2 corners"},{id:4,tunnelType:"corner",tunnelWidth:.04,numCorners:2,cornerOffset:.1,timeLimit:null,description:"narrow tunnel, 3 corners"}],d0=[],B1=[],k1=[],m0=.008,g0=.01,q1=.001,Kp=2,H1=()=>{const r=new URLSearchParams(window.location.search);return{prolificPid:r.get("PROLIFIC_PID")||null,studyId:r.get("STUDY_ID")||null,sessionId:r.get("SESSION_ID")||null}},G1=(r,n,a=0,l=.46,u=.13,f=.15,d=.002)=>{const g=[];for(let v=a;v<l;v+=d){const A=u+n*Math.sin(2*Math.PI*v/f);g.push({x:v,y:A})}return[g,r]},Y1=r=>{const f=[];for(let d=0;d<.46;d+=q1){let g=.13;if(r.segmentType==="curvature")if(d<0+.23)g=.13;else{const v=d-.23,_=r.segment2Curvature,b=v/.23;g=.13+_*(1-Math.pow(2*b-1,2))}f.push({x:d,y:g})}return f},Q1=(r,n=0,a=.46,l=.13,u=3,f=.05,d=.002)=>{const g=[],_=(a-n)/(u+1);let A=n,b=l;for(let q=0;q<u;q++){const F=A+_;let Q=A;for(;Q<F+d*.5;)Q<=F&&g.push({x:Q,y:b}),Q+=d;g.length===0||Math.abs(g[g.length-1].x-F)>1e-6?g.push({x:F,y:b}):g[g.length-1]={x:F,y:b},A=F;const ot=q%2===0?1:-1,st=b,at=b+ot*f;if(ot>0){let ht=st+d;for(;ht<at+d*.5;)g.push({x:A,y:ht}),ht+=d}else{let ht=st-d;for(;ht>at-d*.5;)g.push({x:A,y:ht}),ht-=d}(g.length===0||Math.abs(g[g.length-1].y-at)>d*.5)&&g.push({x:A,y:at}),b=at}let R=A+_;R=Math.min(R,a);let I=A+d;for(;I<R+d*.5;)I<=R&&g.push({x:I,y:b}),I+=d;return g.length===0||Math.abs(g[g.length-1].x-a)>1e-6?g.push({x:a,y:b}):g[g.length-1]={x:a,y:b},[g,r]},F1=()=>{};var $p={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=function(r){const n=[];let a=0;for(let l=0;l<r.length;l++){let u=r.charCodeAt(l);u<128?n[a++]=u:u<2048?(n[a++]=u>>6|192,n[a++]=u&63|128):(u&64512)===55296&&l+1<r.length&&(r.charCodeAt(l+1)&64512)===56320?(u=65536+((u&1023)<<10)+(r.charCodeAt(++l)&1023),n[a++]=u>>18|240,n[a++]=u>>12&63|128,n[a++]=u>>6&63|128,n[a++]=u&63|128):(n[a++]=u>>12|224,n[a++]=u>>6&63|128,n[a++]=u&63|128)}return n},X1=function(r){const n=[];let a=0,l=0;for(;a<r.length;){const u=r[a++];if(u<128)n[l++]=String.fromCharCode(u);else if(u>191&&u<224){const f=r[a++];n[l++]=String.fromCharCode((u&31)<<6|f&63)}else if(u>239&&u<365){const f=r[a++],d=r[a++],g=r[a++],v=((u&7)<<18|(f&63)<<12|(d&63)<<6|g&63)-65536;n[l++]=String.fromCharCode(55296+(v>>10)),n[l++]=String.fromCharCode(56320+(v&1023))}else{const f=r[a++],d=r[a++];n[l++]=String.fromCharCode((u&15)<<12|(f&63)<<6|d&63)}}return n.join("")},y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,n){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let u=0;u<r.length;u+=3){const f=r[u],d=u+1<r.length,g=d?r[u+1]:0,v=u+2<r.length,_=v?r[u+2]:0,A=f>>2,b=(f&3)<<4|g>>4;let R=(g&15)<<2|_>>6,I=_&63;v||(I=64,d||(R=64)),l.push(a[A],a[b],a[R],a[I])}return l.join("")},encodeString(r,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(r):this.encodeByteArray(p0(r),n)},decodeString(r,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(r):X1(this.decodeStringToByteArray(r,n))},decodeStringToByteArray(r,n){this.init_();const a=n?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let u=0;u<r.length;){const f=a[r.charAt(u++)],g=u<r.length?a[r.charAt(u)]:0;++u;const _=u<r.length?a[r.charAt(u)]:64;++u;const b=u<r.length?a[r.charAt(u)]:64;if(++u,f==null||g==null||_==null||b==null)throw new K1;const R=f<<2|g>>4;if(l.push(R),_!==64){const I=g<<4&240|_>>2;if(l.push(I),b!==64){const q=_<<6&192|b;l.push(q)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class K1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $1=function(r){const n=p0(r);return y0.encodeByteArray(n,!0)},ku=function(r){return $1(r).replace(/\./g,"")},Z1=function(r){try{return y0.decodeString(r,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=()=>J1().__FIREBASE_DEFAULTS__,tT=()=>{if(typeof process>"u"||typeof $p>"u")return;const r=$p.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},eT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=r&&Z1(r[1]);return n&&JSON.parse(n)},Xh=()=>{try{return F1()||W1()||tT()||eT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},nT=r=>Xh()?.emulatorHosts?.[r],iT=r=>{const n=nT(r);if(!n)return;const a=n.lastIndexOf(":");if(a<=0||a+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const l=parseInt(n.substring(a+1),10);return n[0]==="["?[n.substring(1,a-1),l]:[n.substring(0,a),l]},_0=()=>Xh()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}wrapCallback(n){return(a,l)=>{a?this.reject(a):this.resolve(l),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(a):n(a,l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(r,n){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},l=n||"demo-project",u=r.iat||0,f=r.sub||r.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${l}`,aud:l,iat:u,exp:u+3600,auth_time:u,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ku(JSON.stringify(a)),ku(JSON.stringify(d)),""].join(".")}const ql={};function lT(){const r={prod:[],emulator:[]};for(const n of Object.keys(ql))ql[n]?r.emulator.push(n):r.prod.push(n);return r}function oT(r){let n=document.getElementById(r),a=!1;return n||(n=document.createElement("div"),n.setAttribute("id",r),a=!0),{created:a,element:n}}let Zp=!1;function uT(r,n){if(typeof window>"u"||typeof document>"u"||!Kh(window.location.host)||ql[r]===n||ql[r]||Zp)return;ql[r]=n;function a(R){return`__firebase__banner__${R}`}const l="__firebase__banner",f=lT().prod.length>0;function d(){const R=document.getElementById(l);R&&R.remove()}function g(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function v(R,I){R.setAttribute("width","24"),R.setAttribute("id",I),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function _(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{Zp=!0,d()},R}function A(R,I){R.setAttribute("id",I),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function b(){const R=oT(l),I=a("text"),q=document.getElementById(I)||document.createElement("span"),F=a("learnmore"),Q=document.getElementById(F)||document.createElement("a"),ot=a("preprendIcon"),st=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const at=R.element;g(at),A(Q,F);const ht=_();v(st,ot),at.append(st,q,Q,ht),document.body.appendChild(at)}f?(q.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fT(){const r=Xh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function dT(){return!fT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v0(){try{return typeof indexedDB=="object"}catch{return!1}}function T0(){return new Promise((r,n)=>{try{let a=!0;const l="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(l);u.onsuccess=()=>{u.result.close(),a||self.indexedDB.deleteDatabase(l),r(!0)},u.onupgradeneeded=()=>{a=!1},u.onerror=()=>{n(u.error?.message||"")}}catch(a){n(a)}})}function mT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="FirebaseError";class ja extends Error{constructor(n,a,l){super(a),this.code=n,this.customData=l,this.name=gT,Object.setPrototypeOf(this,ja.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(n,a,l){this.service=n,this.serviceName=a,this.errors=l}create(n,...a){const l=a[0]||{},u=`${this.service}/${n}`,f=this.errors[n],d=f?pT(f,l):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new ja(u,g,l)}}function pT(r,n){return r.replace(yT,(a,l)=>{const u=n[l];return u!=null?String(u):`<${l}?>`})}const yT=/\{\$([^}]+)}/g;function Kl(r,n){if(r===n)return!0;const a=Object.keys(r),l=Object.keys(n);for(const u of a){if(!l.includes(u))return!1;const f=r[u],d=n[u];if(Jp(f)&&Jp(d)){if(!Kl(f,d))return!1}else if(f!==d)return!1}for(const u of l)if(!a.includes(u))return!1;return!0}function Jp(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=1e3,vT=2,TT=14400*1e3,ET=.5;function Wp(r,n=_T,a=vT){const l=n*Math.pow(a,r),u=Math.round(ET*l*(Math.random()-.5)*2);return Math.min(TT,l+u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(r){return r&&r._delegate?r._delegate:r}class ta{constructor(n,a,l){this.name=n,this.instanceFactory=a,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(n,a){this.name=n,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const a=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(a)){const l=new aT;if(this.instancesDeferred.set(a,l),this.isInitialized(a)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:a});u&&l.resolve(u)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(n){const a=this.normalizeInstanceIdentifier(n?.identifier),l=n?.optional??!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(bT(n))try{this.getOrInitializeService({instanceIdentifier:Tr})}catch{}for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);try{const f=this.getOrInitializeService({instanceIdentifier:u});l.resolve(f)}catch{}}}}clearInstance(n=Tr){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...n.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Tr){return this.instances.has(n)}getOptions(n=Tr){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:a={}}=n,l=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:l,options:a});for(const[f,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(f);l===g&&d.resolve(u)}return u}onInit(n,a){const l=this.normalizeInstanceIdentifier(a),u=this.onInitCallbacks.get(l)??new Set;u.add(n),this.onInitCallbacks.set(l,u);const f=this.instances.get(l);return f&&n(f,l),()=>{u.delete(n)}}invokeOnInitCallbacks(n,a){const l=this.onInitCallbacks.get(a);if(l)for(const u of l)try{u(n,a)}catch{}}getOrInitializeService({instanceIdentifier:n,options:a={}}){let l=this.instances.get(n);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:ST(n),options:a}),this.instances.set(n,l),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(l,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,l)}catch{}return l||null}normalizeInstanceIdentifier(n=Tr){return this.component?this.component.multipleInstances?n:Tr:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ST(r){return r===Tr?void 0:r}function bT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const a=this.getProvider(n.name);if(a.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);a.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const a=new AT(n,this);return this.providers.set(n,a),a}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const wT={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},xT=Pt.INFO,CT={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},IT=(r,n,...a)=>{if(n<r.logLevel)return;const l=new Date().toISOString(),u=CT[n];if(u)console[u](`[${l}]  ${r.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class $h{constructor(n){this.name=n,this._logLevel=xT,this._logHandler=IT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Pt))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?wT[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...n),this._logHandler(this,Pt.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...n),this._logHandler(this,Pt.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...n),this._logHandler(this,Pt.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...n),this._logHandler(this,Pt.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...n),this._logHandler(this,Pt.ERROR,...n)}}const DT=(r,n)=>n.some(a=>r instanceof a);let ty,ey;function NT(){return ty||(ty=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MT(){return ey||(ey=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E0=new WeakMap,Ih=new WeakMap,A0=new WeakMap,_h=new WeakMap,Zh=new WeakMap;function OT(r){const n=new Promise((a,l)=>{const u=()=>{r.removeEventListener("success",f),r.removeEventListener("error",d)},f=()=>{a(Ia(r.result)),u()},d=()=>{l(r.error),u()};r.addEventListener("success",f),r.addEventListener("error",d)});return n.then(a=>{a instanceof IDBCursor&&E0.set(a,r)}).catch(()=>{}),Zh.set(n,r),n}function VT(r){if(Ih.has(r))return;const n=new Promise((a,l)=>{const u=()=>{r.removeEventListener("complete",f),r.removeEventListener("error",d),r.removeEventListener("abort",d)},f=()=>{a(),u()},d=()=>{l(r.error||new DOMException("AbortError","AbortError")),u()};r.addEventListener("complete",f),r.addEventListener("error",d),r.addEventListener("abort",d)});Ih.set(r,n)}let Dh={get(r,n,a){if(r instanceof IDBTransaction){if(n==="done")return Ih.get(r);if(n==="objectStoreNames")return r.objectStoreNames||A0.get(r);if(n==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return Ia(r[n])},set(r,n,a){return r[n]=a,!0},has(r,n){return r instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in r}};function UT(r){Dh=r(Dh)}function LT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...a){const l=r.call(vh(this),n,...a);return A0.set(l,n.sort?n.sort():[n]),Ia(l)}:MT().includes(r)?function(...n){return r.apply(vh(this),n),Ia(E0.get(this))}:function(...n){return Ia(r.apply(vh(this),n))}}function jT(r){return typeof r=="function"?LT(r):(r instanceof IDBTransaction&&VT(r),DT(r,NT())?new Proxy(r,Dh):r)}function Ia(r){if(r instanceof IDBRequest)return OT(r);if(_h.has(r))return _h.get(r);const n=jT(r);return n!==r&&(_h.set(r,n),Zh.set(n,r)),n}const vh=r=>Zh.get(r);function S0(r,n,{blocked:a,upgrade:l,blocking:u,terminated:f}={}){const d=indexedDB.open(r,n),g=Ia(d);return l&&d.addEventListener("upgradeneeded",v=>{l(Ia(d.result),v.oldVersion,v.newVersion,Ia(d.transaction),v)}),a&&d.addEventListener("blocked",v=>a(v.oldVersion,v.newVersion,v)),g.then(v=>{f&&v.addEventListener("close",()=>f()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const zT=["get","getKey","getAll","getAllKeys","count"],PT=["put","add","delete","clear"],Th=new Map;function ny(r,n){if(!(r instanceof IDBDatabase&&!(n in r)&&typeof n=="string"))return;if(Th.get(n))return Th.get(n);const a=n.replace(/FromIndex$/,""),l=n!==a,u=PT.includes(a);if(!(a in(l?IDBIndex:IDBObjectStore).prototype)||!(u||zT.includes(a)))return;const f=async function(d,...g){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return l&&(_=_.index(g.shift())),(await Promise.all([_[a](...g),u&&v.done]))[0]};return Th.set(n,f),f}UT(r=>({...r,get:(n,a,l)=>ny(n,a)||r.get(n,a,l),has:(n,a)=>!!ny(n,a)||r.has(n,a)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(kT(a)){const l=a.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(a=>a).join(" ")}}function kT(r){return r.getComponent()?.type==="VERSION"}const Nh="@firebase/app",iy="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new $h("@firebase/app"),qT="@firebase/app-compat",HT="@firebase/analytics-compat",GT="@firebase/analytics",YT="@firebase/app-check-compat",QT="@firebase/app-check",FT="@firebase/auth",XT="@firebase/auth-compat",KT="@firebase/database",$T="@firebase/data-connect",ZT="@firebase/database-compat",JT="@firebase/functions",WT="@firebase/functions-compat",tE="@firebase/installations",eE="@firebase/installations-compat",nE="@firebase/messaging",iE="@firebase/messaging-compat",aE="@firebase/performance",rE="@firebase/performance-compat",sE="@firebase/remote-config",lE="@firebase/remote-config-compat",oE="@firebase/storage",uE="@firebase/storage-compat",cE="@firebase/firestore",fE="@firebase/ai",hE="@firebase/firestore-compat",dE="firebase",mE="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh="[DEFAULT]",gE={[Nh]:"fire-core",[qT]:"fire-core-compat",[GT]:"fire-analytics",[HT]:"fire-analytics-compat",[QT]:"fire-app-check",[YT]:"fire-app-check-compat",[FT]:"fire-auth",[XT]:"fire-auth-compat",[KT]:"fire-rtdb",[$T]:"fire-data-connect",[ZT]:"fire-rtdb-compat",[JT]:"fire-fn",[WT]:"fire-fn-compat",[tE]:"fire-iid",[eE]:"fire-iid-compat",[nE]:"fire-fcm",[iE]:"fire-fcm-compat",[aE]:"fire-perf",[rE]:"fire-perf-compat",[sE]:"fire-rc",[lE]:"fire-rc-compat",[oE]:"fire-gcs",[uE]:"fire-gcs-compat",[cE]:"fire-fst",[hE]:"fire-fst-compat",[fE]:"fire-vertex","fire-js":"fire-js",[dE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=new Map,pE=new Map,Oh=new Map;function ay(r,n){try{r.container.addComponent(n)}catch(a){ea.debug(`Component ${n.name} failed to register with FirebaseApp ${r.name}`,a)}}function Ma(r){const n=r.name;if(Oh.has(n))return ea.debug(`There were multiple attempts to register component ${n}.`),!1;Oh.set(n,r);for(const a of qu.values())ay(a,r);for(const a of pE.values())ay(a,r);return!0}function no(r,n){const a=r.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),r.container.getProvider(n)}function yE(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Da=new ic("app","Firebase",_E);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(n,a,l){this._isDeleted=!1,this._options={...n},this._config={...a},this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Da.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=mE;function Jh(r,n={}){let a=r;typeof n!="object"&&(n={name:n});const l={name:Mh,automaticDataCollectionEnabled:!0,...n},u=l.name;if(typeof u!="string"||!u)throw Da.create("bad-app-name",{appName:String(u)});if(a||(a=_0()),!a)throw Da.create("no-options");const f=qu.get(u);if(f){if(Kl(a,f.options)&&Kl(l,f.config))return f;throw Da.create("duplicate-app",{appName:u})}const d=new RT(u);for(const v of Oh.values())d.addComponent(v);const g=new vE(a,l,d);return qu.set(u,g),g}function b0(r=Mh){const n=qu.get(r);if(!n&&r===Mh&&_0())return Jh();if(!n)throw Da.create("no-app",{appName:r});return n}function Ei(r,n,a){let l=gE[r]??r;a&&(l+=`-${a}`);const u=l.match(/\s|\//),f=n.match(/\s|\//);if(u||f){const d=[`Unable to register library "${l}" with version "${n}":`];u&&d.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&f&&d.push("and"),f&&d.push(`version name "${n}" contains illegal characters (whitespace or "/")`),ea.warn(d.join(" "));return}Ma(new ta(`${l}-version`,()=>({library:l,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="firebase-heartbeat-database",AE=1,$l="firebase-heartbeat-store";let Eh=null;function R0(){return Eh||(Eh=S0(EE,AE,{upgrade:(r,n)=>{switch(n){case 0:try{r.createObjectStore($l)}catch(a){console.warn(a)}}}}).catch(r=>{throw Da.create("idb-open",{originalErrorMessage:r.message})})),Eh}async function SE(r){try{const a=(await R0()).transaction($l),l=await a.objectStore($l).get(w0(r));return await a.done,l}catch(n){if(n instanceof ja)ea.warn(n.message);else{const a=Da.create("idb-get",{originalErrorMessage:n?.message});ea.warn(a.message)}}}async function ry(r,n){try{const l=(await R0()).transaction($l,"readwrite");await l.objectStore($l).put(n,w0(r)),await l.done}catch(a){if(a instanceof ja)ea.warn(a.message);else{const l=Da.create("idb-set",{originalErrorMessage:a?.message});ea.warn(l.message)}}}function w0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=1024,RE=30;class wE{constructor(n){this.container=n,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new CE(a),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=sy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>RE){const u=IE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ea.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sy(),{heartbeatsToSend:a,unsentEntries:l}=xE(this._heartbeatsCache.heartbeats),u=ku(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ea.warn(n),""}}}function sy(){return new Date().toISOString().substring(0,10)}function xE(r,n=bE){const a=[];let l=r.slice();for(const u of r){const f=a.find(d=>d.agent===u.agent);if(f){if(f.dates.push(u.date),ly(a)>n){f.dates.pop();break}}else if(a.push({agent:u.agent,dates:[u.date]}),ly(a)>n){a.pop();break}l=l.slice(1)}return{heartbeatsToSend:a,unsentEntries:l}}class CE{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v0()?T0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await SE(this.app);return a?.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const l=await this.read();return ry(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const l=await this.read();return ry(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...n.heartbeats]})}else return}}function ly(r){return ku(JSON.stringify({version:2,heartbeats:r})).length}function IE(r){if(r.length===0)return-1;let n=0,a=r[0].date;for(let l=1;l<r.length;l++)r[l].date<a&&(a=r[l].date,n=l);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(r){Ma(new ta("platform-logger",n=>new BT(n),"PRIVATE")),Ma(new ta("heartbeat",n=>new wE(n),"PRIVATE")),Ei(Nh,iy,r),Ei(Nh,iy,"esm2020"),Ei("fire-js","")}DE("");var NE="firebase",ME="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ei(NE,ME,"app");var oy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wh;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function n(V,S){function w(){}w.prototype=S.prototype,V.D=S.prototype,V.prototype=new w,V.prototype.constructor=V,V.C=function(N,M,U){for(var C=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)C[ne-2]=arguments[ne];return S.prototype[M].apply(N,C)}}function a(){this.blockSize=-1}function l(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}n(l,a),l.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(V,S,w){w||(w=0);var N=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)N[M]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(M=0;16>M;++M)N[M]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=V.g[0],w=V.g[1],M=V.g[2];var U=V.g[3],C=S+(U^w&(M^U))+N[0]+3614090360&4294967295;S=w+(C<<7&4294967295|C>>>25),C=U+(M^S&(w^M))+N[1]+3905402710&4294967295,U=S+(C<<12&4294967295|C>>>20),C=M+(w^U&(S^w))+N[2]+606105819&4294967295,M=U+(C<<17&4294967295|C>>>15),C=w+(S^M&(U^S))+N[3]+3250441966&4294967295,w=M+(C<<22&4294967295|C>>>10),C=S+(U^w&(M^U))+N[4]+4118548399&4294967295,S=w+(C<<7&4294967295|C>>>25),C=U+(M^S&(w^M))+N[5]+1200080426&4294967295,U=S+(C<<12&4294967295|C>>>20),C=M+(w^U&(S^w))+N[6]+2821735955&4294967295,M=U+(C<<17&4294967295|C>>>15),C=w+(S^M&(U^S))+N[7]+4249261313&4294967295,w=M+(C<<22&4294967295|C>>>10),C=S+(U^w&(M^U))+N[8]+1770035416&4294967295,S=w+(C<<7&4294967295|C>>>25),C=U+(M^S&(w^M))+N[9]+2336552879&4294967295,U=S+(C<<12&4294967295|C>>>20),C=M+(w^U&(S^w))+N[10]+4294925233&4294967295,M=U+(C<<17&4294967295|C>>>15),C=w+(S^M&(U^S))+N[11]+2304563134&4294967295,w=M+(C<<22&4294967295|C>>>10),C=S+(U^w&(M^U))+N[12]+1804603682&4294967295,S=w+(C<<7&4294967295|C>>>25),C=U+(M^S&(w^M))+N[13]+4254626195&4294967295,U=S+(C<<12&4294967295|C>>>20),C=M+(w^U&(S^w))+N[14]+2792965006&4294967295,M=U+(C<<17&4294967295|C>>>15),C=w+(S^M&(U^S))+N[15]+1236535329&4294967295,w=M+(C<<22&4294967295|C>>>10),C=S+(M^U&(w^M))+N[1]+4129170786&4294967295,S=w+(C<<5&4294967295|C>>>27),C=U+(w^M&(S^w))+N[6]+3225465664&4294967295,U=S+(C<<9&4294967295|C>>>23),C=M+(S^w&(U^S))+N[11]+643717713&4294967295,M=U+(C<<14&4294967295|C>>>18),C=w+(U^S&(M^U))+N[0]+3921069994&4294967295,w=M+(C<<20&4294967295|C>>>12),C=S+(M^U&(w^M))+N[5]+3593408605&4294967295,S=w+(C<<5&4294967295|C>>>27),C=U+(w^M&(S^w))+N[10]+38016083&4294967295,U=S+(C<<9&4294967295|C>>>23),C=M+(S^w&(U^S))+N[15]+3634488961&4294967295,M=U+(C<<14&4294967295|C>>>18),C=w+(U^S&(M^U))+N[4]+3889429448&4294967295,w=M+(C<<20&4294967295|C>>>12),C=S+(M^U&(w^M))+N[9]+568446438&4294967295,S=w+(C<<5&4294967295|C>>>27),C=U+(w^M&(S^w))+N[14]+3275163606&4294967295,U=S+(C<<9&4294967295|C>>>23),C=M+(S^w&(U^S))+N[3]+4107603335&4294967295,M=U+(C<<14&4294967295|C>>>18),C=w+(U^S&(M^U))+N[8]+1163531501&4294967295,w=M+(C<<20&4294967295|C>>>12),C=S+(M^U&(w^M))+N[13]+2850285829&4294967295,S=w+(C<<5&4294967295|C>>>27),C=U+(w^M&(S^w))+N[2]+4243563512&4294967295,U=S+(C<<9&4294967295|C>>>23),C=M+(S^w&(U^S))+N[7]+1735328473&4294967295,M=U+(C<<14&4294967295|C>>>18),C=w+(U^S&(M^U))+N[12]+2368359562&4294967295,w=M+(C<<20&4294967295|C>>>12),C=S+(w^M^U)+N[5]+4294588738&4294967295,S=w+(C<<4&4294967295|C>>>28),C=U+(S^w^M)+N[8]+2272392833&4294967295,U=S+(C<<11&4294967295|C>>>21),C=M+(U^S^w)+N[11]+1839030562&4294967295,M=U+(C<<16&4294967295|C>>>16),C=w+(M^U^S)+N[14]+4259657740&4294967295,w=M+(C<<23&4294967295|C>>>9),C=S+(w^M^U)+N[1]+2763975236&4294967295,S=w+(C<<4&4294967295|C>>>28),C=U+(S^w^M)+N[4]+1272893353&4294967295,U=S+(C<<11&4294967295|C>>>21),C=M+(U^S^w)+N[7]+4139469664&4294967295,M=U+(C<<16&4294967295|C>>>16),C=w+(M^U^S)+N[10]+3200236656&4294967295,w=M+(C<<23&4294967295|C>>>9),C=S+(w^M^U)+N[13]+681279174&4294967295,S=w+(C<<4&4294967295|C>>>28),C=U+(S^w^M)+N[0]+3936430074&4294967295,U=S+(C<<11&4294967295|C>>>21),C=M+(U^S^w)+N[3]+3572445317&4294967295,M=U+(C<<16&4294967295|C>>>16),C=w+(M^U^S)+N[6]+76029189&4294967295,w=M+(C<<23&4294967295|C>>>9),C=S+(w^M^U)+N[9]+3654602809&4294967295,S=w+(C<<4&4294967295|C>>>28),C=U+(S^w^M)+N[12]+3873151461&4294967295,U=S+(C<<11&4294967295|C>>>21),C=M+(U^S^w)+N[15]+530742520&4294967295,M=U+(C<<16&4294967295|C>>>16),C=w+(M^U^S)+N[2]+3299628645&4294967295,w=M+(C<<23&4294967295|C>>>9),C=S+(M^(w|~U))+N[0]+4096336452&4294967295,S=w+(C<<6&4294967295|C>>>26),C=U+(w^(S|~M))+N[7]+1126891415&4294967295,U=S+(C<<10&4294967295|C>>>22),C=M+(S^(U|~w))+N[14]+2878612391&4294967295,M=U+(C<<15&4294967295|C>>>17),C=w+(U^(M|~S))+N[5]+4237533241&4294967295,w=M+(C<<21&4294967295|C>>>11),C=S+(M^(w|~U))+N[12]+1700485571&4294967295,S=w+(C<<6&4294967295|C>>>26),C=U+(w^(S|~M))+N[3]+2399980690&4294967295,U=S+(C<<10&4294967295|C>>>22),C=M+(S^(U|~w))+N[10]+4293915773&4294967295,M=U+(C<<15&4294967295|C>>>17),C=w+(U^(M|~S))+N[1]+2240044497&4294967295,w=M+(C<<21&4294967295|C>>>11),C=S+(M^(w|~U))+N[8]+1873313359&4294967295,S=w+(C<<6&4294967295|C>>>26),C=U+(w^(S|~M))+N[15]+4264355552&4294967295,U=S+(C<<10&4294967295|C>>>22),C=M+(S^(U|~w))+N[6]+2734768916&4294967295,M=U+(C<<15&4294967295|C>>>17),C=w+(U^(M|~S))+N[13]+1309151649&4294967295,w=M+(C<<21&4294967295|C>>>11),C=S+(M^(w|~U))+N[4]+4149444226&4294967295,S=w+(C<<6&4294967295|C>>>26),C=U+(w^(S|~M))+N[11]+3174756917&4294967295,U=S+(C<<10&4294967295|C>>>22),C=M+(S^(U|~w))+N[2]+718787259&4294967295,M=U+(C<<15&4294967295|C>>>17),C=w+(U^(M|~S))+N[9]+3951481745&4294967295,V.g[0]=V.g[0]+S&4294967295,V.g[1]=V.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+U&4294967295}l.prototype.u=function(V,S){S===void 0&&(S=V.length);for(var w=S-this.blockSize,N=this.B,M=this.h,U=0;U<S;){if(M==0)for(;U<=w;)u(this,V,U),U+=this.blockSize;if(typeof V=="string"){for(;U<S;)if(N[M++]=V.charCodeAt(U++),M==this.blockSize){u(this,N),M=0;break}}else for(;U<S;)if(N[M++]=V[U++],M==this.blockSize){u(this,N),M=0;break}}this.h=M,this.o+=S},l.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var S=1;S<V.length-8;++S)V[S]=0;var w=8*this.o;for(S=V.length-8;S<V.length;++S)V[S]=w&255,w/=256;for(this.u(V),V=Array(16),S=w=0;4>S;++S)for(var N=0;32>N;N+=8)V[w++]=this.g[S]>>>N&255;return V};function f(V,S){var w=g;return Object.prototype.hasOwnProperty.call(w,V)?w[V]:w[V]=S(V)}function d(V,S){this.h=S;for(var w=[],N=!0,M=V.length-1;0<=M;M--){var U=V[M]|0;N&&U==S||(w[M]=U,N=!1)}this.g=w}var g={};function v(V){return-128<=V&&128>V?f(V,function(S){return new d([S|0],0>S?-1:0)}):new d([V|0],0>V?-1:0)}function _(V){if(isNaN(V)||!isFinite(V))return b;if(0>V)return Q(_(-V));for(var S=[],w=1,N=0;V>=w;N++)S[N]=V/w|0,w*=4294967296;return new d(S,0)}function A(V,S){if(V.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(V.charAt(0)=="-")return Q(A(V.substring(1),S));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),N=b,M=0;M<V.length;M+=8){var U=Math.min(8,V.length-M),C=parseInt(V.substring(M,M+U),S);8>U?(U=_(Math.pow(S,U)),N=N.j(U).add(_(C))):(N=N.j(w),N=N.add(_(C)))}return N}var b=v(0),R=v(1),I=v(16777216);r=d.prototype,r.m=function(){if(F(this))return-Q(this).m();for(var V=0,S=1,w=0;w<this.g.length;w++){var N=this.i(w);V+=(0<=N?N:4294967296+N)*S,S*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(q(this))return"0";if(F(this))return"-"+Q(this).toString(V);for(var S=_(Math.pow(V,6)),w=this,N="";;){var M=ht(w,S).g;w=ot(w,M.j(S));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(V);if(w=M,q(w))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function q(V){if(V.h!=0)return!1;for(var S=0;S<V.g.length;S++)if(V.g[S]!=0)return!1;return!0}function F(V){return V.h==-1}r.l=function(V){return V=ot(this,V),F(V)?-1:q(V)?0:1};function Q(V){for(var S=V.g.length,w=[],N=0;N<S;N++)w[N]=~V.g[N];return new d(w,~V.h).add(R)}r.abs=function(){return F(this)?Q(this):this},r.add=function(V){for(var S=Math.max(this.g.length,V.g.length),w=[],N=0,M=0;M<=S;M++){var U=N+(this.i(M)&65535)+(V.i(M)&65535),C=(U>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);N=C>>>16,U&=65535,C&=65535,w[M]=C<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function ot(V,S){return V.add(Q(S))}r.j=function(V){if(q(this)||q(V))return b;if(F(this))return F(V)?Q(this).j(Q(V)):Q(Q(this).j(V));if(F(V))return Q(this.j(Q(V)));if(0>this.l(I)&&0>V.l(I))return _(this.m()*V.m());for(var S=this.g.length+V.g.length,w=[],N=0;N<2*S;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<V.g.length;M++){var U=this.i(N)>>>16,C=this.i(N)&65535,ne=V.i(M)>>>16,Yt=V.i(M)&65535;w[2*N+2*M]+=C*Yt,st(w,2*N+2*M),w[2*N+2*M+1]+=U*Yt,st(w,2*N+2*M+1),w[2*N+2*M+1]+=C*ne,st(w,2*N+2*M+1),w[2*N+2*M+2]+=U*ne,st(w,2*N+2*M+2)}for(N=0;N<S;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=S;N<2*S;N++)w[N]=0;return new d(w,0)};function st(V,S){for(;(V[S]&65535)!=V[S];)V[S+1]+=V[S]>>>16,V[S]&=65535,S++}function at(V,S){this.g=V,this.h=S}function ht(V,S){if(q(S))throw Error("division by zero");if(q(V))return new at(b,b);if(F(V))return S=ht(Q(V),S),new at(Q(S.g),Q(S.h));if(F(S))return S=ht(V,Q(S)),new at(Q(S.g),S.h);if(30<V.g.length){if(F(V)||F(S))throw Error("slowDivide_ only works with positive integers.");for(var w=R,N=S;0>=N.l(V);)w=rt(w),N=rt(N);var M=ut(w,1),U=ut(N,1);for(N=ut(N,2),w=ut(w,2);!q(N);){var C=U.add(N);0>=C.l(V)&&(M=M.add(w),U=C),N=ut(N,1),w=ut(w,1)}return S=ot(V,M.j(S)),new at(M,S)}for(M=b;0<=V.l(S);){for(w=Math.max(1,Math.floor(V.m()/S.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=_(w),C=U.j(S);F(C)||0<C.l(V);)w-=N,U=_(w),C=U.j(S);q(U)&&(U=R),M=M.add(U),V=ot(V,C)}return new at(M,V)}r.A=function(V){return ht(this,V).h},r.and=function(V){for(var S=Math.max(this.g.length,V.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)&V.i(N);return new d(w,this.h&V.h)},r.or=function(V){for(var S=Math.max(this.g.length,V.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)|V.i(N);return new d(w,this.h|V.h)},r.xor=function(V){for(var S=Math.max(this.g.length,V.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)^V.i(N);return new d(w,this.h^V.h)};function rt(V){for(var S=V.g.length+1,w=[],N=0;N<S;N++)w[N]=V.i(N)<<1|V.i(N-1)>>>31;return new d(w,V.h)}function ut(V,S){var w=S>>5;S%=32;for(var N=V.g.length-w,M=[],U=0;U<N;U++)M[U]=0<S?V.i(U+w)>>>S|V.i(U+w+1)<<32-S:V.i(U+w);return new d(M,V.h)}l.prototype.digest=l.prototype.v,l.prototype.reset=l.prototype.s,l.prototype.update=l.prototype.u,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Wh=d}).apply(typeof oy<"u"?oy:typeof self<"u"?self:typeof window<"u"?window:{});var Du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var x0,kl,C0,Lu,Vh,I0,D0,N0;(function(){var r,n=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function a(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Du=="object"&&Du];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var l=a(this);function u(o,m){if(m)t:{var p=l;o=o.split(".");for(var E=0;E<o.length-1;E++){var z=o[E];if(!(z in p))break t;p=p[z]}o=o[o.length-1],E=p[o],m=m(E),m!=E&&m!=null&&n(p,o,{configurable:!0,writable:!0,value:m})}}function f(o,m){o instanceof String&&(o+="");var p=0,E=!1,z={next:function(){if(!E&&p<o.length){var G=p++;return{value:m(G,o[G]),done:!1}}return E=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}u("Array.prototype.values",function(o){return o||function(){return f(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function v(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function _(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,p){return o.call.apply(o.bind,arguments)}function b(o,m,p){if(!o)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,E),o.apply(m,z)}}return function(){return o.apply(m,arguments)}}function R(o,m,p){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:b,R.apply(null,arguments)}function I(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var E=p.slice();return E.push.apply(E,arguments),o.apply(this,E)}}function q(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(E,z,G){for(var nt=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)nt[Ut-2]=arguments[Ut];return m.prototype[z].apply(E,nt)}}function F(o){const m=o.length;if(0<m){const p=Array(m);for(let E=0;E<m;E++)p[E]=o[E];return p}return[]}function Q(o,m){for(let p=1;p<arguments.length;p++){const E=arguments[p];if(v(E)){const z=o.length||0,G=E.length||0;o.length=z+G;for(let nt=0;nt<G;nt++)o[z+nt]=E[nt]}else o.push(E)}}class ot{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function st(o){return/^[\s\xa0]*$/.test(o)}function at(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function ht(o){return ht[" "](o),o}ht[" "]=function(){};var rt=at().indexOf("Gecko")!=-1&&!(at().toLowerCase().indexOf("webkit")!=-1&&at().indexOf("Edge")==-1)&&!(at().indexOf("Trident")!=-1||at().indexOf("MSIE")!=-1)&&at().indexOf("Edge")==-1;function ut(o,m,p){for(const E in o)m.call(p,o[E],E,o)}function V(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function S(o){const m={};for(const p in o)m[p]=o[p];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(o,m){let p,E;for(let z=1;z<arguments.length;z++){E=arguments[z];for(p in E)o[p]=E[p];for(let G=0;G<w.length;G++)p=w[G],Object.prototype.hasOwnProperty.call(E,p)&&(o[p]=E[p])}}function M(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function U(o){g.setTimeout(()=>{throw o},0)}function C(){var o=Vt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class ne{constructor(){this.h=this.g=null}add(m,p){const E=Yt.get();E.set(m,p),this.h?this.h.next=E:this.g=E,this.h=E}}var Yt=new ot(()=>new Y,o=>o.reset());class Y{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ct=!1,Vt=new ne,D=()=>{const o=g.Promise.resolve(void 0);et=()=>{o.then(J)}};var J=()=>{for(var o;o=C();){try{o.h.call(o.g)}catch(p){U(p)}var m=Yt;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ct=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var pt=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o})();function Rt(o,m){if(tt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,E=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(rt){t:{try{ht(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:At[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Rt.aa.h.call(this)}}q(Rt,tt);var At={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),Xt=0;function nn(o,m,p,E,z){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!E,this.ha=z,this.key=++Xt,this.da=this.fa=!1}function an(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function rn(o){this.src=o,this.g={},this.h=0}rn.prototype.add=function(o,m,p,E,z){var G=o.toString();o=this.g[G],o||(o=this.g[G]=[],this.h++);var nt=na(o,m,E,z);return-1<nt?(m=o[nt],p||(m.fa=!1)):(m=new nn(m,this.src,G,!!E,z),m.fa=p,o.push(m)),m};function Rn(o,m){var p=m.type;if(p in o.g){var E=o.g[p],z=Array.prototype.indexOf.call(E,m,void 0),G;(G=0<=z)&&Array.prototype.splice.call(E,z,1),G&&(an(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function na(o,m,p,E){for(var z=0;z<o.length;++z){var G=o[z];if(!G.da&&G.listener==m&&G.capture==!!p&&G.ha==E)return z}return-1}var Pn="closure_lm_"+(1e6*Math.random()|0),bi={};function Ur(o,m,p,E,z){if(Array.isArray(m)){for(var G=0;G<m.length;G++)Ur(o,m[G],p,E,z);return null}return p=ei(p),o&&o[me]?o.K(m,p,_(E)?!!E.capture:!1,z):Ge(o,m,p,!1,E,z)}function Ge(o,m,p,E,z,G){if(!m)throw Error("Invalid event type");var nt=_(z)?!!z.capture:!!z,Ut=ti(o);if(Ut||(o[Pn]=Ut=new rn(o)),p=Ut.add(m,p,E,nt,G),p.proxy)return p;if(E=za(),p.proxy=E,E.src=o,E.listener=p,o.addEventListener)pt||(z=nt),z===void 0&&(z=!1),o.addEventListener(m.toString(),E,z);else if(o.attachEvent)o.attachEvent(Bn(m.toString()),E);else if(o.addListener&&o.removeListener)o.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return p}function za(){function o(p){return m.call(o.src,o.listener,p)}const m=js;return o}function Ri(o,m,p,E,z){if(Array.isArray(m))for(var G=0;G<m.length;G++)Ri(o,m[G],p,E,z);else E=_(E)?!!E.capture:!!E,p=ei(p),o&&o[me]?(o=o.i,m=String(m).toString(),m in o.g&&(G=o.g[m],p=na(G,p,E,z),-1<p&&(an(G[p]),Array.prototype.splice.call(G,p,1),G.length==0&&(delete o.g[m],o.h--)))):o&&(o=ti(o))&&(m=o.g[m.toString()],o=-1,m&&(o=na(m,p,E,z)),(p=-1<o?m[o]:null)&&Wn(p))}function Wn(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[me])Rn(m.i,o);else{var p=o.type,E=o.proxy;m.removeEventListener?m.removeEventListener(p,E,o.capture):m.detachEvent?m.detachEvent(Bn(p),E):m.addListener&&m.removeListener&&m.removeListener(E),(p=ti(m))?(Rn(p,o),p.h==0&&(p.src=null,m[Pn]=null)):an(o)}}}function Bn(o){return o in bi?bi[o]:bi[o]="on"+o}function js(o,m){if(o.da)o=!0;else{m=new Rt(m,this);var p=o.listener,E=o.ha||o.src;o.fa&&Wn(o),o=p.call(E,m)}return o}function ti(o){return o=o[Pn],o instanceof rn?o:null}var Pa="__closure_events_fn_"+(1e9*Math.random()>>>0);function ei(o){return typeof o=="function"?o:(o[Pa]||(o[Pa]=function(m){return o.handleEvent(m)}),o[Pa])}function ie(){it.call(this),this.i=new rn(this),this.M=this,this.F=null}q(ie,it),ie.prototype[me]=!0,ie.prototype.removeEventListener=function(o,m,p,E){Ri(this,o,m,p,E)};function Bt(o,m){var p,E=o.F;if(E)for(p=[];E;E=E.F)p.push(E);if(o=o.M,E=m.type||m,typeof m=="string")m=new tt(m,o);else if(m instanceof tt)m.target=m.target||o;else{var z=m;m=new tt(E,o),N(m,z)}if(z=!0,p)for(var G=p.length-1;0<=G;G--){var nt=m.g=p[G];z=Ye(nt,E,!0,m)&&z}if(nt=m.g=o,z=Ye(nt,E,!0,m)&&z,z=Ye(nt,E,!1,m)&&z,p)for(G=0;G<p.length;G++)nt=m.g=p[G],z=Ye(nt,E,!1,m)&&z}ie.prototype.N=function(){if(ie.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],E=0;E<p.length;E++)an(p[E]);delete o.g[m],o.h--}}this.F=null},ie.prototype.K=function(o,m,p,E){return this.i.add(String(o),m,!1,p,E)},ie.prototype.L=function(o,m,p,E){return this.i.add(String(o),m,!0,p,E)};function Ye(o,m,p,E){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,G=0;G<m.length;++G){var nt=m[G];if(nt&&!nt.da&&nt.capture==p){var Ut=nt.listener,Se=nt.ha||nt.src;nt.fa&&Rn(o.i,nt),z=Ut.call(Se,E)!==!1&&z}}return z&&!E.defaultPrevented}function le(o,m,p){if(typeof o=="function")p&&(o=R(o,p));else if(o&&typeof o.handleEvent=="function")o=R(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function Lr(o){o.g=le(()=>{o.g=null,o.i&&(o.i=!1,Lr(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class zs extends it{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Lr(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kn(o){it.call(this),this.h=o,this.g={}}q(kn,it);var wi=[];function ni(o){ut(o.g,function(m,p){this.g.hasOwnProperty(p)&&Wn(m)},o),o.g={}}kn.prototype.N=function(){kn.aa.N.call(this),ni(this)},kn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sn=g.JSON.stringify,ii=g.JSON.parse,qn=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Ba(){}Ba.prototype.h=null;function ka(o){return o.h||(o.h=o.i())}function qa(){}var Hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wn(){tt.call(this,"d")}q(wn,tt);function Ha(){tt.call(this,"c")}q(Ha,tt);var xn={},Ga=null;function ai(){return Ga=Ga||new ie}xn.La="serverreachability";function ia(o){tt.call(this,xn.La,o)}q(ia,tt);function xi(o){const m=ai();Bt(m,new ia(m))}xn.STAT_EVENT="statevent";function dt(o,m){tt.call(this,xn.STAT_EVENT,o),this.stat=m}q(dt,tt);function vt(o){const m=ai();Bt(m,new dt(m,o))}xn.Ma="timingevent";function bt(o,m){tt.call(this,xn.Ma,o),this.size=m}q(bt,tt);function Ot(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function oe(){this.g=!0}oe.prototype.xa=function(){this.g=!1};function mn(o,m,p,E,z,G){o.info(function(){if(o.g)if(G)for(var nt="",Ut=G.split("&"),Se=0;Se<Ut.length;Se++){var Lt=Ut[Se].split("=");if(1<Lt.length){var Ce=Lt[0];Lt=Lt[1];var be=Ce.split("_");nt=2<=be.length&&be[1]=="type"?nt+(Ce+"="+Lt+"&"):nt+(Ce+"=redacted&")}}else nt=null;else nt=G;return"XMLHTTP REQ ("+E+") [attempt "+z+"]: "+m+`
`+p+`
`+nt})}function gn(o,m,p,E,z,G,nt){o.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+z+"]: "+m+`
`+p+`
`+G+" "+nt})}function ln(o,m,p,E){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ya(o,p)+(E?" "+E:"")})}function uo(o,m){o.info(function(){return"TIMEOUT: "+m})}oe.prototype.info=function(){};function Ya(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var E=p[o];if(!(2>E.length)){var z=E[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var nt=1;nt<z.length;nt++)z[nt]=""}}}}return sn(p)}catch{return m}}var aa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ri;function si(){}q(si,Ba),si.prototype.g=function(){return new XMLHttpRequest},si.prototype.i=function(){return{}},ri=new si;function Je(o,m,p,E){this.j=o,this.i=m,this.l=p,this.R=E||1,this.U=new kn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ge}function ge(){this.i=null,this.g="",this.h=!1}var Ps={},jr={};function Gn(o,m,p){o.L=1,o.v=$a(pn(m)),o.m=p,o.P=!0,Ii(o,null)}function Ii(o,m){o.F=Date.now(),Qa(o),o.A=pn(o.v);var p=o.A,E=o.R;Array.isArray(E)||(E=[String(E)]),Ys(p.i,"t",E),o.C=0,p=o.j.J,o.h=new ge,o.g=wo(o.j,p?m:null,!o.m),0<o.O&&(o.M=new zs(R(o.Y,o,o.g),o.O)),m=o.U,p=o.g,E=o.ca;var z="readystatechange";Array.isArray(z)||(z&&(wi[0]=z.toString()),z=wi);for(var G=0;G<z.length;G++){var nt=Ur(p,z[G],E||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),xi(),mn(o.i,o.u,o.A,o.l,o.R,o.m)}Je.prototype.ca=function(o){o=o.target;const m=this.M;m&&Nn(o)==3?m.j():this.Y(o)},Je.prototype.Y=function(o){try{if(o==this.g)t:{const be=Nn(this.g);var m=this.g.Ba();const ji=this.g.Z();if(!(3>be)&&(be!=3||this.g&&(this.h.h||this.g.oa()||_o(this.g)))){this.J||be!=4||m==7||(m==8||0>=ji?xi(3):xi(2)),ra(this);var p=this.g.Z();this.X=p;e:if(co(this)){var E=_o(this.g);o="";var z=E.length,G=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ve(this),li(this);var nt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,o+=this.h.i.decode(E[m],{stream:!(G&&m==z-1)});E.length=0,this.h.g+=o,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=p==200,gn(this.i,this.u,this.A,this.l,this.R,be,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,Se=this.g;if((Ut=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!st(Ut)){var Lt=Ut;break e}}Lt=null}if(p=Lt)ln(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fa(this,p);else{this.o=!1,this.s=3,vt(12),Ve(this),li(this);break t}}if(this.P){p=!0;let Ue;for(;!this.J&&this.C<nt.length;)if(Ue=fo(this,nt),Ue==jr){be==4&&(this.s=4,vt(14),p=!1),ln(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Ps){this.s=4,vt(15),ln(this.i,this.l,nt,"[Invalid Chunk]"),p=!1;break}else ln(this.i,this.l,Ue,null),Fa(this,Ue);if(co(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||nt.length!=0||this.h.h||(this.s=1,vt(16),p=!1),this.o=this.o&&p,!p)ln(this.i,this.l,nt,"[Invalid Chunked Response]"),Ve(this),li(this);else if(0<nt.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),ar(Ce),Ce.M=!0,vt(11))}}else ln(this.i,this.l,nt,null),Fa(this,nt);be==4&&Ve(this),this.o&&!this.J&&(be==4?So(this.j,this):(this.o=!1,Qa(this)))}else vc(this.g),p==400&&0<nt.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),Ve(this),li(this)}}}catch{}finally{}};function co(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function fo(o,m){var p=o.C,E=m.indexOf(`
`,p);return E==-1?jr:(p=Number(m.substring(p,E)),isNaN(p)?Ps:(E+=1,E+p>m.length?jr:(m=m.slice(E,E+p),o.C=E+p,m)))}Je.prototype.cancel=function(){this.J=!0,Ve(this)};function Qa(o){o.S=Date.now()+o.I,ho(o,o.I)}function ho(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Ot(R(o.ba,o),m)}function ra(o){o.B&&(g.clearTimeout(o.B),o.B=null)}Je.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(uo(this.i,this.A),this.L!=2&&(xi(),vt(17)),Ve(this),this.s=2,li(this)):ho(this,this.S-o)};function li(o){o.j.G==0||o.J||So(o.j,o)}function Ve(o){ra(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,ni(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Fa(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Bs(p.h,o))){if(!o.K&&Bs(p.h,o)&&p.G==3){try{var E=p.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var z=E;if(z[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)Kr(p),Fr(p);else break t;$s(p),vt(18)}}else p.za=z[1],0<p.za-p.T&&37500>z[2]&&p.F&&p.v==0&&!p.C&&(p.C=Ot(R(p.Za,p),6e3));if(1>=Pr(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Li(p,11)}else if((o.K||p.g==o)&&Kr(p),!st(m))for(z=p.Da.g.parse(m),m=0;m<z.length;m++){let Lt=z[m];if(p.T=Lt[0],Lt=Lt[1],p.G==2)if(Lt[0]=="c"){p.K=Lt[1],p.ia=Lt[2];const Ce=Lt[3];Ce!=null&&(p.la=Ce,p.j.info("VER="+p.la));const be=Lt[4];be!=null&&(p.Aa=be,p.j.info("SVER="+p.Aa));const ji=Lt[5];ji!=null&&typeof ji=="number"&&0<ji&&(E=1.5*ji,p.L=E,p.j.info("backChannelRequestTimeoutMs_="+E)),E=p;const Ue=o.g;if(Ue){const mi=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mi){var G=E.h;G.g||mi.indexOf("spdy")==-1&&mi.indexOf("quic")==-1&&mi.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Br(G,G.h),G.h=null))}if(E.D){const Js=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;Js&&(E.ya=Js,Kt(E.I,E.D,Js))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),E=p;var nt=o;if(E.qa=Ro(E,E.J?E.ia:null,E.W),nt.K){We(E.h,nt);var Ut=nt,Se=E.L;Se&&(Ut.I=Se),Ut.B&&(ra(Ut),Qa(Ut)),E.g=nt}else Eo(E);0<p.i.length&&Xr(p)}else Lt[0]!="stop"&&Lt[0]!="close"||Li(p,7);else p.G==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?Li(p,7):Xs(p):Lt[0]!="noop"&&p.l&&p.l.ta(Lt),p.v=0)}}xi(4)}catch{}}var mo=class{constructor(o,m){this.g=o,this.map=m}};function Di(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zr(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Pr(o){return o.h?1:o.g?o.g.size:0}function Bs(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Br(o,m){o.g?o.g.add(m):o.h=m}function We(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Di.prototype.cancel=function(){if(this.i=ks(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function ks(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return F(o.i)}function gc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(v(o)){for(var m=[],p=o.length,E=0;E<p;E++)m.push(o[E]);return m}m=[],p=0;for(E in o)m[p++]=o[E];return m}function kr(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(v(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const E in o)m[p++]=E;return m}}}function qs(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(v(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=kr(o),E=gc(o),z=E.length,G=0;G<z;G++)m.call(void 0,E[G],p&&p[G],o)}var Xa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pc(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var E=o[p].indexOf("="),z=null;if(0<=E){var G=o[p].substring(0,E);z=o[p].substring(E+1)}else G=o[p];m(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function _e(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof _e){this.h=o.h,Ka(this,o.j),this.o=o.o,this.g=o.g,sa(this,o.s),this.l=o.l;var m=o.i,p=new Mi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),Ni(this,p),this.m=o.m}else o&&(m=String(o).match(Xa))?(this.h=!1,Ka(this,m[1]||"",!0),this.o=Cn(m[2]||""),this.g=Cn(m[3]||"",!0),sa(this,m[4]),this.l=Cn(m[5]||"",!0),Ni(this,m[6]||"",!0),this.m=Cn(m[7]||"")):(this.h=!1,this.i=new Mi(null,this.h))}_e.prototype.toString=function(){var o=[],m=this.j;m&&o.push(Za(m,Hs,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Za(m,Hs,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Za(p,p.charAt(0)=="/"?yc:Gs,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Za(p,qr)),o.join("")};function pn(o){return new _e(o)}function Ka(o,m,p){o.j=p?Cn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function sa(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function Ni(o,m,p){m instanceof Mi?(o.i=m,po(o.i,o.h)):(p||(m=Za(m,_c)),o.i=new Mi(m,o.h))}function Kt(o,m,p){o.i.set(m,p)}function $a(o){return Kt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Cn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Za(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,go),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function go(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Hs=/[#\/\?@]/g,Gs=/[#\?:]/g,yc=/[#\?]/g,_c=/[#\?@]/g,qr=/#/g;function Mi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function In(o){o.g||(o.g=new Map,o.h=0,o.i&&pc(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=Mi.prototype,r.add=function(o,m){In(this),this.i=null,o=oi(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function Oi(o,m){In(o),m=oi(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function Vi(o,m){return In(o),m=oi(o,m),o.g.has(m)}r.forEach=function(o,m){In(this),this.g.forEach(function(p,E){p.forEach(function(z){o.call(m,z,E,this)},this)},this)},r.na=function(){In(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let E=0;E<m.length;E++){const z=o[E];for(let G=0;G<z.length;G++)p.push(m[E])}return p},r.V=function(o){In(this);let m=[];if(typeof o=="string")Vi(this,o)&&(m=m.concat(this.g.get(oi(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},r.set=function(o,m){return In(this),this.i=null,o=oi(this,o),Vi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},r.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function Ys(o,m,p){Oi(o,m),0<p.length&&(o.i=null,o.g.set(oi(o,m),F(p)),o.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var E=m[p];const G=encodeURIComponent(String(E)),nt=this.V(E);for(E=0;E<nt.length;E++){var z=G;nt[E]!==""&&(z+="="+encodeURIComponent(String(nt[E]))),o.push(z)}}return this.i=o.join("&")};function oi(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function po(o,m){m&&!o.j&&(In(o),o.i=null,o.g.forEach(function(p,E){var z=E.toLowerCase();E!=z&&(Oi(this,E),Ys(this,z,p))},o)),o.j=m}function Ja(o,m){const p=new oe;if(g.Image){const E=new Image;E.onload=I(Dn,p,"TestLoadImage: loaded",!0,m,E),E.onerror=I(Dn,p,"TestLoadImage: error",!1,m,E),E.onabort=I(Dn,p,"TestLoadImage: abort",!1,m,E),E.ontimeout=I(Dn,p,"TestLoadImage: timeout",!1,m,E),g.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=o}else m(!1)}function Yn(o,m){const p=new oe,E=new AbortController,z=setTimeout(()=>{E.abort(),Dn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:E.signal}).then(G=>{clearTimeout(z),G.ok?Dn(p,"TestPingServer: ok",!0,m):Dn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),Dn(p,"TestPingServer: error",!1,m)})}function Dn(o,m,p,E,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),E(p)}catch{}}function Wa(){this.g=new qn}function ui(o,m,p){const E=p||"";try{qs(o,function(z,G){let nt=z;_(z)&&(nt=sn(z)),m.push(E+G+"="+encodeURIComponent(nt))})}catch(z){throw m.push(E+"type="+encodeURIComponent("_badmap")),z}}function la(o){this.l=o.Ub||null,this.j=o.eb||!1}q(la,Ba),la.prototype.g=function(){return new Ui(this.l,this.j)},la.prototype.i=(function(o){return function(){return o}})({});function Ui(o,m){ie.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}q(Ui,ie),r=Ui.prototype,r.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,fi(this)},r.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ci(this)),this.readyState=0},r.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qs(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qs(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}r.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?ci(this):fi(this),this.readyState==3&&Qs(this)}},r.Ra=function(o){this.g&&(this.response=this.responseText=o,ci(this))},r.Qa=function(o){this.g&&(this.response=o,ci(this))},r.ga=function(){this.g&&ci(this)};function ci(o){o.readyState=4,o.l=null,o.j=null,o.v=null,fi(o)}r.setRequestHeader=function(o,m){this.u.append(o,m)},r.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function fi(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Fs(o){let m="";return ut(o,function(p,E){m+=E,m+=":",m+=p,m+=`\r
`}),m}function xe(o,m,p){t:{for(E in p){var E=!1;break t}E=!0}E||(p=Fs(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):Kt(o,m,p))}function Ht(o){ie.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}q(Ht,ie);var Hr=/^https?$/i,tr=["POST","PUT"];r=Ht.prototype,r.Ha=function(o){this.J=o},r.ea=function(o,m,p,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ri.g(),this.v=this.o?ka(this.o):ka(ri),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(G){yo(this,G);return}if(o=p||"",p=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var z in E)p.set(z,E[z]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const G of E.keys())p.set(G,E.get(G));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(p.keys()).find(G=>G.toLowerCase()=="content-type"),z=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(tr,m,void 0))||E||z||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,nt]of p)this.g.setRequestHeader(G,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{er(this),this.u=!0,this.g.send(o),this.u=!1}catch(G){yo(this,G)}};function yo(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Gr(o),hi(o)}function Gr(o){o.A||(o.A=!0,Bt(o,"complete"),Bt(o,"error"))}r.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Bt(this,"complete"),Bt(this,"abort"),hi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hi(this,!0)),Ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Yr(this):this.bb())},r.bb=function(){Yr(this)};function Yr(o){if(o.h&&typeof d<"u"&&(!o.v[1]||Nn(o)!=4||o.Z()!=2)){if(o.u&&Nn(o)==4)le(o.Ea,0,o);else if(Bt(o,"readystatechange"),Nn(o)==4){o.h=!1;try{const nt=o.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var E;if(E=nt===0){var z=String(o.D).match(Xa)[1]||null;!z&&g.self&&g.self.location&&(z=g.self.location.protocol.slice(0,-1)),E=!Hr.test(z?z.toLowerCase():"")}p=E}if(p)Bt(o,"complete"),Bt(o,"success");else{o.m=6;try{var G=2<Nn(o)?o.g.statusText:""}catch{G=""}o.l=G+" ["+o.Z()+"]",Gr(o)}}finally{hi(o)}}}}function hi(o,m){if(o.g){er(o);const p=o.g,E=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Bt(o,"ready");try{p.onreadystatechange=E}catch{}}}function er(o){o.I&&(g.clearTimeout(o.I),o.I=null)}r.isActive=function(){return!!this.g};function Nn(o){return o.g?o.g.readyState:0}r.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),ii(m)}};function _o(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function vc(o){const m={};o=(o.g&&2<=Nn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<o.length;E++){if(st(o[E]))continue;var p=M(o[E]);const z=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const G=m[z]||[];m[z]=G,G.push(p)}V(m,function(E){return E.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function nr(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Qr(o){this.Aa=0,this.i=[],this.j=new oe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=nr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=nr("baseRetryDelayMs",5e3,o),this.cb=nr("retryDelaySeedMs",1e4,o),this.Wa=nr("forwardChannelMaxRetries",2,o),this.wa=nr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Di(o&&o.concurrentRequestLimit),this.Da=new Wa,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Qr.prototype,r.la=8,r.G=1,r.connect=function(o,m,p,E){vt(0),this.W=o,this.H=m||{},p&&E!==void 0&&(this.H.OSID=p,this.H.OAID=E),this.F=this.X,this.I=Ro(this,null,this.W),Xr(this)};function Xs(o){if(vo(o),o.G==3){var m=o.U++,p=pn(o.I);if(Kt(p,"SID",o.K),Kt(p,"RID",m),Kt(p,"TYPE","terminate"),ir(o,p),m=new Je(o,o.j,m),m.L=2,m.v=$a(pn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=wo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Qa(m)}bo(o)}function Fr(o){o.g&&(ar(o),o.g.cancel(),o.g=null)}function vo(o){Fr(o),o.u&&(g.clearTimeout(o.u),o.u=null),Kr(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function Xr(o){if(!zr(o.h)&&!o.s){o.s=!0;var m=o.Ga;et||D(),ct||(et(),ct=!0),Vt.add(m,o),o.B=0}}function Tc(o,m){return Pr(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Ot(R(o.Ga,o,m),Zs(o,o.B)),o.B++,!0)}r.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const z=new Je(this,this.j,o);let G=this.o;if(this.S&&(G?(G=S(G),N(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var E=this.i[p];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break e}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=To(this,z,m),p=pn(this.I),Kt(p,"RID",o),Kt(p,"CVER",22),this.D&&Kt(p,"X-HTTP-Session-Id",this.D),ir(this,p),G&&(this.O?m="headers="+encodeURIComponent(String(Fs(G)))+"&"+m:this.m&&xe(p,this.m,G)),Br(this.h,z),this.Ua&&Kt(p,"TYPE","init"),this.P?(Kt(p,"$req",m),Kt(p,"SID","null"),z.T=!0,Gn(z,p,null)):Gn(z,p,m),this.G=2}}else this.G==3&&(o?Ks(this,o):this.i.length==0||zr(this.h)||Ks(this))};function Ks(o,m){var p;m?p=m.l:p=o.U++;const E=pn(o.I);Kt(E,"SID",o.K),Kt(E,"RID",p),Kt(E,"AID",o.T),ir(o,E),o.m&&o.o&&xe(E,o.m,o.o),p=new Je(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=To(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Br(o.h,p),Gn(p,E,m)}function ir(o,m){o.H&&ut(o.H,function(p,E){Kt(m,E,p)}),o.l&&qs({},function(p,E){Kt(m,E,p)})}function To(o,m,p){p=Math.min(o.i.length,p);var E=o.l?R(o.l.Na,o.l,o):null;t:{var z=o.i;let G=-1;for(;;){const nt=["count="+p];G==-1?0<p?(G=z[0].g,nt.push("ofs="+G)):G=0:nt.push("ofs="+G);let Ut=!0;for(let Se=0;Se<p;Se++){let Lt=z[Se].g;const Ce=z[Se].map;if(Lt-=G,0>Lt)G=Math.max(0,z[Se].g-100),Ut=!1;else try{ui(Ce,nt,"req"+Lt+"_")}catch{E&&E(Ce)}}if(Ut){E=nt.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,E}function Eo(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;et||D(),ct||(et(),ct=!0),Vt.add(m,o),o.v=0}}function $s(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Ot(R(o.Fa,o),Zs(o,o.v)),o.v++,!0)}r.Fa=function(){if(this.u=null,Ao(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Ot(R(this.ab,this),o)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),Fr(this),Ao(this))};function ar(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function Ao(o){o.g=new Je(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=pn(o.qa);Kt(m,"RID","rpc"),Kt(m,"SID",o.K),Kt(m,"AID",o.T),Kt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Kt(m,"TO",o.ja),Kt(m,"TYPE","xmlhttp"),ir(o,m),o.m&&o.o&&xe(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=$a(pn(m)),p.m=null,p.P=!0,Ii(p,o)}r.Za=function(){this.C!=null&&(this.C=null,Fr(this),$s(this),vt(19))};function Kr(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function So(o,m){var p=null;if(o.g==m){Kr(o),ar(o),o.g=null;var E=2}else if(Bs(o.h,m))p=m.D,We(o.h,m),E=1;else return;if(o.G!=0){if(m.o)if(E==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var z=o.B;E=ai(),Bt(E,new bt(E,p)),Xr(o)}else Eo(o);else if(z=m.s,z==3||z==0&&0<m.X||!(E==1&&Tc(o,m)||E==2&&$s(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),z){case 1:Li(o,5);break;case 4:Li(o,10);break;case 3:Li(o,6);break;default:Li(o,2)}}}function Zs(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function Li(o,m){if(o.j.info("Error code "+m),m==2){var p=R(o.fb,o),E=o.Xa;const z=!E;E=new _e(E||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ka(E,"https"),$a(E),z?Ja(E.toString(),p):Yn(E.toString(),p)}else vt(2);o.G=0,o.l&&o.l.sa(m),bo(o),vo(o)}r.fb=function(o){o?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function bo(o){if(o.G=0,o.ka=[],o.l){const m=ks(o.h);(m.length!=0||o.i.length!=0)&&(Q(o.ka,m),Q(o.ka,o.i),o.h.i.length=0,F(o.i),o.i.length=0),o.l.ra()}}function Ro(o,m,p){var E=p instanceof _e?pn(p):new _e(p);if(E.g!="")m&&(E.g=m+"."+E.g),sa(E,E.s);else{var z=g.location;E=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var G=new _e(null);E&&Ka(G,E),m&&(G.g=m),z&&sa(G,z),p&&(G.l=p),E=G}return p=o.D,m=o.ya,p&&m&&Kt(E,p,m),Kt(E,"VER",o.la),ir(o,E),E}function wo(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new Ht(new la({eb:p})):new Ht(o.pa),m.Ha(o.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function xo(){}r=xo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function $r(){}$r.prototype.g=function(o,m){return new tn(o,m)};function tn(o,m){ie.call(this),this.g=new Qr(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!st(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!st(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new di(this)}q(tn,ie),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Xs(this.g)},tn.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=sn(o),o=p);m.i.push(new mo(m.Ya++,o)),m.G==3&&Xr(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Xs(this.g),delete this.g,tn.aa.N.call(this)};function Co(o){wn.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}q(Co,wn);function Io(){Ha.call(this),this.status=1}q(Io,Ha);function di(o){this.g=o}q(di,xo),di.prototype.ua=function(){Bt(this.g,"a")},di.prototype.ta=function(o){Bt(this.g,new Co(o))},di.prototype.sa=function(o){Bt(this.g,new Io)},di.prototype.ra=function(){Bt(this.g,"b")},$r.prototype.createWebChannel=$r.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,N0=function(){return new $r},D0=function(){return ai()},I0=xn,Vh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},aa.NO_ERROR=0,aa.TIMEOUT=8,aa.HTTP_ERROR=6,Lu=aa,Ci.COMPLETE="complete",C0=Ci,qa.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",ie.prototype.listen=ie.prototype.K,kl=qa,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,x0=Ht}).apply(typeof Du<"u"?Du:typeof self<"u"?self:typeof window<"u"?window:{});const uy="@firebase/firestore",cy="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(n){this.uid=n}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Us="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr=new $h("@firebase/firestore");function Rs(){return wr.logLevel}function ft(r,...n){if(wr.logLevel<=Pt.DEBUG){const a=n.map(td);wr.debug(`Firestore (${Us}): ${r}`,...a)}}function xr(r,...n){if(wr.logLevel<=Pt.ERROR){const a=n.map(td);wr.error(`Firestore (${Us}): ${r}`,...a)}}function ac(r,...n){if(wr.logLevel<=Pt.WARN){const a=n.map(td);wr.warn(`Firestore (${Us}): ${r}`,...a)}}function td(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(a){return JSON.stringify(a)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(r,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,M0(r,l,a)}function M0(r,n,a){let l=`FIRESTORE (${Us}) INTERNAL ASSERTION FAILED: ${n} (ID: ${r.toString(16)})`;if(a!==void 0)try{l+=" CONTEXT: "+JSON.stringify(a)}catch{l+=" CONTEXT: "+a}throw xr(l),new Error(l)}function de(r,n,a,l){let u="Unexpected state";typeof a=="string"?u=a:l=a,r||M0(n,u,l)}function ee(r,n){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends ja{constructor(n,a){super(n,a),this.code=n,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(){this.promise=new Promise(((n,a)=>{this.resolve=n,this.reject=a}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(n,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class OE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,a){n.enqueueRetryable((()=>a(Ke.UNAUTHENTICATED)))}shutdown(){}}class VE{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,a){this.changeListener=a,n.enqueueRetryable((()=>a(this.token.user)))}shutdown(){this.changeListener=null}}class UE{constructor(n){this.t=n,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,a){de(this.o===void 0,42304);let l=this.i;const u=v=>this.i!==l?(l=this.i,a(v)):Promise.resolve();let f=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Sr,n.enqueueRetryable((()=>u(this.currentUser)))};const d=()=>{const v=f;n.enqueueRetryable((async()=>{await v.promise,await u(this.currentUser)}))},g=v=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Sr)}}),0),d()}getToken(){const n=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then((l=>this.i!==n?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):l?(de(typeof l.accessToken=="string",31837,{l}),new O0(l.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return de(n===null||typeof n=="string",2055,{h:n}),new Ke(n)}}class LE{constructor(n,a,l){this.P=n,this.T=a,this.I=l,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const n=this.R();return n&&this.A.set("Authorization",n),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jE{constructor(n,a,l){this.P=n,this.T=a,this.I=l}getToken(){return Promise.resolve(new LE(this.P,this.T,this.I))}start(n,a){n.enqueueRetryable((()=>a(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fy{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zE{constructor(n,a){this.V=a,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yE(n)&&n.settings.appCheckToken&&(this.p=n.settings.appCheckToken)}start(n,a){de(this.o===void 0,3512);const l=f=>{f.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.m;return this.m=f.token,ft("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?a(f.token):Promise.resolve()};this.o=f=>{n.enqueueRetryable((()=>l(f)))};const u=f=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((f=>u(f))),setTimeout((()=>{if(!this.appCheck){const f=this.V.getImmediate({optional:!0});f?u(f):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new fy(this.p));const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then((a=>a?(de(typeof a.token=="string",44558,{tokenResult:a}),this.m=a.token,new fy(a.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(r){const n=typeof self<"u"&&(self.crypto||self.msCrypto),a=new Uint8Array(r);if(n&&typeof n.getRandomValues=="function")n.getRandomValues(a);else for(let l=0;l<r;l++)a[l]=Math.floor(256*Math.random());return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{static newId(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=62*Math.floor(4.129032258064516);let l="";for(;l.length<20;){const u=PE(40);for(let f=0;f<u.length;++f)l.length<20&&u[f]<a&&(l+=n.charAt(u[f]%62))}return l}}function Gt(r,n){return r<n?-1:r>n?1:0}function Uh(r,n){const a=Math.min(r.length,n.length);for(let l=0;l<a;l++){const u=r.charAt(l),f=n.charAt(l);if(u!==f)return Ah(u)===Ah(f)?Gt(u,f):Ah(u)?1:-1}return Gt(r.length,n.length)}const BE=55296,kE=57343;function Ah(r){const n=r.charCodeAt(0);return n>=BE&&n<=kE}function Ds(r,n,a){return r.length===n.length&&r.every(((l,u)=>a(l,n[u])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="__name__";class Ti{constructor(n,a,l){a===void 0?a=0:a>n.length&&It(637,{offset:a,range:n.length}),l===void 0?l=n.length-a:l>n.length-a&&It(1746,{length:l,range:n.length-a}),this.segments=n,this.offset=a,this.len=l}get length(){return this.len}isEqual(n){return Ti.comparator(this,n)===0}child(n){const a=this.segments.slice(this.offset,this.limit());return n instanceof Ti?n.forEach((l=>{a.push(l)})):a.push(n),this.construct(a)}limit(){return this.offset+this.length}popFirst(n){return n=n===void 0?1:n,this.construct(this.segments,this.offset+n,this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return this.length===0}isPrefixOf(n){if(n.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}forEach(n){for(let a=this.offset,l=this.limit();a<l;a++)n(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,a){const l=Math.min(n.length,a.length);for(let u=0;u<l;u++){const f=Ti.compareSegments(n.get(u),a.get(u));if(f!==0)return f}return Gt(n.length,a.length)}static compareSegments(n,a){const l=Ti.isNumericId(n),u=Ti.isNumericId(a);return l&&!u?-1:!l&&u?1:l&&u?Ti.extractNumericId(n).compare(Ti.extractNumericId(a)):Uh(n,a)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return Wh.fromString(n.substring(4,n.length-2))}}class ce extends Ti{construct(n,a,l){return new ce(n,a,l)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const a=[];for(const l of n){if(l.indexOf("//")>=0)throw new _t(W.INVALID_ARGUMENT,`Invalid segment (${l}). Paths must not contain // in them.`);a.push(...l.split("/").filter((u=>u.length>0)))}return new ce(a)}static emptyPath(){return new ce([])}}const qE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends Ti{construct(n,a,l){return new qe(n,a,l)}static isValidIdentifier(n){return qE.test(n)}canonicalString(){return this.toArray().map((n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(n)||(n="`"+n+"`"),n))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hy}static keyField(){return new qe([hy])}static fromServerFormat(n){const a=[];let l="",u=0;const f=()=>{if(l.length===0)throw new _t(W.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(l),l=""};let d=!1;for(;u<n.length;){const g=n[u];if(g==="\\"){if(u+1===n.length)throw new _t(W.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const v=n[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new _t(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);l+=v,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(l+=g,u++):(f(),u++)}if(f(),d)throw new _t(W.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new qe(a)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(n){this.path=n}static fromPath(n){return new xt(ce.fromString(n))}static fromName(n){return new xt(ce.fromString(n).popFirst(5))}static empty(){return new xt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return n!==null&&ce.comparator(this.path,n.path)===0}toString(){return this.path.toString()}static comparator(n,a){return ce.comparator(n.path,a.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new xt(new ce(n.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(r,n,a){if(!a)throw new _t(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${n}.`)}function HE(r,n,a,l){if(n===!0&&l===!0)throw new _t(W.INVALID_ARGUMENT,`${r} and ${a} cannot be used together.`)}function dy(r){if(!xt.isDocumentKey(r))throw new _t(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function my(r){if(xt.isDocumentKey(r))throw new _t(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function U0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function nd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const n=(function(l){return l.constructor?l.constructor.name:null})(r);return n?`a custom ${n} object`:"an object"}}return typeof r=="function"?"a function":It(12329,{type:typeof r})}function L0(r,n){if("_delegate"in r&&(r=r._delegate),!(r instanceof n)){if(n.name===r.constructor.name)throw new _t(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=nd(r);throw new _t(W.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${a}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(r,n){const a={typeString:r};return n&&(a.value=n),a}function io(r,n){if(!U0(r))throw new _t(W.INVALID_ARGUMENT,"JSON must be an object");let a;for(const l in n)if(n[l]){const u=n[l].typeString,f="value"in n[l]?{value:n[l].value}:void 0;if(!(l in r)){a=`JSON missing required field: '${l}'`;break}const d=r[l];if(u&&typeof d!==u){a=`JSON field '${l}' must be a ${u}.`;break}if(f!==void 0&&d!==f.value){a=`Expected '${l}' field to equal '${f.value}'`;break}}if(a)throw new _t(W.INVALID_ARGUMENT,a);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=-62135596800,py=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(n){return se.fromMillis(n.getTime())}static fromMillis(n){const a=Math.floor(n/1e3),l=Math.floor((n-1e3*a)*py);return new se(a,l)}constructor(n,a){if(this.seconds=n,this.nanoseconds=a,a<0)throw new _t(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new _t(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(n<gy)throw new _t(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new _t(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/py}_compareTo(n){return this.seconds===n.seconds?Gt(this.nanoseconds,n.nanoseconds):Gt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(n){if(io(n,se._jsonSchema))return new se(n.seconds,n.nanoseconds)}valueOf(){const n=this.seconds-gy;return String(n).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ae("string",se._jsonSchemaVersion),seconds:Ae("number"),nanoseconds:Ae("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{static fromTimestamp(n){return new re(n)}static min(){return new re(new se(0,0))}static max(){return new re(new se(253402300799,999999999))}constructor(n){this.timestamp=n}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=-1;function GE(r,n){const a=r.toTimestamp().seconds,l=r.toTimestamp().nanoseconds+1,u=re.fromTimestamp(l===1e9?new se(a+1,0):new se(a,l));return new Oa(u,xt.empty(),n)}function YE(r){return new Oa(r.readTime,r.key,Zl)}class Oa{constructor(n,a,l){this.readTime=n,this.documentKey=a,this.largestBatchId=l}static min(){return new Oa(re.min(),xt.empty(),Zl)}static max(){return new Oa(re.max(),xt.empty(),Zl)}}function QE(r,n){let a=r.readTime.compareTo(n.readTime);return a!==0?a:(a=xt.comparator(r.documentKey,n.documentKey),a!==0?a:Gt(r.largestBatchId,n.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((n=>n()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==FE)throw r;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n((a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)}),(a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)}))}catch(n){return this.next(void 0,n)}next(n,a){return this.callbackAttached&&It(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(n,this.result):new Z(((l,u)=>{this.nextCallback=f=>{this.wrapSuccess(n,f).next(l,u)},this.catchCallback=f=>{this.wrapFailure(a,f).next(l,u)}}))}toPromise(){return new Promise(((n,a)=>{this.next(n,a)}))}wrapUserFunction(n){try{const a=n();return a instanceof Z?a:Z.resolve(a)}catch(a){return Z.reject(a)}}wrapSuccess(n,a){return n?this.wrapUserFunction((()=>n(a))):Z.resolve(a)}wrapFailure(n,a){return n?this.wrapUserFunction((()=>n(a))):Z.reject(a)}static resolve(n){return new Z(((a,l)=>{a(n)}))}static reject(n){return new Z(((a,l)=>{l(n)}))}static waitFor(n){return new Z(((a,l)=>{let u=0,f=0,d=!1;n.forEach((g=>{++u,g.next((()=>{++f,d&&f===u&&a()}),(v=>l(v)))})),d=!0,f===u&&a()}))}static or(n){let a=Z.resolve(!1);for(const l of n)a=a.next((u=>u?Z.resolve(u):l()));return a}static forEach(n,a){const l=[];return n.forEach(((u,f)=>{l.push(a.call(this,u,f))})),this.waitFor(l)}static mapArray(n,a){return new Z(((l,u)=>{const f=n.length,d=new Array(f);let g=0;for(let v=0;v<f;v++){const _=v;a(n[_]).next((A=>{d[_]=A,++g,g===f&&l(d)}),(A=>u(A)))}}))}static doWhile(n,a){return new Z(((l,u)=>{const f=()=>{n()===!0?a().next((()=>{f()}),u):l()};f()}))}}function KE(r){const n=r.match(/Android ([\d.]+)/i),a=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(a)}function ao(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(n,a){this.previousValue=n,a&&(a.sequenceNumberHandler=l=>this.ae(l),this.ue=l=>a.writeSequenceNumber(l))}ae(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ue&&this.ue(n),n}}ad.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=-1;function sd(r){return r==null}function Hu(r){return r===0&&1/r==-1/0}function $E(r){return typeof r=="number"&&Number.isInteger(r)&&!Hu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="";function ZE(r){let n="";for(let a=0;a<r.length;a++)n.length>0&&(n=yy(n)),n=JE(r.get(a),n);return yy(n)}function JE(r,n){let a=n;const l=r.length;for(let u=0;u<l;u++){const f=r.charAt(u);switch(f){case"\0":a+="";break;case j0:a+="";break;default:a+=f}}return a}function yy(r){return r+j0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(r){let n=0;for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&n++;return n}function Ls(r,n){for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&n(a,r[a])}function z0(r){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(n,a){this.comparator=n,this.root=a||Be.EMPTY}insert(n,a){return new dn(this.comparator,this.root.insert(n,a,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(n){return new dn(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Be.BLACK,null,null))}get(n){let a=this.root;for(;!a.isEmpty();){const l=this.comparator(n,a.key);if(l===0)return a.value;l<0?a=a.left:l>0&&(a=a.right)}return null}indexOf(n){let a=0,l=this.root;for(;!l.isEmpty();){const u=this.comparator(n,l.key);if(u===0)return a+l.left.size;u<0?l=l.left:(a+=l.left.size+1,l=l.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal(((a,l)=>(n(a,l),!1)))}toString(){const n=[];return this.inorderTraversal(((a,l)=>(n.push(`${a}:${l}`),!1))),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Nu(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Nu(this.root,n,this.comparator,!1)}getReverseIterator(){return new Nu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Nu(this.root,n,this.comparator,!0)}}class Nu{constructor(n,a,l,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!n.isEmpty();)if(f=a?l(n.key,a):1,a&&u&&(f*=-1),f<0)n=this.isReverse?n.left:n.right;else{if(f===0){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const a={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Be{constructor(n,a,l,u,f){this.key=n,this.value=a,this.color=l??Be.RED,this.left=u??Be.EMPTY,this.right=f??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,a,l,u,f){return new Be(n??this.key,a??this.value,l??this.color,u??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,a,l){let u=this;const f=l(n,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(n,a,l),null):f===0?u.copy(null,a,null,null,null):u.copy(null,null,null,null,u.right.insert(n,a,l)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,a){let l,u=this;if(a(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,a),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),a(n,u.key)===0){if(u.right.isEmpty())return Be.EMPTY;l=u.right.min(),u=u.copy(l.key,l.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,a))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,a)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw It(43730,{key:this.key,value:this.value});if(this.right.isRed())throw It(14113,{key:this.key,value:this.value});const n=this.left.check();if(n!==this.right.check())throw It(27949);return n+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw It(57766)}get value(){throw It(16141)}get color(){throw It(16727)}get left(){throw It(29726)}get right(){throw It(36894)}copy(n,a,l,u,f){return this}insert(n,a,l){return new Be(n,a)}remove(n,a){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(n){this.comparator=n,this.data=new dn(this.comparator)}has(n){return this.data.get(n)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal(((a,l)=>(n(a),!1)))}forEachInRange(n,a){const l=this.data.getIteratorFrom(n[0]);for(;l.hasNext();){const u=l.getNext();if(this.comparator(u.key,n[1])>=0)return;a(u.key)}}forEachWhile(n,a){let l;for(l=a!==void 0?this.data.getIteratorFrom(a):this.data.getIterator();l.hasNext();)if(!n(l.getNext().key))return}firstAfterOrEqual(n){const a=this.data.getIteratorFrom(n);return a.hasNext()?a.getNext().key:null}getIterator(){return new vy(this.data.getIterator())}getIteratorFrom(n){return new vy(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let a=this;return a.size<n.size&&(a=n,n=this),n.forEach((l=>{a=a.add(l)})),a}isEqual(n){if(!(n instanceof He)||this.size!==n.size)return!1;const a=this.data.getIterator(),l=n.data.getIterator();for(;a.hasNext();){const u=a.getNext().key,f=l.getNext().key;if(this.comparator(u,f)!==0)return!1}return!0}toArray(){const n=[];return this.forEach((a=>{n.push(a)})),n}toString(){const n=[];return this.forEach((a=>n.push(a))),"SortedSet("+n.toString()+")"}copy(n){const a=new He(this.comparator);return a.data=n,a}}class vy{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(n){this.fields=n,n.sort(qe.comparator)}static empty(){return new Jn([])}unionWith(n){let a=new He(qe.comparator);for(const l of this.fields)a=a.add(l);for(const l of n)a=a.add(l);return new Jn(a.toArray())}covers(n){for(const a of this.fields)if(a.isPrefixOf(n))return!0;return!1}isEqual(n){return Ds(this.fields,n.fields,((a,l)=>a.isEqual(l)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(n){this.binaryString=n}static fromBase64String(n){const a=(function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new WE("Invalid base64 string: "+f):f}})(n);return new Ai(a)}static fromUint8Array(n){const a=(function(u){let f="";for(let d=0;d<u.length;++d)f+=String.fromCharCode(u[d]);return f})(n);return new Ai(a)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(a){return btoa(a)})(this.binaryString)}toUint8Array(){return(function(a){const l=new Uint8Array(a.length);for(let u=0;u<a.length;u++)l[u]=a.charCodeAt(u);return l})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Gt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Ai.EMPTY_BYTE_STRING=new Ai("");const tA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(r){if(de(!!r,39018),typeof r=="string"){let n=0;const a=tA.exec(r);if(de(!!a,46558,{timestamp:r}),a[1]){let u=a[1];u=(u+"000000000").substr(0,9),n=Number(u)}const l=new Date(r);return{seconds:Math.floor(l.getTime()/1e3),nanos:n}}return{seconds:ke(r.seconds),nanos:ke(r.nanos)}}function ke(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ns(r){return typeof r=="string"?Ai.fromBase64String(r):Ai.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="server_timestamp",B0="__type__",k0="__previous_value__",q0="__local_write_time__";function ld(r){return(r?.mapValue?.fields||{})[B0]?.stringValue===P0}function od(r){const n=r.mapValue.fields[k0];return ld(n)?od(n):n}function Gu(r){const n=Cr(r.mapValue.fields[q0].timestampValue);return new se(n.seconds,n.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(n,a,l,u,f,d,g,v,_,A){this.databaseId=n,this.appId=a,this.persistenceKey=l,this.host=u,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Yu="(default)";class Qu{constructor(n,a){this.projectId=n,this.database=a||Yu}static empty(){return new Qu("","")}get isDefaultDatabase(){return this.database===Yu}isEqual(n){return n instanceof Qu&&n.projectId===this.projectId&&n.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="__type__",nA="__max__",Mu={mapValue:{}},G0="__vector__",Lh="value";function Ir(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ld(r)?4:aA(r)?9007199254740991:iA(r)?10:11:It(28295,{value:r})}function Si(r,n){if(r===n)return!0;const a=Ir(r);if(a!==Ir(n))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===n.booleanValue;case 4:return Gu(r).isEqual(Gu(n));case 3:return(function(u,f){if(typeof u.timestampValue=="string"&&typeof f.timestampValue=="string"&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const d=Cr(u.timestampValue),g=Cr(f.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,n);case 5:return r.stringValue===n.stringValue;case 6:return(function(u,f){return Ns(u.bytesValue).isEqual(Ns(f.bytesValue))})(r,n);case 7:return r.referenceValue===n.referenceValue;case 8:return(function(u,f){return ke(u.geoPointValue.latitude)===ke(f.geoPointValue.latitude)&&ke(u.geoPointValue.longitude)===ke(f.geoPointValue.longitude)})(r,n);case 2:return(function(u,f){if("integerValue"in u&&"integerValue"in f)return ke(u.integerValue)===ke(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const d=ke(u.doubleValue),g=ke(f.doubleValue);return d===g?Hu(d)===Hu(g):isNaN(d)&&isNaN(g)}return!1})(r,n);case 9:return Ds(r.arrayValue.values||[],n.arrayValue.values||[],Si);case 10:case 11:return(function(u,f){const d=u.mapValue.fields||{},g=f.mapValue.fields||{};if(_y(d)!==_y(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Si(d[v],g[v])))return!1;return!0})(r,n);default:return It(52216,{left:r})}}function Jl(r,n){return(r.values||[]).find((a=>Si(a,n)))!==void 0}function Ms(r,n){if(r===n)return 0;const a=Ir(r),l=Ir(n);if(a!==l)return Gt(a,l);switch(a){case 0:case 9007199254740991:return 0;case 1:return Gt(r.booleanValue,n.booleanValue);case 2:return(function(f,d){const g=ke(f.integerValue||f.doubleValue),v=ke(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(r,n);case 3:return Ty(r.timestampValue,n.timestampValue);case 4:return Ty(Gu(r),Gu(n));case 5:return Uh(r.stringValue,n.stringValue);case 6:return(function(f,d){const g=Ns(f),v=Ns(d);return g.compareTo(v)})(r.bytesValue,n.bytesValue);case 7:return(function(f,d){const g=f.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const A=Gt(g[_],v[_]);if(A!==0)return A}return Gt(g.length,v.length)})(r.referenceValue,n.referenceValue);case 8:return(function(f,d){const g=Gt(ke(f.latitude),ke(d.latitude));return g!==0?g:Gt(ke(f.longitude),ke(d.longitude))})(r.geoPointValue,n.geoPointValue);case 9:return Ey(r.arrayValue,n.arrayValue);case 10:return(function(f,d){const g=f.fields||{},v=d.fields||{},_=g[Lh]?.arrayValue,A=v[Lh]?.arrayValue,b=Gt(_?.values?.length||0,A?.values?.length||0);return b!==0?b:Ey(_,A)})(r.mapValue,n.mapValue);case 11:return(function(f,d){if(f===Mu.mapValue&&d===Mu.mapValue)return 0;if(f===Mu.mapValue)return 1;if(d===Mu.mapValue)return-1;const g=f.fields||{},v=Object.keys(g),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let b=0;b<v.length&&b<A.length;++b){const R=Uh(v[b],A[b]);if(R!==0)return R;const I=Ms(g[v[b]],_[A[b]]);if(I!==0)return I}return Gt(v.length,A.length)})(r.mapValue,n.mapValue);default:throw It(23264,{he:a})}}function Ty(r,n){if(typeof r=="string"&&typeof n=="string"&&r.length===n.length)return Gt(r,n);const a=Cr(r),l=Cr(n),u=Gt(a.seconds,l.seconds);return u!==0?u:Gt(a.nanos,l.nanos)}function Ey(r,n){const a=r.values||[],l=n.values||[];for(let u=0;u<a.length&&u<l.length;++u){const f=Ms(a[u],l[u]);if(f)return f}return Gt(a.length,l.length)}function Os(r){return jh(r)}function jh(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(a){const l=Cr(a);return`time(${l.seconds},${l.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(a){return Ns(a).toBase64()})(r.bytesValue):"referenceValue"in r?(function(a){return xt.fromName(a).toString()})(r.referenceValue):"geoPointValue"in r?(function(a){return`geo(${a.latitude},${a.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(a){let l="[",u=!0;for(const f of a.values||[])u?u=!1:l+=",",l+=jh(f);return l+"]"})(r.arrayValue):"mapValue"in r?(function(a){const l=Object.keys(a.fields||{}).sort();let u="{",f=!0;for(const d of l)f?f=!1:u+=",",u+=`${d}:${jh(a.fields[d])}`;return u+"}"})(r.mapValue):It(61005,{value:r})}function ju(r){switch(Ir(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=od(r);return n?16+ju(n):16;case 5:return 2*r.stringValue.length;case 6:return Ns(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(l){return(l.values||[]).reduce(((u,f)=>u+ju(f)),0)})(r.arrayValue);case 10:case 11:return(function(l){let u=0;return Ls(l.fields,((f,d)=>{u+=f.length+ju(d)})),u})(r.mapValue);default:throw It(13486,{value:r})}}function zh(r){return!!r&&"integerValue"in r}function ud(r){return!!r&&"arrayValue"in r}function zu(r){return!!r&&"mapValue"in r}function iA(r){return(r?.mapValue?.fields||{})[H0]?.stringValue===G0}function Hl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const n={mapValue:{fields:{}}};return Ls(r.mapValue.fields,((a,l)=>n.mapValue.fields[a]=Hl(l))),n}if(r.arrayValue){const n={arrayValue:{values:[]}};for(let a=0;a<(r.arrayValue.values||[]).length;++a)n.arrayValue.values[a]=Hl(r.arrayValue.values[a]);return n}return{...r}}function aA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===nA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(n){this.value=n}static empty(){return new $n({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let a=this.value;for(let l=0;l<n.length-1;++l)if(a=(a.mapValue.fields||{})[n.get(l)],!zu(a))return null;return a=(a.mapValue.fields||{})[n.lastSegment()],a||null}}set(n,a){this.getFieldsMap(n.popLast())[n.lastSegment()]=Hl(a)}setAll(n){let a=qe.emptyPath(),l={},u=[];n.forEach(((d,g)=>{if(!a.isImmediateParentOf(g)){const v=this.getFieldsMap(a);this.applyChanges(v,l,u),l={},u=[],a=g.popLast()}d?l[g.lastSegment()]=Hl(d):u.push(g.lastSegment())}));const f=this.getFieldsMap(a);this.applyChanges(f,l,u)}delete(n){const a=this.field(n.popLast());zu(a)&&a.mapValue.fields&&delete a.mapValue.fields[n.lastSegment()]}isEqual(n){return Si(this.value,n.value)}getFieldsMap(n){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let l=0;l<n.length;++l){let u=a.mapValue.fields[n.get(l)];zu(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},a.mapValue.fields[n.get(l)]=u),a=u}return a.mapValue.fields}applyChanges(n,a,l){Ls(a,((u,f)=>n[u]=f));for(const u of l)delete n[u]}clone(){return new $n(Hl(this.value))}}function Y0(r){const n=[];return Ls(r.fields,((a,l)=>{const u=new qe([a]);if(zu(l)){const f=Y0(l.mapValue).fields;if(f.length===0)n.push(u);else for(const d of f)n.push(u.child(d))}else n.push(u)})),new Jn(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(n,a,l,u,f,d,g){this.key=n,this.documentType=a,this.version=l,this.readTime=u,this.createTime=f,this.data=d,this.documentState=g}static newInvalidDocument(n){return new Kn(n,0,re.min(),re.min(),re.min(),$n.empty(),0)}static newFoundDocument(n,a,l,u){return new Kn(n,1,a,re.min(),l,u,0)}static newNoDocument(n,a){return new Kn(n,2,a,re.min(),re.min(),$n.empty(),0)}static newUnknownDocument(n,a){return new Kn(n,3,a,re.min(),re.min(),$n.empty(),2)}convertToFoundDocument(n,a){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=n),this.version=n,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(n){return n instanceof Kn&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(n,a){this.position=n,this.inclusive=a}}function Ay(r,n,a){let l=0;for(let u=0;u<r.position.length;u++){const f=n[u],d=r.position[u];if(f.field.isKeyField()?l=xt.comparator(xt.fromName(d.referenceValue),a.key):l=Ms(d,a.data.field(f.field)),f.dir==="desc"&&(l*=-1),l!==0)break}return l}function Sy(r,n){if(r===null)return n===null;if(n===null||r.inclusive!==n.inclusive||r.position.length!==n.position.length)return!1;for(let a=0;a<r.position.length;a++)if(!Si(r.position[a],n.position[a]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(n,a="asc"){this.field=n,this.dir=a}}function rA(r,n){return r.dir===n.dir&&r.field.isEqual(n.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{}class Oe extends Q0{constructor(n,a,l){super(),this.field=n,this.op=a,this.value=l}static create(n,a,l){return n.isKeyField()?a==="in"||a==="not-in"?this.createKeyFieldInFilter(n,a,l):new lA(n,a,l):a==="array-contains"?new cA(n,l):a==="in"?new fA(n,l):a==="not-in"?new hA(n,l):a==="array-contains-any"?new dA(n,l):new Oe(n,a,l)}static createKeyFieldInFilter(n,a,l){return a==="in"?new oA(n,l):new uA(n,l)}matches(n){const a=n.data.field(this.field);return this.op==="!="?a!==null&&a.nullValue===void 0&&this.matchesComparison(Ms(a,this.value)):a!==null&&Ir(this.value)===Ir(a)&&this.matchesComparison(Ms(a,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return It(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Va extends Q0{constructor(n,a){super(),this.filters=n,this.op=a,this.Pe=null}static create(n,a){return new Va(n,a)}matches(n){return F0(this)?this.filters.find((a=>!a.matches(n)))===void 0:this.filters.find((a=>a.matches(n)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((n,a)=>n.concat(a.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function F0(r){return r.op==="and"}function X0(r){return sA(r)&&F0(r)}function sA(r){for(const n of r.filters)if(n instanceof Va)return!1;return!0}function Ph(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+Os(r.value);if(X0(r))return r.filters.map((n=>Ph(n))).join(",");{const n=r.filters.map((a=>Ph(a))).join(",");return`${r.op}(${n})`}}function K0(r,n){return r instanceof Oe?(function(l,u){return u instanceof Oe&&l.op===u.op&&l.field.isEqual(u.field)&&Si(l.value,u.value)})(r,n):r instanceof Va?(function(l,u){return u instanceof Va&&l.op===u.op&&l.filters.length===u.filters.length?l.filters.reduce(((f,d,g)=>f&&K0(d,u.filters[g])),!0):!1})(r,n):void It(19439)}function $0(r){return r instanceof Oe?(function(a){return`${a.field.canonicalString()} ${a.op} ${Os(a.value)}`})(r):r instanceof Va?(function(a){return a.op.toString()+" {"+a.getFilters().map($0).join(" ,")+"}"})(r):"Filter"}class lA extends Oe{constructor(n,a,l){super(n,a,l),this.key=xt.fromName(l.referenceValue)}matches(n){const a=xt.comparator(n.key,this.key);return this.matchesComparison(a)}}class oA extends Oe{constructor(n,a){super(n,"in",a),this.keys=Z0("in",a)}matches(n){return this.keys.some((a=>a.isEqual(n.key)))}}class uA extends Oe{constructor(n,a){super(n,"not-in",a),this.keys=Z0("not-in",a)}matches(n){return!this.keys.some((a=>a.isEqual(n.key)))}}function Z0(r,n){return(n.arrayValue?.values||[]).map((a=>xt.fromName(a.referenceValue)))}class cA extends Oe{constructor(n,a){super(n,"array-contains",a)}matches(n){const a=n.data.field(this.field);return ud(a)&&Jl(a.arrayValue,this.value)}}class fA extends Oe{constructor(n,a){super(n,"in",a)}matches(n){const a=n.data.field(this.field);return a!==null&&Jl(this.value.arrayValue,a)}}class hA extends Oe{constructor(n,a){super(n,"not-in",a)}matches(n){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=n.data.field(this.field);return a!==null&&a.nullValue===void 0&&!Jl(this.value.arrayValue,a)}}class dA extends Oe{constructor(n,a){super(n,"array-contains-any",a)}matches(n){const a=n.data.field(this.field);return!(!ud(a)||!a.arrayValue.values)&&a.arrayValue.values.some((l=>Jl(this.value.arrayValue,l)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(n,a=null,l=[],u=[],f=null,d=null,g=null){this.path=n,this.collectionGroup=a,this.orderBy=l,this.filters=u,this.limit=f,this.startAt=d,this.endAt=g,this.Te=null}}function by(r,n=null,a=[],l=[],u=null,f=null,d=null){return new mA(r,n,a,l,u,f,d)}function cd(r){const n=ee(r);if(n.Te===null){let a=n.path.canonicalString();n.collectionGroup!==null&&(a+="|cg:"+n.collectionGroup),a+="|f:",a+=n.filters.map((l=>Ph(l))).join(","),a+="|ob:",a+=n.orderBy.map((l=>(function(f){return f.field.canonicalString()+f.dir})(l))).join(","),sd(n.limit)||(a+="|l:",a+=n.limit),n.startAt&&(a+="|lb:",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((l=>Os(l))).join(",")),n.endAt&&(a+="|ub:",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((l=>Os(l))).join(",")),n.Te=a}return n.Te}function fd(r,n){if(r.limit!==n.limit||r.orderBy.length!==n.orderBy.length)return!1;for(let a=0;a<r.orderBy.length;a++)if(!rA(r.orderBy[a],n.orderBy[a]))return!1;if(r.filters.length!==n.filters.length)return!1;for(let a=0;a<r.filters.length;a++)if(!K0(r.filters[a],n.filters[a]))return!1;return r.collectionGroup===n.collectionGroup&&!!r.path.isEqual(n.path)&&!!Sy(r.startAt,n.startAt)&&Sy(r.endAt,n.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(n,a=null,l=[],u=[],f=null,d="F",g=null,v=null){this.path=n,this.collectionGroup=a,this.explicitOrderBy=l,this.filters=u,this.limit=f,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gA(r,n,a,l,u,f,d,g){return new rc(r,n,a,l,u,f,d,g)}function pA(r){return new rc(r)}function Ry(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function yA(r){return r.collectionGroup!==null}function Gl(r){const n=ee(r);if(n.Ie===null){n.Ie=[];const a=new Set;for(const f of n.explicitOrderBy)n.Ie.push(f),a.add(f.field.canonicalString());const l=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new He(qe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(n).forEach((f=>{a.has(f.canonicalString())||f.isKeyField()||n.Ie.push(new Xu(f,l))})),a.has(qe.keyField().canonicalString())||n.Ie.push(new Xu(qe.keyField(),l))}return n.Ie}function br(r){const n=ee(r);return n.Ee||(n.Ee=_A(n,Gl(r))),n.Ee}function _A(r,n){if(r.limitType==="F")return by(r.path,r.collectionGroup,n,r.filters,r.limit,r.startAt,r.endAt);{n=n.map((u=>{const f=u.dir==="desc"?"asc":"desc";return new Xu(u.field,f)}));const a=r.endAt?new Fu(r.endAt.position,r.endAt.inclusive):null,l=r.startAt?new Fu(r.startAt.position,r.startAt.inclusive):null;return by(r.path,r.collectionGroup,n,r.filters,r.limit,a,l)}}function Bh(r,n,a){return new rc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),n,a,r.startAt,r.endAt)}function J0(r,n){return fd(br(r),br(n))&&r.limitType===n.limitType}function W0(r){return`${cd(br(r))}|lt:${r.limitType}`}function Bl(r){return`Query(target=${(function(a){let l=a.path.canonicalString();return a.collectionGroup!==null&&(l+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(l+=`, filters: [${a.filters.map((u=>$0(u))).join(", ")}]`),sd(a.limit)||(l+=", limit: "+a.limit),a.orderBy.length>0&&(l+=`, orderBy: [${a.orderBy.map((u=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(u))).join(", ")}]`),a.startAt&&(l+=", startAt: ",l+=a.startAt.inclusive?"b:":"a:",l+=a.startAt.position.map((u=>Os(u))).join(",")),a.endAt&&(l+=", endAt: ",l+=a.endAt.inclusive?"a:":"b:",l+=a.endAt.position.map((u=>Os(u))).join(",")),`Target(${l})`})(br(r))}; limitType=${r.limitType})`}function hd(r,n){return n.isFoundDocument()&&(function(l,u){const f=u.key.path;return l.collectionGroup!==null?u.key.hasCollectionId(l.collectionGroup)&&l.path.isPrefixOf(f):xt.isDocumentKey(l.path)?l.path.isEqual(f):l.path.isImmediateParentOf(f)})(r,n)&&(function(l,u){for(const f of Gl(l))if(!f.field.isKeyField()&&u.data.field(f.field)===null)return!1;return!0})(r,n)&&(function(l,u){for(const f of l.filters)if(!f.matches(u))return!1;return!0})(r,n)&&(function(l,u){return!(l.startAt&&!(function(d,g,v){const _=Ay(d,g,v);return d.inclusive?_<=0:_<0})(l.startAt,Gl(l),u)||l.endAt&&!(function(d,g,v){const _=Ay(d,g,v);return d.inclusive?_>=0:_>0})(l.endAt,Gl(l),u))})(r,n)}function vA(r){return(n,a)=>{let l=!1;for(const u of Gl(r)){const f=TA(u,n,a);if(f!==0)return f;l=l||u.field.isKeyField()}return 0}}function TA(r,n,a){const l=r.field.isKeyField()?xt.comparator(n.key,a.key):(function(f,d,g){const v=d.data.field(f),_=g.data.field(f);return v!==null&&_!==null?Ms(v,_):It(42886)})(r.field,n,a);switch(r.dir){case"asc":return l;case"desc":return-1*l;default:return It(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(n,a){this.mapKeyFn=n,this.equalsFn=a,this.inner={},this.innerSize=0}get(n){const a=this.mapKeyFn(n),l=this.inner[a];if(l!==void 0){for(const[u,f]of l)if(this.equalsFn(u,n))return f}}has(n){return this.get(n)!==void 0}set(n,a){const l=this.mapKeyFn(n),u=this.inner[l];if(u===void 0)return this.inner[l]=[[n,a]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],n))return void(u[f]=[n,a]);u.push([n,a]),this.innerSize++}delete(n){const a=this.mapKeyFn(n),l=this.inner[a];if(l===void 0)return!1;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],n))return l.length===1?delete this.inner[a]:l.splice(u,1),this.innerSize--,!0;return!1}forEach(n){Ls(this.inner,((a,l)=>{for(const[u,f]of l)n(u,f)}))}isEmpty(){return z0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=new dn(xt.comparator);function Ku(){return EA}const t_=new dn(xt.comparator);function Ou(...r){let n=t_;for(const a of r)n=n.insert(a.key,a);return n}function e_(r){let n=t_;return r.forEach(((a,l)=>n=n.insert(a,l.overlayedDocument))),n}function Er(){return Yl()}function n_(){return Yl()}function Yl(){return new Mr((r=>r.toString()),((r,n)=>r.isEqual(n)))}const AA=new dn(xt.comparator),SA=new He(xt.comparator);function $e(...r){let n=SA;for(const a of r)n=n.add(a);return n}const bA=new He(Gt);function RA(){return bA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(r,n){if(r.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hu(n)?"-0":n}}function i_(r){return{integerValue:""+r}}function wA(r,n){return $E(n)?i_(n):dd(r,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(){this._=void 0}}function xA(r,n,a){return r instanceof Wl?(function(u,f){const d={fields:{[B0]:{stringValue:P0},[q0]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&ld(f)&&(f=od(f)),f&&(d.fields[k0]=f),{mapValue:d}})(a,n):r instanceof to?r_(r,n):r instanceof eo?s_(r,n):(function(u,f){const d=a_(u,f),g=wy(d)+wy(u.Ae);return zh(d)&&zh(u.Ae)?i_(g):dd(u.serializer,g)})(r,n)}function CA(r,n,a){return r instanceof to?r_(r,n):r instanceof eo?s_(r,n):a}function a_(r,n){return r instanceof $u?(function(l){return zh(l)||(function(f){return!!f&&"doubleValue"in f})(l)})(n)?n:{integerValue:0}:null}class Wl extends sc{}class to extends sc{constructor(n){super(),this.elements=n}}function r_(r,n){const a=l_(n);for(const l of r.elements)a.some((u=>Si(u,l)))||a.push(l);return{arrayValue:{values:a}}}class eo extends sc{constructor(n){super(),this.elements=n}}function s_(r,n){let a=l_(n);for(const l of r.elements)a=a.filter((u=>!Si(u,l)));return{arrayValue:{values:a}}}class $u extends sc{constructor(n,a){super(),this.serializer=n,this.Ae=a}}function wy(r){return ke(r.integerValue||r.doubleValue)}function l_(r){return ud(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(n,a){this.field=n,this.transform=a}}function DA(r,n){return r.field.isEqual(n.field)&&(function(l,u){return l instanceof to&&u instanceof to||l instanceof eo&&u instanceof eo?Ds(l.elements,u.elements,Si):l instanceof $u&&u instanceof $u?Si(l.Ae,u.Ae):l instanceof Wl&&u instanceof Wl})(r.transform,n.transform)}class NA{constructor(n,a){this.version=n,this.transformResults=a}}class Zi{constructor(n,a){this.updateTime=n,this.exists=a}static none(){return new Zi}static exists(n){return new Zi(void 0,n)}static updateTime(n){return new Zi(n)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Pu(r,n){return r.updateTime!==void 0?n.isFoundDocument()&&n.version.isEqual(r.updateTime):r.exists===void 0||r.exists===n.isFoundDocument()}class lc{}function o_(r,n){if(!r.hasLocalMutations||n&&n.fields.length===0)return null;if(n===null)return r.isNoDocument()?new c_(r.key,Zi.none()):new ro(r.key,r.data,Zi.none());{const a=r.data,l=$n.empty();let u=new He(qe.comparator);for(let f of n.fields)if(!u.has(f)){let d=a.field(f);d===null&&f.length>1&&(f=f.popLast(),d=a.field(f)),d===null?l.delete(f):l.set(f,d),u=u.add(f)}return new Or(r.key,l,new Jn(u.toArray()),Zi.none())}}function MA(r,n,a){r instanceof ro?(function(u,f,d){const g=u.value.clone(),v=Cy(u.fieldTransforms,f,d.transformResults);g.setAll(v),f.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,n,a):r instanceof Or?(function(u,f,d){if(!Pu(u.precondition,f))return void f.convertToUnknownDocument(d.version);const g=Cy(u.fieldTransforms,f,d.transformResults),v=f.data;v.setAll(u_(u)),v.setAll(g),f.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,n,a):(function(u,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()})(0,n,a)}function Ql(r,n,a,l){return r instanceof ro?(function(f,d,g,v){if(!Pu(f.precondition,d))return g;const _=f.value.clone(),A=Iy(f.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,n,a,l):r instanceof Or?(function(f,d,g,v){if(!Pu(f.precondition,d))return g;const _=Iy(f.fieldTransforms,v,d),A=d.data;return A.setAll(u_(f)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map((b=>b.field)))})(r,n,a,l):(function(f,d,g){return Pu(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,n,a)}function OA(r,n){let a=null;for(const l of r.fieldTransforms){const u=n.data.field(l.field),f=a_(l.transform,u||null);f!=null&&(a===null&&(a=$n.empty()),a.set(l.field,f))}return a||null}function xy(r,n){return r.type===n.type&&!!r.key.isEqual(n.key)&&!!r.precondition.isEqual(n.precondition)&&!!(function(l,u){return l===void 0&&u===void 0||!(!l||!u)&&Ds(l,u,((f,d)=>DA(f,d)))})(r.fieldTransforms,n.fieldTransforms)&&(r.type===0?r.value.isEqual(n.value):r.type!==1||r.data.isEqual(n.data)&&r.fieldMask.isEqual(n.fieldMask))}class ro extends lc{constructor(n,a,l,u=[]){super(),this.key=n,this.value=a,this.precondition=l,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Or extends lc{constructor(n,a,l,u,f=[]){super(),this.key=n,this.data=a,this.fieldMask=l,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function u_(r){const n=new Map;return r.fieldMask.fields.forEach((a=>{if(!a.isEmpty()){const l=r.data.field(a);n.set(a,l)}})),n}function Cy(r,n,a){const l=new Map;de(r.length===a.length,32656,{Re:a.length,Ve:r.length});for(let u=0;u<a.length;u++){const f=r[u],d=f.transform,g=n.data.field(f.field);l.set(f.field,CA(d,g,a[u]))}return l}function Iy(r,n,a){const l=new Map;for(const u of r){const f=u.transform,d=a.data.field(u.field);l.set(u.field,xA(f,d,n))}return l}class c_ extends lc{constructor(n,a){super(),this.key=n,this.precondition=a,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VA extends lc{constructor(n,a){super(),this.key=n,this.precondition=a,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(n,a,l,u){this.batchId=n,this.localWriteTime=a,this.baseMutations=l,this.mutations=u}applyToRemoteDocument(n,a){const l=a.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(n.key)&&MA(f,n,l[u])}}applyToLocalView(n,a){for(const l of this.baseMutations)l.key.isEqual(n.key)&&(a=Ql(l,n,a,this.localWriteTime));for(const l of this.mutations)l.key.isEqual(n.key)&&(a=Ql(l,n,a,this.localWriteTime));return a}applyToLocalDocumentSet(n,a){const l=n_();return this.mutations.forEach((u=>{const f=n.get(u.key),d=f.overlayedDocument;let g=this.applyToLocalView(d,f.mutatedFields);g=a.has(u.key)?null:g;const v=o_(d,g);v!==null&&l.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(re.min())})),l}keys(){return this.mutations.reduce(((n,a)=>n.add(a.key)),$e())}isEqual(n){return this.batchId===n.batchId&&Ds(this.mutations,n.mutations,((a,l)=>xy(a,l)))&&Ds(this.baseMutations,n.baseMutations,((a,l)=>xy(a,l)))}}class md{constructor(n,a,l,u){this.batch=n,this.commitVersion=a,this.mutationResults=l,this.docVersions=u}static from(n,a,l){de(n.mutations.length===l.length,58842,{me:n.mutations.length,fe:l.length});let u=(function(){return AA})();const f=n.mutations;for(let d=0;d<f.length;d++)u=u.insert(f[d].key,l[d].version);return new md(n,a,l,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(n,a){this.largestBatchId=n,this.mutation=a}getKey(){return this.mutation.key}isEqual(n){return n!==null&&this.mutation===n.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,zt;function jA(r){switch(r){case W.OK:return It(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return It(15467,{code:r})}}function zA(r){if(r===void 0)return xr("GRPC error has no .code"),W.UNKNOWN;switch(r){case Ee.OK:return W.OK;case Ee.CANCELLED:return W.CANCELLED;case Ee.UNKNOWN:return W.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return W.INTERNAL;case Ee.UNAVAILABLE:return W.UNAVAILABLE;case Ee.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ee.NOT_FOUND:return W.NOT_FOUND;case Ee.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ee.ABORTED:return W.ABORTED;case Ee.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ee.DATA_LOSS:return W.DATA_LOSS;default:return It(39323,{code:r})}}(zt=Ee||(Ee={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Wh([4294967295,4294967295],0);class PA{constructor(n,a){this.databaseId=n,this.useProto3Json=a}}function kh(r,n){return r.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function BA(r,n){return r.useProto3Json?n.toBase64():n.toUint8Array()}function kA(r,n){return kh(r,n.toTimestamp())}function Cs(r){return de(!!r,49232),re.fromTimestamp((function(a){const l=Cr(a);return new se(l.seconds,l.nanos)})(r))}function f_(r,n){return qh(r,n).canonicalString()}function qh(r,n){const a=(function(u){return new ce(["projects",u.projectId,"databases",u.database])})(r).child("documents");return n===void 0?a:a.child(n)}function qA(r){const n=ce.fromString(r);return de($A(n),10190,{key:n.toString()}),n}function Hh(r,n){return f_(r.databaseId,n.path)}function HA(r){const n=qA(r);return n.length===4?ce.emptyPath():YA(n)}function GA(r){return new ce(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function YA(r){return de(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Dy(r,n,a){return{name:Hh(r,n),fields:a.value.mapValue.fields}}function QA(r,n){let a;if(n instanceof ro)a={update:Dy(r,n.key,n.value)};else if(n instanceof c_)a={delete:Hh(r,n.key)};else if(n instanceof Or)a={update:Dy(r,n.key,n.data),updateMask:KA(n.fieldMask)};else{if(!(n instanceof VA))return It(16599,{Vt:n.type});a={verify:Hh(r,n.key)}}return n.fieldTransforms.length>0&&(a.updateTransforms=n.fieldTransforms.map((l=>(function(f,d){const g=d.transform;if(g instanceof Wl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof to)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof eo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof $u)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw It(20930,{transform:d.transform})})(0,l)))),n.precondition.isNone||(a.currentDocument=(function(u,f){return f.updateTime!==void 0?{updateTime:kA(u,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:It(27497)})(r,n.precondition)),a}function FA(r,n){return r&&r.length>0?(de(n!==void 0,14353),r.map((a=>(function(u,f){let d=u.updateTime?Cs(u.updateTime):Cs(f);return d.isEqual(re.min())&&(d=Cs(f)),new NA(d,u.transformResults||[])})(a,n)))):[]}function XA(r){let n=HA(r.parent);const a=r.structuredQuery,l=a.from?a.from.length:0;let u=null;if(l>0){de(l===1,65062);const A=a.from[0];A.allDescendants?u=A.collectionId:n=n.child(A.collectionId)}let f=[];a.where&&(f=(function(b){const R=h_(b);return R instanceof Va&&X0(R)?R.getFilters():[R]})(a.where));let d=[];a.orderBy&&(d=(function(b){return b.map((R=>(function(q){return new Xu(ws(q.field),(function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(R)))})(a.orderBy));let g=null;a.limit&&(g=(function(b){let R;return R=typeof b=="object"?b.value:b,sd(R)?null:R})(a.limit));let v=null;a.startAt&&(v=(function(b){const R=!!b.before,I=b.values||[];return new Fu(I,R)})(a.startAt));let _=null;return a.endAt&&(_=(function(b){const R=!b.before,I=b.values||[];return new Fu(I,R)})(a.endAt)),gA(n,u,d,f,g,"F",v,_)}function h_(r){return r.unaryFilter!==void 0?(function(a){switch(a.unaryFilter.op){case"IS_NAN":const l=ws(a.unaryFilter.field);return Oe.create(l,"==",{doubleValue:NaN});case"IS_NULL":const u=ws(a.unaryFilter.field);return Oe.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=ws(a.unaryFilter.field);return Oe.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ws(a.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return It(61313);default:return It(60726)}})(r):r.fieldFilter!==void 0?(function(a){return Oe.create(ws(a.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return It(58110);default:return It(50506)}})(a.fieldFilter.op),a.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(a){return Va.create(a.compositeFilter.filters.map((l=>h_(l))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return It(1026)}})(a.compositeFilter.op))})(r):It(30097,{filter:r})}function ws(r){return qe.fromServerFormat(r.fieldPath)}function KA(r){const n=[];return r.fields.forEach((a=>n.push(a.canonicalString()))),{fieldPaths:n}}function $A(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(n){this.yt=n}}function JA(r){const n=XA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Bh(n,n.limit,"L"):n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(){this.Cn=new tS}addToCollectionParentIndex(n,a){return this.Cn.add(a),Z.resolve()}getCollectionParents(n,a){return Z.resolve(this.Cn.getEntries(a))}addFieldIndex(n,a){return Z.resolve()}deleteFieldIndex(n,a){return Z.resolve()}deleteAllFieldIndexes(n){return Z.resolve()}createTargetIndexes(n,a){return Z.resolve()}getDocumentsMatchingTarget(n,a){return Z.resolve(null)}getIndexType(n,a){return Z.resolve(0)}getFieldIndexes(n,a){return Z.resolve([])}getNextCollectionGroupToUpdate(n){return Z.resolve(null)}getMinOffset(n,a){return Z.resolve(Oa.min())}getMinOffsetFromCollectionGroup(n,a){return Z.resolve(Oa.min())}updateCollectionGroup(n,a,l){return Z.resolve()}updateIndexEntries(n,a){return Z.resolve()}}class tS{constructor(){this.index={}}add(n){const a=n.lastSegment(),l=n.popLast(),u=this.index[a]||new He(ce.comparator),f=!u.has(l);return this.index[a]=u.add(l),f}has(n){const a=n.lastSegment(),l=n.popLast(),u=this.index[a];return u&&u.has(l)}getEntries(n){return(this.index[n]||new He(ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},d_=41943040;class fn{static withCacheSize(n){return new fn(n,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,a,l){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(d_,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(n){this.ar=n}next(){return this.ar+=2,this.ar}static ur(){return new Vs(0)}static cr(){return new Vs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="LruGarbageCollector",eS=1048576;function Oy([r,n],[a,l]){const u=Gt(r,a);return u===0?Gt(n,l):u}class nS{constructor(n){this.Ir=n,this.buffer=new He(Oy),this.Er=0}dr(){return++this.Er}Ar(n){const a=[n,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(a);else{const l=this.buffer.last();Oy(a,l)<0&&(this.buffer=this.buffer.delete(l).add(a))}}get maxValue(){return this.buffer.last()[0]}}class iS{constructor(n,a,l){this.garbageCollector=n,this.asyncQueue=a,this.localStore=l,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(n){ft(My,`Garbage collection scheduled in ${n}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(a){ao(a)?ft(My,"Ignoring IndexedDB error during garbage collection: ",a):await id(a)}await this.Vr(3e5)}))}}class aS{constructor(n,a){this.mr=n,this.params=a}calculateTargetCount(n,a){return this.mr.gr(n).next((l=>Math.floor(a/100*l)))}nthSequenceNumber(n,a){if(a===0)return Z.resolve(ad.ce);const l=new nS(a);return this.mr.forEachTarget(n,(u=>l.Ar(u.sequenceNumber))).next((()=>this.mr.pr(n,(u=>l.Ar(u))))).next((()=>l.maxValue))}removeTargets(n,a,l){return this.mr.removeTargets(n,a,l)}removeOrphanedDocuments(n,a){return this.mr.removeOrphanedDocuments(n,a)}collect(n,a){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Ny)):this.getCacheSize(n).next((l=>l<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${l} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ny):this.yr(n,a)))}getCacheSize(n){return this.mr.getCacheSize(n)}yr(n,a){let l,u,f,d,g,v,_;const A=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),u=this.params.maximumSequenceNumbersToCollect):u=b,d=Date.now(),this.nthSequenceNumber(n,u)))).next((b=>(l=b,g=Date.now(),this.removeTargets(n,l,a)))).next((b=>(f=b,v=Date.now(),this.removeOrphanedDocuments(n,l)))).next((b=>(_=Date.now(),Rs()<=Pt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${f} targets in `+(v-g)+`ms
	Removed ${b} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:b}))))}}function rS(r,n){return new aS(r,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.changes=new Mr((n=>n.toString()),((n,a)=>n.isEqual(a))),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,a){this.assertNotApplied(),this.changes.set(n,Kn.newInvalidDocument(n).setReadTime(a))}getEntry(n,a){this.assertNotApplied();const l=this.changes.get(a);return l!==void 0?Z.resolve(l):this.getFromCache(n,a)}getEntries(n,a){return this.getAllFromCache(n,a)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(n,a){this.overlayedDocument=n,this.mutatedFields=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(n,a,l,u){this.remoteDocumentCache=n,this.mutationQueue=a,this.documentOverlayCache=l,this.indexManager=u}getDocument(n,a){let l=null;return this.documentOverlayCache.getOverlay(n,a).next((u=>(l=u,this.remoteDocumentCache.getEntry(n,a)))).next((u=>(l!==null&&Ql(l.mutation,u,Jn.empty(),se.now()),u)))}getDocuments(n,a){return this.remoteDocumentCache.getEntries(n,a).next((l=>this.getLocalViewOfDocuments(n,l,$e()).next((()=>l))))}getLocalViewOfDocuments(n,a,l=$e()){const u=Er();return this.populateOverlays(n,u,a).next((()=>this.computeViews(n,a,u,l).next((f=>{let d=Ou();return f.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(n,a){const l=Er();return this.populateOverlays(n,l,a).next((()=>this.computeViews(n,a,l,$e())))}populateOverlays(n,a,l){const u=[];return l.forEach((f=>{a.has(f)||u.push(f)})),this.documentOverlayCache.getOverlays(n,u).next((f=>{f.forEach(((d,g)=>{a.set(d,g)}))}))}computeViews(n,a,l,u){let f=Ku();const d=Yl(),g=(function(){return Yl()})();return a.forEach(((v,_)=>{const A=l.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof Or)?f=f.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Ql(A.mutation,_,A.mutation.getFieldMask(),se.now())):d.set(_.key,Jn.empty())})),this.recalculateAndSaveOverlays(n,f).next((v=>(v.forEach(((_,A)=>d.set(_,A))),a.forEach(((_,A)=>g.set(_,new lS(A,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(n,a){const l=Yl();let u=new dn(((d,g)=>d-g)),f=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,a).next((d=>{for(const g of d)g.keys().forEach((v=>{const _=a.get(v);if(_===null)return;let A=l.get(v)||Jn.empty();A=g.applyToLocalView(_,A),l.set(v,A);const b=(u.get(g.batchId)||$e()).add(v);u=u.insert(g.batchId,b)}))})).next((()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,A=v.value,b=n_();A.forEach((R=>{if(!f.has(R)){const I=o_(a.get(R),l.get(R));I!==null&&b.set(R,I),f=f.add(R)}})),d.push(this.documentOverlayCache.saveOverlays(n,_,b))}return Z.waitFor(d)})).next((()=>l))}recalculateAndSaveOverlaysForDocumentKeys(n,a){return this.remoteDocumentCache.getEntries(n,a).next((l=>this.recalculateAndSaveOverlays(n,l)))}getDocumentsMatchingQuery(n,a,l,u){return(function(d){return xt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(a)?this.getDocumentsMatchingDocumentQuery(n,a.path):yA(a)?this.getDocumentsMatchingCollectionGroupQuery(n,a,l,u):this.getDocumentsMatchingCollectionQuery(n,a,l,u)}getNextDocuments(n,a,l,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,a,l,u).next((f=>{const d=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,a,l.largestBatchId,u-f.size):Z.resolve(Er());let g=Zl,v=f;return d.next((_=>Z.forEach(_,((A,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),f.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(n,A).next((R=>{v=v.insert(A,R)}))))).next((()=>this.populateOverlays(n,_,f))).next((()=>this.computeViews(n,v,_,$e()))).next((A=>({batchId:g,changes:e_(A)})))))}))}getDocumentsMatchingDocumentQuery(n,a){return this.getDocument(n,new xt(a)).next((l=>{let u=Ou();return l.isFoundDocument()&&(u=u.insert(l.key,l)),u}))}getDocumentsMatchingCollectionGroupQuery(n,a,l,u){const f=a.collectionGroup;let d=Ou();return this.indexManager.getCollectionParents(n,f).next((g=>Z.forEach(g,(v=>{const _=(function(b,R){return new rc(R,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(a,v.child(f));return this.getDocumentsMatchingCollectionQuery(n,_,l,u).next((A=>{A.forEach(((b,R)=>{d=d.insert(b,R)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(n,a,l,u){let f;return this.documentOverlayCache.getOverlaysForCollection(n,a.path,l.largestBatchId).next((d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(n,a,l,f,u)))).next((d=>{f.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Kn.newInvalidDocument(A)))}));let g=Ou();return d.forEach(((v,_)=>{const A=f.get(v);A!==void 0&&Ql(A.mutation,_,Jn.empty(),se.now()),hd(a,_)&&(g=g.insert(v,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(n){this.serializer=n,this.Lr=new Map,this.kr=new Map}getBundleMetadata(n,a){return Z.resolve(this.Lr.get(a))}saveBundleMetadata(n,a){return this.Lr.set(a.id,(function(u){return{id:u.id,version:u.version,createTime:Cs(u.createTime)}})(a)),Z.resolve()}getNamedQuery(n,a){return Z.resolve(this.kr.get(a))}saveNamedQuery(n,a){return this.kr.set(a.name,(function(u){return{name:u.name,query:JA(u.bundledQuery),readTime:Cs(u.readTime)}})(a)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.overlays=new dn(xt.comparator),this.qr=new Map}getOverlay(n,a){return Z.resolve(this.overlays.get(a))}getOverlays(n,a){const l=Er();return Z.forEach(a,(u=>this.getOverlay(n,u).next((f=>{f!==null&&l.set(u,f)})))).next((()=>l))}saveOverlays(n,a,l){return l.forEach(((u,f)=>{this.St(n,a,f)})),Z.resolve()}removeOverlaysForBatchId(n,a,l){const u=this.qr.get(l);return u!==void 0&&(u.forEach((f=>this.overlays=this.overlays.remove(f))),this.qr.delete(l)),Z.resolve()}getOverlaysForCollection(n,a,l){const u=Er(),f=a.length+1,d=new xt(a.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!a.isPrefixOf(_.path))break;_.path.length===f&&v.largestBatchId>l&&u.set(v.getKey(),v)}return Z.resolve(u)}getOverlaysForCollectionGroup(n,a,l,u){let f=new dn(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===a&&_.largestBatchId>l){let A=f.get(_.largestBatchId);A===null&&(A=Er(),f=f.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=Er(),v=f.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>g.set(_,A))),!(g.size()>=u)););return Z.resolve(g)}St(n,a,l){const u=this.overlays.get(l.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(l.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(l.key,new LA(a,l));let f=this.qr.get(a);f===void 0&&(f=$e(),this.qr.set(a,f)),this.qr.set(a,f.add(l.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.sessionToken=Ai.EMPTY_BYTE_STRING}getSessionToken(n){return Z.resolve(this.sessionToken)}setSessionToken(n,a){return this.sessionToken=a,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(){this.Qr=new He(Me.$r),this.Ur=new He(Me.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(n,a){const l=new Me(n,a);this.Qr=this.Qr.add(l),this.Ur=this.Ur.add(l)}Wr(n,a){n.forEach((l=>this.addReference(l,a)))}removeReference(n,a){this.Gr(new Me(n,a))}zr(n,a){n.forEach((l=>this.removeReference(l,a)))}jr(n){const a=new xt(new ce([])),l=new Me(a,n),u=new Me(a,n+1),f=[];return this.Ur.forEachInRange([l,u],(d=>{this.Gr(d),f.push(d.key)})),f}Jr(){this.Qr.forEach((n=>this.Gr(n)))}Gr(n){this.Qr=this.Qr.delete(n),this.Ur=this.Ur.delete(n)}Hr(n){const a=new xt(new ce([])),l=new Me(a,n),u=new Me(a,n+1);let f=$e();return this.Ur.forEachInRange([l,u],(d=>{f=f.add(d.key)})),f}containsKey(n){const a=new Me(n,0),l=this.Qr.firstAfterOrEqual(a);return l!==null&&n.isEqual(l.key)}}class Me{constructor(n,a){this.key=n,this.Yr=a}static $r(n,a){return xt.comparator(n.key,a.key)||Gt(n.Yr,a.Yr)}static Kr(n,a){return Gt(n.Yr,a.Yr)||xt.comparator(n.key,a.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(n,a){this.indexManager=n,this.referenceDelegate=a,this.mutationQueue=[],this.tr=1,this.Zr=new He(Me.$r)}checkEmpty(n){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(n,a,l,u){const f=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new UA(f,a,l,u);this.mutationQueue.push(d);for(const g of u)this.Zr=this.Zr.add(new Me(g.key,f)),this.indexManager.addToCollectionParentIndex(n,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(n,a){return Z.resolve(this.Xr(a))}getNextMutationBatchAfterBatchId(n,a){const l=a+1,u=this.ei(l),f=u<0?0:u;return Z.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?rd:this.tr-1)}getAllMutationBatches(n){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,a){const l=new Me(a,0),u=new Me(a,Number.POSITIVE_INFINITY),f=[];return this.Zr.forEachInRange([l,u],(d=>{const g=this.Xr(d.Yr);f.push(g)})),Z.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(n,a){let l=new He(Gt);return a.forEach((u=>{const f=new Me(u,0),d=new Me(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([f,d],(g=>{l=l.add(g.Yr)}))})),Z.resolve(this.ti(l))}getAllMutationBatchesAffectingQuery(n,a){const l=a.path,u=l.length+1;let f=l;xt.isDocumentKey(f)||(f=f.child(""));const d=new Me(new xt(f),0);let g=new He(Gt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!l.isPrefixOf(_)&&(_.length===u&&(g=g.add(v.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(n){const a=[];return n.forEach((l=>{const u=this.Xr(l);u!==null&&a.push(u)})),a}removeMutationBatch(n,a){de(this.ni(a.batchId,"removed")===0,55003),this.mutationQueue.shift();let l=this.Zr;return Z.forEach(a.mutations,(u=>{const f=new Me(u.key,a.batchId);return l=l.delete(f),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)})).next((()=>{this.Zr=l}))}ir(n){}containsKey(n,a){const l=new Me(a,0),u=this.Zr.firstAfterOrEqual(l);return Z.resolve(a.isEqual(u&&u.key))}performConsistencyCheck(n){return this.mutationQueue.length,Z.resolve()}ni(n,a){return this.ei(n)}ei(n){return this.mutationQueue.length===0?0:n-this.mutationQueue[0].batchId}Xr(n){const a=this.ei(n);return a<0||a>=this.mutationQueue.length?null:this.mutationQueue[a]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(n){this.ri=n,this.docs=(function(){return new dn(xt.comparator)})(),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,a){const l=a.key,u=this.docs.get(l),f=u?u.size:0,d=this.ri(a);return this.docs=this.docs.insert(l,{document:a.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(n,l.path.popLast())}removeEntry(n){const a=this.docs.get(n);a&&(this.docs=this.docs.remove(n),this.size-=a.size)}getEntry(n,a){const l=this.docs.get(a);return Z.resolve(l?l.document.mutableCopy():Kn.newInvalidDocument(a))}getEntries(n,a){let l=Ku();return a.forEach((u=>{const f=this.docs.get(u);l=l.insert(u,f?f.document.mutableCopy():Kn.newInvalidDocument(u))})),Z.resolve(l)}getDocumentsMatchingQuery(n,a,l,u){let f=Ku();const d=a.path,g=new xt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||QE(YE(A),l)<=0||(u.has(A.key)||hd(a,A))&&(f=f.insert(A.key,A.mutableCopy()))}return Z.resolve(f)}getAllFromCollectionGroup(n,a,l,u){It(9500)}ii(n,a){return Z.forEach(this.docs,(l=>a(l)))}newChangeBuffer(n){return new mS(this)}getSize(n){return Z.resolve(this.size)}}class mS extends sS{constructor(n){super(),this.Nr=n}applyChanges(n){const a=[];return this.changes.forEach(((l,u)=>{u.isValidDocument()?a.push(this.Nr.addEntry(n,u)):this.Nr.removeEntry(l)})),Z.waitFor(a)}getFromCache(n,a){return this.Nr.getEntry(n,a)}getAllFromCache(n,a){return this.Nr.getEntries(n,a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(n){this.persistence=n,this.si=new Mr((a=>cd(a)),fd),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.oi=0,this._i=new gd,this.targetCount=0,this.ai=Vs.ur()}forEachTarget(n,a){return this.si.forEach(((l,u)=>a(u))),Z.resolve()}getLastRemoteSnapshotVersion(n){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Z.resolve(this.oi)}allocateTargetId(n){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(n,a,l){return l&&(this.lastRemoteSnapshotVersion=l),a>this.oi&&(this.oi=a),Z.resolve()}Pr(n){this.si.set(n.target,n);const a=n.targetId;a>this.highestTargetId&&(this.ai=new Vs(a),this.highestTargetId=a),n.sequenceNumber>this.oi&&(this.oi=n.sequenceNumber)}addTargetData(n,a){return this.Pr(a),this.targetCount+=1,Z.resolve()}updateTargetData(n,a){return this.Pr(a),Z.resolve()}removeTargetData(n,a){return this.si.delete(a.target),this._i.jr(a.targetId),this.targetCount-=1,Z.resolve()}removeTargets(n,a,l){let u=0;const f=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=a&&l.get(g.targetId)===null&&(this.si.delete(d),f.push(this.removeMatchingKeysForTargetId(n,g.targetId)),u++)})),Z.waitFor(f).next((()=>u))}getTargetCount(n){return Z.resolve(this.targetCount)}getTargetData(n,a){const l=this.si.get(a)||null;return Z.resolve(l)}addMatchingKeys(n,a,l){return this._i.Wr(a,l),Z.resolve()}removeMatchingKeys(n,a,l){this._i.zr(a,l);const u=this.persistence.referenceDelegate,f=[];return u&&a.forEach((d=>{f.push(u.markPotentiallyOrphaned(n,d))})),Z.waitFor(f)}removeMatchingKeysForTargetId(n,a){return this._i.jr(a),Z.resolve()}getMatchingKeysForTargetId(n,a){const l=this._i.Hr(a);return Z.resolve(l)}containsKey(n,a){return Z.resolve(this._i.containsKey(a))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(n,a){this.ui={},this.overlays={},this.ci=new ad(0),this.li=!1,this.li=!0,this.hi=new fS,this.referenceDelegate=n(this),this.Pi=new gS(this),this.indexManager=new WA,this.remoteDocumentCache=(function(u){return new dS(u)})((l=>this.referenceDelegate.Ti(l))),this.serializer=new ZA(a),this.Ii=new uS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let a=this.overlays[n.toKey()];return a||(a=new cS,this.overlays[n.toKey()]=a),a}getMutationQueue(n,a){let l=this.ui[n.toKey()];return l||(l=new hS(a,this.referenceDelegate),this.ui[n.toKey()]=l),l}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(n,a,l){ft("MemoryPersistence","Starting transaction:",n);const u=new pS(this.ci.next());return this.referenceDelegate.Ei(),l(u).next((f=>this.referenceDelegate.di(u).next((()=>f)))).toPromise().then((f=>(u.raiseOnCommittedEvent(),f)))}Ai(n,a){return Z.or(Object.values(this.ui).map((l=>()=>l.containsKey(n,a))))}}class pS extends XE{constructor(n){super(),this.currentSequenceNumber=n}}class pd{constructor(n){this.persistence=n,this.Ri=new gd,this.Vi=null}static mi(n){return new pd(n)}get fi(){if(this.Vi)return this.Vi;throw It(60996)}addReference(n,a,l){return this.Ri.addReference(l,a),this.fi.delete(l.toString()),Z.resolve()}removeReference(n,a,l){return this.Ri.removeReference(l,a),this.fi.add(l.toString()),Z.resolve()}markPotentiallyOrphaned(n,a){return this.fi.add(a.toString()),Z.resolve()}removeTarget(n,a){this.Ri.jr(a.targetId).forEach((u=>this.fi.add(u.toString())));const l=this.persistence.getTargetCache();return l.getMatchingKeysForTargetId(n,a.targetId).next((u=>{u.forEach((f=>this.fi.add(f.toString())))})).next((()=>l.removeTargetData(n,a)))}Ei(){this.Vi=new Set}di(n){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(l=>{const u=xt.fromPath(l);return this.gi(n,u).next((f=>{f||a.removeEntry(u,re.min())}))})).next((()=>(this.Vi=null,a.apply(n))))}updateLimboDocument(n,a){return this.gi(n,a).next((l=>{l?this.fi.delete(a.toString()):this.fi.add(a.toString())}))}Ti(n){return 0}gi(n,a){return Z.or([()=>Z.resolve(this.Ri.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(n,a),()=>this.persistence.Ai(n,a)])}}class Zu{constructor(n,a){this.persistence=n,this.pi=new Mr((l=>ZE(l.path)),((l,u)=>l.isEqual(u))),this.garbageCollector=rS(this,a)}static mi(n,a){return new Zu(n,a)}Ei(){}di(n){return Z.resolve()}forEachTarget(n,a){return this.persistence.getTargetCache().forEachTarget(n,a)}gr(n){const a=this.wr(n);return this.persistence.getTargetCache().getTargetCount(n).next((l=>a.next((u=>l+u))))}wr(n){let a=0;return this.pr(n,(l=>{a++})).next((()=>a))}pr(n,a){return Z.forEach(this.pi,((l,u)=>this.br(n,l,u).next((f=>f?Z.resolve():a(u)))))}removeTargets(n,a,l){return this.persistence.getTargetCache().removeTargets(n,a,l)}removeOrphanedDocuments(n,a){let l=0;const u=this.persistence.getRemoteDocumentCache(),f=u.newChangeBuffer();return u.ii(n,(d=>this.br(n,d,a).next((g=>{g||(l++,f.removeEntry(d,re.min()))})))).next((()=>f.apply(n))).next((()=>l))}markPotentiallyOrphaned(n,a){return this.pi.set(a,n.currentSequenceNumber),Z.resolve()}removeTarget(n,a){const l=a.withSequenceNumber(n.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(n,l)}addReference(n,a,l){return this.pi.set(l,n.currentSequenceNumber),Z.resolve()}removeReference(n,a,l){return this.pi.set(l,n.currentSequenceNumber),Z.resolve()}updateLimboDocument(n,a){return this.pi.set(a,n.currentSequenceNumber),Z.resolve()}Ti(n){let a=n.key.toString().length;return n.isFoundDocument()&&(a+=ju(n.data.value)),a}br(n,a,l){return Z.or([()=>this.persistence.Ai(n,a),()=>this.persistence.getTargetCache().containsKey(n,a),()=>{const u=this.pi.get(a);return Z.resolve(u!==void 0&&u>l)}])}getCacheSize(n){return this.persistence.getRemoteDocumentCache().getSize(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(n,a,l,u){this.targetId=n,this.fromCache=a,this.Es=l,this.ds=u}static As(n,a){let l=$e(),u=$e();for(const f of a.docChanges)switch(f.type){case 0:l=l.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new yd(n,a.fromCache,l,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return dT()?8:KE(cT())>0?6:4})()}initialize(n,a){this.ps=n,this.indexManager=a,this.Rs=!0}getDocumentsMatchingQuery(n,a,l,u){const f={result:null};return this.ys(n,a).next((d=>{f.result=d})).next((()=>{if(!f.result)return this.ws(n,a,u,l).next((d=>{f.result=d}))})).next((()=>{if(f.result)return;const d=new yS;return this.Ss(n,a,d).next((g=>{if(f.result=g,this.Vs)return this.bs(n,a,d,g.size)}))})).next((()=>f.result))}bs(n,a,l,u){return l.documentReadCount<this.fs?(Rs()<=Pt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",Bl(a),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Rs()<=Pt.DEBUG&&ft("QueryEngine","Query:",Bl(a),"scans",l.documentReadCount,"local documents and returns",u,"documents as results."),l.documentReadCount>this.gs*u?(Rs()<=Pt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",Bl(a),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,br(a))):Z.resolve())}ys(n,a){if(Ry(a))return Z.resolve(null);let l=br(a);return this.indexManager.getIndexType(n,l).next((u=>u===0?null:(a.limit!==null&&u===1&&(a=Bh(a,null,"F"),l=br(a)),this.indexManager.getDocumentsMatchingTarget(n,l).next((f=>{const d=$e(...f);return this.ps.getDocuments(n,d).next((g=>this.indexManager.getMinOffset(n,l).next((v=>{const _=this.Ds(a,g);return this.Cs(a,_,d,v.readTime)?this.ys(n,Bh(a,null,"F")):this.vs(n,_,a,v)}))))})))))}ws(n,a,l,u){return Ry(a)||u.isEqual(re.min())?Z.resolve(null):this.ps.getDocuments(n,l).next((f=>{const d=this.Ds(a,f);return this.Cs(a,d,l,u)?Z.resolve(null):(Rs()<=Pt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Bl(a)),this.vs(n,d,a,GE(u,Zl)).next((g=>g)))}))}Ds(n,a){let l=new He(vA(n));return a.forEach(((u,f)=>{hd(n,f)&&(l=l.add(f))})),l}Cs(n,a,l,u){if(n.limit===null)return!1;if(l.size!==a.size)return!0;const f=n.limitType==="F"?a.last():a.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Ss(n,a,l){return Rs()<=Pt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",Bl(a)),this.ps.getDocumentsMatchingQuery(n,a,Oa.min(),l)}vs(n,a,l,u){return this.ps.getDocumentsMatchingQuery(n,l,u).next((f=>(a.forEach((d=>{f=f.insert(d.key,d)})),f)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="LocalStore";class TS{constructor(n,a,l,u){this.persistence=n,this.Fs=a,this.serializer=u,this.Ms=new dn(Gt),this.xs=new Mr((f=>cd(f)),fd),this.Os=new Map,this.Ns=n.getRemoteDocumentCache(),this.Pi=n.getTargetCache(),this.Ii=n.getBundleCache(),this.Bs(l)}Bs(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new oS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(a=>n.collect(a,this.Ms)))}}function ES(r,n,a,l){return new TS(r,n,a,l)}async function g_(r,n){const a=ee(r);return await a.persistence.runTransaction("Handle user change","readonly",(l=>{let u;return a.mutationQueue.getAllMutationBatches(l).next((f=>(u=f,a.Bs(n),a.mutationQueue.getAllMutationBatches(l)))).next((f=>{const d=[],g=[];let v=$e();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of f){g.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return a.localDocuments.getDocuments(l,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function AS(r,n){const a=ee(r);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",(l=>{const u=n.batch.keys(),f=a.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,_,A){const b=_.batch,R=b.keys();let I=Z.resolve();return R.forEach((q=>{I=I.next((()=>A.getEntry(v,q))).next((F=>{const Q=_.docVersions.get(q);de(Q!==null,48541),F.version.compareTo(Q)<0&&(b.applyToRemoteDocument(F,_),F.isValidDocument()&&(F.setReadTime(_.commitVersion),A.addEntry(F)))}))})),I.next((()=>g.mutationQueue.removeMutationBatch(v,b)))})(a,l,n,f).next((()=>f.apply(l))).next((()=>a.mutationQueue.performConsistencyCheck(l))).next((()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,n.batch.batchId))).next((()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,(function(g){let v=$e();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v})(n)))).next((()=>a.localDocuments.getDocuments(l,u)))}))}function SS(r){const n=ee(r);return n.persistence.runTransaction("Get last remote snapshot version","readonly",(a=>n.Pi.getLastRemoteSnapshotVersion(a)))}function bS(r,n){const a=ee(r);return a.persistence.runTransaction("Get next mutation batch","readonly",(l=>(n===void 0&&(n=rd),a.mutationQueue.getNextMutationBatchAfterBatchId(l,n))))}class Vy{constructor(){this.activeTargetIds=RA()}zs(n){this.activeTargetIds=this.activeTargetIds.add(n)}js(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Gs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class RS{constructor(){this.Mo=new Vy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,a,l){}addLocalQueryTarget(n,a=!0){return a&&this.Mo.zs(n),this.xo[n]||"not-current"}updateQueryState(n,a,l){this.xo[n]=a}removeLocalQueryTarget(n){this.Mo.js(n)}isLocalQueryTarget(n){return this.Mo.activeTargetIds.has(n)}clearQueryState(n){delete this.xo[n]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(n){return this.Mo.activeTargetIds.has(n)}start(){return this.Mo=new Vy,Promise.resolve()}handleUserChange(n,a,l){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{Oo(n){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="ConnectivityMonitor";class Ly{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(n){this.qo.push(n)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(Uy,"Network connectivity changed: AVAILABLE");for(const n of this.qo)n(0)}ko(){ft(Uy,"Network connectivity changed: UNAVAILABLE");for(const n of this.qo)n(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vu=null;function Gh(){return Vu===null?Vu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vu++,"0x"+Vu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh="RestConnection",xS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CS{get $o(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const a=n.ssl?"https":"http",l=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=a+"://"+n.host,this.Ko=`projects/${l}/databases/${u}`,this.Wo=this.databaseId.database===Yu?`project_id=${l}`:`project_id=${l}&database_id=${u}`}Go(n,a,l,u,f){const d=Gh(),g=this.zo(n,a.toUriEncodedString());ft(Sh,`Sending RPC '${n}' ${d}:`,g,l);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,u,f);const{host:_}=new URL(g),A=Kh(_);return this.Jo(n,g,v,l,A).then((b=>(ft(Sh,`Received RPC '${n}' ${d}: `,b),b)),(b=>{throw ac(Sh,`RPC '${n}' ${d} failed with error: `,b,"url: ",g,"request:",l),b}))}Ho(n,a,l,u,f,d){return this.Go(n,a,l,u,f)}jo(n,a,l){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Us})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((u,f)=>n[f]=u)),l&&l.headers.forEach(((u,f)=>n[f]=u))}zo(n,a){const l=xS[n];return`${this.Uo}/v1/${a}:${l}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(n){this.Yo=n.Yo,this.Zo=n.Zo}Xo(n){this.e_=n}t_(n){this.n_=n}r_(n){this.i_=n}onMessage(n){this.s_=n}close(){this.Zo()}send(n){this.Yo(n)}o_(){this.e_()}__(){this.n_()}a_(n){this.i_(n)}u_(n){this.s_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class DS extends CS{constructor(n){super(n),this.c_=[],this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Jo(n,a,l,u,f){const d=Gh();return new Promise(((g,v)=>{const _=new x0;_.setWithCredentials(!0),_.listenOnce(C0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Lu.NO_ERROR:const b=_.getResponseJson();ft(Xe,`XHR for RPC '${n}' ${d} received:`,JSON.stringify(b)),g(b);break;case Lu.TIMEOUT:ft(Xe,`RPC '${n}' ${d} timed out`),v(new _t(W.DEADLINE_EXCEEDED,"Request time out"));break;case Lu.HTTP_ERROR:const R=_.getStatus();if(ft(Xe,`RPC '${n}' ${d} failed with status:`,R,"response text:",_.getResponseText()),R>0){let I=_.getResponseJson();Array.isArray(I)&&(I=I[0]);const q=I?.error;if(q&&q.status&&q.message){const F=(function(ot){const st=ot.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(st)>=0?st:W.UNKNOWN})(q.status);v(new _t(F,q.message))}else v(new _t(W.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new _t(W.UNAVAILABLE,"Connection failed."));break;default:It(9055,{l_:n,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ft(Xe,`RPC '${n}' ${d} completed.`)}}));const A=JSON.stringify(u);ft(Xe,`RPC '${n}' ${d} sending request:`,u),_.send(a,"POST",A,l,15)}))}T_(n,a,l){const u=Gh(),f=[this.Uo,"/","google.firestore.v1.Firestore","/",n,"/channel"],d=N0(),g=D0(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,a,l),v.encodeInitMessageHeaders=!0;const A=f.join("");ft(Xe,`Creating RPC '${n}' stream ${u}: ${A}`,v);const b=d.createWebChannel(A,v);this.I_(b);let R=!1,I=!1;const q=new IS({Yo:Q=>{I?ft(Xe,`Not sending because RPC '${n}' stream ${u} is closed:`,Q):(R||(ft(Xe,`Opening RPC '${n}' stream ${u} transport.`),b.open(),R=!0),ft(Xe,`RPC '${n}' stream ${u} sending:`,Q),b.send(Q))},Zo:()=>b.close()}),F=(Q,ot,st)=>{Q.listen(ot,(at=>{try{st(at)}catch(ht){setTimeout((()=>{throw ht}),0)}}))};return F(b,kl.EventType.OPEN,(()=>{I||(ft(Xe,`RPC '${n}' stream ${u} transport opened.`),q.o_())})),F(b,kl.EventType.CLOSE,(()=>{I||(I=!0,ft(Xe,`RPC '${n}' stream ${u} transport closed`),q.a_(),this.E_(b))})),F(b,kl.EventType.ERROR,(Q=>{I||(I=!0,ac(Xe,`RPC '${n}' stream ${u} transport errored. Name:`,Q.name,"Message:",Q.message),q.a_(new _t(W.UNAVAILABLE,"The operation could not be completed")))})),F(b,kl.EventType.MESSAGE,(Q=>{if(!I){const ot=Q.data[0];de(!!ot,16349);const st=ot,at=st?.error||st[0]?.error;if(at){ft(Xe,`RPC '${n}' stream ${u} received error:`,at);const ht=at.status;let rt=(function(S){const w=Ee[S];if(w!==void 0)return zA(w)})(ht),ut=at.message;rt===void 0&&(rt=W.INTERNAL,ut="Unknown error status: "+ht+" with message "+at.message),I=!0,q.a_(new _t(rt,ut)),b.close()}else ft(Xe,`RPC '${n}' stream ${u} received:`,ot),q.u_(ot)}})),F(g,I0.STAT_EVENT,(Q=>{Q.stat===Vh.PROXY?ft(Xe,`RPC '${n}' stream ${u} detected buffering proxy`):Q.stat===Vh.NOPROXY&&ft(Xe,`RPC '${n}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{q.__()}),0),q}terminate(){this.c_.forEach((n=>n.close())),this.c_=[]}I_(n){this.c_.push(n)}E_(n){this.c_=this.c_.filter((a=>a===n))}}function bh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(r){return new PA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(n,a,l=1e3,u=1.5,f=6e4){this.Mi=n,this.timerId=a,this.d_=l,this.A_=u,this.R_=f,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(n){this.cancel();const a=Math.floor(this.V_+this.y_()),l=Math.max(0,Date.now()-this.f_),u=Math.max(0,a-l);u>0&&ft("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${a} ms, last attempt: ${l} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),n()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="PersistentStream";class NS{constructor(n,a,l,u,f,d,g,v){this.Mi=n,this.S_=l,this.b_=u,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new p_(n,a)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(n){this.Q_(),this.stream.send(n)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(n,a){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,n!==4?this.M_.reset():a&&a.code===W.RESOURCE_EXHAUSTED?(xr(a.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):a&&a.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=n,await this.listener.r_(a)}K_(){}auth(){this.state=1;const n=this.W_(this.D_),a=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([l,u])=>{this.D_===a&&this.G_(l,u)}),(l=>{n((()=>{const u=new _t(W.UNKNOWN,"Fetching auth token failed: "+l.message);return this.z_(u)}))}))}G_(n,a){const l=this.W_(this.D_);this.stream=this.j_(n,a),this.stream.Xo((()=>{l((()=>this.listener.Xo()))})),this.stream.t_((()=>{l((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{l((()=>this.z_(u)))})),this.stream.onMessage((u=>{l((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(n){return ft(jy,`close with error: ${n}`),this.stream=null,this.close(4,n)}W_(n){return a=>{this.Mi.enqueueAndForget((()=>this.D_===n?a():(ft(jy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class MS extends NS{constructor(n,a,l,u,f,d){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",a,l,u,d),this.serializer=f}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(n,a){return this.connection.T_("Write",n,a)}J_(n){return de(!!n.streamToken,31322),this.lastStreamToken=n.streamToken,de(!n.writeResults||n.writeResults.length===0,55816),this.listener.ta()}onNext(n){de(!!n.streamToken,12678),this.lastStreamToken=n.streamToken,this.M_.reset();const a=FA(n.writeResults,n.commitTime),l=Cs(n.commitTime);return this.listener.na(l,a)}ra(){const n={};n.database=GA(this.serializer),this.q_(n)}ea(n){const a={streamToken:this.lastStreamToken,writes:n.map((l=>QA(this.serializer,l)))};this.q_(a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{}class VS extends OS{constructor(n,a,l,u){super(),this.authCredentials=n,this.appCheckCredentials=a,this.connection=l,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new _t(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(n,a,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,d])=>this.connection.Go(n,qh(a,l),u,f,d))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new _t(W.UNKNOWN,f.toString())}))}Ho(n,a,l,u,f){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(n,qh(a,l),u,d,g,f))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new _t(W.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class US{constructor(n,a){this.asyncQueue=n,this.onlineStateHandler=a,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(n){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.ca("Offline")))}set(n){this.Pa(),this.oa=0,n==="Online"&&(this.aa=!1),this.ca(n)}ca(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}la(n){const a=`Could not reach Cloud Firestore backend. ${n}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xr(a),this.aa=!1):ft("OnlineStateTracker",a)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="RemoteStore";class LS{constructor(n,a,l,u,f){this.localStore=n,this.datastore=a,this.asyncQueue=l,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=f,this.Aa.Oo((d=>{l.enqueueAndForget((async()=>{oo(this)&&(ft(so,"Restarting streams for network reachability change."),await(async function(v){const _=ee(v);_.Ea.add(4),await lo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await uc(_)})(this))}))})),this.Ra=new US(l,u)}}async function uc(r){if(oo(r))for(const n of r.da)await n(!0)}async function lo(r){for(const n of r.da)await n(!1)}function oo(r){return ee(r).Ea.size===0}async function y_(r,n,a){if(!ao(n))throw n;r.Ea.add(1),await lo(r),r.Ra.set("Offline"),a||(a=()=>SS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ft(so,"Retrying IndexedDB access"),await a(),r.Ea.delete(1),await uc(r)}))}function __(r,n){return n().catch((a=>y_(r,a,n)))}async function cc(r){const n=ee(r),a=Ua(n);let l=n.Ta.length>0?n.Ta[n.Ta.length-1].batchId:rd;for(;jS(n);)try{const u=await bS(n.localStore,l);if(u===null){n.Ta.length===0&&a.L_();break}l=u.batchId,zS(n,u)}catch(u){await y_(n,u)}v_(n)&&T_(n)}function jS(r){return oo(r)&&r.Ta.length<10}function zS(r,n){r.Ta.push(n);const a=Ua(r);a.O_()&&a.X_&&a.ea(n.mutations)}function v_(r){return oo(r)&&!Ua(r).x_()&&r.Ta.length>0}function T_(r){Ua(r).start()}async function PS(r){Ua(r).ra()}async function BS(r){const n=Ua(r);for(const a of r.Ta)n.ea(a.mutations)}async function kS(r,n,a){const l=r.Ta.shift(),u=md.from(l,n,a);await __(r,(()=>r.remoteSyncer.applySuccessfulWrite(u))),await cc(r)}async function qS(r,n){n&&Ua(r).X_&&await(async function(l,u){if((function(d){return jA(d)&&d!==W.ABORTED})(u.code)){const f=l.Ta.shift();Ua(l).B_(),await __(l,(()=>l.remoteSyncer.rejectFailedWrite(f.batchId,u))),await cc(l)}})(r,n),v_(r)&&T_(r)}async function zy(r,n){const a=ee(r);a.asyncQueue.verifyOperationInProgress(),ft(so,"RemoteStore received new credentials");const l=oo(a);a.Ea.add(3),await lo(a),l&&a.Ra.set("Unknown"),await a.remoteSyncer.handleCredentialChange(n),a.Ea.delete(3),await uc(a)}async function HS(r,n){const a=ee(r);n?(a.Ea.delete(2),await uc(a)):n||(a.Ea.add(2),await lo(a),a.Ra.set("Unknown"))}function Ua(r){return r.fa||(r.fa=(function(a,l,u){const f=ee(a);return f.sa(),new MS(l,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:PS.bind(null,r),r_:qS.bind(null,r),ta:BS.bind(null,r),na:kS.bind(null,r)}),r.da.push((async n=>{n?(r.fa.B_(),await cc(r)):(await r.fa.stop(),r.Ta.length>0&&(ft(so,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(n,a,l,u,f){this.asyncQueue=n,this.timerId=a,this.targetTimeMs=l,this.op=u,this.removalCallback=f,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(n,a,l,u,f){const d=Date.now()+l,g=new _d(n,a,d,u,f);return g.start(l),g}start(n){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _t(W.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((n=>this.deferred.resolve(n)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function E_(r,n){if(xr("AsyncQueue",`${n}: ${r}`),ao(r))return new _t(W.UNAVAILABLE,`${n}: ${r}`);throw r}class GS{constructor(){this.queries=Py(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(a,l){const u=ee(a),f=u.queries;u.queries=Py(),f.forEach(((d,g)=>{for(const v of g.Sa)v.onError(l)}))})(this,new _t(W.ABORTED,"Firestore shutting down"))}}function Py(){return new Mr((r=>W0(r)),J0)}function YS(r){r.Ca.forEach((n=>{n.next()}))}var By,ky;(ky=By||(By={})).Ma="default",ky.Cache="cache";const QS="SyncEngine";class FS{constructor(n,a,l,u,f,d){this.localStore=n,this.remoteStore=a,this.eventManager=l,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Mr((g=>W0(g)),J0),this.Iu=new Map,this.Eu=new Set,this.du=new dn(xt.comparator),this.Au=new Map,this.Ru=new gd,this.Vu={},this.mu=new Map,this.fu=Vs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XS(r,n,a){const l=JS(r);try{const u=await(function(d,g){const v=ee(d),_=se.now(),A=g.reduce(((I,q)=>I.add(q.key)),$e());let b,R;return v.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let q=Ku(),F=$e();return v.Ns.getEntries(I,A).next((Q=>{q=Q,q.forEach(((ot,st)=>{st.isValidDocument()||(F=F.add(ot))}))})).next((()=>v.localDocuments.getOverlayedDocuments(I,q))).next((Q=>{b=Q;const ot=[];for(const st of g){const at=OA(st,b.get(st.key).overlayedDocument);at!=null&&ot.push(new Or(st.key,at,Y0(at.value.mapValue),Zi.exists(!0)))}return v.mutationQueue.addMutationBatch(I,_,ot,g)})).next((Q=>{R=Q;const ot=Q.applyToLocalDocumentSet(b,F);return v.documentOverlayCache.saveOverlays(I,Q.batchId,ot)}))})).then((()=>({batchId:R.batchId,changes:e_(b)})))})(l.localStore,n);l.sharedClientState.addPendingMutation(u.batchId),(function(d,g,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new dn(Gt)),_=_.insert(g,v),d.Vu[d.currentUser.toKey()]=_})(l,u.batchId,a),await fc(l,u.changes),await cc(l.remoteStore)}catch(u){const f=E_(u,"Failed to persist write");a.reject(f)}}function qy(r,n,a){const l=ee(r);if(l.isPrimaryClient&&a===0||!l.isPrimaryClient&&a===1){const u=[];l.Tu.forEach(((f,d)=>{const g=d.view.va(n);g.snapshot&&u.push(g.snapshot)})),(function(d,g){const v=ee(d);v.onlineState=g;let _=!1;v.queries.forEach(((A,b)=>{for(const R of b.Sa)R.va(g)&&(_=!0)})),_&&YS(v)})(l.eventManager,n),u.length&&l.Pu.H_(u),l.onlineState=n,l.isPrimaryClient&&l.sharedClientState.setOnlineState(n)}}async function KS(r,n){const a=ee(r),l=n.batch.batchId;try{const u=await AS(a.localStore,n);S_(a,l,null),A_(a,l),a.sharedClientState.updateMutationState(l,"acknowledged"),await fc(a,u)}catch(u){await id(u)}}async function $S(r,n,a){const l=ee(r);try{const u=await(function(d,g){const v=ee(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,g).next((b=>(de(b!==null,37113),A=b.keys(),v.mutationQueue.removeMutationBatch(_,b)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(l.localStore,n);S_(l,n,a),A_(l,n),l.sharedClientState.updateMutationState(n,"rejected",a),await fc(l,u)}catch(u){await id(u)}}function A_(r,n){(r.mu.get(n)||[]).forEach((a=>{a.resolve()})),r.mu.delete(n)}function S_(r,n,a){const l=ee(r);let u=l.Vu[l.currentUser.toKey()];if(u){const f=u.get(n);f&&(a?f.reject(a):f.resolve(),u=u.remove(n)),l.Vu[l.currentUser.toKey()]=u}}async function fc(r,n,a){const l=ee(r),u=[],f=[],d=[];l.Tu.isEmpty()||(l.Tu.forEach(((g,v)=>{d.push(l.pu(v,n,a).then((_=>{if((_||a)&&l.isPrimaryClient){const A=_?!_.fromCache:a?.targetChanges.get(v.targetId)?.current;l.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){u.push(_);const A=yd.As(v.targetId,_);f.push(A)}})))})),await Promise.all(d),l.Pu.H_(u),await(async function(v,_){const A=ee(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Z.forEach(_,(R=>Z.forEach(R.Es,(I=>A.persistence.referenceDelegate.addReference(b,R.targetId,I))).next((()=>Z.forEach(R.ds,(I=>A.persistence.referenceDelegate.removeReference(b,R.targetId,I)))))))))}catch(b){if(!ao(b))throw b;ft(vS,"Failed to update sequence numbers: "+b)}for(const b of _){const R=b.targetId;if(!b.fromCache){const I=A.Ms.get(R),q=I.snapshotVersion,F=I.withLastLimboFreeSnapshotVersion(q);A.Ms=A.Ms.insert(R,F)}}})(l.localStore,f))}async function ZS(r,n){const a=ee(r);if(!a.currentUser.isEqual(n)){ft(QS,"User change. New user:",n.toKey());const l=await g_(a.localStore,n);a.currentUser=n,(function(f,d){f.mu.forEach((g=>{g.forEach((v=>{v.reject(new _t(W.CANCELLED,d))}))})),f.mu.clear()})(a,"'waitForPendingWrites' promise is rejected due to a user change."),a.sharedClientState.handleUserChange(n,l.removedBatchIds,l.addedBatchIds),await fc(a,l.Ls)}}function JS(r){const n=ee(r);return n.remoteStore.remoteSyncer.applySuccessfulWrite=KS.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=$S.bind(null,n),n}class Ju{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=oc(n.databaseInfo.databaseId),this.sharedClientState=this.Du(n),this.persistence=this.Cu(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Fu(n,this.localStore),this.indexBackfillerScheduler=this.Mu(n,this.localStore)}Fu(n,a){return null}Mu(n,a){return null}vu(n){return ES(this.persistence,new _S,n.initialUser,this.serializer)}Cu(n){return new m_(pd.mi,this.serializer)}Du(n){return new RS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ju.provider={build:()=>new Ju};class WS extends Ju{constructor(n){super(),this.cacheSizeBytes=n}Fu(n,a){de(this.persistence.referenceDelegate instanceof Zu,46915);const l=this.persistence.referenceDelegate.garbageCollector;return new iS(l,n.asyncQueue,a)}Cu(n){const a=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new m_((l=>Zu.mi(l,a)),this.serializer)}}class Yh{async initialize(n,a){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(a),this.remoteStore=this.createRemoteStore(a),this.eventManager=this.createEventManager(a),this.syncEngine=this.createSyncEngine(a,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=l=>qy(this.syncEngine,l,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZS.bind(null,this.syncEngine),await HS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new GS})()}createDatastore(n){const a=oc(n.databaseInfo.databaseId),l=(function(f){return new DS(f)})(n.databaseInfo);return(function(f,d,g,v){return new VS(f,d,g,v)})(n.authCredentials,n.appCheckCredentials,l,a)}createRemoteStore(n){return(function(l,u,f,d,g){return new LS(l,u,f,d,g)})(this.localStore,this.datastore,n.asyncQueue,(a=>qy(this.syncEngine,a,0)),(function(){return Ly.v()?new Ly:new wS})())}createSyncEngine(n,a){return(function(u,f,d,g,v,_,A){const b=new FS(u,f,d,g,v,_);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,a)}async terminate(){await(async function(a){const l=ee(a);ft(so,"RemoteStore shutting down."),l.Ea.add(5),await lo(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Yh.provider={build:()=>new Yh};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="FirestoreClient";class tb{constructor(n,a,l,u,f){this.authCredentials=n,this.appCheckCredentials=a,this.asyncQueue=l,this.databaseInfo=u,this.user=Ke.UNAUTHENTICATED,this.clientId=ed.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(l,(async d=>{ft(La,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(l,(d=>(ft(La,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){this.asyncQueue.enterRestrictedMode();const n=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),n.resolve()}catch(a){const l=E_(a,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}async function Rh(r,n){r.asyncQueue.verifyOperationInProgress(),ft(La,"Initializing OfflineComponentProvider");const a=r.configuration;await n.initialize(a);let l=a.initialUser;r.setCredentialChangeListener((async u=>{l.isEqual(u)||(await g_(n.localStore,u),l=u)})),n.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=n}async function Hy(r,n){r.asyncQueue.verifyOperationInProgress();const a=await eb(r);ft(La,"Initializing OnlineComponentProvider"),await n.initialize(a,r.configuration),r.setCredentialChangeListener((l=>zy(n.remoteStore,l))),r.setAppCheckTokenChangeListener(((l,u)=>zy(n.remoteStore,u))),r._onlineComponents=n}async function eb(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ft(La,"Using user provided OfflineComponentProvider");try{await Rh(r,r._uninitializedComponentsProvider._offline)}catch(n){const a=n;if(!(function(u){return u.name==="FirebaseError"?u.code===W.FAILED_PRECONDITION||u.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(a))throw a;ac("Error using user provided cache. Falling back to memory cache: "+a),await Rh(r,new Ju)}}else ft(La,"Using default OfflineComponentProvider"),await Rh(r,new WS(void 0));return r._offlineComponents}async function nb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ft(La,"Using user provided OnlineComponentProvider"),await Hy(r,r._uninitializedComponentsProvider._online)):(ft(La,"Using default OnlineComponentProvider"),await Hy(r,new Yh))),r._onlineComponents}function ib(r){return nb(r).then((n=>n.syncEngine))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(r){const n={};return r.timeoutSeconds!==void 0&&(n.timeoutSeconds=r.timeoutSeconds),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="firestore.googleapis.com",Yy=!0;class Qy{constructor(n){if(n.host===void 0){if(n.ssl!==void 0)throw new _t(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=R_,this.ssl=Yy}else this.host=n.host,this.ssl=n.ssl??Yy;if(this.isUsingEmulator=n.emulatorOptions!==void 0,this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,n.cacheSizeBytes===void 0)this.cacheSizeBytes=d_;else{if(n.cacheSizeBytes!==-1&&n.cacheSizeBytes<eS)throw new _t(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}HE("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:n.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b_(n.experimentalLongPollingOptions??{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new _t(W.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new _t(W.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new _t(W.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&(function(l,u){return l.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,n.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class hc{constructor(n,a,l,u){this._authCredentials=n,this._appCheckCredentials=a,this._databaseId=l,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _t(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(n){if(this._settingsFrozen)throw new _t(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qy(n),this._emulatorOptions=n.emulatorOptions||{},n.credentials!==void 0&&(this._authCredentials=(function(l){if(!l)return new OE;switch(l.type){case"firstParty":return new jE(l.sessionIndex||"0",l.iamToken||null,l.authTokenFactory||null);case"provider":return l.client;default:throw new _t(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(a){const l=Gy.get(a);l&&(ft("ComponentProvider","Removing Datastore"),Gy.delete(a),l.terminate())})(this),Promise.resolve()}}function ab(r,n,a,l={}){r=L0(r,hc);const u=Kh(n),f=r._getSettings(),d={...f,emulatorOptions:r._getEmulatorOptions()},g=`${n}:${a}`;u&&(rT(`https://${g}`),uT("Firestore",!0)),f.host!==R_&&f.host!==g&&ac("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...f,host:g,ssl:u,emulatorOptions:l};if(!Kl(v,d)&&(r._setSettings(v),l.mockUserToken)){let _,A;if(typeof l.mockUserToken=="string")_=l.mockUserToken,A=Ke.MOCK_USER;else{_=sT(l.mockUserToken,r._app?.options.projectId);const b=l.mockUserToken.sub||l.mockUserToken.user_id;if(!b)throw new _t(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ke(b)}r._authCredentials=new VE(new O0(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(n,a,l){this.converter=a,this._query=l,this.type="query",this.firestore=n}withConverter(n){return new vd(this.firestore,n,this._query)}}class Ze{constructor(n,a,l){this.converter=a,this._key=l,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Na(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Ze(this.firestore,n,this._key)}toJSON(){return{type:Ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(n,a,l){if(io(a,Ze._jsonSchema))return new Ze(n,l||null,new xt(ce.fromString(a.referencePath)))}}Ze._jsonSchemaVersion="firestore/documentReference/1.0",Ze._jsonSchema={type:Ae("string",Ze._jsonSchemaVersion),referencePath:Ae("string")};class Na extends vd{constructor(n,a,l){super(n,a,pA(l)),this._path=l,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Ze(this.firestore,null,new xt(n))}withConverter(n){return new Na(this.firestore,n,this._path)}}function rb(r,n,...a){if(r=Rr(r),V0("collection","path",n),r instanceof hc){const l=ce.fromString(n,...a);return my(l),new Na(r,null,l)}{if(!(r instanceof Ze||r instanceof Na))throw new _t(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=r._path.child(ce.fromString(n,...a));return my(l),new Na(r.firestore,null,l)}}function sb(r,n,...a){if(r=Rr(r),arguments.length===1&&(n=ed.newId()),V0("doc","path",n),r instanceof hc){const l=ce.fromString(n,...a);return dy(l),new Ze(r,null,new xt(l))}{if(!(r instanceof Ze||r instanceof Na))throw new _t(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const l=r._path.child(ce.fromString(n,...a));return dy(l),new Ze(r.firestore,r instanceof Na?r.converter:null,new xt(l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="AsyncQueue";class Xy{constructor(n=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new p_(this,"async_queue_retry"),this._c=()=>{const l=bh();l&&ft(Fy,"Visibility state changed to "+l.visibilityState),this.M_.w_()},this.ac=n;const a=bh();a&&typeof a.addEventListener=="function"&&a.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.uc(),this.cc(n)}enterRestrictedMode(n){if(!this.ec){this.ec=!0,this.sc=n||!1;const a=bh();a&&typeof a.removeEventListener=="function"&&a.removeEventListener("visibilitychange",this._c)}}enqueue(n){if(this.uc(),this.ec)return new Promise((()=>{}));const a=new Sr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(n().then(a.resolve,a.reject),a.promise))).then((()=>a.promise))}enqueueRetryable(n){this.enqueueAndForget((()=>(this.Xu.push(n),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(n){if(!ao(n))throw n;ft(Fy,"Operation failed with retryable error: "+n)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(n){const a=this.ac.then((()=>(this.rc=!0,n().catch((l=>{throw this.nc=l,this.rc=!1,xr("INTERNAL UNHANDLED ERROR: ",Ky(l)),l})).then((l=>(this.rc=!1,l))))));return this.ac=a,a}enqueueAfterDelay(n,a,l){this.uc(),this.oc.indexOf(n)>-1&&(a=0);const u=_d.createAndSchedule(this,n,a,l,(f=>this.hc(f)));return this.tc.push(u),u}uc(){this.nc&&It(47125,{Pc:Ky(this.nc)})}verifyOperationInProgress(){}async Tc(){let n;do n=this.ac,await n;while(n!==this.ac)}Ic(n){for(const a of this.tc)if(a.timerId===n)return!0;return!1}Ec(n){return this.Tc().then((()=>{this.tc.sort(((a,l)=>a.targetTimeMs-l.targetTimeMs));for(const a of this.tc)if(a.skipDelay(),n!=="all"&&a.timerId===n)break;return this.Tc()}))}dc(n){this.oc.push(n)}hc(n){const a=this.tc.indexOf(n);this.tc.splice(a,1)}}function Ky(r){let n=r.message||"";return r.stack&&(n=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),n}class w_ extends hc{constructor(n,a,l,u){super(n,a,l,u),this.type="firestore",this._queue=new Xy,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const n=this._firestoreClient.terminate();this._queue=new Xy(n),this._firestoreClient=void 0,await n}}}function lb(r,n){const a=typeof r=="object"?r:b0(),l=typeof r=="string"?r:Yu,u=no(a,"firestore").getImmediate({identifier:l});if(!u._initialized){const f=iT("firestore");f&&ab(u,...f)}return u}function ob(r){if(r._terminated)throw new _t(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ub(r),r._firestoreClient}function ub(r){const n=r._freezeSettings(),a=(function(u,f,d,g){return new eA(u,f,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,b_(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,n);r._componentsProvider||n.localCache?._offlineComponentProvider&&n.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:n.localCache._offlineComponentProvider,_online:n.localCache._onlineComponentProvider}),r._firestoreClient=new tb(r._authCredentials,r._appCheckCredentials,r._queue,a,r._componentsProvider&&(function(u){const f=u?._online.build();return{_offline:u?._offline.build(f),_online:f}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(n){this._byteString=n}static fromBase64String(n){try{return new Zn(Ai.fromBase64String(n))}catch(a){throw new _t(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(n){return new Zn(Ai.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(n){if(io(n,Zn._jsonSchema))return Zn.fromBase64String(n.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Ae("string",Zn._jsonSchemaVersion),bytes:Ae("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(...n){for(let a=0;a<n.length;++a)if(n[a].length===0)throw new _t(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(n){this._methodName=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(n,a){if(!isFinite(n)||n<-90||n>90)throw new _t(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(a)||a<-180||a>180)throw new _t(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=n,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}_compareTo(n){return Gt(this._lat,n._lat)||Gt(this._long,n._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ji._jsonSchemaVersion}}static fromJSON(n){if(io(n,Ji._jsonSchema))return new Ji(n.latitude,n.longitude)}}Ji._jsonSchemaVersion="firestore/geoPoint/1.0",Ji._jsonSchema={type:Ae("string",Ji._jsonSchemaVersion),latitude:Ae("number"),longitude:Ae("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(n){this._values=(n||[]).map((a=>a))}toArray(){return this._values.map((n=>n))}isEqual(n){return(function(l,u){if(l.length!==u.length)return!1;for(let f=0;f<l.length;++f)if(l[f]!==u[f])return!1;return!0})(this._values,n._values)}toJSON(){return{type:Wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(n){if(io(n,Wi._jsonSchema)){if(Array.isArray(n.vectorValues)&&n.vectorValues.every((a=>typeof a=="number")))return new Wi(n.vectorValues);throw new _t(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wi._jsonSchemaVersion="firestore/vectorValue/1.0",Wi._jsonSchema={type:Ae("string",Wi._jsonSchemaVersion),vectorValues:Ae("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=/^__.*__$/;class fb{constructor(n,a,l){this.data=n,this.fieldMask=a,this.fieldTransforms=l}toMutation(n,a){return this.fieldMask!==null?new Or(n,this.data,this.fieldMask,a,this.fieldTransforms):new ro(n,this.data,a,this.fieldTransforms)}}function x_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw It(40011,{Ac:r})}}class Ad{constructor(n,a,l,u,f,d){this.settings=n,this.databaseId=a,this.serializer=l,this.ignoreUndefinedProperties=u,f===void 0&&this.Rc(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(n){return new Ad({...this.settings,...n},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(n){const a=this.path?.child(n),l=this.Vc({path:a,fc:!1});return l.gc(n),l}yc(n){const a=this.path?.child(n),l=this.Vc({path:a,fc:!1});return l.Rc(),l}wc(n){return this.Vc({path:void 0,fc:!0})}Sc(n){return Wu(n,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(n){return this.fieldMask.find((a=>n.isPrefixOf(a)))!==void 0||this.fieldTransforms.find((a=>n.isPrefixOf(a.field)))!==void 0}Rc(){if(this.path)for(let n=0;n<this.path.length;n++)this.gc(this.path.get(n))}gc(n){if(n.length===0)throw this.Sc("Document fields must not be empty");if(x_(this.Ac)&&cb.test(n))throw this.Sc('Document fields cannot begin and end with "__"')}}class hb{constructor(n,a,l){this.databaseId=n,this.ignoreUndefinedProperties=a,this.serializer=l||oc(n)}Cc(n,a,l,u=!1){return new Ad({Ac:n,methodName:a,Dc:l,path:qe.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function db(r){const n=r._freezeSettings(),a=oc(r._databaseId);return new hb(r._databaseId,!!n.ignoreUndefinedProperties,a)}function mb(r,n,a,l,u,f={}){const d=r.Cc(f.merge||f.mergeFields?2:0,n,a,u);N_("Data must be an object, but it was:",d,l);const g=I_(l,d);let v,_;if(f.merge)v=new Jn(d.fieldMask),_=d.fieldTransforms;else if(f.mergeFields){const A=[];for(const b of f.mergeFields){const R=gb(n,b,a);if(!d.contains(R))throw new _t(W.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);yb(A,R)||A.push(R)}v=new Jn(A),_=d.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,_=d.fieldTransforms;return new fb(new $n(g),v,_)}class Sd extends Ed{_toFieldTransform(n){return new IA(n.path,new Wl)}isEqual(n){return n instanceof Sd}}function C_(r,n){if(D_(r=Rr(r)))return N_("Unsupported field value:",n,r),I_(r,n);if(r instanceof Ed)return(function(l,u){if(!x_(u.Ac))throw u.Sc(`${l._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${l._methodName}() is not currently supported inside arrays`);const f=l._toFieldTransform(u);f&&u.fieldTransforms.push(f)})(r,n),null;if(r===void 0&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),r instanceof Array){if(n.settings.fc&&n.Ac!==4)throw n.Sc("Nested arrays are not supported");return(function(l,u){const f=[];let d=0;for(const g of l){let v=C_(g,u.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),f.push(v),d++}return{arrayValue:{values:f}}})(r,n)}return(function(l,u){if((l=Rr(l))===null)return{nullValue:"NULL_VALUE"};if(typeof l=="number")return wA(u.serializer,l);if(typeof l=="boolean")return{booleanValue:l};if(typeof l=="string")return{stringValue:l};if(l instanceof Date){const f=se.fromDate(l);return{timestampValue:kh(u.serializer,f)}}if(l instanceof se){const f=new se(l.seconds,1e3*Math.floor(l.nanoseconds/1e3));return{timestampValue:kh(u.serializer,f)}}if(l instanceof Ji)return{geoPointValue:{latitude:l.latitude,longitude:l.longitude}};if(l instanceof Zn)return{bytesValue:BA(u.serializer,l._byteString)};if(l instanceof Ze){const f=u.databaseId,d=l.firestore._databaseId;if(!d.isEqual(f))throw u.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:f_(l.firestore._databaseId||u.databaseId,l._key.path)}}if(l instanceof Wi)return(function(d,g){return{mapValue:{fields:{[H0]:{stringValue:G0},[Lh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return dd(g.serializer,_)}))}}}}}})(l,u);throw u.Sc(`Unsupported field value: ${nd(l)}`)})(r,n)}function I_(r,n){const a={};return z0(r)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Ls(r,((l,u)=>{const f=C_(u,n.mc(l));f!=null&&(a[l]=f)})),{mapValue:{fields:a}}}function D_(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof Ji||r instanceof Zn||r instanceof Ze||r instanceof Ed||r instanceof Wi)}function N_(r,n,a){if(!D_(a)||!U0(a)){const l=nd(a);throw l==="an object"?n.Sc(r+" a custom object"):n.Sc(r+" "+l)}}function gb(r,n,a){if((n=Rr(n))instanceof Td)return n._internalPath;if(typeof n=="string")return M_(r,n);throw Wu("Field path arguments must be of type string or ",r,!1,void 0,a)}const pb=new RegExp("[~\\*/\\[\\]]");function M_(r,n,a){if(n.search(pb)>=0)throw Wu(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,a);try{return new Td(...n.split("."))._internalPath}catch{throw Wu(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,a)}}function Wu(r,n,a,l,u){const f=l&&!l.isEmpty(),d=u!==void 0;let g=`Function ${n}() called with invalid data`;a&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(f||d)&&(v+=" (found",f&&(v+=` in field ${l}`),d&&(v+=` in document ${u}`),v+=")"),new _t(W.INVALID_ARGUMENT,g+r+v)}function yb(r,n){return r.some((a=>a.isEqual(n)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(n,a,l,u,f){this._firestore=n,this._userDataWriter=a,this._key=l,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const n=new _b(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const a=this._document.data.field(V_("DocumentSnapshot.get",n));if(a!==null)return this._userDataWriter.convertValue(a)}}}class _b extends O_{data(){return super.data()}}function V_(r,n){return typeof n=="string"?M_(r,n):n instanceof Td?n._internalPath:n._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(r,n,a){let l;return l=r?r.toFirestore(n):n,l}class Uu{constructor(n,a){this.hasPendingWrites=n,this.fromCache=a}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Is extends O_{constructor(n,a,l,u,f,d){super(n,a,l,u,d),this._firestore=n,this._firestoreImpl=n,this.metadata=f}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const a=new Bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,a={}){if(this._document){const l=this._document.data.field(V_("DocumentSnapshot.get",n));if(l!==null)return this._userDataWriter.convertValue(l,a.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n=this._document,a={};return a.type=Is._jsonSchemaVersion,a.bundle="",a.bundleSource="DocumentSnapshot",a.bundleName=this._key.toString(),!n||!n.isValidDocument()||!n.isFoundDocument()?a:(this._userDataWriter.convertObjectMap(n.data.value.mapValue.fields,"previous"),a.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),a)}}Is._jsonSchemaVersion="firestore/documentSnapshot/1.0",Is._jsonSchema={type:Ae("string",Is._jsonSchemaVersion),bundleSource:Ae("string","DocumentSnapshot"),bundleName:Ae("string"),bundle:Ae("string")};class Bu extends Is{data(n={}){return super.data(n)}}class Fl{constructor(n,a,l,u){this._firestore=n,this._userDataWriter=a,this._snapshot=u,this.metadata=new Uu(u.hasPendingWrites,u.fromCache),this.query=l}get docs(){const n=[];return this.forEach((a=>n.push(a))),n}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(n,a){this._snapshot.docs.forEach((l=>{n.call(a,new Bu(this._firestore,this._userDataWriter,l.key,l,new Uu(this._snapshot.mutatedKeys.has(l.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(n={}){const a=!!n.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new _t(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=(function(u,f){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map((g=>{const v=new Bu(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Uu(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((g=>f||g.type!==3)).map((g=>{const v=new Bu(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Uu(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:Tb(g.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n={};n.type=Fl._jsonSchemaVersion,n.bundleSource="QuerySnapshot",n.bundleName=ed.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const a=[],l=[],u=[];return this.docs.forEach((f=>{f._document!==null&&(a.push(f._document),l.push(this._userDataWriter.convertObjectMap(f._document.data.value.mapValue.fields,"previous")),u.push(f.ref.path))})),n.bundle=(this._firestore,this.query._query,n.bundleName,"NOT SUPPORTED"),n}}function Tb(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return It(61501,{type:r})}}Fl._jsonSchemaVersion="firestore/querySnapshot/1.0",Fl._jsonSchema={type:Ae("string",Fl._jsonSchemaVersion),bundleSource:Ae("string","QuerySnapshot"),bundleName:Ae("string"),bundle:Ae("string")};function Eb(r,n){const a=L0(r.firestore,w_),l=sb(r),u=vb(r.converter,n);return Ab(a,[mb(db(r.firestore),"addDoc",l._key,u,r.converter!==null,{}).toMutation(l._key,Zi.exists(!1))]).then((()=>l))}function Ab(r,n){return(function(l,u){const f=new Sr;return l.asyncQueue.enqueueAndForget((async()=>XS(await ib(l),u,f))),f.promise})(ob(r),n)}function Sb(){return new Sd("serverTimestamp")}(function(n,a=!0){(function(u){Us=u})(TE),Ma(new ta("firestore",((l,{instanceIdentifier:u,options:f})=>{const d=l.getProvider("app").getImmediate(),g=new w_(new UE(l.getProvider("auth-internal")),new zE(d,l.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new _t(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qu(_.options.projectId,A)})(d,u),d);return f={useFetchStreams:a,...f},g._setSettings(f),g}),"PUBLIC").setMultipleInstances(!0)),Ei(uy,cy,n),Ei(uy,cy,"esm2020")})();const U_="@firebase/installations",bd="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=1e4,j_=`w:${bd}`,z_="FIS_v2",bb="https://firebaseinstallations.googleapis.com/v1",Rb=3600*1e3,wb="installations",xb="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Dr=new ic(wb,xb,Cb);function P_(r){return r instanceof ja&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_({projectId:r}){return`${bb}/projects/${r}/installations`}function k_(r){return{token:r.token,requestStatus:2,expiresIn:Db(r.expiresIn),creationTime:Date.now()}}async function q_(r,n){const l=(await n.json()).error;return Dr.create("request-failed",{requestName:r,serverCode:l.code,serverMessage:l.message,serverStatus:l.status})}function H_({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function Ib(r,{refreshToken:n}){const a=H_(r);return a.append("Authorization",Nb(n)),a}async function G_(r){const n=await r();return n.status>=500&&n.status<600?r():n}function Db(r){return Number(r.replace("s","000"))}function Nb(r){return`${z_} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mb({appConfig:r,heartbeatServiceProvider:n},{fid:a}){const l=B_(r),u=H_(r),f=n.getImmediate({optional:!0});if(f){const _=await f.getHeartbeatsHeader();_&&u.append("x-firebase-client",_)}const d={fid:a,authVersion:z_,appId:r.appId,sdkVersion:j_},g={method:"POST",headers:u,body:JSON.stringify(d)},v=await G_(()=>fetch(l,g));if(v.ok){const _=await v.json();return{fid:_.fid||a,registrationStatus:2,refreshToken:_.refreshToken,authToken:k_(_.authToken)}}else throw await q_("Create Installation",v)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(r){return new Promise(n=>{setTimeout(n,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=/^[cdef][\w-]{21}$/,Qh="";function Ub(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const a=Lb(r);return Vb.test(a)?a:Qh}catch{return Qh}}function Lb(r){return Ob(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=new Map;function F_(r,n){const a=dc(r);X_(a,n),jb(a,n)}function X_(r,n){const a=Q_.get(r);if(a)for(const l of a)l(n)}function jb(r,n){const a=zb();a&&a.postMessage({key:r,fid:n}),Pb()}let Ar=null;function zb(){return!Ar&&"BroadcastChannel"in self&&(Ar=new BroadcastChannel("[Firebase] FID Change"),Ar.onmessage=r=>{X_(r.data.key,r.data.fid)}),Ar}function Pb(){Q_.size===0&&Ar&&(Ar.close(),Ar=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="firebase-installations-database",kb=1,Nr="firebase-installations-store";let wh=null;function Rd(){return wh||(wh=S0(Bb,kb,{upgrade:(r,n)=>{switch(n){case 0:r.createObjectStore(Nr)}}})),wh}async function tc(r,n){const a=dc(r),u=(await Rd()).transaction(Nr,"readwrite"),f=u.objectStore(Nr),d=await f.get(a);return await f.put(n,a),await u.done,(!d||d.fid!==n.fid)&&F_(r,n.fid),n}async function K_(r){const n=dc(r),l=(await Rd()).transaction(Nr,"readwrite");await l.objectStore(Nr).delete(n),await l.done}async function mc(r,n){const a=dc(r),u=(await Rd()).transaction(Nr,"readwrite"),f=u.objectStore(Nr),d=await f.get(a),g=n(d);return g===void 0?await f.delete(a):await f.put(g,a),await u.done,g&&(!d||d.fid!==g.fid)&&F_(r,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wd(r){let n;const a=await mc(r.appConfig,l=>{const u=qb(l),f=Hb(r,u);return n=f.registrationPromise,f.installationEntry});return a.fid===Qh?{installationEntry:await n}:{installationEntry:a,registrationPromise:n}}function qb(r){const n=r||{fid:Ub(),registrationStatus:0};return $_(n)}function Hb(r,n){if(n.registrationStatus===0){if(!navigator.onLine){const u=Promise.reject(Dr.create("app-offline"));return{installationEntry:n,registrationPromise:u}}const a={fid:n.fid,registrationStatus:1,registrationTime:Date.now()},l=Gb(r,a);return{installationEntry:a,registrationPromise:l}}else return n.registrationStatus===1?{installationEntry:n,registrationPromise:Yb(r)}:{installationEntry:n}}async function Gb(r,n){try{const a=await Mb(r,n);return tc(r.appConfig,a)}catch(a){throw P_(a)&&a.customData.serverCode===409?await K_(r.appConfig):await tc(r.appConfig,{fid:n.fid,registrationStatus:0}),a}}async function Yb(r){let n=await $y(r.appConfig);for(;n.registrationStatus===1;)await Y_(100),n=await $y(r.appConfig);if(n.registrationStatus===0){const{installationEntry:a,registrationPromise:l}=await wd(r);return l||a}return n}function $y(r){return mc(r,n=>{if(!n)throw Dr.create("installation-not-found");return $_(n)})}function $_(r){return Qb(r)?{fid:r.fid,registrationStatus:0}:r}function Qb(r){return r.registrationStatus===1&&r.registrationTime+L_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fb({appConfig:r,heartbeatServiceProvider:n},a){const l=Xb(r,a),u=Ib(r,a),f=n.getImmediate({optional:!0});if(f){const _=await f.getHeartbeatsHeader();_&&u.append("x-firebase-client",_)}const d={installation:{sdkVersion:j_,appId:r.appId}},g={method:"POST",headers:u,body:JSON.stringify(d)},v=await G_(()=>fetch(l,g));if(v.ok){const _=await v.json();return k_(_)}else throw await q_("Generate Auth Token",v)}function Xb(r,{fid:n}){return`${B_(r)}/${n}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xd(r,n=!1){let a;const l=await mc(r.appConfig,f=>{if(!Z_(f))throw Dr.create("not-registered");const d=f.authToken;if(!n&&Zb(d))return f;if(d.requestStatus===1)return a=Kb(r,n),f;{if(!navigator.onLine)throw Dr.create("app-offline");const g=Wb(f);return a=$b(r,g),g}});return a?await a:l.authToken}async function Kb(r,n){let a=await Zy(r.appConfig);for(;a.authToken.requestStatus===1;)await Y_(100),a=await Zy(r.appConfig);const l=a.authToken;return l.requestStatus===0?xd(r,n):l}function Zy(r){return mc(r,n=>{if(!Z_(n))throw Dr.create("not-registered");const a=n.authToken;return t2(a)?{...n,authToken:{requestStatus:0}}:n})}async function $b(r,n){try{const a=await Fb(r,n),l={...n,authToken:a};return await tc(r.appConfig,l),a}catch(a){if(P_(a)&&(a.customData.serverCode===401||a.customData.serverCode===404))await K_(r.appConfig);else{const l={...n,authToken:{requestStatus:0}};await tc(r.appConfig,l)}throw a}}function Z_(r){return r!==void 0&&r.registrationStatus===2}function Zb(r){return r.requestStatus===2&&!Jb(r)}function Jb(r){const n=Date.now();return n<r.creationTime||r.creationTime+r.expiresIn<n+Rb}function Wb(r){const n={requestStatus:1,requestTime:Date.now()};return{...r,authToken:n}}function t2(r){return r.requestStatus===1&&r.requestTime+L_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(r){const n=r,{installationEntry:a,registrationPromise:l}=await wd(n);return l?l.catch(console.error):xd(n).catch(console.error),a.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(r,n=!1){const a=r;return await i2(a),(await xd(a,n)).token}async function i2(r){const{registrationPromise:n}=await wd(r);n&&await n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(r){if(!r||!r.options)throw xh("App Configuration");if(!r.name)throw xh("App Name");const n=["projectId","apiKey","appId"];for(const a of n)if(!r.options[a])throw xh(a);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function xh(r){return Dr.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="installations",r2="installations-internal",s2=r=>{const n=r.getProvider("app").getImmediate(),a=a2(n),l=no(n,"heartbeat");return{app:n,appConfig:a,heartbeatServiceProvider:l,_delete:()=>Promise.resolve()}},l2=r=>{const n=r.getProvider("app").getImmediate(),a=no(n,J_).getImmediate();return{getId:()=>e2(a),getToken:u=>n2(a,u)}};function o2(){Ma(new ta(J_,s2,"PUBLIC")),Ma(new ta(r2,l2,"PRIVATE"))}o2();Ei(U_,bd);Ei(U_,bd,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec="analytics",u2="firebase_id",c2="origin",f2=60*1e3,h2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cd="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn=new $h("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},bn=new ic("analytics","Analytics",d2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(r){if(!r.startsWith(Cd)){const n=bn.create("invalid-gtag-resource",{gtagURL:r});return hn.warn(n.message),""}return r}function W_(r){return Promise.all(r.map(n=>n.catch(a=>a)))}function g2(r,n){let a;return window.trustedTypes&&(a=window.trustedTypes.createPolicy(r,n)),a}function p2(r,n){const a=g2("firebase-js-sdk-policy",{createScriptURL:m2}),l=document.createElement("script"),u=`${Cd}?l=${r}&id=${n}`;l.src=a?a?.createScriptURL(u):u,l.async=!0,document.head.appendChild(l)}function y2(r){let n=[];return Array.isArray(window[r])?n=window[r]:window[r]=n,n}async function _2(r,n,a,l,u,f){const d=l[u];try{if(d)await n[d];else{const v=(await W_(a)).find(_=>_.measurementId===u);v&&await n[v.appId]}}catch(g){hn.error(g)}r("config",u,f)}async function v2(r,n,a,l,u){try{let f=[];if(u&&u.send_to){let d=u.send_to;Array.isArray(d)||(d=[d]);const g=await W_(a);for(const v of d){const _=g.find(b=>b.measurementId===v),A=_&&n[_.appId];if(A)f.push(A);else{f=[];break}}}f.length===0&&(f=Object.values(n)),await Promise.all(f),r("event",l,u||{})}catch(f){hn.error(f)}}function T2(r,n,a,l){async function u(f,...d){try{if(f==="event"){const[g,v]=d;await v2(r,n,a,g,v)}else if(f==="config"){const[g,v]=d;await _2(r,n,a,l,g,v)}else if(f==="consent"){const[g,v]=d;r("consent",g,v)}else if(f==="get"){const[g,v,_]=d;r("get",g,v,_)}else if(f==="set"){const[g]=d;r("set",g)}else r(f,...d)}catch(g){hn.error(g)}}return u}function E2(r,n,a,l,u){let f=function(...d){window[l].push(arguments)};return window[u]&&typeof window[u]=="function"&&(f=window[u]),window[u]=T2(f,r,n,a),{gtagCore:f,wrappedGtag:window[u]}}function A2(r){const n=window.document.getElementsByTagName("script");for(const a of Object.values(n))if(a.src&&a.src.includes(Cd)&&a.src.includes(r))return a;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=30,b2=1e3;class R2{constructor(n={},a=b2){this.throttleMetadata=n,this.intervalMillis=a}getThrottleMetadata(n){return this.throttleMetadata[n]}setThrottleMetadata(n,a){this.throttleMetadata[n]=a}deleteThrottleMetadata(n){delete this.throttleMetadata[n]}}const tv=new R2;function w2(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function x2(r){const{appId:n,apiKey:a}=r,l={method:"GET",headers:w2(a)},u=h2.replace("{app-id}",n),f=await fetch(u,l);if(f.status!==200&&f.status!==304){let d="";try{const g=await f.json();g.error?.message&&(d=g.error.message)}catch{}throw bn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:d})}return f.json()}async function C2(r,n=tv,a){const{appId:l,apiKey:u,measurementId:f}=r.options;if(!l)throw bn.create("no-app-id");if(!u){if(f)return{measurementId:f,appId:l};throw bn.create("no-api-key")}const d=n.getThrottleMetadata(l)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new N2;return setTimeout(async()=>{g.abort()},f2),ev({appId:l,apiKey:u,measurementId:f},d,g,n)}async function ev(r,{throttleEndTimeMillis:n,backoffCount:a},l,u=tv){const{appId:f,measurementId:d}=r;try{await I2(l,n)}catch(g){if(d)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:f,measurementId:d};throw g}try{const g=await x2(r);return u.deleteThrottleMetadata(f),g}catch(g){const v=g;if(!D2(v)){if(u.deleteThrottleMetadata(f),d)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:f,measurementId:d};throw g}const _=Number(v?.customData?.httpStatus)===503?Wp(a,u.intervalMillis,S2):Wp(a,u.intervalMillis),A={throttleEndTimeMillis:Date.now()+_,backoffCount:a+1};return u.setThrottleMetadata(f,A),hn.debug(`Calling attemptFetch again in ${_} millis`),ev(r,A,l,u)}}function I2(r,n){return new Promise((a,l)=>{const u=Math.max(n-Date.now(),0),f=setTimeout(a,u);r.addEventListener(()=>{clearTimeout(f),l(bn.create("fetch-throttle",{throttleEndTimeMillis:n}))})})}function D2(r){if(!(r instanceof ja)||!r.customData)return!1;const n=Number(r.customData.httpStatus);return n===429||n===500||n===503||n===504}class N2{constructor(){this.listeners=[]}addEventListener(n){this.listeners.push(n)}abort(){this.listeners.forEach(n=>n())}}async function M2(r,n,a,l,u){if(u&&u.global){r("event",a,l);return}else{const f=await n,d={...l,send_to:f};r("event",a,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(){if(v0())try{await T0()}catch(r){return hn.warn(bn.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return hn.warn(bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function V2(r,n,a,l,u,f,d){const g=C2(r);g.then(R=>{a[R.measurementId]=R.appId,r.options.measurementId&&R.measurementId!==r.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>hn.error(R)),n.push(g);const v=O2().then(R=>{if(R)return l.getId()}),[_,A]=await Promise.all([g,v]);A2(f)||p2(f,_.measurementId),u("js",new Date);const b=d?.config??{};return b[c2]="firebase",b.update=!0,A!=null&&(b[u2]=A),u("config",_.measurementId,b),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(n){this.app=n}_delete(){return delete Xl[this.app.options.appId],Promise.resolve()}}let Xl={},Jy=[];const Wy={};let Ch="dataLayer",L2="gtag",t0,nv,e0=!1;function j2(){const r=[];if(hT()&&r.push("This is a browser extension environment."),mT()||r.push("Cookies are not available."),r.length>0){const n=r.map((l,u)=>`(${u+1}) ${l}`).join(" "),a=bn.create("invalid-analytics-context",{errorInfo:n});hn.warn(a.message)}}function z2(r,n,a){j2();const l=r.options.appId;if(!l)throw bn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw bn.create("no-api-key");if(Xl[l]!=null)throw bn.create("already-exists",{id:l});if(!e0){y2(Ch);const{wrappedGtag:f,gtagCore:d}=E2(Xl,Jy,Wy,Ch,L2);nv=f,t0=d,e0=!0}return Xl[l]=V2(r,Jy,Wy,n,t0,Ch,a),new U2(r)}function P2(r=b0()){r=Rr(r);const n=no(r,ec);return n.isInitialized()?n.getImmediate():B2(r)}function B2(r,n={}){const a=no(r,ec);if(a.isInitialized()){const u=a.getImmediate();if(Kl(n,a.getOptions()))return u;throw bn.create("already-initialized")}return a.initialize({options:n})}function k2(r,n,a,l){r=Rr(r),M2(nv,Xl[r.app.options.appId],n,a,l).catch(u=>hn.error(u))}const n0="@firebase/analytics",i0="0.10.18";function q2(){Ma(new ta(ec,(n,{options:a})=>{const l=n.getProvider("app").getImmediate(),u=n.getProvider("installations-internal").getImmediate();return z2(l,u,a)},"PUBLIC")),Ma(new ta("analytics-internal",r,"PRIVATE")),Ei(n0,i0),Ei(n0,i0,"esm2020");function r(n){try{const a=n.getProvider(ec).getImmediate();return{logEvent:(l,u,f)=>k2(a,l,u,f)}}catch(a){throw bn.create("interop-component-reg-failed",{reason:a})}}}q2();const nc={apiKey:"AIzaSyDwst-4J5unX773oOfXHfjdOymh02yH_fU",authDomain:"steering-experiment.firebaseapp.com",projectId:"steering-experiment",storageBucket:"steering-experiment.firebasestorage.app",messagingSenderId:"773443415350",appId:"1:773443415350:web:f95e4d189b16ebb76d9797",measurementId:"G-RFZQQVCF7C"},H2=Jh(nc);P2(H2);const G2=Jh(nc),Y2=lb(G2);async function Q2(r){try{const n={...r,uploadedAt:Sb(),version:"2.0"},a=await Eb(rb(Y2,"user_study_results"),n);return console.log("Data uploaded successfully with ID:",a.id),a.id}catch(n){throw console.error("Error uploading data to Firebase:",n),n}}async function F2(r,n=3){let a;for(let l=1;l<=n;l++)try{return await Q2(r)}catch(u){if(a=u,console.warn(`Upload attempt ${l} failed:`,u.message),l<n){const f=Math.pow(2,l)*1e3;await new Promise(d=>setTimeout(d,f))}}throw new Error(`Failed to upload data after ${n} attempts. Last error: ${a.message}`)}function X2(){return nc.apiKey!=="your-api-key-here"&&nc.projectId!=="your-project-id"}const a0=(r,n,a)=>{const l={participantId:r,prolificData:n,trialData:a,summary:{totalTrials:a.length,averageCompletionTime:a.reduce((g,v)=>g+v.completionTime,0)/a.length}},u=new Blob([JSON.stringify(l,null,2)],{type:"application/json"}),f=URL.createObjectURL(u),d=document.createElement("a");d.href=f,d.download=`steering_experiment_${r}_${Date.now()}.json`,d.click(),URL.revokeObjectURL(f)},K2=async(r,n,a)=>{if(!X2())throw new Error("Firebase not configured. Please check your configuration.");const l={participantId:r,prolificData:n,trialData:a,summary:{totalTrials:a.length,averageCompletionTime:a.reduce((f,d)=>f+d.completionTime,0)/a.length},experimentVersion:"3.0",completedAt:new Date().toISOString()};return await F2(l)},r0=(r,n)=>r===yt.MAIN_TRIALS?n+1:r===yt.SEQUENTIAL_TRIALS?xs.length+n+1:0,s0=()=>xs.length+B1.length,l0=(r,n)=>r===yt.TIME_TRIALS?n+1:r===yt.SEQUENTIAL_TIME_TRIALS?d0.length+n+1:0,o0=()=>d0.length+k1.length,$2=({phase:r,currentTrial:n,currentConditions:a,practicedConditions:l,setPhase:u,setCurrentTrial:f,setCurrentConditions:d,setCurrentPracticeCondition:g,setIsPractice:v,setupTrial:_})=>{const A=n+1;if(f(A),A>=a.length){r===yt.MAIN_TRIALS&&u(yt.COMPLETE);return}_(a[A])},Z2=(r,n,a,l,u,f)=>{if(r.strokeStyle="#666666",r.lineWidth=2,a==="sequential"){const d=n.length/2,g=[];for(let _=0;_<2;_++){const A=Math.floor(_*d),b=Math.floor((_+1)*d),R=u[_]/2;for(let I=A;I<b&&I<n.length;I++){const q=n[I],F=q.x*f,Q=(q.y-R)*f;g.push({x:F,y:Q})}if(_<1&&b<n.length){const I=n[b],q=I.x*f,F=u[_]/2,Q=u[_+1]/2;g.push({x:q,y:(I.y-F)*f}),g.push({x:q,y:(I.y-Q)*f})}}for(let _=1;_>=0;_--){const A=Math.floor(_*d),b=Math.floor((_+1)*d),R=u[_]/2;for(let I=b-1;I>=A&&I>=0;I--){const q=n[I],F=q.x*f,Q=(q.y+R)*f;g.push({x:F,y:Q})}if(_>0&&A>0){const I=n[A],q=I.x*f,F=u[_-1]/2,Q=u[_]/2;g.push({x:q,y:(I.y+F)*f}),g.push({x:q,y:(I.y+Q)*f})}}for(let _=0;_<2;_++){const A=Math.floor(_*d),b=Math.floor((_+1)*d),R=u[_]/2;r.beginPath();for(let I=A;I<b&&I<n.length;I++){const q=n[I],F=q.x*f,Q=(q.y-R)*f;I===A?r.moveTo(F,Q):r.lineTo(F,Q)}r.stroke(),r.beginPath();for(let I=A;I<b&&I<n.length;I++){const q=n[I],F=q.x*f,Q=(q.y+R)*f;I===A?r.moveTo(F,Q):r.lineTo(F,Q)}r.stroke()}const v=Math.floor(d);if(v<n.length){const _=n[v],A=_.x*f,b=u[0]/2,R=u[1]/2;r.beginPath(),r.moveTo(A,(_.y-b)*f),r.lineTo(A,(_.y-R)*f),r.stroke(),r.beginPath(),r.moveTo(A,(_.y+b)*f),r.lineTo(A,(_.y+R)*f),r.stroke()}if(r.fillStyle="#CCCCCC",g.length>0){r.beginPath(),r.moveTo(g[0].x,g[0].y);for(let _=1;_<g.length;_++)r.lineTo(g[_].x,g[_].y);r.closePath(),r.fill()}}else if(a==="corner"){const d=l/2,g=[];let v={type:null,start:null,end:null};for(let I=0;I<n.length;I++){const q=n[I];let F=null;if(I<n.length-1){const Q=n[I+1],ot=Math.abs(Q.x-q.x),st=Math.abs(Q.y-q.y);F=ot>st?"horizontal":"vertical"}else I>0&&(F=v.type);F!==v.type&&v.start!==null?(v.end=n[I-1],g.push(v),v={type:F,start:n[I-1],end:null}):v.start===null&&(v.start=q,v.type=F)}v.start!==null&&(v.end=n[n.length-1],g.push(v));const _=[],A=[];for(let I=0;I<g.length;I++){const q=g[I],F=q.start,Q=q.end;if(q.type==="horizontal"){const ot=F.x*f,st=(F.y-d)*f,at=Q.x*f,ht=(Q.y-d)*f;if(I===0&&_.push({x:ot,y:st}),_.push({x:at,y:ht}),I<g.length-1&&g[I+1].type==="vertical"){const rt=Q,ut=g[I+1],S=ut.end.y<ut.start.y?-d:d,w=(rt.x+S)*f,N=(rt.y-d)*f;_.push({x:w,y:N})}}else{const st=Q.y<F.y?-d:d,at=(Q.x+st)*f,ht=(Q.y-d)*f;if(_.push({x:at,y:ht}),I<g.length-1&&g[I+1].type==="horizontal"){const rt=Q,ut=rt.x*f,V=(rt.y-d)*f;_.push({x:ut,y:V})}}}for(let I=g.length-1;I>=0;I--){const q=g[I],F=q.start,Q=q.end;if(q.type==="horizontal"){const ot=F.x*f,st=(F.y+d)*f,at=Q.x*f,ht=(Q.y+d)*f;if(I===g.length-1&&A.push({x:at,y:ht}),A.push({x:ot,y:st}),I>0&&g[I-1].type==="vertical"){const rt=F,ut=g[I-1],S=ut.end.y<ut.start.y?d:-d,w=(rt.x+S)*f,N=(rt.y+d)*f;A.push({x:w,y:N})}}else{const st=Q.y<F.y?d:-d,at=(F.x+st)*f,ht=(F.y+d)*f;if(A.push({x:at,y:ht}),I>0&&g[I-1].type==="horizontal"){const rt=F,ut=rt.x*f,V=(rt.y+d)*f;A.push({x:ut,y:V})}}}const b=[],R=[];for(let I=0;I<g.length;I++){const q=g[I],F=q.start,Q=q.end;if(q.type==="horizontal"){const ot=F.x*f,st=(F.y-d)*f,at=Q.x*f,ht=(Q.y-d)*f;I===0&&b.push({x:ot,y:st}),b.push({x:at,y:ht});const rt=F.x*f,ut=(F.y+d)*f,V=Q.x*f,S=(Q.y+d)*f;if(I===0&&R.push({x:V,y:S}),R.push({x:rt,y:ut}),I<g.length-1&&g[I+1].type==="vertical"){const w=Q,N=g[I+1],U=N.end.y<N.start.y?-d:d,C=(w.x+U)*f,ne=(w.y-d)*f;b.push({x:C,y:ne});const Yt=(w.x+U)*f,Y=(w.y+d)*f;R.push({x:Yt,y:Y})}}else{const ot=Q.y<F.y,st=ot?-d:d,at=(Q.x+st)*f,ht=(Q.y-d)*f;b.push({x:at,y:ht});const rt=ot?d:-d,ut=(F.x+rt)*f,V=(F.y+d)*f;if(R.push({x:ut,y:V}),I<g.length-1&&g[I+1].type==="horizontal"){const S=Q,w=S.x*f,N=(S.y-d)*f;b.push({x:w,y:N});const M=S.x*f,U=(S.y+d)*f;R.push({x:M,y:U})}}}if(r.beginPath(),b.length>0){r.moveTo(b[0].x,b[0].y);for(let I=1;I<b.length;I++)r.lineTo(b[I].x,b[I].y)}if(r.stroke(),r.beginPath(),R.length>0){r.moveTo(R[0].x,R[0].y);for(let I=1;I<R.length;I++)r.lineTo(R[I].x,R[I].y)}if(r.stroke(),r.fillStyle="#CCCCCC",r.beginPath(),_.length>0){r.moveTo(_[0].x,_[0].y);for(let I=1;I<_.length;I++)r.lineTo(_[I].x,_[I].y);for(let I=0;I<A.length;I++)r.lineTo(A[I].x,A[I].y);r.closePath(),r.fill()}}else{const d=l/2,g=[],v=[];for(let _=0;_<n.length;_++){const A=n[_];let b,R;if(_===0){const Q=n[_+1];b=Q.x-A.x,R=Q.y-A.y}else if(_===n.length-1){const Q=n[_-1];b=A.x-Q.x,R=A.y-Q.y}else{const Q=n[_-1],ot=n[_+1];b=ot.x-Q.x,R=ot.y-Q.y}const I=Math.sqrt(b*b+R*R);I>0&&(b/=I,R/=I);const q=-R,F=b;g.push({x:A.x+q*d,y:A.y+F*d}),v.push({x:A.x-q*d,y:A.y-F*d})}r.beginPath(),g.forEach((_,A)=>{const b=_.x*f,R=_.y*f;A===0?r.moveTo(b,R):r.lineTo(b,R)}),r.stroke(),r.beginPath(),v.forEach((_,A)=>{const b=_.x*f,R=_.y*f;A===0?r.moveTo(b,R):r.lineTo(b,R)}),r.stroke(),r.fillStyle="#CCCCCC",r.beginPath(),g.forEach((_,A)=>{const b=_.x*f,R=_.y*f;A===0?r.moveTo(b,R):r.lineTo(b,R)});for(let _=v.length-1;_>=0;_--){const A=v[_],b=A.x*f,R=A.y*f;r.lineTo(b,R)}r.closePath(),r.fill()}},J2=(r,n,a)=>{n.forEach(l=>{r.fillStyle="#FF6B6B",r.strokeStyle="#DC2626",r.lineWidth=2;const u=l.x*a,f=l.y*a,d=4;r.beginPath(),r.moveTo(u-d,f-d),r.lineTo(u+d,f+d),r.moveTo(u-d,f+d),r.lineTo(u+d,f-d),r.stroke(),r.beginPath(),r.arc(u,f,d+2,0,2*Math.PI),r.stroke()})},W2=(r,n,a)=>{r.fillStyle="#0000FF",r.beginPath(),r.arc(n.x*a,n.y*a,3,0,2*Math.PI),r.fill()},tR=(r,n,a)=>{const l=n.x*a,u=n.y*a,f=m0*a;r.fillStyle="#00FF00",r.beginPath(),r.arc(l,u,f,0,2*Math.PI),r.fill(),r.strokeStyle="#009900",r.lineWidth=3,r.stroke(),r.fillStyle="#000000",r.font="12px Arial",r.textAlign="center"},eR=(r,n,a)=>{const l=n.x*a,u=n.y*a,f=g0*a;r.fillStyle="#FF0000",r.beginPath(),r.arc(l,u,f,0,2*Math.PI),r.fill(),r.strokeStyle="#990000",r.lineWidth=2,r.stroke()},nR=(r,n,a,l,u,f,d,g,v,_,A,b,R,I)=>{r.clearRect(0,0,b,R),n.length>0&&Z2(r,n,a,l,u,I),d&&f.length>0&&J2(r,f,I),W2(r,g,I),v==="waiting_for_start"&&tR(r,_,I),eR(r,A,I)},iR=({phase:r,setPhase:n,currentTrial:a,setCurrentTrial:l,currentConditions:u,setCurrentConditions:f,currentPracticeCondition:d,setCurrentPracticeCondition:g,practicedConditions:v,setPracticedConditions:_,participantId:A,setParticipantId:b,setIsPractice:R,setupTrial:I})=>{gt.useEffect(()=>{const q=F=>{switch(r){case yt.WELCOME:F.key==="Enter"&&n(yt.ENVIRONMENT_SETUP);break;case yt.ENVIRONMENT_SETUP:F.key===" "&&n(yt.INSTRUCTIONS);break;case yt.INSTRUCTIONS:F.key===" "&&(n(yt.PRACTICE),R(!0),I(xs[0]));break;case yt.PRACTICE:F.key==="r"?I(xs[0]):F.key==="n"&&(n(yt.MAIN_TRIALS),l(0),f([...xs]),R(!1),A||b(`P${new Date().toTimeString().slice(0,8).replace(/:/g,"")}`),I(xs[0]));break;case yt.MAIN_TRIALS:F.key==="r"&&I(u[a],!1);break}};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[r,a,u,d,A,I,n,l,f,g,_,b,R])},aR=(r,n,a,l,u,f)=>{if(!a.length)return{isExcursion:!1};let d=1/0,g=null,v=-1,_=1/0;a.forEach((b,R)=>{let I,q;if(R===0){const ut=a[R+1];I=ut.x-b.x,q=ut.y-b.y}else if(R===a.length-1){const ut=a[R-1];I=b.x-ut.x,q=b.y-ut.y}else{const ut=a[R-1],V=a[R+1];I=V.x-ut.x,q=V.y-ut.y}const F=Math.sqrt(I*I+q*q);F>0&&(I/=F,q/=F);const Q=-q,ot=I,st=r-b.x,at=n-b.y,ht=Math.abs(st*Q+at*ot),rt=Math.sqrt(st*st+at*at);rt<d&&(d=rt,g=b,v=R,_=ht)});let A;if(l==="sequential"){const b=a.length/2,R=Math.floor(v/b);A=f[Math.min(R,f.length-1)]/2}else A=u/2;if(_>A){let b,R;if(v===0){const rt=a[v+1];b=rt.x-g.x,R=rt.y-g.y}else if(v===a.length-1){const rt=a[v-1];b=g.x-rt.x,R=g.y-rt.y}else{const rt=a[v-1],ut=a[v+1];b=ut.x-rt.x,R=ut.y-rt.y}const I=Math.sqrt(b*b+R*R);I>0&&(b/=I,R/=I);const q=-R,F=b,Q=r-g.x,ot=n-g.y,at=Q*q+ot*F>=0?1:-1;return{isExcursion:!0,boundaryPoint:{x:g.x+q*A*at,y:g.y+F*A*at},distanceOutside:_-A}}return{isExcursion:!1}},rR=({phase:r,trialState:n,setTrialState:a,setCursorPos:l,cursorPosRef:u,setCursorVel:f,startButtonPos:d,targetPos:g,tunnelPath:v,tunnelType:_,tunnelWidth:A,segmentWidths:b,shouldMarkBoundaries:R,shouldEnforceBoundaries:I,setExcursionEvents:q,setExcursionMarkers:F,hasExcursionMarker:Q,setHasExcursionMarker:ot,onTrialComplete:st,onStartTrial:at,scale:ht})=>{const rt=gt.useRef(0),ut=gt.useRef(null),V=gt.useCallback(w=>{if(![yt.PRACTICE,yt.MAIN_TRIALS,yt.SEQUENTIAL_TRIALS,yt.TIME_TRIAL_PRACTICE,yt.TIME_TRIALS,yt.SEQUENTIAL_TIME_TRIALS].includes(r)||n!==Pe.WAITING_FOR_START)return;const N=w.currentTarget.getBoundingClientRect(),M=(w.clientX-N.left)/ht,U=(w.clientY-N.top)/ht;Math.sqrt((M-d.x)**2+(U-d.y)**2)<=m0&&at()},[r,n,d,at]),S=gt.useCallback(w=>{if(![yt.PRACTICE,yt.MAIN_TRIALS,yt.SEQUENTIAL_TRIALS,yt.TIME_TRIAL_PRACTICE,yt.TIME_TRIALS,yt.SEQUENTIAL_TIME_TRIALS].includes(r)||n!==Pe.IN_PROGRESS)return;const N=w.currentTarget.getBoundingClientRect(),M=(w.clientX-N.left)/ht,U=(w.clientY-N.top)/ht,C=Date.now();let ne={x:0,y:0};if(ut.current&&rt.current){const Y=(C-rt.current)/1e3;if(Y>0){const et=M-ut.current.x,ct=U-ut.current.y;ne={x:et/Y,y:ct/Y}}}if(u.current={x:M,y:U},l({x:M,y:U}),f(ne),R()){const Y=aR(M,U,v,_,A,b);if(Y.isExcursion&&!Q){F([Y.boundaryPoint]),ot(!0);const et={position:{x:M,y:U},distanceOutside:Y.distanceOutside,timestamp:C,boundaryPoint:Y.boundaryPoint};if(q(ct=>[...ct,et]),I()){a(Pe.FAILED);return}}}Math.sqrt((M-g.x)**2+(U-g.y)**2)<g0&&st(!0),ut.current={x:M,y:U},rt.current=C},[r,n,l,u,f,d,g,v,_,A,b,R,I,q,F,Q,ot,a,st,ht]);return{handleMouseClick:V,handleMouseMove:S,lastTimeRef:rt}},sR=()=>j.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:j.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center",children:[j.jsx("h1",{className:"text-4xl font-bold mb-6 tracking-tight leading-tight",children:"Human Steering Experiment"}),j.jsx("p",{className:"mb-6 text-gray-700 text-lg leading-relaxed",children:"Press ENTER to continue"})]})});/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oR=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,a,l)=>l?l.toUpperCase():a.toLowerCase()),u0=r=>{const n=oR(r);return n.charAt(0).toUpperCase()+n.slice(1)},iv=(...r)=>r.filter((n,a,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===a).join(" ").trim(),uR=r=>{for(const n in r)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=gt.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:u="",children:f,iconNode:d,...g},v)=>gt.createElement("svg",{ref:v,...cR,width:n,height:n,stroke:r,strokeWidth:l?Number(a)*24/Number(n):a,className:iv("lucide",u),...!f&&!uR(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,A])=>gt.createElement(_,A)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=(r,n)=>{const a=gt.forwardRef(({className:l,...u},f)=>gt.createElement(fR,{ref:f,iconNode:n,className:iv(`lucide-${lR(u0(r))}`,`lucide-${r}`,l),...u}));return a.displayName=u0(r),a};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dR=Vr("circle-check-big",hR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gR=Vr("eye",mR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],yR=Vr("monitor",pR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["rect",{x:"5",y:"2",width:"14",height:"20",rx:"7",key:"11ol66"}],["path",{d:"M12 6v4",key:"16clxf"}]],vR=Vr("mouse",_R);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ER=Vr("settings",TR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],SR=Vr("triangle-alert",AR);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],RR=Vr("users",bR),wR=()=>j.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:j.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full mx-auto",children:[j.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-6 text-center rounded-t-2xl",children:[j.jsxs("div",{className:"flex items-center justify-center mb-2",children:[j.jsx(ER,{className:"w-8 h-8 mr-3"}),j.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Environment Setup Instructions"})]}),j.jsx("p",{className:"text-blue-100 text-lg",children:"Thank you for joining our study!"})]}),j.jsxs("div",{className:"p-8",children:[j.jsxs("div",{className:"bg-yellow-100 border-2 border-yellow-400 rounded-lg p-6 mb-6 text-center",children:[j.jsxs("div",{className:"flex items-center justify-center mb-3",children:[j.jsx(SR,{className:"w-6 h-6 text-yellow-700 mr-2"}),j.jsx("span",{className:"font-bold text-gray-900 text-lg",children:j.jsx("b",{children:"Important Please Read Carefully"})})]}),j.jsx("p",{className:"text-xl font-bold text-gray-900 leading-relaxed bg-yellow-200 px-4 py-3 rounded-md inline-block",children:j.jsxs("b",{children:["Please configure your setup correctly for usable data.",j.jsx("br",{}),"The step will take approximately 2 minutes."]})})]}),j.jsxs("div",{className:"space-y-5",children:[j.jsxs("div",{className:"text-center",children:[j.jsxs("div",{className:"flex items-center justify-center mb-3",children:[j.jsx(yR,{className:"w-6 h-6 text-blue-600 mr-2"}),j.jsx("h2",{className:"text-xl font-semibold text-gray-800 tracking-tight",children:"Step 1: Check Device Requirements"})]}),j.jsxs("div",{className:"bg-gray-50 rounded-lg p-5",children:[j.jsxs("p",{className:"text-base text-gray-700 mb-3 leading-relaxed",children:[j.jsx("span",{className:"text-green-600",children:""})," This experiment requires you to use a ",j.jsx("strong",{children:"desktop/laptop"})," with a ",j.jsx("strong",{children:"physical mouse"})," on a flat surface"]}),j.jsxs("p",{className:"text-base text-gray-700 leading-relaxed",children:[j.jsx("span",{className:"text-red-600",children:""})," DO NOT use trackpad, touchscreen, or drawing tablet"]})]})]}),j.jsxs("div",{className:"text-center",children:[j.jsxs("div",{className:"flex items-center justify-center mb-3",children:[j.jsx(vR,{className:"w-6 h-6 text-blue-600 mr-2"}),j.jsx("h2",{className:"text-xl font-semibold text-gray-800 tracking-tight",children:"Step 2: Configure Mouse Settings"})]}),j.jsxs("p",{className:"text-base text-gray-700 mb-4 leading-relaxed",children:["Set your mouse to ",j.jsx("strong",{children:"default sensitivity"}),":"]}),j.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[j.jsxs("div",{className:"bg-gray-50 rounded-lg p-5",children:[j.jsx("h3",{className:"font-semibold text-gray-800 mb-3 text-base",children:"Windows"}),j.jsxs("div",{className:"text-sm text-gray-700 space-y-2 leading-relaxed",children:[j.jsx("p",{children:" Open Control Panel  Hardware and Sound  Devices and Printers  Mouse"}),j.jsx("p",{children:' Go to the "Pointer Options" tab'}),j.jsx("p",{children:' Uncheck "Enhance pointer precision"'}),j.jsx("p",{children:" Set the pointer speed slider to the middle position"})]})]}),j.jsxs("div",{className:"bg-gray-50 rounded-lg p-5",children:[j.jsx("h3",{className:"font-semibold text-gray-800 mb-3 text-base",children:"Mac (macOS)"}),j.jsxs("div",{className:"text-sm text-gray-700 space-y-2 leading-relaxed",children:[j.jsx("p",{children:" System Preferences  Mouse"}),j.jsx("p",{children:" Set Tracking Speed to middle (4th from left)"}),j.jsx("p",{children:" Click on advanced  disable Pointer acceleration"})]})]})]})]}),j.jsxs("div",{className:"text-center",children:[j.jsxs("div",{className:"flex items-center justify-center mb-3",children:[j.jsx(gR,{className:"w-6 h-6 text-blue-600 mr-2"}),j.jsx("h2",{className:"text-xl font-semibold text-gray-800 tracking-tight",children:"Step 3: Set Up Screen"})]}),j.jsx("div",{className:"bg-gray-50 rounded-lg p-5 space-y-2",children:j.jsxs("p",{className:"text-base text-gray-700 leading-relaxed",children:[j.jsx("strong",{})," Make browser full screen: ",j.jsx("kbd",{className:"bg-gray-200 px-2 py-1 rounded text-sm font-mono",children:"F11"})," (Windows) or ",j.jsx("kbd",{className:"bg-gray-200 px-2 py-1 rounded text-sm font-mono",children:"F"})," (Mac)"]})})]}),j.jsxs("div",{className:"text-center",children:[j.jsxs("div",{className:"flex items-center justify-center mb-3",children:[j.jsx(RR,{className:"w-6 h-6 text-blue-600 mr-2"}),j.jsx("h2",{className:"text-xl font-semibold text-gray-800 tracking-tight",children:"Step 4: Position Yourself"})]}),j.jsxs("div",{className:"bg-gray-50 rounded-lg p-5",children:[j.jsx("p",{className:"text-base text-gray-700 mb-2 leading-relaxed",children:"Sit about one arm's length away from the monitor and try to keep the same position during the experiment."}),j.jsx("p",{className:"text-base text-gray-700 leading-relaxed",children:"At the start of each trial, adjust your posture so you are comfortable."})]})]}),j.jsxs("div",{className:"text-center",children:[j.jsxs("div",{className:"flex items-center justify-center mb-3",children:[j.jsx(dR,{className:"w-6 h-6 text-blue-600 mr-2"}),j.jsx("h2",{className:"text-xl font-semibold text-gray-800 tracking-tight",children:"Step 5: During the Experiment"})]}),j.jsx("div",{className:"bg-gray-50 rounded-lg p-5",children:j.jsxs("div",{className:"text-base text-gray-700 space-y-2 leading-relaxed",children:[j.jsxs("p",{children:[j.jsx("span",{className:"text-green-600",children:""})," Follow instructions carefully and try your best"]}),j.jsxs("p",{children:[j.jsx("span",{className:"text-red-600",children:""})," Do not change mouse settings once you start"]})]})})]})]}),j.jsx("div",{className:"mt-12 text-center",children:j.jsxs("div",{className:"bg-white border-4 border-blue-600 px-12 py-8 rounded-2xl inline-block shadow-2xl hover:shadow-3xl transition-all duration-300 transform hover:scale-105",children:[j.jsx("div",{className:"flex items-center justify-center space-x-4",children:j.jsx("span",{className:"text-3xl font-black text-gray-800",children:"Ready to continue?"})}),j.jsxs("div",{className:"mt-4 text-lg font-semibold text-gray-600",children:["Press ",j.jsx("kbd",{className:"bg-gray-200 text-gray-800 px-3 py-1 rounded text-lg font-bold",children:"SPACEBAR"})," to proceed"]})]})})]})]})}),xR=()=>j.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-6",children:j.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-3xl",children:[j.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-6 tracking-tight text-center",children:"Study 1 (approximately 5 minutes)"}),j.jsx("h2",{className:"text-3xl font-bold text-red-600 mb-6 tracking-tight",children:"Task Instructions (Please read carefully):"}),j.jsxs("ul",{className:"space-y-3 mb-6 text-base leading-relaxed",children:[j.jsx("li",{children:"Click the green START button to begin each trial"}),j.jsx("li",{children:"Navigate through the tunnel to reach the red target"}),j.jsxs("li",{children:["Do ",j.jsx("b",{children:"NOT"})," stop once you begin the trial"]}),j.jsx("li",{children:"Move as smoothly and accurately as possible"}),j.jsx("li",{children:"Press R to restart the current trial at anytime if needed"})]}),j.jsx("p",{className:"mb-4 text-base leading-relaxed",children:"You will start with a practice trial to get familiar with the controls and task."}),j.jsxs("p",{className:"font-semibold text-lg text-gray-800",children:["Press ",j.jsx("kbd",{className:"bg-gray-200 text-gray-800 px-3 py-1 rounded text-base font-mono font-bold",children:"SPACEBAR"})," to start practice"]})]})}),CR=()=>j.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-6",children:j.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-3xl",children:[j.jsx("h2",{className:"text-3xl font-bold text-red-600 mb-6 tracking-tight",children:"Time-Constrained Trials (Please read carefully):"}),j.jsx("p",{className:"mb-4 text-base leading-relaxed text-gray-800",children:"In this part of the experiment, you must complete each task within a set time limit."}),j.jsxs("ul",{className:"space-y-3 mb-6 text-base leading-relaxed",children:[j.jsx("li",{children:"Each trial has a different time limit."}),j.jsx("li",{children:"Before each new type of timed trial, you'll complete one practice round with a visible timer."}),j.jsx("li",{children:"During practice, learn the timing; in the actual trial, the timer won't be shown but the limit will still apply."}),j.jsx("li",{children:"You may cross the boundary in these trials, but aim to follow the tunnel as closely as possible."}),j.jsx("li",{children:"Balance speed and accuracy  the goal is to finish right as the time runs out."})]}),j.jsxs("p",{className:"font-semibold text-lg text-gray-800",children:["Press ",j.jsx("kbd",{className:"bg-gray-200 text-gray-800 px-3 py-1 rounded text-base font-mono font-bold",children:"SPACEBAR"})," to begin time-constrained trials."]})]})}),IR=({uploadStatus:r,uploadError:n,onCompleteExperiment:a,onRetryUpload:l,onDownloadData:u})=>j.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:j.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center max-w-md",children:[j.jsx("h2",{className:"text-3xl font-bold text-green-600 mb-6 tracking-tight",children:"Experiment Complete!"}),j.jsx("p",{className:"mb-6 text-base leading-relaxed text-gray-800",children:"All trials completed successfully!"}),r==="idle"&&j.jsx("div",{className:"mb-6",children:j.jsx("button",{onClick:a,className:"bg-green-500 hover:bg-green-700 text-white font-bold py-3 px-6 rounded mb-4 w-full",children:"Upload Data"})}),r==="uploading"&&j.jsxs("div",{className:"mb-6",children:[j.jsxs("div",{className:"flex items-center justify-center mb-4",children:[j.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),j.jsx("span",{className:"ml-3 text-blue-600 text-base",children:"Uploading data..."})]}),j.jsx("p",{className:"text-base text-gray-700 leading-relaxed",children:"Please wait while we save your data"})]}),r==="success"&&j.jsx("div",{className:"mb-6",children:j.jsxs("div",{className:"text-green-600 mb-4",children:[j.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:j.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),j.jsx("p",{className:"font-semibold text-lg",children:"Data uploaded successfully!"})]})}),r==="error"&&j.jsxs("div",{className:"mb-6",children:[j.jsxs("div",{className:"text-red-600 mb-4",children:[j.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"currentColor",viewBox:"0 0 20 20",children:j.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),j.jsx("p",{className:"font-semibold text-lg",children:"Upload failed"})]}),j.jsx("p",{className:"text-base text-red-600 mb-4 leading-relaxed",children:n}),j.jsxs("div",{className:"space-y-2",children:[j.jsx("button",{onClick:l,className:"bg-orange-500 hover:bg-orange-700 text-white font-bold py-2 px-4 rounded w-full",children:"Retry Upload"}),j.jsx("button",{onClick:u,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-full",children:"Download Data Only"})]})]}),j.jsx("p",{className:"text-base text-gray-700 leading-relaxed",children:"Thank you for participating!"})]})}),DR=({canvasRef:r,phase:n,trialState:a,timeLimit:l,timeRemaining:u,failedDueToTimeout:f,shouldEnforceBoundaries:d,onMouseClick:g,onMouseMove:v,renderStatus:_,renderControls:A,canvasWidth:b,canvasHeight:R,currentRepetition:I,totalRepetitions:q,isPractice:F})=>j.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-4",children:[j.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[!F&&n!==yt.TIME_TRIAL_PRACTICE&&I&&q&&j.jsxs("div",{className:"mb-4 w-full max-w-md mx-auto",children:[j.jsxs("div",{className:"text-sm text-gray-600 mb-2 text-center",children:["Repetition ",I," of ",q]}),j.jsx("div",{style:{width:"100%",height:"24px",backgroundColor:"#e5e7eb",borderRadius:"6px",overflow:"hidden",position:"relative"},children:j.jsx("div",{style:{height:"100%",position:"absolute",top:"0",left:"0",transition:"width 0.3s ease",backgroundColor:"#86efac",width:`${(I-1)/q*100}%`}})})]}),j.jsx("div",{className:"mb-4 w-full max-w-md mx-auto",children:n===yt.TIME_TRIAL_PRACTICE&&l&&j.jsx("div",{style:{width:"100%"},children:j.jsx("div",{style:{width:"100%",height:"32px",backgroundColor:"#d1d5db",borderRadius:"8px",overflow:"hidden",marginBottom:"8px",position:"relative"},children:j.jsx("div",{style:{height:"100%",position:"absolute",top:"0",left:"0",transition:"all 0.1s",backgroundColor:a!==Pe.IN_PROGRESS?"#10b981":u/l>.2?"#f59e0b":"#ef4444",width:`${a!==Pe.IN_PROGRESS?100:Math.max(0,u/l*100)}%`}})})})}),j.jsx("canvas",{ref:r,width:b||460,height:R||260,style:{width:`${b||460}px`,height:`${R||260}px`},onClick:g,onMouseMove:v,className:"border border-gray-300 cursor-crosshair"}),j.jsxs("div",{className:"mt-4 text-center",children:[_(),A()]})]}),a===Pe.FAILED&&(n===yt.TIME_TRIALS||n===yt.SEQUENTIAL_TIME_TRIALS||n===yt.TIME_TRIAL_PRACTICE)&&j.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:j.jsxs("div",{className:"bg-gray-100 rounded-lg p-8 text-center",children:[j.jsx("h3",{className:"text-2xl font-bold mb-4 text-red-600 tracking-tight",children:f?"TIME'S UP!":"TRIAL FAILED"}),j.jsx("p",{className:"mb-4 text-base leading-relaxed text-gray-800",children:f?"You ran out of time. Try to move faster.":d()?"You went outside the tunnel boundary, please retry the trial.":"Complete the task to advance."}),j.jsxs("p",{className:"text-base text-gray-700",children:["Press ",j.jsx("kbd",{className:"bg-gray-200 text-gray-800 px-2 py-1 rounded text-sm font-mono font-bold",children:"R"})," to restart trial"]})]})})]}),c0=(r,n=96)=>r/2.54*n,NR=()=>window.devicePixelRatio*96,f0=()=>{const a=NR(),l=c0(46,a),u=c0(26,a),f=40,d=window.innerWidth-f,g=window.innerHeight-f-200;let v=l,_=u;if(l>d||u>g){const R=d/l,I=g/u,q=Math.min(R,I);v=l*q,_=u*q}v=Math.max(v,300),_=Math.max(_,200);const b=v/.46;return{width:Math.round(v),height:Math.round(_),scale:b}},MR=()=>{const r=gt.useRef(null),n=gt.useRef(null),[a,l]=gt.useState(()=>typeof window<"u"?f0():{width:460,height:260,scale:1e3}),[u,f]=gt.useState(yt.WELCOME),[d,g]=gt.useState(Pe.WAITING_FOR_START),[v,_]=gt.useState(""),[A,b]=gt.useState({}),[R,I]=gt.useState(0),[q,F]=gt.useState([]),[Q,ot]=gt.useState(!1),[st,at]=gt.useState(null),[ht,rt]=gt.useState(new Set),[ut,V]=gt.useState(1),[S,w]=gt.useState([]),[N,M]=gt.useState([]),[U,C]=gt.useState([]),[ne,Yt]=gt.useState([]),[Y,et]=gt.useState("idle"),[ct,Vt]=gt.useState(null),[D,J]=gt.useState(null),[it,tt]=gt.useState([]),[pt,Rt]=gt.useState([]),[At,me]=gt.useState(!1),[Xt,nn]=gt.useState({x:0,y:0}),an=gt.useRef({x:0,y:0}),rn=gt.useRef({x:0,y:0}),Rn=gt.useRef(0),[na,Pn]=gt.useState({x:0,y:0}),[bi,Ur]=gt.useState([]),[Ge,za]=gt.useState(.015),[Ri,Wn]=gt.useState("curved"),[Bn,js]=gt.useState([.015,.025,.015]),[ti,Pa]=gt.useState({x:0,y:0}),[ei,ie]=gt.useState({x:0,y:0}),[Bt,Ye]=gt.useState(0),[le,Lr]=gt.useState(null),[zs,kn]=gt.useState(0),[wi,ni]=gt.useState(!1),sn=gt.useCallback(()=>u===yt.PRACTICE||u===yt.MAIN_TRIALS||u===yt.SEQUENTIAL_TRIALS,[u]),ii=gt.useCallback(()=>u===yt.PRACTICE||u===yt.MAIN_TRIALS||u===yt.SEQUENTIAL_TRIALS,[u]);gt.useEffect(()=>{const dt=()=>{l(f0())};return dt(),window.addEventListener("resize",dt),()=>window.removeEventListener("resize",dt)},[]),gt.useEffect(()=>{const dt=H1();b(dt),dt.prolificPid?_(`P${dt.prolificPid}`):_(`P${new Date().toTimeString().slice(0,8).replace(/:/g,"")}`)},[]);const qn=gt.useCallback((dt,vt=!0)=>{let bt;if(dt.tunnelType==="sequential")bt=Y1(dt),Wn("sequential"),js([dt.segment1Width,dt.segment2Width]),za(dt.segment1Width);else if(dt.tunnelType==="corner"){const[mn,gn]=Q1(dt.tunnelWidth,0,.46,.13,dt.numCorners||3,dt.cornerOffset||.05,.002);bt=mn,Wn("corner"),za(gn)}else{const[mn,gn]=G1(dt.tunnelWidth,dt.curvature);bt=mn,Wn("curved"),za(gn)}Ur(bt),Lr(dt.timeLimit);const Ot=bt[0],oe=bt[bt.length-1];ie(Ot),Pa(oe),nn(Ot),an.current=Ot,Pn({x:0,y:0}),g(Pe.WAITING_FOR_START),M([]),C([]),Yt([]),tt([]),Rt([]),me(!1),Ye(0),kn(dt.timeLimit||0),ni(!1),vt&&V(1)},[]),Ba=()=>{g(Pe.IN_PROGRESS);const dt=Date.now();Ye(dt),ni(!1),le&&kn(le);const vt={x:ei.x,y:ei.y};nn(vt),an.current=vt,Pn({x:0,y:0}),M([vt]),C([0]),Yt([dt]),tt([]),rn.current=vt,Rn.current=dt},ka=dt=>{const bt=(Date.now()-Bt)/1e3;if(Q||u===yt.TIME_TRIAL_PRACTICE){if(dt){const ln=u===yt.PRACTICE?"Practice":"Individual practice";console.log(`${ln} completed! Time: ${bt.toFixed(2)}s`)}g(dt?Pe.WAITING_FOR_START:Pe.FAILED);return}if(!dt){g(Pe.FAILED);return}const Ot=q[R],{id:oe,...mn}=Ot,gn={participantId:v,completionTime:bt,condition:mn,trial_id:Ot.id,round:ut,timestamps:[...ne],trajectory:[...N],speeds:[...U]};w(ln=>[...ln,gn]),ut<Kp?(V(ln=>ln+1),qn(Ot,!1)):(V(1),$2({phase:u,currentTrial:R,currentConditions:q,practicedConditions:ht,setPhase:f,setCurrentTrial:I,setCurrentConditions:F,setCurrentPracticeCondition:at,setIsPractice:ot,setupTrial:qn}))};gt.useEffect(()=>{if(d!==Pe.IN_PROGRESS||!le)return;const dt=setInterval(()=>{const bt=(Date.now()-Bt)/1e3,Ot=Math.max(0,le-bt);kn(Ot)},50);return()=>clearInterval(dt)},[d,le,Bt]),iR({phase:u,setPhase:f,currentTrial:R,setCurrentTrial:I,currentConditions:q,setCurrentConditions:F,currentPracticeCondition:st,setCurrentPracticeCondition:at,practicedConditions:ht,setPracticedConditions:rt,participantId:v,setParticipantId:_,setIsPractice:ot,setupTrial:qn});const{handleMouseClick:qa,handleMouseMove:Hn}=rR({phase:u,trialState:d,setTrialState:g,setCursorPos:nn,cursorPosRef:an,setCursorVel:Pn,startButtonPos:ei,targetPos:ti,tunnelPath:bi,tunnelType:Ri,tunnelWidth:Ge,segmentWidths:Bn,shouldMarkBoundaries:ii,shouldEnforceBoundaries:sn,setExcursionEvents:tt,setExcursionMarkers:Rt,hasExcursionMarker:At,setHasExcursionMarker:me,onTrialComplete:ka,onStartTrial:Ba,scale:a?.scale||1e3});gt.useEffect(()=>{if(d!==Pe.IN_PROGRESS)return;const dt=setInterval(()=>{const vt=an.current,bt=Date.now();let Ot=0;if(Rn.current>0){const oe=vt.x-rn.current.x,mn=vt.y-rn.current.y,gn=(bt-Rn.current)/1e3;gn>0&&(Ot=Math.sqrt((oe/gn)**2+(mn/gn)**2))}M(oe=>[...oe,{x:vt.x,y:vt.y}]),C(oe=>[...oe,Ot]),Yt(oe=>[...oe,bt]),rn.current={x:vt.x,y:vt.y},Rn.current=bt},50);return()=>clearInterval(dt)},[d]),gt.useEffect(()=>{const dt=()=>{const vt=r.current;if(!vt||!a||!a.width||!a.height||!a.scale)return;const bt=vt.getContext("2d");if(!bt)return;const Ot=an.current;nR(bt,bi,Ri,Ge,Bn,pt,ii(),Ot,d,ei,ti,a.width,a.height,a.scale),n.current=requestAnimationFrame(dt)};return n.current=requestAnimationFrame(dt),()=>{n.current&&cancelAnimationFrame(n.current)}},[Xt,d,bi,ei,ti,Ge,pt,ii,At,Ri,Bn,a]);const wn=async()=>{et("uploading"),Vt(null);try{const dt=await K2(v,A,S);J(dt),et("success")}catch(dt){console.error("Upload failed:",dt),Vt(dt.message),et("error")}},Ha=async()=>{await wn(),a0(v,A,S)},xn=()=>{wn()},Ga=()=>{a0(v,A,S)},ai=()=>{let dt="",vt="text-gray-600";u===yt.PRACTICE?(dt="[Practice Round]",vt="text-green-600"):u===yt.MAIN_TRIALS&&R<q.length?(dt=`Trial ${r0(u,R)}/${s0()}`,vt="text-blue-600"):u===yt.SEQUENTIAL_TRIALS&&R<q.length?(dt=`Trial ${r0(u,R)}/${s0()}`,vt="text-indigo-600"):u===yt.TIME_TRIAL_PRACTICE&&st?(dt="PRACTICE ROUND",vt="text-purple-600"):u===yt.TIME_TRIALS&&R<q.length?(dt=`Timed Trial ${l0(u,R)}/${o0()}`,vt="text-red-600"):u===yt.SEQUENTIAL_TIME_TRIALS&&R<q.length&&(dt=`Timed Trial ${l0(u,R)}/${o0()}`,vt="text-pink-600");let bt="";return d===Pe.WAITING_FOR_START?bt="Click the green button to begin":d===Pe.IN_PROGRESS?bt="Navigate to the red target":d===Pe.FAILED&&(bt="Trial failed, please try again"),j.jsxs("div",{className:"space-y-2",children:[dt&&j.jsx("p",{className:`text-base font-semibold ${vt} tracking-tight`,children:dt}),bt&&j.jsx("p",{className:"text-xl font-bold text-gray-800 tracking-tight",children:bt})]})},ia=()=>{const dt=[];return dt.push(j.jsxs(j.Fragment,{children:["Press ",j.jsx("span",{className:"font-bold text-blue-600",children:"'R'"})," to restart trial at any time"]})),(u===yt.PRACTICE||u===yt.TIME_TRIAL_PRACTICE)&&dt.push(j.jsxs(j.Fragment,{children:["Press ",j.jsx("span",{className:"font-bold text-blue-600",children:"'N'"})," to continue to actual trial"]})),j.jsx("div",{className:"mt-3 text-base text-gray-700 leading-relaxed",children:dt.map((vt,bt)=>j.jsx("p",{children:vt},bt))})};return(()=>{switch(u){case yt.WELCOME:return j.jsx(sR,{});case yt.ENVIRONMENT_SETUP:return j.jsx(wR,{});case yt.INSTRUCTIONS:return j.jsx(xR,{});case yt.TIME_CONSTRAINT_INTRO:return j.jsx(CR,{});case yt.COMPLETE:return j.jsx(IR,{uploadStatus:Y,uploadError:ct,onCompleteExperiment:Ha,onRetryUpload:xn,onDownloadData:Ga});default:return j.jsx(DR,{canvasRef:r,phase:u,trialState:d,timeLimit:le,timeRemaining:zs,failedDueToTimeout:wi,shouldEnforceBoundaries:sn,onMouseClick:qa,onMouseMove:Hn,renderStatus:ai,renderControls:ia,canvasWidth:a.width,canvasHeight:a.height,currentRepetition:ut,totalRepetitions:Kp,isPractice:Q})}})()};P1.createRoot(document.getElementById("root")).render(j.jsx(N1.StrictMode,{children:j.jsx(MR,{})}));
